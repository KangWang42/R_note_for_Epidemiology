<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-01-26">
<meta name="description" content="使用 FactoMineR 和 factoextra 包进行多重对应分析,探索分类变量的潜在结构,并与PLSPM和SEM进行比较。">

<title>多重对应分析 (MCA): 分类变量的降维与可视化完全指南 – R 语言学习笔记</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-8b4baf804e461d9b72633f0de59a0cac.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-f04c1bab01eaa4046294d2af630dbbb8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script>
// 立即应用主题防止闪烁
(function(){
  var saved = localStorage.getItem('r-notes-theme');
  var isDark = saved === 'dark' || (!saved && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
  if (isDark) {
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.setAttribute('data-bs-theme', 'dark');
    document.documentElement.classList.add('quarto-dark');
    document.documentElement.classList.remove('quarto-light');
  }
})();
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">R 语言学习笔记</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">主页</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">入门指南</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="./sections/guide.html#学习路线">
 <span class="dropdown-text">📘 学习路线</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/guide.html#基础知识">
 <span class="dropdown-text">📖 基础知识</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/guide.html#工作流程">
 <span class="dropdown-text">⚙️ 工作流程</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-包" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">实用 R 包</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-包">    
        <li>
    <a class="dropdown-item" href="./sections/packages.html#表格制作">
 <span class="dropdown-text">📊 表格制作</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/packages.html#数据处理">
 <span class="dropdown-text">🔄 数据处理</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/packages.html#模型整理">
 <span class="dropdown-text">📈 模型整理</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu--1" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">统计分析方法</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu--1">    
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#基础回归">
 <span class="dropdown-text">📊 基础回归</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#生存分析">
 <span class="dropdown-text">⏱️ 生存分析</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#因果推断">
 <span class="dropdown-text">🎯 因果推断</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#高级建模">
 <span class="dropdown-text">📐 高级建模</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#贝叶斯统计">
 <span class="dropdown-text">📈 贝叶斯统计</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#模型评估">
 <span class="dropdown-text">🎯 模型评估</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/statistics.html#综述方法">
 <span class="dropdown-text">📚 综述方法</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ai" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">机器学习与AI</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ai">    
        <li>
    <a class="dropdown-item" href="./sections/machine-learning.html#机器学习框架">
 <span class="dropdown-text">🤖 机器学习框架</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/machine-learning.html#深度学习">
 <span class="dropdown-text">🧠 深度学习</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/machine-learning.html#ai-工具">
 <span class="dropdown-text">🛠️ AI 工具</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu--2" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">实用操作</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu--2">    
        <li>
    <a class="dropdown-item" href="./sections/operation.html#数据导入导出">
 <span class="dropdown-text">📥 数据导入导出</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/operation.html#数据清洗">
 <span class="dropdown-text">🧹 数据清洗</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/operation.html#数据转换">
 <span class="dropdown-text">🔄 数据转换</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/operation.html#文档写作">
 <span class="dropdown-text">📝 文档写作</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/operation.html#开发环境">
 <span class="dropdown-text">💻 开发环境</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu--3" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">数据可视化</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu--3">    
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#图形基础">
 <span class="dropdown-text">🏗️ 图形基础</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#图形组合">
 <span class="dropdown-text">🔀 图形组合</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#分布图">
 <span class="dropdown-text">📊 分布图</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#趋势图">
 <span class="dropdown-text">📈 趋势图</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#比较图">
 <span class="dropdown-text">📊 比较图</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#关系图">
 <span class="dropdown-text">🔄 关系图</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#特殊图形">
 <span class="dropdown-text">🎨 特殊图形</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#专题图">
 <span class="dropdown-text">🗺️ 专题图</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/visualization.html#进阶美化">
 <span class="dropdown-text">✨ 进阶美化</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu--4" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">特殊应用</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu--4">    
        <li>
    <a class="dropdown-item" href="./sections/special.html#卫生经济学">
 <span class="dropdown-text">💰 卫生经济学</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/special.html#质性研究">
 <span class="dropdown-text">🔬 质性研究</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/special.html#信号处理">
 <span class="dropdown-text">📡 信号处理</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/special.html#环境流行病学">
 <span class="dropdown-text">🌍 环境流行病学</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sections/special.html#建模方法">
 <span class="dropdown-text">🔬 建模方法</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/KangWang42/R_note_for_Epidemiology"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">统计分析方法</li><li class="breadcrumb-item"><a href="./1127-panel-data.html">📐 高级建模</a></li><li class="breadcrumb-item"><a href="./1100-mca.html">多重对应分析 (MCA)</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">入门指南</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">📘 学习路线</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0001-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">新手入门指南</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">📖 基础知识</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0011-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RMarkdown 入门</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0012-quarto-vs-rmd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto vs RMarkdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0013-positron.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Positron IDE 教程</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">⚙️ 工作流程</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3006-reproducible-research.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">可重复研究工作流</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">实用 R 包</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">📊 表格制作</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1011-rpac_brucer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">bruceR - 统计分析工具</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1012-comparegroups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">compareGroups - 描述性表</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1013-scitb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">scitb - 快速基线表</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1053-gtsummary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gtsummary - 发表级表格</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1067-gt-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">gt - 现代表格系统</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false">
 <span class="menu-text">🔄 数据处理</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1014-purrr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">purrr - 函数式编程</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1014-future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">future - 并行计算</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1045-rstatix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstatix - 管道式统计</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1071-targets-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">targets - 工作流管理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1072-arrow-bigdata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">arrow - 大数据处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3015-tidytable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidytable - 高性能数据处理</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false">
 <span class="menu-text">📈 模型整理</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1043-broom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">broom - 模型整理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1064-marginaleffects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">marginaleffects - 边际效应</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">统计分析方法</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">📊 基础回归</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1119-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">常见数据分布</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1019-logistic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic 回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1100-prediction-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">临床预测模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1021-linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">多元线性回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1112-robust-linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">稳健线性回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1104-ridge-lasso.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">岭回归与 Lasso</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1105-regression-feature-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">回归特征筛选</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1026-poisson.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Poisson/负二项回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1036-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">方差分析 (ANOVA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1117-nonparametric-tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">非参数检验</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1074-quantile-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">分位数回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1075-zero-inflated.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">零膨胀模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1113-threshold-effects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">阈值效应分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1093-ordinal-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">有序回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1129-sampling-weights.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">抽样方法与权重</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false">
 <span class="menu-text">⏱️ 生存分析</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1020-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">生存分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1050-competing-risks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">竞争风险分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1027-rcs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">限制性立方样条 (RCS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1017-timeseries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">时间序列分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1055-tx-effects-survival.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">治疗效果分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1061-random-survival-forest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">随机生存森林 (RSF)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1077-composite-endpoints.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">复合结局分析</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false">
 <span class="menu-text">🎯 因果推断</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1018-psm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">倾向性得分匹配</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1028-did.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">双重差分法 (DiD)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1023-mediation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">中介效应分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1054-subgroup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">亚组分析与交互作用</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1056-dag.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DAG 因果图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1057-target-trial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">目标试验模拟</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1058-mendelian-randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">孟德尔随机化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1060-instrumental-variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">工具变量法 (IV)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1059-evalue.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">E值敏感性分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1065-tmle-doubly-robust.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TMLE 双重稳健估计</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1066-causalimpact.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CausalImpact 时间序列因果</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1076-ipw-weighting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IPW 倒概率加权</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1092-double-machine-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">双重机器学习 (DML)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">📐 高级建模</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1127-panel-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">面板数据分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1024-multilevel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">多水平模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1025-gam.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">广义加性模型 (GAM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1085-gee.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">广义估计方程 (GEE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1086-multiple-imputation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">多重插补</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1087-msm-iptw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">边际结构模型 (MSM) 与 IPTW</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1088-fine-gray.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fine-Gray 竞争风险模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1089-time-varying-cox.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">时变协变量 Cox 模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1090-ps-weight-diagnostics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">倾向评分权重诊断</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1091-advanced-target-trial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">目标试验模拟进阶</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1032-sem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">结构方程模型 (SEM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1097-clpm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">交叉滞后面板模型 (CLPM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1031-lca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">潜类别分析 (LCA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1098-gbtm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">基于群组的轨迹模型 (GBTM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1039-pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">主成分分析 (PCA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1100-mca.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">多重对应分析 (MCA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1126-markov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">马尔可夫模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1114-factor-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">因子分析完全指南</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1037-plspm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PLS-PM 路径模型</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1125-dea-tobit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DEA-Tobit 两阶段模型</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false">
 <span class="menu-text">📈 贝叶斯统计</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1051-bayesian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">贝叶斯统计入门</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1078-rstanarm-bayesian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">rstanarm 贝叶斯回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1111-bayesian-multilevel-negbin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">贝叶斯多层负二项回归</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1073-prophet-forecasting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">prophet 时间序列预测</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false">
 <span class="menu-text">🎯 模型评估</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1128-questionnaire-validity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">问卷信效度分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1052-bootstrap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bootstrap与置换检验</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1047-roc-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ROC 分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1100-auc-auprc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AUC 与 AUPRC 对比</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1102-dca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">决策曲线分析 (DCA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1109-nomogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">列线图 (Nomogram)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1103-robustness-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">回归模型稳健性分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1048-power-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">样本量计算</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1100-distance-metrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">常见距离指标</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1049-eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">探索性数据分析</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false">
 <span class="menu-text">📚 综述方法</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1022-meta-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Meta 分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1041-network-meta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">网状 Meta 分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1029-umbrella-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">伞状综述</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1040-scoping-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">范围综述</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1124-delphi-method.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">德尔菲法</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false">
 <span class="menu-text">🔬 流行病学研究设计</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1115-cross-sectional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">横截面研究</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1116-cohort-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">队列研究</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1118-case-control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">病例对照研究</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1120-rct-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">随机对照试验 (RCT)</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="true">
 <span class="menu-text">机器学习与AI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false">
 <span class="menu-text">🤖 机器学习框架</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1016-mlr3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">mlr3 机器学习</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1042-tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidymodels 机器学习</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1101-ml-metrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">机器学习预测指标</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1121-clustering-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">聚类分析方法大全</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1079-kmeans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">K-means 聚类教程</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1094-knn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">KNN 最近邻</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1095-naive-bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">朴素贝叶斯</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1096-gbdt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GBDT 梯度提升树</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1068-xgboost.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">XGBoost 梯度提升</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1070-fairmetrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">fairmetrics 公平性评估</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1080-random-forest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">随机森林与决策树</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1081-svm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">支持向量机 (SVM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1082-ensemble-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">集成学习 (Bagging/Stacking)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1083-dimensionality-reduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">降维 (PCA/UMAP/t-SNE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1084-anomaly-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">无监督异常检测</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1099-nested-cv.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">嵌套交叉验证</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false">
 <span class="menu-text">🧠 深度学习</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1044-lstm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LSTM 深度学习</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1069-torch-deep-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">torch 深度学习</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false">
 <span class="menu-text">🛠️ AI 工具</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5001-opencode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode AI 编程代理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5002-opencode-skills.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode Skills 技能系统</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5003-ohmyopencode.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Oh My OpenCode 增强插件</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5004-opencode-mcp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode MCP 详解</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5005-opencode-agents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode Agents 代理系统</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5006-opencode-lsp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode LSP 语言服务器</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5007-opencode-vs-claude-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OpenCode vs Claude Code 对比指南</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="true">
 <span class="menu-text">实用操作</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false">
 <span class="menu-text">📥 数据导入导出</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3001-imports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">数据导入导出</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3002-datatable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">data.table 完全指南</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3003-dplyr-tidyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dplyr/tidyr 数据处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3012-readr-readxl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">readr/readxl - 高效读取</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3013-duckplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">duckplyr - 高性能数据处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3016-tidyverse-pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidyverse vs pandas 对比</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3005-pdf-reading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PDF文件读取</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false">
 <span class="menu-text">🧹 数据清洗</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1046-missing-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">缺失值处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1063-outlier-detection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">异常值检测与处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3014-janitor-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">janitor 数据清洗实战</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false">
 <span class="menu-text">🔄 数据转换</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3010-stringr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">stringr - 字符串处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3009-datetime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">日期时间处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3011-forcats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">forcats - 因子处理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3008-regexp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">正则表达式</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false">
 <span class="menu-text">📝 文档写作</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0011-rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RMarkdown 入门</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0012-quarto-vs-rmd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto vs RMarkdown</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false">
 <span class="menu-text">💻 开发环境</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0013-positron.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Positron IDE 教程</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4001-shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Shiny Web 应用</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3006-reproducible-research.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">可重复研究工作流</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3004-web-scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">网络爬虫入门</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3007-research-databases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">主流科研数据库指南</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="true">
 <span class="menu-text">数据可视化</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false">
 <span class="menu-text">🏗️ 图形基础</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2032-ggplot2-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2 可视化入门</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2033-ggplot2-styling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggplot2 样式设置详解</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2011-viscolor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">配色方案</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2013-legend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">图例自定义</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2061-base-r-graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Base R 绑图基础</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false">
 <span class="menu-text">🔀 图形组合</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2012-patchwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">patchwork - 图片拼接</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2021-cowplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">cowplot - 图形组合</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2031-bindcomplex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">复杂组合图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false">
 <span class="menu-text">📊 分布图</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2025-bindboxplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">箱线图与小提琴图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2027-bindhistogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">直方图与密度图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2043-bindjoyplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Joy Plot 山脊图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2041-bindjitter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">抖动图与蜂群图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false">
 <span class="menu-text">📈 趋势图</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2026-bindscatterplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">散点图与趋势线</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2029-bindlineplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">折线图与时间序列</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2069-accessible-linechart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">可访问性折线图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2030-bindareaplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">面积图与堆叠图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2048-bindpeakvalley.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">时序峰谷标记图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false">
 <span class="menu-text">📊 比较图</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2028-bindbarchart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">柱状图与饼图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2035-bindlollipop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">棒棒糖图与排序图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2036-binddivergent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">发散型图表</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2039-binddumbbell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">哑铃图与坡度图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2047-bindbullet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">子弹图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false">
 <span class="menu-text">🔄 关系图</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2040-bindbubblechart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">气泡图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2042-bindmarginal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">边缘分布图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2049-bindcorrplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">相关图矩阵</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2051-bindpairplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">矩阵图与成对图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2057-bindparallel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">平行坐标图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false">
 <span class="menu-text">🎨 特殊图形</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2037-bindwaffle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">华夫饼图与树形图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2038-bindpyramid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">人口金字塔图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2045-binddonut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">环形图与甜甜圈图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2044-bindcalendar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">日历热图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2046-bindwaterfall.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">瀑布图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2058-bindmosaic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">马赛克图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false">
 <span class="menu-text">🗺️ 专题图</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2015-map.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">地图绑制</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2014-sankey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">桑基图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2067-alluvial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">冲积图 (Alluvial)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2066-upset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UpSet 多集合交集</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2016-forestplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">森林图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2020-heatmap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">热图绑制完全指南</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2024-venn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">韦恩图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2023-radar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">雷达图</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false">
 <span class="menu-text">📊 其他图形</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2050-bindcountplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">计数图与分类图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2052-bindacf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">自相关图 ACF/PACF</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2053-bindwordcloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">词云图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2054-bindnetwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">网络关系图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2055-bindgantt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">甘特图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2056-bindfunnel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">漏斗图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2059-bindribbon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">置信区间图</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2060-ml-visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">机器学习可视化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2064-gganimate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">动态图表与动画可视化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2062-interactive-plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">交互式可视化进阶</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false">
 <span class="menu-text">✨ 进阶美化</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2017-ggtext.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggtext - 中英文字体混合</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2018-tidyplots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">tidyplots - 极简可视化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2022-ggally.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GGally - 可视化扩展</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2019-dualaxis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">双坐标轴</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2034-ggguides.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ggguides - 图例简化</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="true">
 <span class="menu-text">特殊应用</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false">
 <span class="menu-text">🖥️ 计算模拟</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-40" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6001-cellular-automata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">元胞自动机</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-41" role="navigation" aria-expanded="false">
 <span class="menu-text">💰 卫生经济学</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-41" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-41" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1015-health-economics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">卫生经济学分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1062-treeage-pro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TreeAge Pro 决策分析</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-42" role="navigation" aria-expanded="false">
 <span class="menu-text">🔬 质性研究</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-42" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-42" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1030-qualitative-research.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">质性研究与文本挖掘</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-43" role="navigation" aria-expanded="false">
 <span class="menu-text">📡 信号处理</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-43" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-43" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1096-wavelet-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">小波变换 (Wavelet Transform)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1034-nvmd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">变分模态分解 (VMD)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1035-fft-nvmd-gmm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FFT + VMD + GMM</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-44" role="navigation" aria-expanded="false">
 <span class="menu-text">🌍 环境流行病学</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-44" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-44" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1033-dlnm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">分布滞后非线性模型 (DLNM)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1106-wqs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">加权分位数和回归 (WQS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1107-qgcomp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">分位数 G-计算 (qgcomp)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1108-bkmr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">贝叶斯核机器回归 (BKMR)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-45" role="navigation" aria-expanded="false">
 <span class="menu-text">🔬 建模方法</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-45" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-45" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1110-abm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ABM 基于主体建模</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">目录</h2>
   
  <ul>
  <li><a href="#方法背景与适用场景" id="toc-方法背景与适用场景" class="nav-link active" data-scroll-target="#方法背景与适用场景">方法背景与适用场景</a>
  <ul class="collapse">
  <li><a href="#什么是多重对应分析mca" id="toc-什么是多重对应分析mca" class="nav-link" data-scroll-target="#什么是多重对应分析mca">什么是多重对应分析(MCA)</a></li>
  <li><a href="#mca-vs-pca-本质区别" id="toc-mca-vs-pca-本质区别" class="nav-link" data-scroll-target="#mca-vs-pca-本质区别">MCA vs PCA: 本质区别</a></li>
  <li><a href="#mca-的适用场景" id="toc-mca-的适用场景" class="nav-link" data-scroll-target="#mca-的适用场景">MCA 的适用场景</a></li>
  <li><a href="#不适合使用mca的情况" id="toc-不适合使用mca的情况" class="nav-link" data-scroll-target="#不适合使用mca的情况">不适合使用MCA的情况</a></li>
  </ul></li>
  <li><a href="#零基础通俗解释" id="toc-零基础通俗解释" class="nav-link" data-scroll-target="#零基础通俗解释">零基础通俗解释</a>
  <ul class="collapse">
  <li><a href="#生活化类比超市购物篮分析" id="toc-生活化类比超市购物篮分析" class="nav-link" data-scroll-target="#生活化类比超市购物篮分析">生活化类比:超市购物篮分析</a></li>
  <li><a href="#核心概念降维" id="toc-核心概念降维" class="nav-link" data-scroll-target="#核心概念降维">核心概念:降维</a></li>
  </ul></li>
  <li><a href="#安装与加载" id="toc-安装与加载" class="nav-link" data-scroll-target="#安装与加载">安装与加载</a>
  <ul class="collapse">
  <li><a href="#主要r包" id="toc-主要r包" class="nav-link" data-scroll-target="#主要r包">主要R包</a></li>
  <li><a href="#包的功能对比" id="toc-包的功能对比" class="nav-link" data-scroll-target="#包的功能对比">包的功能对比</a></li>
  </ul></li>
  <li><a href="#示例数据医疗患者调查" id="toc-示例数据医疗患者调查" class="nav-link" data-scroll-target="#示例数据医疗患者调查">示例数据:医疗患者调查</a>
  <ul class="collapse">
  <li><a href="#数据概览" id="toc-数据概览" class="nav-link" data-scroll-target="#数据概览">数据概览</a></li>
  </ul></li>
  <li><a href="#mca分析基础" id="toc-mca分析基础" class="nav-link" data-scroll-target="#mca分析基础">MCA分析基础</a>
  <ul class="collapse">
  <li><a href="#数据准备" id="toc-数据准备" class="nav-link" data-scroll-target="#数据准备">数据准备</a></li>
  <li><a href="#运行mca" id="toc-运行mca" class="nav-link" data-scroll-target="#运行mca">运行MCA</a></li>
  <li><a href="#mca结果解释" id="toc-mca结果解释" class="nav-link" data-scroll-target="#mca结果解释">MCA结果解释</a></li>
  </ul></li>
  <li><a href="#特征值与维度解释" id="toc-特征值与维度解释" class="nav-link" data-scroll-target="#特征值与维度解释">特征值与维度解释</a>
  <ul class="collapse">
  <li><a href="#提取特征值" id="toc-提取特征值" class="nav-link" data-scroll-target="#提取特征值">提取特征值</a></li>
  <li><a href="#特征值表格解读" id="toc-特征值表格解读" class="nav-link" data-scroll-target="#特征值表格解读">特征值表格解读</a></li>
  <li><a href="#维度选择准则" id="toc-维度选择准则" class="nav-link" data-scroll-target="#维度选择准则">维度选择准则</a></li>
  </ul></li>
  <li><a href="#变量分析探索类别之间的关系" id="toc-变量分析探索类别之间的关系" class="nav-link" data-scroll-target="#变量分析探索类别之间的关系">变量分析:探索类别之间的关系</a>
  <ul class="collapse">
  <li><a href="#变量贡献" id="toc-变量贡献" class="nav-link" data-scroll-target="#变量贡献">变量贡献</a></li>
  <li><a href="#变量坐标" id="toc-变量坐标" class="nav-link" data-scroll-target="#变量坐标">变量坐标</a></li>
  <li><a href="#变量图可视化" id="toc-变量图可视化" class="nav-link" data-scroll-target="#变量图可视化">变量图可视化</a></li>
  <li><a href="#变量质量变量代表性" id="toc-变量质量变量代表性" class="nav-link" data-scroll-target="#变量质量变量代表性">变量质量(变量代表性)</a></li>
  </ul></li>
  <li><a href="#个体分析理解样本分布" id="toc-个体分析理解样本分布" class="nav-link" data-scroll-target="#个体分析理解样本分布">个体分析:理解样本分布</a>
  <ul class="collapse">
  <li><a href="#个体坐标" id="toc-个体坐标" class="nav-link" data-scroll-target="#个体坐标">个体坐标</a></li>
  <li><a href="#个体图可视化" id="toc-个体图可视化" class="nav-link" data-scroll-target="#个体图可视化">个体图可视化</a></li>
  <li><a href="#个体质量个体代表性" id="toc-个体质量个体代表性" class="nav-link" data-scroll-target="#个体质量个体代表性">个体质量(个体代表性)</a></li>
  <li><a href="#个体贡献" id="toc-个体贡献" class="nav-link" data-scroll-target="#个体贡献">个体贡献</a></li>
  </ul></li>
  <li><a href="#双重图同时展示变量和个体" id="toc-双重图同时展示变量和个体" class="nav-link" data-scroll-target="#双重图同时展示变量和个体">双重图:同时展示变量和个体</a>
  <ul class="collapse">
  <li><a href="#什么是双重图" id="toc-什么是双重图" class="nav-link" data-scroll-target="#什么是双重图">什么是双重图</a></li>
  <li><a href="#绘制双重图" id="toc-绘制双重图" class="nav-link" data-scroll-target="#绘制双重图">绘制双重图</a></li>
  </ul></li>
  <li><a href="#结果解释发现潜在结构" id="toc-结果解释发现潜在结构" class="nav-link" data-scroll-target="#结果解释发现潜在结构">结果解释:发现潜在结构</a>
  <ul class="collapse">
  <li><a href="#维度1解释" id="toc-维度1解释" class="nav-link" data-scroll-target="#维度1解释">维度1解释</a></li>
  <li><a href="#维度2解释" id="toc-维度2解释" class="nav-link" data-scroll-target="#维度2解释">维度2解释</a></li>
  <li><a href="#验证假设" id="toc-验证假设" class="nav-link" data-scroll-target="#验证假设">验证假设</a></li>
  </ul></li>
  <li><a href="#补充mca添加连续变量" id="toc-补充mca添加连续变量" class="nav-link" data-scroll-target="#补充mca添加连续变量">补充MCA:添加连续变量</a>
  <ul class="collapse">
  <li><a href="#什么是补充变量" id="toc-什么是补充变量" class="nav-link" data-scroll-target="#什么是补充变量">什么是补充变量</a></li>
  <li><a href="#添加补充分类变量" id="toc-添加补充分类变量" class="nav-link" data-scroll-target="#添加补充分类变量">添加补充分类变量</a></li>
  <li><a href="#添加补充连续变量" id="toc-添加补充连续变量" class="nav-link" data-scroll-target="#添加补充连续变量">添加补充连续变量</a></li>
  </ul></li>
  <li><a href="#mca与其他方法的比较" id="toc-mca与其他方法的比较" class="nav-link" data-scroll-target="#mca与其他方法的比较">MCA与其他方法的比较</a>
  <ul class="collapse">
  <li><a href="#mca-vs-plspm-vs-sem-方法学对比" id="toc-mca-vs-plspm-vs-sem-方法学对比" class="nav-link" data-scroll-target="#mca-vs-plspm-vs-sem-方法学对比">MCA vs PLSPM vs SEM: 方法学对比</a></li>
  <li><a href="#深度对比分析" id="toc-深度对比分析" class="nav-link" data-scroll-target="#深度对比分析">深度对比分析</a></li>
  <li><a href="#方法选择决策树" id="toc-方法选择决策树" class="nav-link" data-scroll-target="#方法选择决策树">方法选择决策树</a></li>
  <li><a href="#实际应用案例对比" id="toc-实际应用案例对比" class="nav-link" data-scroll-target="#实际应用案例对比">实际应用案例对比</a></li>
  </ul></li>
  <li><a href="#高级应用" id="toc-高级应用" class="nav-link" data-scroll-target="#高级应用">高级应用</a>
  <ul class="collapse">
  <li><a href="#补充mcasupplementary-mca" id="toc-补充mcasupplementary-mca" class="nav-link" data-scroll-target="#补充mcasupplementary-mca">补充MCA(Supplementary MCA)</a></li>
  <li><a href="#多组mcamultiple-group-mca" id="toc-多组mcamultiple-group-mca" class="nav-link" data-scroll-target="#多组mcamultiple-group-mca">多组MCA(Multiple Group MCA)</a></li>
  <li><a href="#混合数据分析famd" id="toc-混合数据分析famd" class="nav-link" data-scroll-target="#混合数据分析famd">混合数据分析(FAMD)</a></li>
  </ul></li>
  <li><a href="#最佳实践与注意事项" id="toc-最佳实践与注意事项" class="nav-link" data-scroll-target="#最佳实践与注意事项">最佳实践与注意事项</a>
  <ul class="collapse">
  <li><a href="#数据准备-1" id="toc-数据准备-1" class="nav-link" data-scroll-target="#数据准备-1">数据准备</a></li>
  <li><a href="#结果解读" id="toc-结果解读" class="nav-link" data-scroll-target="#结果解读">结果解读</a></li>
  <li><a href="#可视化技巧" id="toc-可视化技巧" class="nav-link" data-scroll-target="#可视化技巧">可视化技巧</a></li>
  <li><a href="#常见错误" id="toc-常见错误" class="nav-link" data-scroll-target="#常见错误">常见错误</a></li>
  </ul></li>
  <li><a href="#报告模板" id="toc-报告模板" class="nav-link" data-scroll-target="#报告模板">报告模板</a>
  <ul class="collapse">
  <li><a href="#学术论文报告格式" id="toc-学术论文报告格式" class="nav-link" data-scroll-target="#学术论文报告格式">学术论文报告格式</a></li>
  </ul></li>
  <li><a href="#常见问题faq" id="toc-常见问题faq" class="nav-link" data-scroll-target="#常见问题faq">常见问题FAQ</a>
  <ul class="collapse">
  <li><a href="#q1-mca和pca有什么区别" id="toc-q1-mca和pca有什么区别" class="nav-link" data-scroll-target="#q1-mca和pca有什么区别">Q1: MCA和PCA有什么区别?</a></li>
  <li><a href="#q2-mca需要多大的样本量" id="toc-q2-mca需要多大的样本量" class="nav-link" data-scroll-target="#q2-mca需要多大的样本量">Q2: MCA需要多大的样本量?</a></li>
  <li><a href="#q3-如何选择保留的维度数量" id="toc-q3-如何选择保留的维度数量" class="nav-link" data-scroll-target="#q3-如何选择保留的维度数量">Q3: 如何选择保留的维度数量?</a></li>
  <li><a href="#q4-mca能否处理有序分类变量" id="toc-q4-mca能否处理有序分类变量" class="nav-link" data-scroll-target="#q4-mca能否处理有序分类变量">Q4: MCA能否处理有序分类变量?</a></li>
  <li><a href="#q5-mca和plspmsem可以一起使用吗" id="toc-q5-mca和plspmsem可以一起使用吗" class="nav-link" data-scroll-target="#q5-mca和plspmsem可以一起使用吗">Q5: MCA和PLSPM/SEM可以一起使用吗?</a></li>
  <li><a href="#q6-如何解读mca的坐标轴含义" id="toc-q6-如何解读mca的坐标轴含义" class="nav-link" data-scroll-target="#q6-如何解读mca的坐标轴含义">Q6: 如何解读MCA的坐标轴含义?</a></li>
  <li><a href="#q7-mca的结果可以用于后续分析吗" id="toc-q7-mca的结果可以用于后续分析吗" class="nav-link" data-scroll-target="#q7-mca的结果可以用于后续分析吗">Q7: MCA的结果可以用于后续分析吗?</a></li>
  </ul></li>
  <li><a href="#参考文献" id="toc-参考文献" class="nav-link" data-scroll-target="#参考文献">参考文献</a></li>
  <li><a href="#附录完整代码" id="toc-附录完整代码" class="nav-link" data-scroll-target="#附录完整代码">附录:完整代码</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">统计分析方法</li><li class="breadcrumb-item"><a href="./1127-panel-data.html">📐 高级建模</a></li><li class="breadcrumb-item"><a href="./1100-mca.html">多重对应分析 (MCA)</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">多重对应分析 (MCA): 分类变量的降维与可视化完全指南</h1>
  <div class="quarto-categories">
    <div class="quarto-category">统计分析方法</div>
    <div class="quarto-category">降维分析</div>
    <div class="quarto-category">R包</div>
    <div class="quarto-category">数据可视化</div>
  </div>
  </div>

<div>
  <div class="description">
    使用 FactoMineR 和 factoextra 包进行多重对应分析,探索分类变量的潜在结构,并与PLSPM和SEM进行比较。
  </div>
</div>


<div class="quarto-title-meta column-body">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 26, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="方法背景与适用场景" class="level2">
<h2 class="anchored" data-anchor-id="方法背景与适用场景">方法背景与适用场景</h2>
<section id="什么是多重对应分析mca" class="level3">
<h3 class="anchored" data-anchor-id="什么是多重对应分析mca">什么是多重对应分析(MCA)</h3>
<p><strong>多重对应分析 (Multiple Correspondence Analysis, MCA)</strong> 是对应分析(Correspondence Analysis, CA)在多个分类变量情况下的扩展。它是主成分分析(PCA)在分类数据中的等价物,专门用于探索和分析多个分类变量之间的关系。</p>
<p>MCA的核心思想是将高维的分类数据投影到低维空间(通常是二维),使得在这个低维空间中,具有相似模式的数据点靠得更近。这样可以帮助我们: - <strong>发现数据中的潜在结构</strong>:识别分类变量之间的关联模式 - <strong>数据降维</strong>:将多个分类变量的信息压缩为少数几个维度 - <strong>可视化</strong>:通过图形直观地展示变量类别和个体之间的关系</p>
</section>
<section id="mca-vs-pca-本质区别" class="level3">
<h3 class="anchored" data-anchor-id="mca-vs-pca-本质区别">MCA vs PCA: 本质区别</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>特性</th>
<th>PCA (主成分分析)</th>
<th>MCA (多重对应分析)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>数据类型</strong></td>
<td>连续变量</td>
<td>分类变量(名义/有序)</td>
</tr>
<tr class="even">
<td><strong>数学基础</strong></td>
<td>协方差矩阵/相关矩阵</td>
<td>指示矩阵的对应分析</td>
</tr>
<tr class="odd">
<td><strong>变量关系</strong></td>
<td>线性相关</td>
<td>列联表关联</td>
</tr>
<tr class="even">
<td><strong>输出解释</strong></td>
<td>主成分是原始变量的线性组合</td>
<td>维度是各类别的加权组合</td>
</tr>
</tbody>
</table>
</section>
<section id="mca-的适用场景" class="level3">
<h3 class="anchored" data-anchor-id="mca-的适用场景">MCA 的适用场景</h3>
<p>MCA特别适用于以下情况:</p>
<ol type="1">
<li><strong>问卷数据分析</strong>:探索多个问卷题目(选择题)之间的关系</li>
<li><strong>市场研究</strong>:消费者偏好、购买行为分析</li>
<li><strong>社会科学研究</strong>:人口学特征、态度、行为的关联分析</li>
<li><strong>生物医学研究</strong>:疾病分类、症状组合模式识别</li>
<li><strong>数据探索阶段</strong>:在建模前理解分类变量的结构</li>
</ol>
<p><strong>示例场景</strong>: - 医疗研究中:探索患者年龄组、性别、疾病类型、治疗方法、治疗效果等多个分类因素之间的关系 - 消费行为研究:分析消费者年龄段、收入水平、购买频率、品牌偏好之间的模式 - 社会调查:研究教育程度、职业类型、收入等级、政治倾向等变量的关联</p>
</section>
<section id="不适合使用mca的情况" class="level3">
<h3 class="anchored" data-anchor-id="不适合使用mca的情况">不适合使用MCA的情况</h3>
<ul>
<li>数据中包含大量连续变量(考虑使用PCA或FAMD)</li>
<li>分类变量数量较少(少于3个)(考虑简单的列联表分析)</li>
<li>关注因果关系而非探索性分析(考虑使用SEM或PLSPM)</li>
</ul>
</section>
</section>
<section id="零基础通俗解释" class="level2">
<h2 class="anchored" data-anchor-id="零基础通俗解释">零基础通俗解释</h2>
<section id="生活化类比超市购物篮分析" class="level3">
<h3 class="anchored" data-anchor-id="生活化类比超市购物篮分析">生活化类比:超市购物篮分析</h3>
<p>想象你在管理一家超市,想了解顾客的购物习惯。你有成千上万条购物小票数据,每张小票记录了顾客购买的商品类别(如:生鲜、零食、饮料、日用品等)。</p>
<p><strong>问题</strong>:如何从这些杂乱的数据中发现规律?</p>
<p><strong>MCA的思路</strong>: 1. <strong>创建”购物篮画像”</strong>:将每张小票转换为一个高维向量,每个维度代表一种商品类别(买=1,没买=0) 2. <strong>寻找”相似顾客”</strong>:在多维空间中,将购物习惯相似的顾客放在一起 3. <strong>降维可视化</strong>:将这个高维空间投影到二维平面上,让我们能直观地看到顾客群体的分布</p>
<p><strong>结果解释</strong>: - 在图上靠在一起的点(顾客)代表他们有相似的购物模式 - 靠近某个商品类别的顾客,说明他们更倾向于购买该类商品 - 商品类别之间靠得近,说明它们经常被一起购买</p>
</section>
<section id="核心概念降维" class="level3">
<h3 class="anchored" data-anchor-id="核心概念降维">核心概念:降维</h3>
<p>想象你站在一个充满三维物体的房间里,你想把房间的布局拍下来给朋友看。你只能用二维的照片,所以你需要选择一个拍摄角度,使得最重要的信息都能体现在照片上。</p>
<p><strong>MCA做的是同样的事</strong>: - 原始数据:一个高维空间(每个分类变量是一个维度) - MCA:找到一个低维投影(通常是2-3维) - 目标:在这个低维空间中,尽可能保留原始数据的信息</p>
<p><strong>为什么降维有用?</strong> - 人类只能直观理解2-3维空间 - 低维空间更容易可视化和解释 - 可以发现隐藏在高维数据中的模式</p>
</section>
</section>
<section id="安装与加载" class="level2">
<h2 class="anchored" data-anchor-id="安装与加载">安装与加载</h2>
<section id="主要r包" class="level3">
<h3 class="anchored" data-anchor-id="主要r包">主要R包</h3>
<p>在R中进行MCA分析,我们主要使用两个包: - <strong>FactoMineR</strong>:提供MCA分析的核心算法 - <strong>factoextra</strong>:提供美观的可视化功能</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 安装包(如果未安装)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("FactoMineR")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("factoextra")</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载包</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="包的功能对比" class="level3">
<h3 class="anchored" data-anchor-id="包的功能对比">包的功能对比</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 50%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>包</th>
<th>主要功能</th>
<th>优势</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>FactoMineR</strong></td>
<td>MCA/CA/PCA/FAMD等多元分析方法</td>
<td>功能全面,算法稳定,支持多种变体</td>
</tr>
<tr class="even">
<td><strong>factoextra</strong></td>
<td>基于ggplot2的可视化</td>
<td>图表美观,与ggplot2兼容,易于定制</td>
</tr>
<tr class="odd">
<td><strong>CA</strong></td>
<td>对应分析</td>
<td>专注于对应分析,函数简洁</td>
</tr>
<tr class="even">
<td><strong>ade4</strong></td>
<td>生态学数据分析</td>
<td>提供多种生态学相关的方法</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="示例数据医疗患者调查" class="level2">
<h2 class="anchored" data-anchor-id="示例数据医疗患者调查">示例数据:医疗患者调查</h2>
<p>为了演示MCA的应用,我们创建一个模拟的医疗患者调查数据集。这个数据集包含6个分类变量,模拟真实世界中的患者信息。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 设置随机种子以保证可重复性</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建模拟数据</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>n_patients <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 年龄组(4个类别)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>age_group <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"18-30"</span>, <span class="st">"31-45"</span>, <span class="st">"46-60"</span>, <span class="st">"60+"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.2</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 性别</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"男"</span>, <span class="st">"女"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.48</span>, <span class="fl">0.52</span>))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 城市等级(经济发展水平)</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>city_level <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"一线城市"</span>, <span class="st">"二线城市"</span>, <span class="st">"三线城市"</span>, <span class="st">"农村地区"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.25</span>, <span class="fl">0.35</span>, <span class="fl">0.25</span>))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. 教育程度</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>education <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"小学及以下"</span>, <span class="st">"初中"</span>, <span class="st">"高中"</span>, <span class="st">"本科"</span>, <span class="st">"研究生"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.25</span>, <span class="fl">0.15</span>))</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. 疾病类型</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>disease_type <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"高血压"</span>, <span class="st">"糖尿病"</span>, <span class="st">"心血管疾病"</span>, <span class="st">"呼吸系统疾病"</span>, <span class="st">"其他"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.20</span>, <span class="fl">0.15</span>, <span class="fl">0.20</span>, <span class="fl">0.20</span>))</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. 就医频率</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>visit_frequency <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"从不就医"</span>, <span class="st">"偶尔就医(1-3次/年)"</span>, <span class="st">"经常就医(4-10次/年)"</span>, <span class="st">"频繁就医(&gt;10次/年)"</span>), n_patients, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.35</span>, <span class="fl">0.30</span>, <span class="fl">0.20</span>))</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据框</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>patient_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  患者<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span>n_patients,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  年龄组 <span class="ot">=</span> age_group,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  性别 <span class="ot">=</span> gender,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  城市等级 <span class="ot">=</span> city_level,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  教育程度 <span class="ot">=</span> education,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  疾病类型 <span class="ot">=</span> disease_type,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  就医频率 <span class="ot">=</span> visit_frequency</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看数据结构</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(patient_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   200 obs. of  7 variables:
 $ 患者ID  : int  1 2 3 4 5 6 7 8 9 10 ...
 $ 年龄组  : chr  "31-45" "60+" "46-60" "18-30" ...
 $ 性别    : chr  "女" "男" "男" "女" ...
 $ 城市等级: chr  "一线城市" "三线城市" "一线城市" "二线城市" ...
 $ 教育程度: chr  "高中" "初中" "高中" "本科" ...
 $ 疾病类型: chr  "呼吸系统疾病" "糖尿病" "高血压" "高血压" ...
 $ 就医频率: chr  "偶尔就医(1-3次/年)" "经常就医(4-10次/年)" "偶尔就医(1-3次/年)" "从不就医" ...</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看前几行数据</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(patient_data, <span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   患者ID 年龄组 性别 城市等级 教育程度     疾病类型            就医频率
1       1  31-45   女 一线城市     高中 呼吸系统疾病  偶尔就医(1-3次/年)
2       2    60+   男 三线城市     初中       糖尿病 经常就医(4-10次/年)
3       3  46-60   男 一线城市     高中       高血压  偶尔就医(1-3次/年)
4       4  18-30   女 二线城市     本科       高血压            从不就医
5       5  18-30   女 二线城市     高中       糖尿病  频繁就医(&gt;10次/年)
6       6  31-45   男 二线城市   研究生   心血管疾病 经常就医(4-10次/年)
7       7  46-60   女 农村地区     高中 呼吸系统疾病  频繁就医(&gt;10次/年)
8       8  18-30   女 三线城市   研究生 呼吸系统疾病  偶尔就医(1-3次/年)
9       9  46-60   女 三线城市     本科         其他  偶尔就医(1-3次/年)
10     10  46-60   女 农村地区     本科         其他 经常就医(4-10次/年)</code></pre>
</div>
</div>
<section id="数据概览" class="level3">
<h3 class="anchored" data-anchor-id="数据概览">数据概览</h3>
<p>让我们先对数据进行初步的描述性分析,了解各变量的分布。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 各变量的频数统计</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(patient_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>患者ID))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>    年龄组              性别             城市等级           教育程度        
 Length:200         Length:200         Length:200         Length:200        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
   疾病类型           就医频率        
 Length:200         Length:200        
 Class :character   Class :character  
 Mode  :character   Mode  :character  </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化各变量的分布</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> patient_data <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(年龄组) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(年龄组, <span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> 年龄组)) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"年龄组分布"</span>, <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"人数"</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> patient_data <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(疾病类型) <span class="sc">%&gt;%</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(疾病类型, <span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> 疾病类型)) <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"疾病类型分布"</span>, <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"人数"</span>) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> patient_data <span class="sc">%&gt;%</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(就医频率) <span class="sc">%&gt;%</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(就医频率, <span class="sc">-</span>n), <span class="at">y =</span> n, <span class="at">fill =</span> 就医频率)) <span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"就医频率分布"</span>, <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">"人数"</span>) <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">/</span> p3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="mca分析基础" class="level2">
<h2 class="anchored" data-anchor-id="mca分析基础">MCA分析基础</h2>
<section id="数据准备" class="level3">
<h3 class="anchored" data-anchor-id="数据准备">数据准备</h3>
<p>在运行MCA之前,需要确保所有变量都是因子(factor)类型。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 选择用于MCA分析的变量(移除患者ID)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>mca_data <span class="ot">&lt;-</span> patient_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>患者ID)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 将所有变量转换为因子</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>mca_data[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(mca_data, factor)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 验证数据结构</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mca_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   200 obs. of  6 variables:
 $ 年龄组  : Factor w/ 4 levels "18-30","31-45",..: 2 4 3 1 1 2 3 1 3 3 ...
 $ 性别    : Factor w/ 2 levels "男","女": 2 1 1 2 2 1 2 2 2 2 ...
 $ 城市等级: Factor w/ 4 levels "二线城市","农村地区",..: 4 3 4 1 1 1 2 3 3 2 ...
 $ 教育程度: Factor w/ 5 levels "本科","初中",..: 3 2 3 1 3 5 3 5 1 1 ...
 $ 疾病类型: Factor w/ 5 levels "高血压","呼吸系统疾病",..: 2 4 1 1 4 5 2 2 3 3 ...
 $ 就医频率: Factor w/ 4 levels "从不就医","经常就医(4-10次/年)",..: 3 2 3 1 4 2 4 3 3 2 ...</code></pre>
</div>
</div>
</section>
<section id="运行mca" class="level3">
<h3 class="anchored" data-anchor-id="运行mca">运行MCA</h3>
<p>使用<code>FactoMineR::MCA()</code>函数进行MCA分析。该函数有许多参数可以调整,但最基本的使用只需要提供数据集即可。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 运行MCA分析</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ncp: 保留的主成分数量(默认为5)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># graph: 是否自动生成图形(FALSE,我们将使用factoextra进行更好的可视化)</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>mca_result <span class="ot">&lt;-</span> <span class="fu">MCA</span>(mca_data, <span class="at">ncp =</span> <span class="dv">5</span>, <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看MCA结果摘要</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mca_result)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>**Results of the Multiple Correspondence Analysis (MCA)**
The analysis was performed on 200 individuals, described by 6 variables
*The results are available in the following objects:

   name              description                       
1  "$eig"            "eigenvalues"                     
2  "$var"            "results for the variables"       
3  "$var$coord"      "coord. of the categories"        
4  "$var$cos2"       "cos2 for the categories"         
5  "$var$contrib"    "contributions of the categories" 
6  "$var$v.test"     "v-test for the categories"       
7  "$var$eta2"       "coord. of variables"             
8  "$ind"            "results for the individuals"     
9  "$ind$coord"      "coord. for the individuals"      
10 "$ind$cos2"       "cos2 for the individuals"        
11 "$ind$contrib"    "contributions of the individuals"
12 "$call"           "intermediate results"            
13 "$call$marge.col" "weights of columns"              
14 "$call$marge.li"  "weights of rows"                 </code></pre>
</div>
</div>
</section>
<section id="mca结果解释" class="level3">
<h3 class="anchored" data-anchor-id="mca结果解释">MCA结果解释</h3>
<p>MCA结果包含多个部分,我们需要理解每个部分的含义:</p>
<ol type="1">
<li><strong>特征值(Eigenvalues)</strong>:每个维度解释的方差比例</li>
<li><strong>变量贡献</strong>:各变量及其类别对维度的贡献</li>
<li><strong>个体坐标</strong>:每个样本在各维度的坐标</li>
</ol>
</section>
</section>
<section id="特征值与维度解释" class="level2">
<h2 class="anchored" data-anchor-id="特征值与维度解释">特征值与维度解释</h2>
<section id="提取特征值" class="level3">
<h3 class="anchored" data-anchor-id="提取特征值">提取特征值</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取特征值</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>eig_val <span class="ot">&lt;-</span> <span class="fu">get_eigenvalue</span>(mca_result)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看特征值</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>eig_val</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>       eigenvalue variance.percent cumulative.variance.percent
Dim.1  0.25024737         8.341579                    8.341579
Dim.2  0.24165362         8.055121                   16.396700
Dim.3  0.22054907         7.351636                   23.748335
Dim.4  0.21696622         7.232207                   30.980543
Dim.5  0.21259681         7.086560                   38.067103
Dim.6  0.19870818         6.623606                   44.690709
Dim.7  0.19224924         6.408308                   51.099017
Dim.8  0.17925014         5.975005                   57.074022
Dim.9  0.16754572         5.584857                   62.658880
Dim.10 0.16543887         5.514629                   68.173509
Dim.11 0.15636849         5.212283                   73.385792
Dim.12 0.14430848         4.810283                   78.196075
Dim.13 0.13796648         4.598883                   82.794957
Dim.14 0.12646276         4.215425                   87.010382
Dim.15 0.11489631         3.829877                   90.840259
Dim.16 0.10312130         3.437377                   94.277636
Dim.17 0.08703930         2.901310                   97.178946
Dim.18 0.08463163         2.821054                  100.000000</code></pre>
</div>
</div>
</section>
<section id="特征值表格解读" class="level3">
<h3 class="anchored" data-anchor-id="特征值表格解读">特征值表格解读</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 37%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>列</th>
<th>含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>eigenvalue</strong></td>
<td>特征值</td>
<td>该维度解释的方差大小</td>
</tr>
<tr class="even">
<td><strong>percentage of variance</strong></td>
<td>方差比例</td>
<td>该维度解释的方差占总方差的百分比</td>
</tr>
<tr class="odd">
<td><strong>cumulative percentage of variance</strong></td>
<td>累积方差比例</td>
<td>前k个维度解释的方差累积比例</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化特征值(碎石图)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_eig</span>(mca_result,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">addlabels =</span> <span class="cn">TRUE</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">main =</span> <span class="st">"MCA特征值碎石图"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="维度选择准则" class="level3">
<h3 class="anchored" data-anchor-id="维度选择准则">维度选择准则</h3>
<p>通常我们选择保留多少个维度,基于以下准则:</p>
<ol type="1">
<li><p><strong>Kaiser准则</strong>:保留特征值大于平均值的维度</p>
<ul>
<li>MCA中,平均特征值 = 1/K,其中K是分类变量的总数</li>
<li>但这个准则在MCA中不太常用</li>
</ul></li>
<li><p><strong>肘部法则(Elbow Criterion)</strong>:在特征值图中找到”肘部”,即下降速度明显变缓的点</p></li>
<li><p><strong>累积方差比例</strong>:通常保留前2-3个维度,解释50%-70%的方差即可</p></li>
<li><p><strong>可解释性</strong>:选择能够进行有意义的理论解释的维度</p></li>
</ol>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 计算各维度的累积方差比例</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"前2个维度累积解释方差:"</span>, <span class="fu">round</span>(<span class="fu">sum</span>(eig_val[, <span class="dv">2</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]), <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>前2个维度累积解释方差: 16.4 %</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"前3个维度累积解释方差:"</span>, <span class="fu">round</span>(<span class="fu">sum</span>(eig_val[, <span class="dv">2</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]), <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>前3个维度累积解释方差: 23.75 %</code></pre>
</div>
</div>
</section>
</section>
<section id="变量分析探索类别之间的关系" class="level2">
<h2 class="anchored" data-anchor-id="变量分析探索类别之间的关系">变量分析:探索类别之间的关系</h2>
<section id="变量贡献" class="level3">
<h3 class="anchored" data-anchor-id="变量贡献">变量贡献</h3>
<p>变量贡献表示每个变量及其类别对某个维度的贡献程度。贡献度高的类别,在该维度上的代表性更强。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取变量贡献</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>var_contrib <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>contrib</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>var_contrib_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(var_contrib)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>var_contrib_df<span class="sc">$</span>变量 <span class="ot">&lt;-</span> <span class="fu">rownames</span>(var_contrib)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看各变量对前两个维度的贡献</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>var_contrib_df <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(var_contrib_df[, <span class="dv">1</span>])) <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Dim 1        Dim 2      Dim 3      Dim 4      Dim 5       变量
31-45      16.493672  4.104645377  4.6941618 2.63055780  0.5073218      31-45
46-60      14.961453  0.016075025  0.2137021 0.62385813  0.7663852      46-60
一线城市   13.236417  0.258376647 13.7392256 0.45316246  0.1670467   一线城市
心血管疾病  9.657970 10.933625297  3.5544689 0.04763819  1.3107421 心血管疾病
本科        8.508242  0.548633431  0.7312805 3.13805940 16.8183401       本科
从不就医    8.297253  0.007146519  0.9037323 1.61066470  2.7194845   从不就医
糖尿病      4.764364  0.008110405  5.4658211 1.32413658  1.9235998     糖尿病
初中        4.456747  2.992355327  4.2839354 0.80241308  1.3919173       初中
农村地区    4.285615  8.427223789  0.5208439 0.05242149  0.4670394   农村地区
研究生      4.168880  3.343453809  1.7611441 1.97256168  0.8781590     研究生</code></pre>
</div>
</div>
</section>
<section id="变量坐标" class="level3">
<h3 class="anchored" data-anchor-id="变量坐标">变量坐标</h3>
<p>变量坐标表示各变量类别在MCA空间中的位置。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取变量坐标</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>var_coord <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>coord</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>var_coord_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(var_coord)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>var_coord_df<span class="sc">$</span>变量 <span class="ot">&lt;-</span> <span class="fu">rownames</span>(var_coord)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看前几个类别的坐标</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(var_coord_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Dim 1       Dim 2       Dim 3       Dim 4      Dim 5  变量
18-30  0.33561223 -0.37850649 -1.04391178 -0.08018218 -0.3063908 18-30
31-45  0.95771697  0.46949202  0.47965104 -0.35613424 -0.1548153 31-45
46-60 -0.81284515 -0.02618235 -0.09119964 -0.15455218  0.1695657 46-60
60+   -0.21611949 -0.23335193  0.46158916  0.79774483  0.1991711   60+
男    -0.10852849  0.49479889  0.19216314 -0.37683343  0.3905903    男
女     0.08527239 -0.38877056 -0.15098533  0.29608341 -0.3068924    女</code></pre>
</div>
</div>
</section>
<section id="变量图可视化" class="level3">
<h3 class="anchored" data-anchor-id="变量图可视化">变量图可视化</h3>
<p>变量图帮助我们理解各类别之间的关系。距离越近的类别,说明它们在原始数据中越经常同时出现。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制变量图</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_var</span>(mca_result,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.var =</span> <span class="st">"contrib"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"MCA变量图:各类别在维度1和2上的分布"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
<p><strong>解读变量图</strong>: - <strong>坐标轴含义</strong>:坐标轴本身没有实际含义,需要通过类别分布来解释 - <strong>类别距离</strong>:靠近的类别代表它们在样本中经常同时出现 - <strong>原点距离</strong>:离原点越远的类别,对该维度的贡献越大 - <strong>颜色深浅</strong>:颜色越深表示该类别对当前维度的贡献越大</p>
</section>
<section id="变量质量变量代表性" class="level3">
<h3 class="anchored" data-anchor-id="变量质量变量代表性">变量质量(变量代表性)</h3>
<p>变量质量(cos2)表示该类别在某个维度上的代表性。质量值接近1表示该类别在该维度上有很好的表现。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取变量质量</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>var_cos2 <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>cos2</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>var_cos2_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(var_cos2)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>var_cos2_df<span class="sc">$</span>变量 <span class="ot">&lt;-</span> <span class="fu">rownames</span>(var_cos2)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看前几个类别的质量</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(var_cos2_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Dim 1        Dim 2       Dim 3       Dim 4       Dim 5  变量
18-30 0.025567583 0.0325207676 0.247366972 0.001459385 0.021309118 18-30
31-45 0.339246420 0.0815262260 0.085092577 0.046910317 0.008864794 31-45
46-60 0.340369484 0.0003531444 0.004284708 0.012305104 0.014811913 46-60
60+   0.012044107 0.0140413713 0.054941174 0.164102324 0.010229145   60+
男    0.009254483 0.1923632392 0.029013815 0.111574127 0.119869166    男
女    0.009254483 0.1923632392 0.029013815 0.111574127 0.119869166    女</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化变量质量</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cos2</span>(mca_result, <span class="at">choice =</span> <span class="st">"var"</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">top =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"前20个变量类别的质量(cos2)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="个体分析理解样本分布" class="level2">
<h2 class="anchored" data-anchor-id="个体分析理解样本分布">个体分析:理解样本分布</h2>
<section id="个体坐标" class="level3">
<h3 class="anchored" data-anchor-id="个体坐标">个体坐标</h3>
<p>每个个体(样本)在MCA空间中都有一个坐标位置,表示该个体在各维度上的得分。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取个体坐标</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>ind_coord <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>coord</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>ind_coord_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ind_coord)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>ind_coord_df<span class="sc">$</span>患者ID <span class="ot">&lt;-</span> patient_data<span class="sc">$</span>患者ID</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看前10个患者的坐标</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ind_coord_df, <span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Dim 1       Dim 2       Dim 3         Dim 4        Dim 5 患者ID
1   0.77697158 -0.71230731  0.25842885  0.0002372511  0.325904865      1
2   0.24305393  0.43930445  0.03208759 -0.0204705641  0.247639292      2
3   0.03187651 -0.51606697  0.57415049 -0.3389228954  0.047392544      3
4   0.27510314 -0.08041472 -0.66676124  0.0378681497 -1.027501624      4
5   0.25942208 -0.30238203 -0.18572749  0.5585313097  0.386839895      5
6   0.18106171  1.29006668  0.12178497 -0.3843314705  0.426956505      6
7  -0.44383870 -0.89150994 -0.08871322  0.0744807568  0.810525941      7
8   0.29981513 -0.45861139 -0.58394106 -0.2777211413 -0.005009843      8
9  -0.63679407 -0.14841934 -0.01983322  0.1561313293 -0.870999737      9
10 -0.68125989 -0.04146424 -0.20084685  0.0627698479 -0.487143196     10</code></pre>
</div>
</div>
</section>
<section id="个体图可视化" class="level3">
<h3 class="anchored" data-anchor-id="个体图可视化">个体图可视化</h3>
<p>个体图帮助我们理解样本在MCA空间中的分布,可以识别出具有相似模式的样本群体。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制个体图,按疾病类型着色</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_ind</span>(mca_result,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.ind =</span> patient_data<span class="sc">$</span>疾病类型,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"#2E9FDF"</span>, <span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span>, <span class="st">"#868686"</span>),</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">"疾病类型"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"MCA个体图:按疾病类型着色"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="个体质量个体代表性" class="level3">
<h3 class="anchored" data-anchor-id="个体质量个体代表性">个体质量(个体代表性)</h3>
<p>个体质量(cos2)表示该个体在某个维度上的代表性。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取个体质量</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>ind_cos2 <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>cos2</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化个体质量</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cos2</span>(mca_result, <span class="at">choice =</span> <span class="st">"ind"</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">top =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"前20个个体的质量(cos2)"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="个体贡献" class="level3">
<h3 class="anchored" data-anchor-id="个体贡献">个体贡献</h3>
<p>个体贡献表示该个体对某个维度的贡献程度。贡献度高的个体,对定义该维度起到了重要作用。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 提取个体贡献</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>ind_contrib <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>contrib</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化个体贡献</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_contrib</span>(mca_result, <span class="at">choice =</span> <span class="st">"ind"</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">top =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"前20个个体对维度1和2的贡献"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="双重图同时展示变量和个体" class="level2">
<h2 class="anchored" data-anchor-id="双重图同时展示变量和个体">双重图:同时展示变量和个体</h2>
<section id="什么是双重图" class="level3">
<h3 class="anchored" data-anchor-id="什么是双重图">什么是双重图</h3>
<p>双重图(Biplot)将变量图和个体图叠加在同一个坐标系中,帮助我们理解个体与变量类别之间的关系。</p>
</section>
<section id="绘制双重图" class="level3">
<h3 class="anchored" data-anchor-id="绘制双重图">绘制双重图</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制双重图</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_biplot</span>(mca_result,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">col.ind =</span> patient_data<span class="sc">$</span>疾病类型,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"#2E9FDF"</span>, <span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span>, <span class="st">"#868686"</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">col.var =</span> <span class="st">"steelblue"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">legend.title =</span> <span class="st">"疾病类型"</span>) <span class="sc">+</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"MCA双重图:个体与变量类别"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
<p><strong>解读双重图</strong>: - <strong>个体与类别的距离</strong>:个体靠近某个类别,说明该个体具有该类别的特征 - <strong>个体之间的关系</strong>:靠近的个体具有相似的模式 - <strong>类别之间的关系</strong>:靠近的类别经常同时出现</p>
</section>
</section>
<section id="结果解释发现潜在结构" class="level2">
<h2 class="anchored" data-anchor-id="结果解释发现潜在结构">结果解释:发现潜在结构</h2>
<section id="维度1解释" class="level3">
<h3 class="anchored" data-anchor-id="维度1解释">维度1解释</h3>
<p>通过观察变量图,我们可以尝试解释各维度的含义。</p>
<p><strong>观察维度1(水平轴)</strong>: - 左侧:老年患者(60+)、经常就医、农村地区、低教育水平 - 右侧:年轻患者(18-30)、偶尔就医、一线城市、高等教育</p>
<p><strong>假设解释</strong>:维度1可能反映”医疗资源可及性与社会经济地位” - 右侧:高社会经济地位,医疗资源丰富地区 - 左侧:低社会经济地位,医疗资源相对缺乏地区</p>
</section>
<section id="维度2解释" class="level3">
<h3 class="anchored" data-anchor-id="维度2解释">维度2解释</h3>
<p><strong>观察维度2(垂直轴)</strong>: - 上部:高血压、心血管疾病、经常就医、60+年龄组 - 下部:呼吸系统疾病、其他疾病类型、年轻患者</p>
<p><strong>假设解释</strong>:维度2可能反映”疾病严重程度与年龄相关风险” - 上部:与年龄相关、需要长期管理的慢性疾病 - 下部:其他类型的疾病</p>
</section>
<section id="验证假设" class="level3">
<h3 class="anchored" data-anchor-id="验证假设">验证假设</h3>
<p>让我们通过统计验证来支持这些解释。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 验证维度1与城市等级的关系</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>dim1_scores <span class="ot">&lt;-</span> ind_coord[, <span class="dv">1</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>dim2_scores <span class="ot">&lt;-</span> ind_coord[, <span class="dv">2</span>]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 按城市等级分组,计算维度1的平均得分</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>patient_data <span class="sc">%&gt;%</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dim1 =</span> dim1_scores) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(城市等级) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    平均维度1得分 <span class="ot">=</span> <span class="fu">mean</span>(Dim1),</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    样本数 <span class="ot">=</span> <span class="fu">n</span>()</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(平均维度1得分))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  城市等级 平均维度1得分 样本数
  &lt;chr&gt;            &lt;dbl&gt;  &lt;int&gt;
1 一线城市        0.558      32
2 二线城市        0.0343     50
3 三线城市       -0.103      72
4 农村地区       -0.265      46</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 验证维度1与教育程度的关系</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>patient_data <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dim1 =</span> dim1_scores) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(教育程度) <span class="sc">%&gt;%</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    平均维度1得分 <span class="ot">=</span> <span class="fu">mean</span>(Dim1),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    样本数 <span class="ot">=</span> <span class="fu">n</span>()</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(平均维度1得分)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  教育程度   平均维度1得分 样本数
  &lt;chr&gt;              &lt;dbl&gt;  &lt;int&gt;
1 小学及以下       -0.414      16
2 本科             -0.365      48
3 高中              0.0361     62
4 研究生            0.291      37
5 初中              0.301      37</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 验证维度2与疾病类型的关系</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>patient_data <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Dim2 =</span> dim2_scores) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(疾病类型) <span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    平均维度2得分 <span class="ot">=</span> <span class="fu">mean</span>(Dim2),</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    样本数 <span class="ot">=</span> <span class="fu">n</span>()</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(平均维度2得分)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  疾病类型     平均维度2得分 样本数
  &lt;chr&gt;                &lt;dbl&gt;  &lt;int&gt;
1 呼吸系统疾病       -0.282      44
2 高血压             -0.188      49
3 糖尿病              0.0122     38
4 其他                0.157      40
5 心血管疾病          0.514      29</code></pre>
</div>
</div>
</section>
</section>
<section id="补充mca添加连续变量" class="level2">
<h2 class="anchored" data-anchor-id="补充mca添加连续变量">补充MCA:添加连续变量</h2>
<section id="什么是补充变量" class="level3">
<h3 class="anchored" data-anchor-id="什么是补充变量">什么是补充变量</h3>
<p>补充变量(Supplementary Variables)是MCA中的一种特殊变量: - <strong>主动变量(Active Variables)</strong>:参与MCA的降维计算(用于定义空间) - <strong>补充变量(Supplementary Variables)</strong>:不参与计算,但在分析后投影到MCA空间中</p>
<p>补充变量可以是: - <strong>分类变量</strong>:与主动变量类似,但不参与构建维度 - <strong>连续变量</strong>:投影到MCA空间中,作为补充信息</p>
</section>
<section id="添加补充分类变量" class="level3">
<h3 class="anchored" data-anchor-id="添加补充分类变量">添加补充分类变量</h3>
<p>让我们添加”性别”作为补充变量。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 运行MCA,将性别设为补充变量</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用quali.sup参数指定分类补充变量</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>gender_col_index <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">names</span>(mca_data) <span class="sc">==</span> <span class="st">"性别"</span>) <span class="sc">-</span> <span class="dv">1</span>  <span class="co"># 注意:索引从1开始,已移除患者ID</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>mca_sup <span class="ot">&lt;-</span> <span class="fu">MCA</span>(mca_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>性别),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">quali.sup =</span> gender_col_index,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">ncp =</span> <span class="dv">5</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 查看补充变量的坐标</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_var</span>(mca_sup,</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">choice =</span> <span class="st">"var.cat"</span>,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.var =</span> <span class="st">"contrib"</span>,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"补充变量:性别在MCA空间中的位置"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="添加补充连续变量" class="level3">
<h3 class="anchored" data-anchor-id="添加补充连续变量">添加补充连续变量</h3>
<p>让我们添加一个连续变量:假设我们有”年收入(万元)“数据。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建模拟的连续变量</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>patient_data<span class="sc">$</span>年收入 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n_patients, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">8</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>patient_data<span class="sc">$</span>年收入 <span class="ot">&lt;-</span> <span class="fu">pmax</span>(patient_data<span class="sc">$</span>年收入, <span class="dv">3</span>) <span class="co"># 确保最小值为3万元</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 将连续变量添加到mca_data中</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>mca_with_quanti <span class="ot">&lt;-</span> mca_data</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>mca_with_quanti<span class="sc">$</span>年收入 <span class="ot">&lt;-</span> patient_data<span class="sc">$</span>年收入</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 运行MCA,添加连续补充变量</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>income_col_index <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">names</span>(mca_with_quanti) <span class="sc">==</span> <span class="st">"年收入"</span>)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>mca_quant <span class="ot">&lt;-</span> <span class="fu">MCA</span>(mca_with_quanti,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">quanti.sup =</span> income_col_index,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ncp =</span> <span class="dv">5</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 可视化补充连续变量</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_var</span>(mca_quant,</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">choice =</span> <span class="st">"quanti.sup"</span>,</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"补充连续变量:年收入在MCA空间中的位置"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1100-mca_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="1350"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="mca与其他方法的比较" class="level2">
<h2 class="anchored" data-anchor-id="mca与其他方法的比较">MCA与其他方法的比较</h2>
<section id="mca-vs-plspm-vs-sem-方法学对比" class="level3">
<h3 class="anchored" data-anchor-id="mca-vs-plspm-vs-sem-方法学对比">MCA vs PLSPM vs SEM: 方法学对比</h3>
<p>这是本文的核心内容。我们将详细比较这三种方法的特点、适用场景和局限性。</p>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 26%">
<col style="width: 38%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>特性</th>
<th>MCA (多重对应分析)</th>
<th>PLSPM (偏最小二乘路径模型)</th>
<th>SEM (结构方程模型)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>数据类型</strong></td>
<td>仅分类变量</td>
<td>连续/有序变量(问卷量表为主)</td>
<td>连续/有序/分类(需特殊处理)</td>
</tr>
<tr class="even">
<td><strong>核心目标</strong></td>
<td>探索性:发现数据结构</td>
<td>预测导向:解释方差</td>
<td>验证性:验证理论模型</td>
</tr>
<tr class="odd">
<td><strong>模型类型</strong></td>
<td>降维/可视化</td>
<td>路径分析(测量+结构模型)</td>
<td>路径分析(测量+结构模型)</td>
</tr>
<tr class="even">
<td><strong>样本量要求</strong></td>
<td>较灵活,建议n &gt; 各变量总类别数 × 3</td>
<td>小样本友好(n ≥ 30)</td>
<td>大样本要求(n ≥ 200)</td>
</tr>
<tr class="odd">
<td><strong>分布假设</strong></td>
<td>无需正态假设</td>
<td>无需正态假设</td>
<td>通常假设多元正态</td>
</tr>
<tr class="even">
<td><strong>测量模型</strong></td>
<td>不区分测量模型</td>
<td>支持反映性/形成性指标</td>
<td>主要支持反映性指标</td>
</tr>
<tr class="odd">
<td><strong>结构模型</strong></td>
<td>不适用(无路径)</td>
<td>支持复杂路径关系</td>
<td>支持复杂路径关系</td>
</tr>
<tr class="even">
<td><strong>模型拟合</strong></td>
<td>特征值解释方差</td>
<td>R²、Q²预测指标</td>
<td>χ²、CFI、TLI、RMSEA等</td>
</tr>
<tr class="odd">
<td><strong>统计检验</strong></td>
<td>无传统统计检验</td>
<td>Bootstrap显著性检验</td>
<td>参数估计的显著性检验</td>
</tr>
<tr class="even">
<td><strong>可视化</strong></td>
<td>变量图、个体图、双重图</td>
<td>路径图</td>
<td>路径图</td>
</tr>
<tr class="odd">
<td><strong>软件实现</strong></td>
<td>FactoMineR, ca, ade4</td>
<td>seminr, plspm</td>
<td>lavaan, OpenMx</td>
</tr>
<tr class="even">
<td><strong>典型应用</strong></td>
<td>数据探索、市场研究、社会学</td>
<td>管理学、营销学、心理学</td>
<td>心理学、教育学、社会科学</td>
</tr>
<tr class="odd">
<td><strong>理论要求</strong></td>
<td>低,适合理论探索</td>
<td>中等,需要路径假设</td>
<td>高,需要成熟理论框架</td>
</tr>
</tbody>
</table>
</section>
<section id="深度对比分析" class="level3">
<h3 class="anchored" data-anchor-id="深度对比分析">深度对比分析</h3>
<section id="数据适用性" class="level4">
<h4 class="anchored" data-anchor-id="数据适用性">1. 数据适用性</h4>
<p><strong>MCA的适用场景</strong>: - 问卷中有大量多选题/选择题 - 数据全是分类变量(名义或有序) - 想要探索变量之间的关联模式 - 研究处于理论探索阶段</p>
<p><strong>PLSPM的适用场景</strong>: - 研究中有明确的路径假设 - 样本量较小,难以满足SEM要求 - 关注预测能力而非模型拟合 - 有形成性指标需要处理</p>
<p><strong>SEM的适用场景</strong>: - 有成熟的理论框架需要验证 - 样本量充足(通常n ≥ 200) - 主要关注理论验证而非预测 - 要求严格的模型拟合检验</p>
</section>
<section id="分析目的差异" class="level4">
<h4 class="anchored" data-anchor-id="分析目的差异">2. 分析目的差异</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>目的</th>
<th>MCA</th>
<th>PLSPM</th>
<th>SEM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>探索数据结构</strong></td>
<td>✅ 核心优势</td>
<td>⚠️ 有限支持</td>
<td>❌ 不适用</td>
</tr>
<tr class="even">
<td><strong>验证理论模型</strong></td>
<td>❌ 不适用</td>
<td>⚠️ 部分支持</td>
<td>✅ 核心优势</td>
</tr>
<tr class="odd">
<td><strong>预测未来表现</strong></td>
<td>❌ 不适用</td>
<td>✅ 核心优势</td>
<td>⚠️ 有限支持</td>
</tr>
<tr class="even">
<td><strong>变量降维</strong></td>
<td>✅ 核心优势</td>
<td>❌ 不适用</td>
<td>❌ 不适用</td>
</tr>
<tr class="odd">
<td><strong>可视化展示</strong></td>
<td>✅ 核心优势</td>
<td>✅ 支持</td>
<td>✅ 支持</td>
</tr>
<tr class="even">
<td><strong>中介效应分析</strong></td>
<td>❌ 不适用</td>
<td>✅ 支持</td>
<td>✅ 支持</td>
</tr>
<tr class="odd">
<td><strong>调节效应分析</strong></td>
<td>❌ 不适用</td>
<td>✅ 支持</td>
<td>✅ 支持</td>
</tr>
</tbody>
</table>
</section>
<section id="方法论原理对比" class="level4">
<h4 class="anchored" data-anchor-id="方法论原理对比">3. 方法论原理对比</h4>
<p><strong>MCA的原理</strong>: - 基于对应分析(CA) - 将分类变量转换为指示矩阵(Indicators) - 通过奇异值分解(SVD)提取主要维度 - 最小化卡方距离,最大化类别间差异</p>
<p><strong>PLSPM的原理</strong>: - 基于方差的结构方程建模 - 迭代估计潜变量得分 - 通过最小化残差平方和拟合模型 - 关注解释方差(R²)和预测能力(Q²)</p>
<p><strong>SEM的原理</strong>: - 基于协方差的结构方程建模 - 通过最大似然估计拟合模型 - 最小化样本协方差与模型协方差之间的差异 - 关注模型拟合指数和参数估计</p>
</section>
<section id="结果解读差异" class="level4">
<h4 class="anchored" data-anchor-id="结果解读差异">4. 结果解读差异</h4>
<p><strong>MCA结果解读</strong>: - 特征值:维度解释的方差比例 - 坐标:类别/个体在各维度的位置 - 贡献:类别对维度的贡献程度 - 质量:类别在维度上的代表性 - 主要通过距离和聚类进行定性解释</p>
<p><strong>PLSPM结果解读</strong>: - 路径系数:变量间的预测关系 - R²:模型的解释力 - Cronbach’s α/CR:信度 - AVE:收敛效度 - HTMT:区分效度 - 主要通过系数大小和显著性进行定量解释</p>
<p><strong>SEM结果解读</strong>: - 标准化路径系数:变量间的标准化关系 - 拟合指数:CFI/TLI/RMSEA/SRMR等 - 修正指数:模型改进建议 - 通过拟合指数和参数显著性进行定量解释</p>
</section>
<section id="局限性对比" class="level4">
<h4 class="anchored" data-anchor-id="局限性对比">5. 局限性对比</h4>
<p><strong>MCA的局限性</strong>: - ❌ 不能处理连续变量(除非先分类化) - ❌ 没有统计检验,依赖主观解释 - ❌ 无法进行因果推断 - ❌ 无法处理缺失值(需预处理) - ❌ 样本量过小结果不稳定</p>
<p><strong>PLSPM的局限性</strong>: - ❌ 拟合指数较少,模型诊断不全面 - ❌ 小样本可能导致不稳定估计 - ❌ 形成性指标的效度检验复杂 - ❌ 理论基础相对薄弱,学术接受度低于SEM - ❌ 无法处理复杂的多层结构</p>
<p><strong>SEM的局限性</strong>: - ❌ 需要大样本,小样本难以收敛 - ❌ 对数据分布假设敏感 - ❌ 模型设定错误可能导致错误结论 - ❌ 计算复杂,容易不收敛 - ❌ 对形成性指标处理困难</p>
</section>
</section>
<section id="方法选择决策树" class="level3">
<h3 class="anchored" data-anchor-id="方法选择决策树">方法选择决策树</h3>
<pre><code>开始
  ↓
是否有成熟的理论框架?
  ├─ 是 → 样本量 ≥ 200?
  │       ├─ 是 → 使用 SEM ✅
  │       └─ 否 → 考虑简化模型或使用PLSPM
  │
  └─ 否 → 数据类型?
          ├─ 全是分类变量?
          │       ├─ 是 → 使用 MCA ✅
          │       └─ 否 → 关注点?
          │               ├─ 探索性分析?
          │               │       └─ 使用 MCA 或其他降维方法
          │               └─ 预测导向?
          │                       └─ 使用 PLSPM
          └─ 有路径假设?
                  ├─ 是 → 样本量?
                  │       ├─ ≥ 30 → 使用 PLSPM
                  │       └─ ≥ 200 → 考虑SEM
                  └─ 否 → 数据类型?
                          ├─ 分类变量 → 使用 MCA
                          └─ 连续变量 → 使用其他方法(如回归分析)</code></pre>
</section>
<section id="实际应用案例对比" class="level3">
<h3 class="anchored" data-anchor-id="实际应用案例对比">实际应用案例对比</h3>
<section id="案例1消费者满意度研究" class="level4">
<h4 class="anchored" data-anchor-id="案例1消费者满意度研究">案例1:消费者满意度研究</h4>
<p><strong>研究问题</strong>:探索消费者满意度的影响因素和结构</p>
<p><strong>数据情况</strong>: - 问卷量表数据(Likert 5点量表) - 样本量n = 150 - 理论框架不成熟,处于探索阶段</p>
<p><strong>方法选择</strong>:PLSPM - 理由: - 样本量不足以满足SEM要求 - 关注预测能力(满意度预测忠诚度) - 理论不成熟,需要探索</p>
</section>
<section id="案例2疾病症状模式识别" class="level4">
<h4 class="anchored" data-anchor-id="案例2疾病症状模式识别">案例2:疾病症状模式识别</h4>
<p><strong>研究问题</strong>:识别患者症状的组合模式</p>
<p><strong>数据情况</strong>: - 症状均为分类变量(有/无) - 样本量n = 500 - 无明确理论假设</p>
<p><strong>方法选择</strong>:MCA - 理由: - 全是分类变量 - 探索性研究,发现模式 - 需要可视化展示症状组合</p>
</section>
<section id="案例3理论验证研究" class="level4">
<h4 class="anchored" data-anchor-id="案例3理论验证研究">案例3:理论验证研究</h4>
<p><strong>研究问题</strong>:验证某个成熟的社会心理学理论</p>
<p><strong>数据情况</strong>: - 问卷量表数据 - 样本量n = 350 - 有明确的理论模型和路径假设</p>
<p><strong>方法选择</strong>:SEM - 理由: - 样本量充足 - 有成熟理论需要验证 - 需要严格的模型拟合检验</p>
</section>
</section>
</section>
<section id="高级应用" class="level2">
<h2 class="anchored" data-anchor-id="高级应用">高级应用</h2>
<section id="补充mcasupplementary-mca" class="level3">
<h3 class="anchored" data-anchor-id="补充mcasupplementary-mca">补充MCA(Supplementary MCA)</h3>
<p>当某些变量不适合参与MCA计算,但我们仍然想在结果中展示它们时,可以使用补充变量。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 示例:添加补充连续变量</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 注意:需要在mca_data中先添加年收入变量</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co"># mca_data$年收入 &lt;- patient_data$年收入</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># income_col_index &lt;- which(names(mca_data) == "年收入")</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># gender_col_index &lt;- which(names(mca_data) == "性别") - 1</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># mca_complete &lt;- MCA(mca_data,</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co">#                     quanti.sup = income_col_index,</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co">#                     quali.sup = gender_col_index,</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co">#                     ncp = 5,</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co">#                     graph = FALSE)</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co"># # 可视化结果</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># fviz_mca_biplot(mca_complete,</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co">#                 col.ind = patient_data$疾病类型,</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co">#                 palette = "jco",</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="co">#                 repel = TRUE) +</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(title = "完整的MCA分析:包含补充变量")</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="多组mcamultiple-group-mca" class="level3">
<h3 class="anchored" data-anchor-id="多组mcamultiple-group-mca">多组MCA(Multiple Group MCA)</h3>
<p>当有分组变量(如性别、地区),想要比较不同组的MCA结果时,可以使用多组MCA。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 简化的多组MCA示例(通过子集分析)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 需要选择用于MCA的变量(排除患者ID和其他连续变量)</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>mca_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"年龄组"</span>, <span class="st">"城市等级"</span>, <span class="st">"教育程度"</span>, <span class="st">"疾病类型"</span>, <span class="st">"就医频率"</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>mca_male <span class="ot">&lt;-</span> <span class="fu">MCA</span>(patient_data <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">filter</span>(性别 <span class="sc">==</span> <span class="st">"男"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">select</span>(<span class="fu">all_of</span>(mca_vars)), </span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>mca_female <span class="ot">&lt;-</span> <span class="fu">MCA</span>(patient_data <span class="sc">%&gt;%</span> </span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">filter</span>(性别 <span class="sc">==</span> <span class="st">"女"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">select</span>(<span class="fu">all_of</span>(mca_vars)), </span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 比较两组的特征值</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"男性患者MCA特征值:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>男性患者MCA特征值:</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">get_eigenvalue</span>(mca_male)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      eigenvalue variance.percent cumulative.variance.percent
Dim.1  0.3475054        10.220749                    10.22075
Dim.2  0.3104795         9.131751                    19.35250
Dim.3  0.3039940         8.941000                    28.29350</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">女性患者MCA特征值:</span><span class="sc">\n</span><span class="st">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
女性患者MCA特征值:</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">get_eigenvalue</span>(mca_female)[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>      eigenvalue variance.percent cumulative.variance.percent
Dim.1  0.3311903         9.740892                    9.740892
Dim.2  0.3105267         9.133140                   18.874032
Dim.3  0.2956860         8.696646                   27.570678</code></pre>
</div>
</div>
</section>
<section id="混合数据分析famd" class="level3">
<h3 class="anchored" data-anchor-id="混合数据分析famd">混合数据分析(FAMD)</h3>
<p>当数据中同时包含分类变量和连续变量时,可以使用因子混合数据分析(FAMD)。</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建混合数据</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>mixed_data <span class="ot">&lt;-</span> patient_data <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>患者ID, <span class="sc">-</span>性别, <span class="sc">-</span>城市等级, <span class="sc">-</span>教育程度, <span class="sc">-</span>疾病类型, <span class="sc">-</span>就医频率) <span class="sc">%&gt;%</span> <span class="co"># 保留连续变量</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    年龄组<span class="at">_num =</span> <span class="fu">case_when</span>(</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>      年龄组 <span class="sc">==</span> <span class="st">"18-30"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>      年龄组 <span class="sc">==</span> <span class="st">"31-45"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>      年龄组 <span class="sc">==</span> <span class="st">"46-60"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>      年龄组 <span class="sc">==</span> <span class="st">"60+"</span> <span class="sc">~</span> <span class="dv">4</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(年收入, 年龄组_num)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 实际使用时,可以混合分类和连续变量</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 这里仅作演示,FAMD需要同时有分类和连续变量</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a><span class="co"># library(FactoMineR)</span></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="co"># famd_result &lt;- FAMD(mixed_data, ncp = 5, graph = FALSE)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="最佳实践与注意事项" class="level2">
<h2 class="anchored" data-anchor-id="最佳实践与注意事项">最佳实践与注意事项</h2>
<section id="数据准备-1" class="level3">
<h3 class="anchored" data-anchor-id="数据准备-1">数据准备</h3>
<ol type="1">
<li><strong>变量数量</strong>:建议至少有3个以上的分类变量</li>
<li><strong>类别数量</strong>:每个变量最好有3-5个类别,避免过多类别导致维度爆炸</li>
<li><strong>类别合并</strong>:某些类别样本量过少时,考虑合并相似类别</li>
<li><strong>缺失值处理</strong>:MCA无法处理缺失值,需要先进行缺失值插补或删除</li>
</ol>
</section>
<section id="结果解读" class="level3">
<h3 class="anchored" data-anchor-id="结果解读">结果解读</h3>
<ol type="1">
<li><strong>避免过度解读</strong>:MCA是探索性方法,结果需要结合领域知识解读</li>
<li><strong>关注贡献度</strong>:主要关注贡献度高的类别和个体</li>
<li><strong>验证假设</strong>:通过统计验证支持主观解释</li>
<li><strong>交叉验证</strong>:使用不同的数据子集验证结果的稳定性</li>
</ol>
</section>
<section id="可视化技巧" class="level3">
<h3 class="anchored" data-anchor-id="可视化技巧">可视化技巧</h3>
<ol type="1">
<li><strong>颜色使用</strong>:使用有意义的颜色编码,帮助解读</li>
<li><strong>标签调整</strong>:使用<code>repel = TRUE</code>避免标签重叠</li>
<li><strong>标题清晰</strong>:给每个图形添加清晰的标题和解释</li>
<li><strong>导出高质量</strong>:使用高分辨率导出图形,用于论文发表</li>
</ol>
</section>
<section id="常见错误" class="level3">
<h3 class="anchored" data-anchor-id="常见错误">常见错误</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 28%">
<col style="width: 17%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>错误类型</th>
<th>错误描述</th>
<th>后果</th>
<th>解决方案</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>数据类型错误</strong></td>
<td>将连续变量当作分类变量使用</td>
<td>信息损失,结果失真</td>
<td>使用合适的变量类型</td>
</tr>
<tr class="even">
<td><strong>过度解读</strong></td>
<td>对小差异进行过度理论化</td>
<td>错误结论</td>
<td>结合统计验证</td>
</tr>
<tr class="odd">
<td><strong>忽略缺失值</strong></td>
<td>不处理缺失值直接分析</td>
<td>错误或缺失结果</td>
<td>先处理缺失值</td>
</tr>
<tr class="even">
<td><strong>样本量不足</strong></td>
<td>样本量太小进行MCA</td>
<td>结果不稳定</td>
<td>确保足够的样本量</td>
</tr>
<tr class="odd">
<td><strong>维度选择不当</strong></td>
<td>保留过多或过少维度</td>
<td>信息损失或噪声过多</td>
<td>使用累积方差和可解释性选择</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="报告模板" class="level2">
<h2 class="anchored" data-anchor-id="报告模板">报告模板</h2>
<section id="学术论文报告格式" class="level3">
<h3 class="anchored" data-anchor-id="学术论文报告格式">学术论文报告格式</h3>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MCA分析报告模板</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 方法部分</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="st">"本研究采用多重对应分析(Multiple Correspondence Analysis, MCA)探索[研究主题]的潜在结构。MCA是对应分析在多个分类变量情况下的扩展,专门用于分析分类变量之间的关系。分析使用R语言的FactoMineR包进行,前两个维度解释了[X]%的总方差。"</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 结果部分</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="st">"MCA分析揭示了两条主要的维度结构:</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="st">- 维度1解释了[X]%的方差,主要反映了[维度1的解释,如:社会经济地位]</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="st">- 维度2解释了[Y]%的方差,主要反映了[维度2的解释,如:疾病严重程度]</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="st">从变量图中可以看出,[具体发现]。个体图显示[具体发现],表明[结论]。</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="st">## 讨论</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>MCA结果支持了[理论假设],与[其他研究]一致。与其他方法相比,MCA的优势在于[优势]。然而,MCA也有其局限性,如[局限性]。</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>未来研究可以结合[其他方法,如SEM或PLSPM]进行更深入的验证。<span class="st">"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="常见问题faq" class="level2">
<h2 class="anchored" data-anchor-id="常见问题faq">常见问题FAQ</h2>
<section id="q1-mca和pca有什么区别" class="level3">
<h3 class="anchored" data-anchor-id="q1-mca和pca有什么区别">Q1: MCA和PCA有什么区别?</h3>
<p><strong>A</strong>: 主要区别在于数据类型: - <strong>PCA</strong>:适用于连续变量,基于协方差/相关矩阵 - <strong>MCA</strong>:适用于分类变量,基于指示矩阵的对应分析</p>
<p>如果数据中有连续变量,可以考虑: - 先对连续变量进行分类化,然后使用MCA - 使用因子混合分析(FAMD)</p>
</section>
<section id="q2-mca需要多大的样本量" class="level3">
<h3 class="anchored" data-anchor-id="q2-mca需要多大的样本量">Q2: MCA需要多大的样本量?</h3>
<p><strong>A</strong>: MCA对样本量的要求相对灵活,但经验法则是: - <strong>最小要求</strong>:n &gt; 各变量类别总数 × 2 - <strong>推荐要求</strong>:n &gt; 各变量类别总数 × 3-5 - <strong>稳定估计</strong>:n &gt; 200-300</p>
<p>例如,如果有5个变量,每个变量平均有4个类别(共20个类别),则至少需要40个样本,推荐60-100个样本。</p>
</section>
<section id="q3-如何选择保留的维度数量" class="level3">
<h3 class="anchored" data-anchor-id="q3-如何选择保留的维度数量">Q3: 如何选择保留的维度数量?</h3>
<p><strong>A</strong>: 主要依据以下准则: 1. <strong>累积方差比例</strong>:前2-3个维度解释50%-70%的方差 2. <strong>肘部法则</strong>:在特征值图中找到肘部 3. <strong>可解释性</strong>:选择能够进行有意义的理论解释的维度</p>
<p>通常情况下,前2个维度已经能够解释足够多的信息,且便于可视化。</p>
</section>
<section id="q4-mca能否处理有序分类变量" class="level3">
<h3 class="anchored" data-anchor-id="q4-mca能否处理有序分类变量">Q4: MCA能否处理有序分类变量?</h3>
<p><strong>A</strong>: 可以,但需要注意: - 标准MCA将所有变量视为名义变量,不利用有序信息 - 如果有序信息很重要,可以考虑: - 使用特定于有序数据的MCA变体 - 使用其他方法(如PCA,对有序变量赋予数值)</p>
</section>
<section id="q5-mca和plspmsem可以一起使用吗" class="level3">
<h3 class="anchored" data-anchor-id="q5-mca和plspmsem可以一起使用吗">Q5: MCA和PLSPM/SEM可以一起使用吗?</h3>
<p><strong>A</strong>: 可以,而且这是一个很好的研究策略: - <strong>阶段1:使用MCA进行探索性分析</strong>,发现数据结构和潜在维度 - <strong>阶段2:基于MCA结果构建理论模型</strong>,提出路径假设 - <strong>阶段3:使用PLSPM或SEM进行验证性分析</strong>,检验理论模型</p>
<p>这种方法被称为”探索-验证”策略,在社会科学研究中非常常见。</p>
</section>
<section id="q6-如何解读mca的坐标轴含义" class="level3">
<h3 class="anchored" data-anchor-id="q6-如何解读mca的坐标轴含义">Q6: 如何解读MCA的坐标轴含义?</h3>
<p><strong>A</strong>: 坐标轴本身没有预设含义,需要通过观察各类别的分布来解释: 1. 观察坐标轴两端的类别 2. 识别共同特征 3. 结合领域知识提出解释 4. 通过统计验证支持解释</p>
<p>例如,如果维度1的一端是”高收入”、“高教育”、“一线城市”,另一端是”低收入”、“低教育”、“农村地区”,则可以解释维度1反映”社会经济地位”。</p>
</section>
<section id="q7-mca的结果可以用于后续分析吗" class="level3">
<h3 class="anchored" data-anchor-id="q7-mca的结果可以用于后续分析吗">Q7: MCA的结果可以用于后续分析吗?</h3>
<p><strong>A</strong>: 可以,MCA的结果(维度得分)可以作为新的变量用于后续分析: - 作为回归分析的预测变量 - 作为聚类的输入变量 - 作为机器学习模型的特征</p>
<p>但需要注意: - 维度得分是降维后的结果,会损失部分信息 - 需要选择合适的维度数量 - 要验证维度得分的稳定性</p>
</section>
</section>
<section id="参考文献" class="level2">
<h2 class="anchored" data-anchor-id="参考文献">参考文献</h2>
<ol type="1">
<li><strong>Greenacre, M., &amp; Blasius, J. (Eds.).</strong> (2006). <em>Multiple Correspondence Analysis and Related Methods</em>. Chapman &amp; Hall/CRC.</li>
<li><strong>Abdi, H., &amp; Williams, L. J.</strong> (2010). Multiple correspondence analysis. <em>Encyclopedia of Research Design</em>, 2, 651-657.</li>
<li><strong>Le Roux, B., &amp; Rouanet, H.</strong> (2010). <em>Multiple Correspondence Analysis</em>. Sage Publications.</li>
<li><strong>Husson, F., Lê, S., &amp; Pagès, J.</strong> (2017). <em>Exploratory Multivariate Analysis by Example Using R</em> (2nd ed.). CRC Press.</li>
<li><strong>Hair, J. F., Hult, G. T. M., Ringle, C. M., &amp; Sarstedt, M.</strong> (2022). <em>A Primer on Partial Least Squares Structural Equation Modeling (PLS-SEM)</em> (3rd ed.). Sage.</li>
<li><strong>Kline, R. B.</strong> (2015). <em>Principles and Practice of Structural Equation Modeling</em> (4th ed.). Guilford Press.</li>
<li><strong>Rosseel, Y.</strong> (2012). lavaan: An R Package for Structural Equation Modeling. <em>Journal of Statistical Software</em>, 48(2), 1-36.</li>
</ol>
</section>
<section id="附录完整代码" class="level2">
<h2 class="anchored" data-anchor-id="附录完整代码">附录:完整代码</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MCA完整分析流程</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 安装和加载包</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(c("FactoMineR", "factoextra", "tidyverse", "ggplot2", "patchwork"))</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 准备数据</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 确保所有变量都是因子</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>mca_data <span class="ot">&lt;-</span> your_data</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>mca_data[] <span class="ot">&lt;-</span> <span class="fu">lapply</span>(mca_data, factor)</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 运行MCA</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>mca_result <span class="ot">&lt;-</span> <span class="fu">MCA</span>(mca_data, <span class="at">ncp =</span> <span class="dv">5</span>, <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. 查看特征值</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>eig_val <span class="ot">&lt;-</span> <span class="fu">get_eigenvalue</span>(mca_result)</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_eig</span>(mca_result, <span class="at">addlabels =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. 可视化变量</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_var</span>(mca_result, <span class="at">col.var =</span> <span class="st">"contrib"</span>, <span class="at">repel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. 可视化个体</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_ind</span>(mca_result, <span class="at">col.ind =</span> your_data<span class="sc">$</span>group_var, <span class="at">repel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. 双重图</span></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mca_biplot</span>(mca_result, <span class="at">col.ind =</span> your_data<span class="sc">$</span>group_var, <span class="at">col.var =</span> <span class="st">"steelblue"</span>, <span class="at">repel =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 8. 提取结果</span></span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>var_coord <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>coord</span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>var_contrib <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>contrib</span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>var_cos2 <span class="ot">&lt;-</span> <span class="fu">get_mca_var</span>(mca_result)<span class="sc">$</span>cos2</span>
<span id="cb54-36"><a href="#cb54-36" aria-hidden="true" tabindex="-1"></a>ind_coord <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>coord</span>
<span id="cb54-37"><a href="#cb54-37" aria-hidden="true" tabindex="-1"></a>ind_contrib <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>contrib</span>
<span id="cb54-38"><a href="#cb54-38" aria-hidden="true" tabindex="-1"></a>ind_cos2 <span class="ot">&lt;-</span> <span class="fu">get_mca_ind</span>(mca_result)<span class="sc">$</span>cos2</span>
<span id="cb54-39"><a href="#cb54-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-40"><a href="#cb54-40" aria-hidden="true" tabindex="-1"></a><span class="co"># 9. 导出结果用于后续分析</span></span>
<span id="cb54-41"><a href="#cb54-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 例如,将维度得分作为新变量</span></span>
<span id="cb54-42"><a href="#cb54-42" aria-hidden="true" tabindex="-1"></a>mca_scores <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ind_coord)</span>
<span id="cb54-43"><a href="#cb54-43" aria-hidden="true" tabindex="-1"></a>final_data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(your_data, mca_scores[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>])  <span class="co"># 保留前两个维度</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>


</section>

</main> <!-- /main -->
<!-- Hypothesis 文字划线评论功能 -->

<!-- 用户可以选中任意文字添加批注，所有人都能看到 -->

<script>

    window.hypothesisConfig = function () {

        return {

            branding: {

                appBackgroundColor: 'white',

                ctaBackgroundColor: '#4f46e5',

                ctaTextColor: 'white',

                selectionFontFamily: 'inherit'

            },

            enableExperimentalNewNoteButton: true,

            showHighlights: 'always'

        };

    };

</script>

<script async="" src="https://hypothes.is/embed.js"></script>



<!-- Hypothesis 使用提示 -->

<style>

    .hypothesis-hint {

        position: fixed;

        bottom: 100px;

        right: 20px;

        background: linear-gradient(135deg, #4f46e5, #7c3aed);

        color: white;

        padding: 12px 16px;

        border-radius: 12px;

        font-size: 0.85rem;

        box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);

        z-index: 999;

        opacity: 0;

        transform: translateY(20px);

        transition: all 0.3s ease;

        pointer-events: none;

        max-width: 200px;

        line-height: 1.4;

    }

    

    .hypothesis-hint.show {

        opacity: 1;

        transform: translateY(0);

    }

    

    .hypothesis-hint::before {

        content: "💡";

        margin-right: 6px;

    }

    

    @media (max-width: 768px) {

        .hypothesis-hint {

            bottom: 80px;

            right: 10px;

            left: 10px;

            max-width: none;

        }

    }

</style>



<div class="hypothesis-hint" id="hypothesis-hint">

    选中文字可以添加批注，与其他读者互动！

</div>



<script>

    // 首次访问时显示提示

    document.addEventListener('DOMContentLoaded', function() {

        const hint = document.getElementById('hypothesis-hint');

        const hintShown = localStorage.getItem('hypothesis_hint_shown');

        

        if (!hintShown && hint) {

            setTimeout(() => {

                hint.classList.add('show');

                setTimeout(() => {

                    hint.classList.remove('show');

                    localStorage.setItem('hypothesis_hint_shown', 'true');

                }, 5000);

            }, 3000);

        }

    });

</script>



<!-- Back to Top Button -->

<button id="back-to-top" aria-label="Back to Top">

    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">

        <path d="M18 15l-6-6-6 6"></path>

    </svg>

</button>



<!-- Floating TOC Button (Mobile Only) -->

<button id="toc-floating-btn" aria-label="Table of Contents">

    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">

        <line x1="8" y1="6" x2="21" y2="6"></line>

        <line x1="8" y1="12" x2="21" y2="12"></line>

        <line x1="8" y1="18" x2="21" y2="18"></line>

        <line x1="3" y1="6" x2="3.01" y2="6"></line>

        <line x1="3" y1="12" x2="3.01" y2="12"></line>

        <line x1="3" y1="18" x2="3.01" y2="18"></line>

    </svg>

</button>



<!-- TOC Modal -->

<div class="toc-modal-overlay">

    <div class="toc-modal-content">

        <div class="toc-modal-header">

            <div class="toc-modal-title">目录</div>

            <button class="toc-modal-close" aria-label="Close">×</button>

        </div>

        <div class="toc-modal-body" id="toc-modal-body">

            <!-- TOC content will be injected here -->

        </div>

    </div>

</div>



<script>

    // Back to Top Logic

    const backToTopBtn = document.getElementById('back-to-top');



    window.addEventListener('scroll', () => {

        if (window.scrollY > 300) {

            backToTopBtn.classList.add('visible');

        } else {

            backToTopBtn.classList.remove('visible');

        }

    });



    backToTopBtn.addEventListener('click', () => {

        window.scrollTo({

            top: 0,

            behavior: 'smooth'

        });

    });



    // Mobile Table Scrolling Logic

    document.addEventListener("DOMContentLoaded", function () {

        const tables = document.querySelectorAll('table');

        tables.forEach(table => {

            if (!table.parentElement.classList.contains('table-responsive')) {

                const wrapper = document.createElement('div');

                wrapper.className = 'table-responsive';

                wrapper.style.overflowX = 'auto'; // Force scroll

                table.parentNode.insertBefore(wrapper, table);

                wrapper.appendChild(table);

            }

        });



        // Floating TOC Logic

        const tocBtn = document.getElementById('toc-floating-btn');

        const tocOverlay = document.querySelector('.toc-modal-overlay');

        const tocClose = document.querySelector('.toc-modal-close');

        const tocBody = document.getElementById('toc-modal-body');

        const originalToc = document.getElementById('TOC');



        if (originalToc && tocBtn) {

            // Check if TOC has content

            const tocLinks = originalToc.querySelectorAll('a');

            if (tocLinks.length > 0) {

                tocBtn.style.display = 'flex';



                // Function to populate modal

                const populateToc = () => {

                    tocBody.innerHTML = '';

                    const tocClone = originalToc.querySelector('ul').cloneNode(true);

                    tocBody.appendChild(tocClone);



                    // Add click listeners to close modal on link click

                    tocBody.querySelectorAll('a').forEach(link => {

                        link.addEventListener('click', () => {

                            tocOverlay.classList.remove('active');

                            // Smooth scroll to target (handled by browser usually, but ensure modal closes first)

                        });

                    });

                };



                tocBtn.addEventListener('click', () => {

                    populateToc();

                    tocOverlay.classList.add('active');

                });



                tocClose.addEventListener('click', () => {

                    tocOverlay.classList.remove('active');

                });



                tocOverlay.addEventListener('click', (e) => {

                    if (e.target === tocOverlay) {

                        tocOverlay.classList.remove('active');

                    }

                });

            } else {

                tocBtn.style.display = 'none';

            }

        } else if (tocBtn) {

            tocBtn.style.display = 'none';

        }



        // Article Footer Random Recommendation

        // Only run on article pages (has sidebar and main content)

        const sidebar = document.querySelector('#quarto-sidebar') || document.querySelector('.sidebar');

        const mainContent = document.querySelector('main');



        if (sidebar && mainContent) {

            const links = Array.from(sidebar.querySelectorAll('a.sidebar-item-text'));



            // If no links found with specific class, try generic anchor in sidebar

            const allLinks = links.length > 0 ? links : Array.from(sidebar.querySelectorAll('a'));



            // Filter out section headers if they are just toggles (usually href is # or empty)

            const validLinks = allLinks.filter(a => a.href && !a.href.endsWith('#') && !a.href.includes('javascript:'));



            // Article Footer Navigation (Prev/Next + Random)

            const currentUrl = window.location.href.split('#')[0];

            let currentIndex = -1;



            // Find current article index

            for (let i = 0; i < validLinks.length; i++) {

                if (validLinks[i].href.split('#')[0] === currentUrl) {

                    currentIndex = i;

                    break;

                }

            }



            // Create Container

            const footerNav = document.createElement('div');

            footerNav.className = 'article-footer-nav-container';

            footerNav.style.marginTop = '4rem';

            footerNav.style.paddingTop = '2rem';

            footerNav.style.borderTop = '1px solid #e5e7eb';



            // 1. Prev/Next Navigation

            if (currentIndex !== -1) {

                let navHtml = '<div class="article-footer-nav">';



                // Previous

                if (currentIndex > 0) {

                    const prevLink = validLinks[currentIndex - 1];

                    const prevTitle = prevLink.innerText.trim();

                    navHtml += `

                        <a href="${prevLink.href}" class="article-nav-link">

                            <span class="nav-label">上一篇</span>

                            <span class="nav-title">« ${prevTitle}</span>

                        </a>

                    `;

                } else {

                    navHtml += `<div></div>`;

                }



                // Next

                if (currentIndex < validLinks.length - 1) {

                    const nextLink = validLinks[currentIndex + 1];

                    const nextTitle = nextLink.innerText.trim();

                    navHtml += `

                        <a href="${nextLink.href}" class="article-nav-link" style="text-align: right;">

                            <span class="nav-label">下一篇</span>

                            <span class="nav-title">${nextTitle} »</span>

                        </a>

                    `;

                } else {

                    navHtml += `<div></div>`;

                }



                navHtml += '</div>';



                // Append Prev/Next HTML

                const navDiv = document.createElement('div');

                navDiv.innerHTML = navHtml;

                footerNav.appendChild(navDiv);

            }



            // 2. Random Recommendation

            const otherLinks = validLinks.filter((_, idx) => idx !== currentIndex);

            if (otherLinks.length > 0) {

                const randomIdx = Math.floor(Math.random() * otherLinks.length);

                const randomLink = otherLinks[randomIdx];

                const randomTitle = randomLink.innerText.trim(); // Use innerText for title



                if (randomTitle) {

                    const randomDiv = document.createElement('div');

                    randomDiv.innerHTML = `

                        <div class="random-recommendation">

                            <h4>👋 随便看看</h4>

                            <p>探索更多 R 语言精彩内容</p>

                            <a href="${randomLink.href}" class="random-btn">

                                🎲 ${randomTitle}

                            </a>

                        </div>

                    `;

                    footerNav.appendChild(randomDiv);

                }

            }



            mainContent.appendChild(footerNav);

        }

    });

</script>



<!-- Like Button Styles -->

<style>

    .article-like-container {

        display: flex;

        justify-content: flex-start;

        margin: 1.5rem 0 2rem 0;

        padding: 0;

    }



    .like-wrapper {

        display: flex;

        flex-direction: column;

        align-items: flex-start;

        gap: 0.4rem;

    }



    .like-btn {

        display: inline-flex;

        align-items: center;

        gap: 0.5rem;

        padding: 0.6rem 1.2rem;

        border: 2px solid #e5e7eb;

        border-radius: 50px;

        background: white;

        color: #6b7280;

        font-size: 0.95rem;

        font-weight: 500;

        cursor: pointer;

        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

        user-select: none;

    }



    .like-btn:hover {

        border-color: #f472b6;

        color: #ec4899;

        background: #fdf2f8;

    }



    .like-btn.liked {

        border-color: #ec4899;

        color: #ec4899;

        background: #fdf2f8;

    }



    .like-btn.pop {

        animation: pop-animation 0.3s ease;

    }



    @keyframes pop-animation {

        0% {

            transform: scale(1);

        }



        50% {

            transform: scale(1.15);

        }



        100% {

            transform: scale(1);

        }

    }



    .like-icon {

        width: 20px;

        height: 20px;

        transition: transform 0.2s;

    }



    .like-btn:hover .like-icon {

        transform: scale(1.1);

    }



    .like-icon .heart-outline {

        fill: none;

        stroke: currentColor;

        stroke-width: 2;

    }



    .like-icon .heart-fill {

        fill: currentColor;

        opacity: 0;

        transition: opacity 0.2s;

    }



    .like-btn.liked .heart-fill {

        opacity: 1;

    }



    .like-btn.liked .heart-outline {

        stroke: none;

    }



    .like-text {

        font-size: 0.9rem;

    }



    .like-count {

        font-size: 0.85rem;

        min-width: 1rem;

        text-align: center;

    }



    .like-hint {

        font-size: 0.75rem;

        color: #9ca3af;

        padding-left: 0.25rem;

    }



    /* Mobile optimization */

    @media (max-width: 768px) {

        .article-like-container {

            margin: 1rem 0 1.5rem 0;

        }



        .like-btn {

            padding: 0.5rem 1rem;

            font-size: 0.9rem;

        }



        .like-icon {

            width: 18px;

            height: 18px;

        }

    }

</style>



<!-- Like Section Script with Supabase Backend -->

<script>

    // Supabase Configuration

    const SUPABASE_URL = 'https://zyfdzyifhvglibpganxt.supabase.co';

    const SUPABASE_ANON_KEY = 'sb_publishable_XhaP4hFZ30sHZybEjVRQxg_iwlPTxz8';



    document.addEventListener('DOMContentLoaded', async function () {

        const mainContent = document.querySelector('main');



        // Only show on article pages (not index, not sections)

        const isArticlePage = !window.location.pathname.includes('index.html') &&

            !window.location.pathname.includes('sections/') &&

            !window.location.pathname.endsWith('/');



        if (!isArticlePage || !mainContent) return;



        const articleId = window.location.pathname.replace(/[^a-zA-Z0-9]/g, '_');

        const likeKey = `article_like_${articleId}`; // localStorage key for current user's like state



        // Create Like Section (at page bottom)

        const likeSection = document.createElement('div');

        likeSection.className = 'article-like-section';



        // Initial state from localStorage (for immediate UI feedback)

        const isLiked = localStorage.getItem(likeKey) === 'true';

        let likeCount = 0;



        likeSection.innerHTML = `

            <div class="like-section-inner">

                <p class="like-prompt">觉得有帮助？点赞支持一下 👇</p>

                <button class="like-btn ${isLiked ? 'liked' : ''}" id="article-like-btn" aria-label="点赞">

                    <svg class="like-icon" viewBox="0 0 24 24" width="24" height="24">

                        <path class="heart-outline" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>

                        <path class="heart-fill" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>

                    </svg>

                    <span class="like-text">${isLiked ? '已喜欢' : '喜欢这篇文章'}</span>

                    <span class="like-count" id="like-count"><span class="loading-dots">...</span></span>

                </button>

            </div>

        `;



        mainContent.appendChild(likeSection);



        const likeBtn = document.getElementById('article-like-btn');

        const likeCountSpan = document.getElementById('like-count');

        const likeText = likeBtn.querySelector('.like-text');



        // Supabase API helper

        async function supabaseRequest(method, endpoint, body = null) {

            const options = {

                method: method,

                headers: {

                    'apikey': SUPABASE_ANON_KEY,

                    'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,

                    'Content-Type': 'application/json',

                    'Prefer': method === 'POST' ? 'return=representation' : 'return=minimal'

                }

            };

            if (body) options.body = JSON.stringify(body);



            try {

                const response = await fetch(`${SUPABASE_URL}/rest/v1/${endpoint}`, options);

                if (!response.ok) throw new Error(`HTTP ${response.status}`);

                const text = await response.text();

                return text ? JSON.parse(text) : null;

            } catch (error) {

                console.error('Supabase error:', error);

                return null;

            }

        }



        // Fetch current like count from Supabase

        async function fetchLikeCount() {

            const data = await supabaseRequest('GET', `article_likes?article_id=eq.${articleId}&select=like_count`);

            if (data && data.length > 0) {

                return data[0].like_count;

            }

            return 0;

        }



        // Update like count in Supabase

        async function updateLikeCount(newCount) {

            // Try to update existing record

            const existing = await supabaseRequest('GET', `article_likes?article_id=eq.${articleId}&select=id`);



            if (existing && existing.length > 0) {

                // Update existing

                await supabaseRequest('PATCH', `article_likes?article_id=eq.${articleId}`, {

                    like_count: newCount

                });

            } else {

                // Insert new record

                await supabaseRequest('POST', 'article_likes', {

                    article_id: articleId,

                    like_count: newCount

                });

            }

        }



        // Load initial like count

        try {

            likeCount = await fetchLikeCount();

            likeCountSpan.textContent = likeCount > 0 ? likeCount : '';

        } catch (e) {

            console.error('Failed to fetch likes:', e);

            likeCountSpan.textContent = '';

        }



        // Like button click handler

        likeBtn.addEventListener('click', async function () {

            const currentlyLiked = this.classList.contains('liked');



            // Optimistic UI update

            if (currentlyLiked) {

                this.classList.remove('liked');

                likeCount = Math.max(0, likeCount - 1);

                likeText.textContent = '喜欢这篇文章';

                localStorage.setItem(likeKey, 'false');

            } else {

                this.classList.add('liked');

                likeCount++;

                likeText.textContent = '已喜欢';

                localStorage.setItem(likeKey, 'true');



                this.classList.add('pop');

                setTimeout(() => this.classList.remove('pop'), 300);

            }



            likeCountSpan.textContent = likeCount > 0 ? likeCount : '';



            // Sync with Supabase in background

            try {

                await updateLikeCount(likeCount);

            } catch (e) {

                console.error('Failed to sync like:', e);

            }

        });



        // ============================================

        // Comment Section with Supabase

        // ============================================



        // Create comment section HTML

        const commentSection = document.createElement('div');

        commentSection.className = 'comment-section';

        commentSection.innerHTML = `

            <h4 class="comment-title">💬 评论区</h4>

            <div class="comment-form">

                <input type="text" id="comment-nickname" class="comment-nickname" placeholder="昵称（可选）" maxlength="20">

                <textarea id="comment-content" class="comment-textarea" placeholder="写下你的想法..." maxlength="500" rows="3"></textarea>

                <div class="comment-form-footer">

                    <span class="char-count"><span id="char-count">0</span>/500</span>

                    <button id="submit-comment" class="comment-submit-btn">发表评论</button>

                </div>

            </div>

            <div id="comment-list" class="comment-list">

                <div class="loading-comments">加载评论中...</div>

            </div>

        `;



        // Append comment section after like section

        const likeSectionEl = document.querySelector('.article-like-section');

        if (likeSectionEl) {

            likeSectionEl.after(commentSection);

        } else {

            mainContent.appendChild(commentSection);

        }



        const commentNickname = document.getElementById('comment-nickname');

        const commentContent = document.getElementById('comment-content');

        const submitBtn = document.getElementById('submit-comment');

        const commentList = document.getElementById('comment-list');

        const charCount = document.getElementById('char-count');



        // Visitor ID for identifying own comments

        let visitorId = localStorage.getItem('visitor_id');

        if (!visitorId) {

            visitorId = 'v_' + Math.random().toString(36).substr(2, 9) + Date.now().toString(36);

            localStorage.setItem('visitor_id', visitorId);

        }



        // Character counter

        commentContent.addEventListener('input', () => {

            charCount.textContent = commentContent.value.length;

        });



        // Format time helper

        function formatTime(timestamp) {

            const date = new Date(timestamp);

            const now = new Date();

            const diff = now - date;



            if (diff < 60000) return '刚刚';

            if (diff < 3600000) return Math.floor(diff / 60000) + ' 分钟前';

            if (diff < 86400000) return Math.floor(diff / 3600000) + ' 小时前';

            if (diff < 604800000) return Math.floor(diff / 86400000) + ' 天前';



            return date.toLocaleDateString('zh-CN');

        }



        // Escape HTML to prevent XSS

        function escapeHtml(text) {

            const div = document.createElement('div');

            div.textContent = text;

            return div.innerHTML;

        }



        // Fetch comments from Supabase

        async function fetchComments() {

            const data = await supabaseRequest('GET', `article_comments?article_id=eq.${articleId}&order=created_at.desc`);

            return data || [];

        }



        // Post new comment

        async function postComment(nickname, content) {

            return await supabaseRequest('POST', 'article_comments', {

                article_id: articleId,

                nickname: nickname || '匿名用户',

                content: content,

                visitor_id: visitorId

            });

        }



        // Delete comment

        async function deleteComment(commentId) {

            await supabaseRequest('DELETE', `article_comments?id=eq.${commentId}&visitor_id=eq.${visitorId}`);

        }



        // Render comments

        function renderComments(comments) {

            if (!comments || comments.length === 0) {

                commentList.innerHTML = '<div class="no-comments">暂无评论，来做第一个留言的人吧 🎉</div>';

                return;

            }



            commentList.innerHTML = comments.map(c => `

                <div class="comment-item" data-id="${c.id}">

                    <div class="comment-header">

                        <span class="comment-author">${escapeHtml(c.nickname || '匿名用户')}</span>

                        <span class="comment-time">${formatTime(c.created_at)}</span>

                        ${c.visitor_id === visitorId ? `<button class="comment-delete" data-id="${c.id}">删除</button>` : ''}

                    </div>

                    <div class="comment-body">${escapeHtml(c.content)}</div>

                </div>

            `).join('');



            // Add delete handlers

            commentList.querySelectorAll('.comment-delete').forEach(btn => {

                btn.addEventListener('click', async function () {

                    const id = this.dataset.id;

                    await deleteComment(id);

                    loadComments();

                });

            });

        }



        // Load and display comments

        async function loadComments() {

            try {

                const comments = await fetchComments();

                renderComments(comments);

            } catch (e) {

                console.error('Failed to load comments:', e);

                commentList.innerHTML = '<div class="no-comments">加载评论失败</div>';

            }

        }



        // Submit comment handler

        submitBtn.addEventListener('click', async function () {

            const content = commentContent.value.trim();

            if (!content) {

                alert('请输入评论内容');

                return;

            }



            submitBtn.disabled = true;

            submitBtn.textContent = '发送中...';



            try {

                await postComment(commentNickname.value.trim(), content);

                commentContent.value = '';

                charCount.textContent = '0';

                await loadComments();

            } catch (e) {

                console.error('Failed to post comment:', e);

                alert('评论发送失败，请重试');

            }



            submitBtn.disabled = false;

            submitBtn.textContent = '发表评论';

        });



        // Initial load

        loadComments();

    });

</script>



<!-- Interaction Section Styles -->

<style>

    .article-interaction-section {

        margin-top: 3rem;

        padding-top: 2rem;

        border-top: 2px solid #e5e7eb;

    }



    .interaction-header {

        text-align: center;

        margin-bottom: 2rem;

    }



    .interaction-header h3 {

        font-size: 1.4rem;

        color: #1f2937;

        margin: 0 0 0.5rem 0;

    }



    .interaction-header p {

        color: #6b7280;

        font-size: 0.95rem;

        margin: 0;

    }



    /* Like Section at Bottom */

    .article-like-section {

        margin-top: 3rem;

        padding: 2rem 0;

        border-top: 2px solid #e5e7eb;

        text-align: center;

    }



    .like-section-inner {

        display: flex;

        flex-direction: column;

        align-items: center;

        gap: 1rem;

    }



    .like-prompt {

        color: #6b7280;

        font-size: 0.95rem;

        margin: 0;

    }



    .article-like-section .like-btn {

        padding: 0.75rem 2rem;

        font-size: 1rem;

    }



    .article-like-section .like-icon {

        width: 22px;

        height: 22px;

    }



    /* Mobile */

    @media (max-width: 768px) {

        .article-like-section {

            margin-top: 2rem;

            padding: 1.5rem 0;

        }



        .like-prompt {

            font-size: 0.9rem;

        }

    }



    /* Comment Section */

    .comment-section {

        margin-top: 2rem;

        padding: 1.5rem;

        background: #f9fafb;

        border-radius: 12px;

    }



    .comment-title {

        font-size: 1.1rem;

        color: #1f2937;

        margin: 0 0 1rem 0;

    }



    .comment-form {

        margin-bottom: 1.5rem;

    }



    .comment-nickname {

        width: 200px;

        padding: 0.5rem 0.75rem;

        border: 1px solid #e5e7eb;

        border-radius: 8px;

        font-size: 0.9rem;

        margin-bottom: 0.75rem;

        background: white;

    }



    .comment-textarea {

        width: 100%;

        padding: 0.75rem;

        border: 1px solid #e5e7eb;

        border-radius: 8px;

        font-size: 0.95rem;

        resize: vertical;

        min-height: 80px;

        background: white;

        font-family: inherit;

        box-sizing: border-box;

        margin-bottom: 0.5rem;

    }



    .comment-nickname:focus,

    .comment-textarea:focus {

        outline: none;

        border-color: #4f46e5;

        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);

    }



    .comment-form-footer {

        display: flex;

        justify-content: space-between;

        align-items: center;

    }



    .char-count {

        font-size: 0.8rem;

        color: #9ca3af;

    }



    .comment-submit-btn {

        padding: 0.6rem 1.5rem;

        background: #4f46e5;

        color: white;

        border: none;

        border-radius: 8px;

        font-size: 0.9rem;

        font-weight: 500;

        cursor: pointer;

        transition: all 0.2s;

    }



    .comment-submit-btn:hover:not(:disabled) {

        background: #4338ca;

        transform: translateY(-1px);

    }



    .comment-submit-btn:disabled {

        opacity: 0.6;

        cursor: not-allowed;

    }



    .comment-list {

        margin-top: 1rem;

    }



    .loading-comments,

    .no-comments {

        text-align: center;

        color: #9ca3af;

        padding: 1.5rem;

        font-size: 0.95rem;

    }



    .comment-item {

        background: white;

        border-radius: 8px;

        padding: 1rem;

        margin-bottom: 0.75rem;

        border: 1px solid #e5e7eb;

    }



    .comment-header {

        display: flex;

        align-items: center;

        gap: 0.75rem;

        margin-bottom: 0.5rem;

    }



    .comment-author {

        font-weight: 600;

        color: #1f2937;

        font-size: 0.9rem;

    }



    .comment-time {

        font-size: 0.8rem;

        color: #9ca3af;

    }



    .comment-delete {

        margin-left: auto;

        background: none;

        border: none;

        color: #ef4444;

        font-size: 0.8rem;

        cursor: pointer;

        padding: 0.2rem 0.5rem;

        border-radius: 4px;

    }



    .comment-delete:hover {

        background: #fef2f2;

    }



    .comment-body {

        color: #374151;

        font-size: 0.95rem;

        line-height: 1.6;

        white-space: pre-wrap;

        word-break: break-word;

    }



    /* Mobile Comment Styles */

    @media (max-width: 768px) {

        .comment-section {

            padding: 1rem;

        }



        .comment-nickname {

            width: 100%;

        }



        .comment-title {

            font-size: 1rem;

        }

    }

</style>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Made with <a href="https://quarto.org/">Quarto</a> | © 2024-2026</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>
(function() {
  'use strict';
  var THEME_KEY = 'r-notes-theme';
  function getPreferredTheme() {
    var saved = localStorage.getItem(THEME_KEY);
    if (saved) return saved;
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }
    return 'light';
  }
  function setTheme(theme) {
    var html = document.documentElement;
    var body = document.body;
    if (theme === 'dark') {
      html.setAttribute('data-theme', 'dark');
      html.setAttribute('data-bs-theme', 'dark');
      html.classList.add('quarto-dark');
      html.classList.remove('quarto-light');
      body.classList.add('quarto-dark');
      body.classList.remove('quarto-light');
    } else {
      html.removeAttribute('data-theme');
      html.setAttribute('data-bs-theme', 'light');
      html.classList.remove('quarto-dark');
      html.classList.add('quarto-light');
      body.classList.remove('quarto-dark');
      body.classList.add('quarto-light');
    }
    localStorage.setItem(THEME_KEY, theme);
  }
  function toggleTheme() {
    var current = document.documentElement.getAttribute('data-theme');
    var newTheme = current === 'dark' ? 'light' : 'dark';
    setTheme(newTheme);
  }
  function createToggleButton() {
    var btn = document.createElement('button');
    btn.id = 'theme-toggle';
    btn.setAttribute('aria-label', '切换主题');
    btn.setAttribute('title', '切换日间/夜间模式');
    var moonIcon = '<svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
    var sunIcon = '<svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>';
    btn.innerHTML = moonIcon + sunIcon;
    btn.addEventListener('click', toggleTheme);
    document.body.appendChild(btn);
  }
  function init() {
    setTheme(getPreferredTheme());
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', createToggleButton);
    } else {
      createToggleButton();
    }
  }
  init();
})();
</script>




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>