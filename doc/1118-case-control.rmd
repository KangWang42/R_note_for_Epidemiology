---
title: 'ç—…ä¾‹å¯¹ç…§ç ”ç©¶è®¾è®¡ä¸åˆ†æå®Œæ•´æ•™ç¨‹'
date: '2026-01-25'
categories:
- ç»Ÿè®¡åˆ†ææ–¹æ³•
- æµè¡Œç—…å­¦ç ”ç©¶è®¾è®¡
image: images/case-control-cover.svg
description: ç—…ä¾‹å¯¹ç…§ç ”ç©¶çš„è®¾è®¡åŸç†ã€é…å¯¹è®¾è®¡ã€æ¡ä»¶Logisticå›å½’ä¸ORè§£é‡Š
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  warning = FALSE,
  message = FALSE,
  fig.width = 8,
  fig.height = 5,
  fig.retina = 2,
  out.width = "100%",
  dpi = 150
)
```

## æ–¹æ³•èƒŒæ™¯ä¸é€‚ç”¨åœºæ™¯

ç—…ä¾‹å¯¹ç…§ç ”ç©¶(Case-Control Study)æ˜¯ä¸€ç§å›é¡¾æ€§è§‚å¯Ÿæ€§ç ”ç©¶è®¾è®¡,ä»å·²æ‚£ç—…çš„ç—…ä¾‹å’Œæœªæ‚£ç—…çš„å¯¹ç…§ä¸­,å›é¡¾æ€§è°ƒæŸ¥æš´éœ²å› ç´ ,é€šè¿‡æ¯”è¾ƒä¸¤ç»„æš´éœ²æ¯”ä¾‹æ¥è¯„ä¼°æš´éœ²ä¸ç–¾ç—…çš„å…³è”ã€‚

**é€‚ç”¨åœºæ™¯**

- **ç½•è§ç–¾ç—…ç ”ç©¶**:æ‚£ç—…ç‡æä½,é˜Ÿåˆ—ç ”ç©¶æ ·æœ¬é‡éœ€æ±‚è¿‡å¤§
- **ç—…å› æ¢ç´¢**:å¤šç§æš´éœ²å› ç´ çš„åˆæ­¥ç­›æŸ¥
- **ç–¾ç—…æš´å‘è°ƒæŸ¥**:å¿«é€Ÿè¯†åˆ«å±é™©å› ç´ 
- **é•¿æ½œä¼æœŸç–¾ç—…**:ç™Œç—‡ç­‰éœ€é•¿æœŸéšè®¿çš„ç–¾ç—…
- **èµ„æºæœ‰é™**:ç›¸æ¯”é˜Ÿåˆ—ç ”ç©¶æˆæœ¬ä½ã€å‘¨æœŸçŸ­

**ä¸é€‚ç”¨åœºæ™¯**

- **å‘ç—…ç‡ä¼°è®¡**:æ— æ³•è®¡ç®—å‘ç—…ç‡,åªèƒ½ä¼°è®¡OR
- **ç½•è§æš´éœ²**:æš´éœ²å¤ªå°‘,éš¾ä»¥æœ‰è¶³å¤Ÿç—…ä¾‹
- **æ—¶åºä¸æ˜**:å›é¡¾æ€§è°ƒæŸ¥éš¾ä»¥ç¡®å®šæ—¶é—´å…ˆå

**ä¸å…¶ä»–ç ”ç©¶è®¾è®¡çš„å¯¹æ¯”**

| ç ”ç©¶è®¾è®¡ | é€‰æ‹©å¯¹è±¡ | æ¯”è¾ƒå†…å®¹ | ä¸»è¦æŒ‡æ ‡ | æˆæœ¬ | ç½•è§ç—… |
|---------|---------|---------|---------|------|-------|
| **ç—…ä¾‹å¯¹ç…§** | ä»ç»“å±€é€‰æ‹© | æš´éœ²æ¯”ä¾‹ | OR | ä½ | âœ“ |
| **é˜Ÿåˆ—ç ”ç©¶** | ä»æš´éœ²é€‰æ‹© | å‘ç—…ç‡ | RR/HR | é«˜ | âœ— |
| **æ¨ªæˆªé¢** | éšæœºæŠ½æ · | æ‚£ç—…ç‡ | PR | ä½ | âœ— |

## æ ¸å¿ƒæ¦‚å¿µä¸æ¨¡å‹å…¥é—¨

### é€šä¿—ç†è§£:ç”¨æ—¥å¸¸ä¾‹å­è§£é‡Šç—…ä¾‹å¯¹ç…§ç ”ç©¶

> ğŸ’¡ **æƒ³è±¡ä½ è¦è°ƒæŸ¥æŸç§ç½•è§ç–¾ç—…çš„ç—…å› **
> 
> ç—…ä¾‹å¯¹ç…§ç ”ç©¶å°±åƒ"å€’æ¨ä¾¦æ¢":
> - æ‰¾åˆ°20ä¸ªå¾—äº†è¿™ç§ç½•è§ç—…çš„äºº(ç—…ä¾‹ç»„)
> - å†æ‰¾20ä¸ªæ²¡å¾—ç—…çš„äºº(å¯¹ç…§ç»„)
> - è°ƒæŸ¥ä¸¤ç»„äººè¿‡å»10å¹´æ˜¯å¦æ¥è§¦è¿‡æŸç§åŒ–å­¦ç‰©è´¨
> - å‘ç°:ç—…ä¾‹ç»„80%æ¥è§¦è¿‡,å¯¹ç…§ç»„åªæœ‰20%æ¥è§¦è¿‡
> - æ¨æ–­:æ¥è§¦è¯¥åŒ–å­¦ç‰©è´¨å¯èƒ½æ˜¯è‡´ç—…å› ç´ 
> - è¿™å°±æ˜¯"ä»ç»“å±€å›æº¯æš´éœ²"çš„é€»è¾‘
>
> **å›åˆ°ç»Ÿè®¡å­¦**:ç—…ä¾‹å¯¹ç…§ç ”ç©¶ä»"æœ"åˆ°"å› ",å…ˆç¡®å®šç–¾ç—…çŠ¶æ€,å†å›é¡¾æš´éœ²å†å²,é€‚åˆç½•è§ç—…å’Œç—…å› æ¢ç´¢ã€‚

### æ ¸å¿ƒæœ¯è¯­å®šä¹‰

**ç—…ä¾‹(Cases)**

ç¬¦åˆç‰¹å®šç–¾ç—…è¯Šæ–­æ ‡å‡†çš„æ‚£è€…:

- **æ–°å‘ç—…ä¾‹**(Incident Cases):è¿‘æœŸæ–°è¯Šæ–­,ä¼˜äºç°æ‚£ç—…ä¾‹
- **ç°æ‚£ç—…ä¾‹**(Prevalent Cases):ç°å­˜ç—…ä¾‹,å¯èƒ½æœ‰ç”Ÿå­˜åå€š

**å¯¹ç…§(Controls)**

æœªæ‚£è¯¥ç—…ä½†åœ¨å…¶ä»–æ–¹é¢ä¸ç—…ä¾‹ç›¸ä¼¼çš„ä¸ªä½“:

- **äººç¾¤å¯¹ç…§**:ä»æºäººç¾¤éšæœºæŠ½å–
- **åŒ»é™¢å¯¹ç…§**:ä»åŒä¸€åŒ»é™¢å…¶ä»–ç–¾ç—…æ‚£è€…ä¸­é€‰æ‹©
- **é‚»å±…/æœ‹å‹å¯¹ç…§**:ä¸ç—…ä¾‹ç”Ÿæ´»ç¯å¢ƒç›¸ä¼¼

**åŒ¹é…(Matching)**

è®©ç—…ä¾‹å’Œå¯¹ç…§åœ¨æŸäº›ç‰¹å¾ä¸Šä¿æŒä¸€è‡´,ä»¥æ§åˆ¶æ··æ‚:

| åŒ¹é…ç±»å‹ | æ¯”ä¾‹ | é€‚ç”¨åœºæ™¯ |
|---------|------|---------|
| **1:1åŒ¹é…** | æ¯ä¸ªç—…ä¾‹åŒ¹é…1ä¸ªå¯¹ç…§ | ç—…ä¾‹æ•°è¾ƒå¤š |
| **1:NåŒ¹é…** | æ¯ä¸ªç—…ä¾‹åŒ¹é…å¤šä¸ªå¯¹ç…§ | ç—…ä¾‹ç¨€å°‘ |
| **é¢‘æ•°åŒ¹é…** | ç»„é—´åˆ†å¸ƒç›¸ä¼¼,ä¸ä¸€ä¸€å¯¹åº” | å¤§æ ·æœ¬ |

**å¸¸è§åŒ¹é…å˜é‡**:å¹´é¾„ã€æ€§åˆ«ã€åœ°åŒºã€è¯Šæ–­æ—¶é—´

**æ¯”å€¼æ¯”(Odds Ratio, OR)**

ç—…ä¾‹å¯¹ç…§ç ”ç©¶çš„ä¸»è¦æ•ˆåº”é‡:

$$OR = \frac{a/c}{b/d} = \frac{ad}{bc}$$

å…¶ä¸­:
```
           Disease+  Disease-
Exposed+      a         b
Exposed-      c         d
```

**ORçš„è§£é‡Š**:
- OR = 1:æš´éœ²ä¸ç–¾ç—…æ— å…³
- OR > 1:æš´éœ²å¯èƒ½æ˜¯å±é™©å› ç´ 
- OR < 1:æš´éœ²å¯èƒ½æ˜¯ä¿æŠ¤å› ç´ 

**ç½•è§ç—…å‡è®¾**:å½“ç–¾ç—…ç½•è§(<10%)æ—¶,OR â‰ˆ RR

### ç—…ä¾‹å¯¹ç…§ç ”ç©¶çš„æ ¸å¿ƒç‰¹å¾

**1. å›é¡¾æ€§è°ƒæŸ¥**

```
æ—¶é—´è½´: 
è¿‡å»                  ç°åœ¨
â”€â”€â”€â”€æš´éœ²å†å²â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€é€‰æ‹©ç—…ä¾‹å’Œå¯¹ç…§â”€â”€â”€â”€â”€â–¶
                â†‘
            ä»æ­¤æ—¶ç‚¹å›æº¯
```

**2. é€‰æ‹©ç—…ä¾‹å’Œå¯¹ç…§çš„åŸåˆ™**

**ç—…ä¾‹é€‰æ‹©**:
- æ˜ç¡®è¯Šæ–­æ ‡å‡†(é‡‘æ ‡å‡†æˆ–ä¸´åºŠè¯Šæ–­)
- æ–°å‘ç—…ä¾‹ä¼˜äºç°æ‚£ç—…ä¾‹
- æ¥æºäºæ˜ç¡®çš„æºäººç¾¤

**å¯¹ç…§é€‰æ‹©**:
- æ¥è‡ªä¸ç—…ä¾‹ç›¸åŒçš„æºäººç¾¤
- å¦‚æœå¯¹ç…§æ‚£ç—…,ä¼šè¢«è¯Šæ–­ä¸ºç—…ä¾‹
- åœ¨æš´éœ²ä¸Šå…·æœ‰ä»£è¡¨æ€§

**3. å›å¿†åå€š**

ç—…ä¾‹å¯èƒ½æ¯”å¯¹ç…§æ›´è®¤çœŸå›å¿†æš´éœ²å†å²:

- **å·®å¼‚æ€§é”™åˆ†**:ç—…ä¾‹è¿‡åº¦æŠ¥å‘Šæš´éœ²
- **åº”å¯¹ç­–ç•¥**:ä½¿ç”¨å®¢è§‚è®°å½•(ç—…å†ã€æ£€æµ‹ç»“æœ)

## æ¨¡å‹å‡è®¾ä¸å‰ææ¡ä»¶

### å‡è®¾1:å¯¹ç…§ä»£è¡¨æºäººç¾¤

**å«ä¹‰**:å¯¹ç…§çš„æš´éœ²åˆ†å¸ƒèƒ½ä»£è¡¨äº§ç”Ÿç—…ä¾‹çš„æºäººç¾¤

**è¿èƒŒåæœ**:é€‰æ‹©åå€š

**åº”å¯¹ç­–ç•¥**:
- äººç¾¤å¯¹ç…§(éšæœºæŠ½æ ·)
- å¤šæ¥æºå¯¹ç…§(åŒ»é™¢+ç¤¾åŒº)

### å‡è®¾2:æš´éœ²æµ‹é‡æ— å

**å«ä¹‰**:ç—…ä¾‹å’Œå¯¹ç…§çš„æš´éœ²æµ‹é‡å‡†ç¡®æ€§ç›¸åŒ

**è¿èƒŒåæœ**:ä¿¡æ¯åå€š(å›å¿†åå€š)

**åº”å¯¹ç­–ç•¥**:
- ç›²æ³•è°ƒæŸ¥
- å®¢è§‚æµ‹é‡
- éªŒè¯è‡ªæˆ‘æŠ¥å‘Š

### å‡è®¾3:æ— ä¸¥é‡æ··æ‚

**å«ä¹‰**:å·²è°ƒæ•´ä¸»è¦æ··æ‚å› ç´ 

**åº”å¯¹ç­–ç•¥**:
- åŒ¹é…
- åˆ†å±‚åˆ†æ
- å¤šå˜é‡Logisticå›å½’

## æ•°æ®å‡†å¤‡

### æ•°æ®ç»“æ„

**éåŒ¹é…è®¾è®¡**:
```
ID | Case | Exposure | Age | Gender | ...
1  |  1   |    1     | 45  |   0    | ...
2  |  0   |    0     | 48  |   0    | ...
```

**åŒ¹é…è®¾è®¡**:
```
MatchID | Case | Exposure | Age | Gender | ...
   1    |  1   |    1     | 45  |   0    | ...
   1    |  0   |    0     | 45  |   0    | ...
```

### æ¨¡æ‹Ÿç—…ä¾‹å¯¹ç…§æ•°æ®

```{r simulate-case-control}
set.seed(2026)
library(tidyverse)

n_cases <- 100
n_controls <- 100

# ç—…ä¾‹ç»„
cases <- data.frame(
  id = 1:n_cases,
  case = 1,
  age = rnorm(n_cases, 55, 10),
  gender = rbinom(n_cases, 1, 0.6)
)

# æš´éœ²æ¦‚ç‡(ç—…ä¾‹ç»„æ›´é«˜)
cases$exposure <- rbinom(n_cases, 1, 0.7)

# å¯¹ç…§ç»„
controls <- data.frame(
  id = (n_cases + 1):(n_cases + n_controls),
  case = 0,
  age = rnorm(n_controls, 52, 10),
  gender = rbinom(n_controls, 1, 0.5)
)

# æš´éœ²æ¦‚ç‡(å¯¹ç…§ç»„æ›´ä½)
controls$exposure <- rbinom(n_controls, 1, 0.3)

# åˆå¹¶
case_control_data <- bind_rows(cases, controls) |>
  mutate(
    case_f = factor(case, levels = 0:1, labels = c("å¯¹ç…§", "ç—…ä¾‹")),
    exposure_f = factor(exposure, levels = 0:1, labels = c("æœªæš´éœ²", "æš´éœ²")),
    gender_f = factor(gender, levels = 0:1, labels = c("å¥³", "ç”·"))
  )

head(case_control_data)
```

### 1:1åŒ¹é…æ•°æ®æ¨¡æ‹Ÿ

```{r simulate-matched}
library(MatchIt)

# ä½¿ç”¨å¹´é¾„å’Œæ€§åˆ«åŒ¹é…
matched <- matchit(
  case ~ age + gender,
  data = case_control_data,
  method = "nearest",
  ratio = 1
)

# æå–åŒ¹é…åçš„æ•°æ®
matched_data <- match.data(matched)

# æ·»åŠ åŒ¹é…ID
matched_data$match_id <- matched_data$subclass

head(matched_data)
```

## å®Œæ•´åˆ†ææµç¨‹

### æ­¥éª¤1:æè¿°æ€§ç»Ÿè®¡

```{r descriptive}
library(gtsummary)

case_control_data |>
  select(age, gender_f, exposure_f, case_f) |>
  tbl_summary(
    by = case_f,
    statistic = list(
      all_continuous() ~ "{mean} ({sd})",
      all_categorical() ~ "{n} ({p}%)"
    ),
    label = list(
      age ~ "å¹´é¾„",
      gender_f ~ "æ€§åˆ«",
      exposure_f ~ "æš´éœ²çŠ¶æ€"
    )
  ) |>
  add_p() |>
  add_overall()
```

### æ­¥éª¤2:2x2åˆ—è”è¡¨å’Œç²—OR

```{r crude-or}
# åˆ—è”è¡¨
table_2x2 <- table(
  case_control_data$exposure_f,
  case_control_data$case_f
)

print(table_2x2)

# è®¡ç®—OR
library(epitools)
or_result <- oddsratio(table_2x2, method = "wald")
print(or_result)
```

### æ­¥éª¤3:éåŒ¹é…Logisticå›å½’

```{r unmatched-logistic}
# å•å› ç´ Logisticå›å½’
model_uni <- glm(
  case ~ exposure,
  data = case_control_data,
  family = binomial
)

# å¤šå› ç´ è°ƒæ•´
model_multi <- glm(
  case ~ exposure + age + gender,
  data = case_control_data,
  family = binomial
)

# ç»“æœè¡¨æ ¼
tbl_regression(
  model_multi,
  exponentiate = TRUE,
  label = list(
    exposure ~ "æš´éœ²",
    age ~ "å¹´é¾„",
    gender ~ "æ€§åˆ«(ç”·vså¥³)"
  )
)
```

### æ­¥éª¤4:åŒ¹é…ç—…ä¾‹å¯¹ç…§çš„æ¡ä»¶Logisticå›å½’

```{r conditional-logistic}
library(survival)

# æ¡ä»¶Logisticå›å½’
clogit_model <- clogit(
  case ~ exposure + strata(match_id),
  data = matched_data
)

summary(clogit_model)

# æå–OR
exp(coef(clogit_model))
exp(confint(clogit_model))
```

**ä¸ºä»€ä¹ˆç”¨æ¡ä»¶Logistic**:
- åŒ¹é…å˜é‡(å¦‚å¹´é¾„ã€æ€§åˆ«)åœ¨é…å¯¹å†…æ— å˜å¼‚
- æ™®é€šLogisticæ— æ³•ä¼°è®¡åŒ¹é…å˜é‡çš„æ•ˆåº”
- æ¡ä»¶Logisticé€šè¿‡åˆ†å±‚æ§åˆ¶åŒ¹é…å› ç´ 

### æ­¥éª¤5:äºšç»„åˆ†æ

```{r subgroup}
# æŒ‰æ€§åˆ«åˆ†å±‚
subgroup_male <- case_control_data |>
  filter(gender == 1) |>
  glm(case ~ exposure + age, data = _, family = binomial)

subgroup_female <- case_control_data |>
  filter(gender == 0) |>
  glm(case ~ exposure + age, data = _, family = binomial)

# æå–OR
or_male <- exp(coef(subgroup_male)["exposure"])
or_female <- exp(coef(subgroup_female)["exposure"])

data.frame(
  Subgroup = c("ç”·æ€§", "å¥³æ€§"),
  OR = c(or_male, or_female)
)
```

## ç»“æœè§£è¯»ä¸æŠ¥å‘Š

### ORçš„æ­£ç¡®è§£é‡Š

**æ­£ç¡®**:"æš´éœ²è€…çš„ç–¾ç—…oddsæ˜¯æœªæš´éœ²è€…çš„Xå€"

**é”™è¯¯**:"æš´éœ²è€…çš„ç–¾ç—…é£é™©æ˜¯æœªæš´éœ²è€…çš„Xå€"(è¿™æ˜¯RRçš„è§£é‡Š)

**ç½•è§ç—…æ—¶**:OR â‰ˆ RR,å¯è¿‘ä¼¼è§£é‡Šä¸ºé£é™©æ¯”

### è®ºæ–‡æŠ¥å‘Šç¤ºä¾‹

> æœ¬ç—…ä¾‹å¯¹ç…§ç ”ç©¶çº³å…¥100ä¾‹æ–°è¯Šæ–­çš„Xç—…æ‚£è€…å’Œ100ä¾‹å¯¹ç…§ã€‚ç—…ä¾‹ç»„æš´éœ²ç‡ä¸º70%,å¯¹ç…§ç»„ä¸º30%ã€‚å•å› ç´ åˆ†ææ˜¾ç¤º,æš´éœ²ä¸ç–¾ç—…æ˜¾è‘—ç›¸å…³(OR=5.44, 95%CI: 3.10-9.55)ã€‚
>
> è°ƒæ•´å¹´é¾„å’Œæ€§åˆ«å,å…³è”ä»æ˜¾è‘—(è°ƒæ•´åOR=4.82, 95%CI: 2.68-8.67),æç¤ºæš´éœ²è€…çš„ç–¾ç—…oddsæ˜¯æœªæš´éœ²è€…çš„4.82å€ã€‚

## å¸¸è§é”™è¯¯ä¸çº å

### é”™è¯¯1:å°†ORè§£é‡Šä¸ºRR

**é”™è¯¯**:"æš´éœ²ä½¿é£é™©å¢åŠ 5å€"

**æ­£ç¡®**:"æš´éœ²çš„ORä¸º5"æˆ–"æš´éœ²ä½¿ç–¾ç—…oddså¢åŠ 5å€"

### é”™è¯¯2:åŒ¹é…å˜é‡è¿›å…¥éæ¡ä»¶æ¨¡å‹

**é”™è¯¯åšæ³•**:
```{r eval=FALSE}
# åŒ¹é…äº†å¹´é¾„,åˆåœ¨æ™®é€šLogisticä¸­è°ƒæ•´å¹´é¾„
glm(case ~ exposure + age, data = matched_data, family = binomial)
```

**æ­£ç¡®åšæ³•**:ä½¿ç”¨æ¡ä»¶Logistic

### é”™è¯¯3:ä½¿ç”¨ç°æ‚£ç—…ä¾‹

**é—®é¢˜**:ç”Ÿå­˜åå€š,è½»ç—‡æ‚£è€…å·²åº·å¤

**æ­£ç¡®**:ä½¿ç”¨æ–°å‘ç—…ä¾‹

## è¿›é˜¶æ‰©å±•

### å¤šå¯¹ç…§é€‰æ‹©

å½“å¯¹ç…§æ¥æºä¸å”¯ä¸€æ—¶:

```{r multiple-controls, eval=FALSE}
# åŒ»é™¢å¯¹ç…§å’Œç¤¾åŒºå¯¹ç…§
model_hospital <- glm(case ~ exposure, data = hospital_controls, family = binomial)
model_community <- glm(case ~ exposure, data = community_controls, family = binomial)

# æ¯”è¾ƒORä¸€è‡´æ€§
```

### å·¢å¼ç—…ä¾‹å¯¹ç…§

åœ¨é˜Ÿåˆ—ç ”ç©¶ä¸­åµŒå¥—:

```{r nested-cc, eval=FALSE}
# ä»é˜Ÿåˆ—ä¸­æŠ½å–ç—…ä¾‹å’Œå¯¹ç…§
library(survival)
nested_model <- clogit(
  case ~ exposure + strata(match_id),
  data = nested_cc_data
)
```

## æ€»ç»“

**ç—…ä¾‹å¯¹ç…§ç ”ç©¶çš„ä¼˜åŠ¿**:
1. é€‚åˆç½•è§ç—…
2. æˆæœ¬ä½ã€å‘¨æœŸçŸ­
3. å¯åŒæ—¶ç ”ç©¶å¤šç§æš´éœ²

**å±€é™æ€§**:
1. æ— æ³•è®¡ç®—å‘ç—…ç‡
2. å›å¿†åå€š
3. é€‰æ‹©åå€š

**è®¾è®¡è¦ç‚¹**:
1. æ˜ç¡®ç—…ä¾‹å®šä¹‰
2. å¯¹ç…§æ¥è‡ªæºäººç¾¤
3. åŒ¹é…æ§åˆ¶æ··æ‚

**åˆ†æè¦ç‚¹**:
1. éåŒ¹é…:æ™®é€šLogisticå›å½’
2. åŒ¹é…:æ¡ä»¶Logisticå›å½’
3. ORè€ŒéRR

## å‚è€ƒæ–‡çŒ®

1. Rothman KJ, et al. *Modern Epidemiology*. 3rd ed. 2008.
2. Breslow NE, Day NE. *Statistical Methods in Cancer Research, Vol I: The Analysis of Case-Control Studies*. IARC; 1980.
3. Schlesselman JJ. *Case-Control Studies: Design, Conduct, Analysis*. Oxford; 1982.
