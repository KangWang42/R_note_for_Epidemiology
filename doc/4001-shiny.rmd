---
title: Shiny Web åº”ç”¨å¼€å‘å®Œå…¨æŒ‡å—
date: '2026-01-14'
categories:
- å®ç”¨æ“ä½œ
- å¼€å‘ç¯å¢ƒ
- Webåº”ç”¨
- Shiny
image: images/shiny_cover.svg
description: ä½¿ç”¨ R Shiny åŒ…æ„å»ºäº¤äº’å¼ Web åº”ç”¨ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°éƒ¨ç½²çš„å®Œæ•´æ•™ç¨‹ã€‚
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
    echo = TRUE,
    warning = FALSE,
    message = FALSE,
    fig.width = 8,
    fig.height = 5,
    fig.retina = 2,
    out.width = "100%",
    dpi = 150
)
```

## ä»€ä¹ˆæ˜¯ Shiny

**Shiny** æ˜¯ RStudioï¼ˆç° Positï¼‰å¼€å‘çš„ R åŒ…ï¼Œç”¨äºæ„å»º**äº¤äº’å¼ Web åº”ç”¨ç¨‹åº**ã€‚æ— éœ€ HTMLã€CSS æˆ– JavaScript çŸ¥è¯†ï¼Œåªç”¨ R ä»£ç å°±èƒ½åˆ›å»ºä¸“ä¸šçš„æ•°æ®åˆ†æåº”ç”¨ã€‚

### ä¸ºä»€ä¹ˆä½¿ç”¨ Shiny

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| **çº¯ R å¼€å‘** | æ— éœ€å­¦ä¹ å‰ç«¯æŠ€æœ¯ |
| **å“åº”å¼ç¼–ç¨‹** | è¾“å…¥å˜åŒ–æ—¶è¾“å‡ºè‡ªåŠ¨æ›´æ–° |
| **ä¸°å¯Œç»„ä»¶** | å†…ç½®å¤§é‡è¾“å…¥/è¾“å‡ºæ§ä»¶ |
| **å¯æ‰©å±•** | å¯é›†æˆ HTML/CSS/JavaScript |
| **æ˜“äºéƒ¨ç½²** | æ”¯æŒå¤šç§æ‰˜ç®¡å¹³å° |

### åº”ç”¨åœºæ™¯

- **æ•°æ®ä»ªè¡¨ç›˜**ï¼šå®æ—¶ç›‘æ§ã€KPI å±•ç¤º
- **äº¤äº’å¼æŠ¥å‘Š**ï¼šå…è®¸ç”¨æˆ·è‡ªå®šä¹‰å‚æ•°
- **æ•°æ®æ¢ç´¢å·¥å…·**ï¼šåŠ¨æ€ç­›é€‰å’Œå¯è§†åŒ–
- **æœºå™¨å­¦ä¹ æ¼”ç¤º**ï¼šæ¨¡å‹é¢„æµ‹ç•Œé¢
- **æ•™å­¦å·¥å…·**ï¼šç»Ÿè®¡æ¦‚å¿µå¯è§†åŒ–

---

## å®‰è£…ä¸åŠ è½½

```{r}
# å®‰è£… Shiny
# install.packages("shiny")

# åŠ è½½åŒ…
library(shiny)
library(tidyverse)
library(DT) # äº¤äº’å¼è¡¨æ ¼
```

---

## Shiny åº”ç”¨ç»“æ„

æ¯ä¸ª Shiny åº”ç”¨ç”±**ä¸‰éƒ¨åˆ†**ç»„æˆï¼š

```{r eval=FALSE}
library(shiny)

# 1. ç”¨æˆ·ç•Œé¢ (UI)
ui <- fluidPage(
    titlePanel("æˆ‘çš„ç¬¬ä¸€ä¸ª Shiny åº”ç”¨"),
    sidebarLayout(
        sidebarPanel(
            # è¾“å…¥æ§ä»¶
            sliderInput("n", "æ ·æœ¬é‡:", min = 10, max = 1000, value = 100)
        ),
        mainPanel(
            # è¾“å‡ºå±•ç¤º
            plotOutput("histogram")
        )
    )
)

# 2. æœåŠ¡å™¨é€»è¾‘ (Server)
server <- function(input, output, session) {
    output$histogram <- renderPlot({
        data <- rnorm(input$n)
        hist(data, main = paste("n =", input$n), col = "#4f46e5")
    })
}

# 3. åˆ›å»ºåº”ç”¨
shinyApp(ui = ui, server = server)
```

### æ ¸å¿ƒæ¦‚å¿µ

```{r echo=FALSE}
concepts <- tibble(
    æ¦‚å¿µ = c("UI", "Server", "Input", "Output", "Reactive"),
    è¯´æ˜ = c(
        "å®šä¹‰åº”ç”¨å¤–è§‚å’Œå¸ƒå±€",
        "å®šä¹‰åº”ç”¨é€»è¾‘å’Œè®¡ç®—",
        "ç”¨æˆ·äº¤äº’æ§ä»¶ï¼ˆæ»‘å—ã€æŒ‰é’®ç­‰ï¼‰",
        "å±•ç¤ºç»“æœï¼ˆå›¾è¡¨ã€è¡¨æ ¼ç­‰ï¼‰",
        "å“åº”å¼ç¼–ç¨‹ï¼Œè¾“å…¥å˜åŒ–è§¦å‘æ›´æ–°"
    )
)
knitr::kable(concepts)
```

---

## è¾“å…¥æ§ä»¶

Shiny æä¾›å¤šç§è¾“å…¥æ§ä»¶ï¼š

### æ•°å€¼è¾“å…¥

```{r eval=FALSE}
# æ»‘å—
sliderInput("slider", "é€‰æ‹©èŒƒå›´:", min = 0, max = 100, value = 50)

# æ•°å€¼æ¡†
numericInput("num", "è¾“å…¥æ•°å­—:", value = 10, min = 1, max = 100)

# èŒƒå›´æ»‘å—
sliderInput("range", "èŒƒå›´:", min = 0, max = 100, value = c(25, 75))
```

### æ–‡æœ¬è¾“å…¥

```{r eval=FALSE}
# å•è¡Œæ–‡æœ¬
textInput("text", "è¾“å…¥æ–‡æœ¬:", value = "é»˜è®¤å€¼")

# å¤šè¡Œæ–‡æœ¬
textAreaInput("textarea", "è¾“å…¥æè¿°:", rows = 3)

# å¯†ç è¾“å…¥
passwordInput("password", "å¯†ç :")
```

### é€‰æ‹©è¾“å…¥

```{r eval=FALSE}
# ä¸‹æ‹‰é€‰æ‹©
selectInput("select", "é€‰æ‹©ä¸€é¡¹:",
    choices = c("é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C")
)

# å¤šé€‰
selectInput("multi", "å¤šé€‰:",
    choices = c("A", "B", "C"), multiple = TRUE
)

# å•é€‰æŒ‰é’®
radioButtons("radio", "å•é€‰:",
    choices = c("ç”·" = "M", "å¥³" = "F")
)

# å¤é€‰æ¡†ç»„
checkboxGroupInput("checkbox", "å¤šé€‰:",
    choices = c("é€‰é¡¹1", "é€‰é¡¹2", "é€‰é¡¹3")
)

# å•ä¸ªå¤é€‰æ¡†
checkboxInput("agree", "æˆ‘åŒæ„æ¡æ¬¾", value = FALSE)
```

### æ—¥æœŸä¸æ–‡ä»¶

```{r eval=FALSE}
# æ—¥æœŸé€‰æ‹©
dateInput("date", "é€‰æ‹©æ—¥æœŸ:", value = Sys.Date())

# æ—¥æœŸèŒƒå›´
dateRangeInput("daterange", "æ—¥æœŸèŒƒå›´:")

# æ–‡ä»¶ä¸Šä¼ 
fileInput("file", "ä¸Šä¼ æ–‡ä»¶:", accept = c(".csv", ".xlsx"))
```

### åŠ¨ä½œæŒ‰é’®

```{r eval=FALSE}
# æŒ‰é’®
actionButton("go", "å¼€å§‹åˆ†æ", class = "btn-primary")

# é“¾æ¥æŒ‰é’®
actionLink("link", "ç‚¹å‡»è¿™é‡Œ")
```

---

## è¾“å‡ºæ§ä»¶

å±•ç¤ºè®¡ç®—ç»“æœçš„æ§ä»¶ï¼š

### å›¾è¡¨è¾“å‡º

```{r eval=FALSE}
# UI ç«¯
plotOutput("myplot", height = "400px")

# Server ç«¯
output$myplot <- renderPlot({
    ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) +
        geom_point() +
        theme_minimal()
})
```

### è¡¨æ ¼è¾“å‡º

```{r eval=FALSE}
# é™æ€è¡¨æ ¼
tableOutput("table")
output$table <- renderTable({
    head(iris)
})

# äº¤äº’å¼è¡¨æ ¼ (DT)
DTOutput("dt_table")
output$dt_table <- renderDT({
    datatable(iris, options = list(pageLength = 5))
})
```

### æ–‡æœ¬è¾“å‡º

```{r eval=FALSE}
# æ™®é€šæ–‡æœ¬
textOutput("text")
output$text <- renderText({
    paste("ç»“æœ:", input$n)
})

# æ ¼å¼åŒ–è¾“å‡º
verbatimTextOutput("code")
output$code <- renderPrint({
    summary(iris)
})
```

### HTML è¾“å‡º

```{r eval=FALSE}
# HTML å†…å®¹
htmlOutput("html")
uiOutput("dynamic_ui")

output$html <- renderUI({
    tags$div(
        tags$h3("åŠ¨æ€æ ‡é¢˜"),
        tags$p("è¿™æ˜¯åŠ¨æ€ç”Ÿæˆçš„å†…å®¹")
    )
})
```

---

## å“åº”å¼ç¼–ç¨‹

Shiny çš„æ ¸å¿ƒæ˜¯**å“åº”å¼ç¼–ç¨‹**ï¼šå½“è¾“å…¥å˜åŒ–æ—¶ï¼Œç›¸å…³è¾“å‡ºè‡ªåŠ¨æ›´æ–°ã€‚

### reactive() è¡¨è¾¾å¼

ç”¨äºåˆ›å»ºå¯å…±äº«çš„å“åº”å¼æ•°æ®ï¼š

```{r eval=FALSE}
server <- function(input, output, session) {
    # åˆ›å»ºå“åº”å¼æ•°æ®
    filtered_data <- reactive({
        iris %>%
            filter(Species == input$species)
    })

    # å¤šä¸ªè¾“å‡ºå…±äº«åŒä¸€ä¸ªå“åº”å¼æ•°æ®
    output$plot <- renderPlot({
        ggplot(filtered_data(), aes(Sepal.Length, Sepal.Width)) +
            geom_point()
    })

    output$table <- renderTable({
        head(filtered_data())
    })
}
```

### observe() ä¸ observeEvent()

ç”¨äºæ‰§è¡Œå‰¯ä½œç”¨ï¼ˆä¸è¿”å›å€¼ï¼‰ï¼š

```{r eval=FALSE}
server <- function(input, output, session) {
    # ç›‘è§†æŸä¸ªè¾“å…¥çš„å˜åŒ–
    observe({
        print(paste("å½“å‰å€¼:", input$slider))
    })

    # ä»…åœ¨æŒ‰é’®ç‚¹å‡»æ—¶æ‰§è¡Œ
    observeEvent(input$go_button, {
        showNotification("åˆ†æå¼€å§‹ï¼", type = "message")
    })
}
```

### reactiveValues()

åˆ›å»ºå¯ä¿®æ”¹çš„å“åº”å¼å€¼ï¼š

```{r eval=FALSE}
server <- function(input, output, session) {
    # åˆ›å»ºå“åº”å¼å€¼å¯¹è±¡
    rv <- reactiveValues(count = 0, data = NULL)

    # ç‚¹å‡»æŒ‰é’®æ—¶å¢åŠ è®¡æ•°
    observeEvent(input$add, {
        rv$count <- rv$count + 1
    })

    output$counter <- renderText({
        paste("ç‚¹å‡»æ¬¡æ•°:", rv$count)
    })
}
```

### isolate()

é˜»æ­¢å“åº”å¼ä¾èµ–ï¼š

```{r eval=FALSE}
output$result <- renderText({
    # ä»…åœ¨æŒ‰é’®ç‚¹å‡»æ—¶æ›´æ–°ï¼Œslider å˜åŒ–ä¸è§¦å‘
    input$go_button

    isolate({
        paste("å›ºå®šå€¼:", input$slider)
    })
})
```

---

## å¸ƒå±€è®¾è®¡

### åŸºç¡€å¸ƒå±€

```{r eval=FALSE}
# ä¾§è¾¹æ å¸ƒå±€
ui <- fluidPage(
    titlePanel("æ ‡é¢˜"),
    sidebarLayout(
        sidebarPanel(
            # è¾“å…¥æ§ä»¶
        ),
        mainPanel(
            # è¾“å‡ºå±•ç¤º
        )
    )
)
```

### å¤šè¡Œå¤šåˆ—å¸ƒå±€

```{r eval=FALSE}
ui <- fluidPage(
    fluidRow(
        column(
            4,
            wellPanel(
                sliderInput("n", "N:", min = 1, max = 100, value = 50)
            )
        ),
        column(
            8,
            plotOutput("plot")
        )
    ),
    fluidRow(
        column(
            12,
            tableOutput("table")
        )
    )
)
```

### æ ‡ç­¾é¡µå¸ƒå±€

```{r eval=FALSE}
ui <- fluidPage(
    tabsetPanel(
        tabPanel("å›¾è¡¨", plotOutput("plot")),
        tabPanel("æ•°æ®", tableOutput("table")),
        tabPanel("æ‘˜è¦", verbatimTextOutput("summary"))
    )
)
```

### å¯¼èˆªæ å¸ƒå±€

```{r eval=FALSE}
ui <- navbarPage(
    "æˆ‘çš„åº”ç”¨",
    tabPanel(
        "é¦–é¡µ",
        h2("æ¬¢è¿"),
        p("è¿™æ˜¯é¦–é¡µå†…å®¹")
    ),
    tabPanel(
        "åˆ†æ",
        plotOutput("plot")
    ),
    navbarMenu(
        "æ›´å¤š",
        tabPanel("è®¾ç½®"),
        tabPanel("å¸®åŠ©")
    )
)
```

### ä»ªè¡¨ç›˜å¸ƒå±€

ä½¿ç”¨ `shinydashboard` åŒ…åˆ›å»ºä¸“ä¸šä»ªè¡¨ç›˜ï¼š

```{r eval=FALSE}
library(shinydashboard)

ui <- dashboardPage(
    dashboardHeader(title = "æ•°æ®ä»ªè¡¨ç›˜"),
    dashboardSidebar(
        sidebarMenu(
            menuItem("æ¦‚è§ˆ", tabName = "overview", icon = icon("dashboard")),
            menuItem("åˆ†æ", tabName = "analysis", icon = icon("chart-line"))
        )
    ),
    dashboardBody(
        tabItems(
            tabItem(
                tabName = "overview",
                fluidRow(
                    valueBox(100, "æ€»è®°å½•", icon = icon("database")),
                    valueBox(50, "æ´»è·ƒç”¨æˆ·", icon = icon("users"))
                )
            ),
            tabItem(
                tabName = "analysis",
                plotOutput("plot")
            )
        )
    )
)
```

---

## å®Œæ•´ç¤ºä¾‹ï¼šæ•°æ®æ¢ç´¢åº”ç”¨

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ•°æ®æ¢ç´¢åº”ç”¨ç¤ºä¾‹ï¼š

```{r eval=FALSE}
library(shiny)
library(tidyverse)
library(DT)

# ä½¿ç”¨å†…ç½®æ•°æ®é›†
data(mtcars)
mtcars$car <- rownames(mtcars)

ui <- fluidPage(
    # åº”ç”¨æ ‡é¢˜
    titlePanel("ğŸš— æ±½è½¦æ•°æ®æ¢ç´¢å™¨"),

    # ä¾§è¾¹æ å¸ƒå±€
    sidebarLayout(
        sidebarPanel(
            width = 3,

            # å˜é‡é€‰æ‹©
            selectInput("x_var", "X è½´å˜é‡:",
                choices = names(mtcars)[sapply(mtcars, is.numeric)],
                selected = "wt"
            ),
            selectInput("y_var", "Y è½´å˜é‡:",
                choices = names(mtcars)[sapply(mtcars, is.numeric)],
                selected = "mpg"
            ),

            # é¢œè‰²åˆ†ç»„
            selectInput("color_var", "é¢œè‰²åˆ†ç»„:",
                choices = c("æ— " = "none", "cyl", "gear", "am")
            ),

            # æ°”ç¼¸æ•°ç­›é€‰
            checkboxGroupInput("cyl_filter", "æ°”ç¼¸æ•°:",
                choices = unique(mtcars$cyl),
                selected = unique(mtcars$cyl)
            ),
            hr(),

            # ä¸‹è½½æŒ‰é’®
            downloadButton("download_data", "ä¸‹è½½ç­›é€‰æ•°æ®"),
            downloadButton("download_plot", "ä¸‹è½½å›¾è¡¨")
        ),
        mainPanel(
            width = 9,
            tabsetPanel(
                tabPanel(
                    "ğŸ“Š æ•£ç‚¹å›¾",
                    plotOutput("scatter_plot", height = "500px")
                ),
                tabPanel(
                    "ğŸ“ˆ åˆ†å¸ƒå›¾",
                    fluidRow(
                        column(6, plotOutput("hist_x")),
                        column(6, plotOutput("hist_y"))
                    )
                ),
                tabPanel(
                    "ğŸ“‹ æ•°æ®è¡¨",
                    DTOutput("data_table")
                ),
                tabPanel(
                    "ğŸ“ ç»Ÿè®¡æ‘˜è¦",
                    verbatimTextOutput("summary_stats")
                )
            )
        )
    )
)

server <- function(input, output, session) {
    # å“åº”å¼ç­›é€‰æ•°æ®
    filtered_data <- reactive({
        mtcars %>%
            filter(cyl %in% input$cyl_filter)
    })

    # æ•£ç‚¹å›¾
    output$scatter_plot <- renderPlot({
        p <- ggplot(
            filtered_data(),
            aes_string(x = input$x_var, y = input$y_var)
        ) +
            geom_point(size = 3, alpha = 0.7) +
            geom_smooth(method = "lm", se = TRUE, color = "#4f46e5") +
            theme_minimal(base_size = 14) +
            labs(
                title = paste(input$y_var, "vs", input$x_var),
                x = input$x_var,
                y = input$y_var
            )

        # æ·»åŠ é¢œè‰²åˆ†ç»„
        if (input$color_var != "none") {
            p <- ggplot(
                filtered_data(),
                aes_string(
                    x = input$x_var, y = input$y_var,
                    color = paste0("factor(", input$color_var, ")")
                )
            ) +
                geom_point(size = 3, alpha = 0.7) +
                theme_minimal(base_size = 14) +
                labs(color = input$color_var)
        }

        p
    })

    # X å˜é‡ç›´æ–¹å›¾
    output$hist_x <- renderPlot({
        ggplot(filtered_data(), aes_string(x = input$x_var)) +
            geom_histogram(fill = "#4f46e5", color = "white", bins = 15) +
            theme_minimal(base_size = 12) +
            labs(title = paste(input$x_var, "åˆ†å¸ƒ"), x = input$x_var)
    })

    # Y å˜é‡ç›´æ–¹å›¾
    output$hist_y <- renderPlot({
        ggplot(filtered_data(), aes_string(x = input$y_var)) +
            geom_histogram(fill = "#7c3aed", color = "white", bins = 15) +
            theme_minimal(base_size = 12) +
            labs(title = paste(input$y_var, "åˆ†å¸ƒ"), x = input$y_var)
    })

    # æ•°æ®è¡¨
    output$data_table <- renderDT({
        datatable(
            filtered_data(),
            options = list(
                pageLength = 10,
                scrollX = TRUE
            ),
            filter = "top"
        )
    })

    # ç»Ÿè®¡æ‘˜è¦
    output$summary_stats <- renderPrint({
        cat("=== æ•°æ®æ‘˜è¦ ===\n\n")
        cat("æ ·æœ¬é‡:", nrow(filtered_data()), "\n\n")
        summary(filtered_data()[, c(input$x_var, input$y_var)])
    })

    # ä¸‹è½½æ•°æ®
    output$download_data <- downloadHandler(
        filename = function() {
            paste0("mtcars_filtered_", Sys.Date(), ".csv")
        },
        content = function(file) {
            write.csv(filtered_data(), file, row.names = FALSE)
        }
    )

    # ä¸‹è½½å›¾è¡¨
    output$download_plot <- downloadHandler(
        filename = function() {
            paste0("scatter_plot_", Sys.Date(), ".png")
        },
        content = function(file) {
            p <- ggplot(
                filtered_data(),
                aes_string(x = input$x_var, y = input$y_var)
            ) +
                geom_point(size = 3) +
                geom_smooth(method = "lm") +
                theme_minimal()
            ggsave(file, p, width = 10, height = 6)
        }
    )
}

# è¿è¡Œåº”ç”¨
shinyApp(ui = ui, server = server)
```

---

## ç¾åŒ–åº”ç”¨

### ä½¿ç”¨ bslib ä¸»é¢˜

```{r eval=FALSE}
library(bslib)

ui <- fluidPage(
    theme = bs_theme(
        bootswatch = "flatly", # ä¸»é¢˜åç§°
        primary = "#4f46e5", # ä¸»è‰²è°ƒ
        base_font = font_google("Noto Sans SC") # ä¸­æ–‡å­—ä½“
    ),
    # ... å…¶ä»–å†…å®¹
)
```

### è‡ªå®šä¹‰ CSS

```{r eval=FALSE}
ui <- fluidPage(
    tags$head(
        tags$style(HTML("
      .well { background-color: #f8fafc; }
      .btn-primary { background-color: #4f46e5; }
      h1 { color: #1e293b; }
    "))
    ),
    # ... å…¶ä»–å†…å®¹
)
```

### æ·»åŠ è¿›åº¦æ¡å’Œé€šçŸ¥

```{r eval=FALSE}
server <- function(input, output, session) {
    observeEvent(input$long_task, {
        # æ˜¾ç¤ºè¿›åº¦æ¡
        withProgress(message = "å¤„ç†ä¸­...", value = 0, {
            for (i in 1:10) {
                incProgress(1 / 10, detail = paste("æ­¥éª¤", i))
                Sys.sleep(0.5)
            }
        })

        # æ˜¾ç¤ºæˆåŠŸé€šçŸ¥
        showNotification("å¤„ç†å®Œæˆï¼", type = "message", duration = 3)
    })
}
```

---

## åº”ç”¨éƒ¨ç½²

### æœ¬åœ°è¿è¡Œ

```{r eval=FALSE}
# ä»æ–‡ä»¶è¿è¡Œ
runApp("my_app/")

# æŒ‡å®šç«¯å£
runApp("my_app/", port = 8080)
```

### éƒ¨ç½²åˆ° shinyapps.io

```{r eval=FALSE}
# å®‰è£…éƒ¨ç½²å·¥å…·
install.packages("rsconnect")

# é…ç½®è´¦æˆ·
rsconnect::setAccountInfo(
    name = "your_account",
    token = "your_token",
    secret = "your_secret"
)

# éƒ¨ç½²åº”ç”¨
rsconnect::deployApp("my_app/")
```

### éƒ¨ç½²åˆ° Shiny Server

1. å®‰è£… Shiny Serverï¼ˆå¼€æºç‰ˆæˆ–ä¸“ä¸šç‰ˆï¼‰
2. å°†åº”ç”¨æ”¾åˆ° `/srv/shiny-server/` ç›®å½•
3. è®¿é—® `http://your_server:3838/app_name`

---

## è¿›é˜¶æŠ€å·§

### æ¨¡å—åŒ–å¼€å‘

å°†å¤§å‹åº”ç”¨æ‹†åˆ†ä¸ºæ¨¡å—ï¼š

```{r eval=FALSE}
# å®šä¹‰æ¨¡å— UI
histogramUI <- function(id) {
    ns <- NS(id)
    tagList(
        sliderInput(ns("bins"), "Bins:", min = 5, max = 50, value = 20),
        plotOutput(ns("plot"))
    )
}

# å®šä¹‰æ¨¡å— Server
histogramServer <- function(id, data) {
    moduleServer(id, function(input, output, session) {
        output$plot <- renderPlot({
            hist(data(), breaks = input$bins, col = "#4f46e5")
        })
    })
}

# åœ¨ä¸»åº”ç”¨ä¸­ä½¿ç”¨
ui <- fluidPage(
    histogramUI("hist1"),
    histogramUI("hist2")
)

server <- function(input, output, session) {
    histogramServer("hist1", reactive(rnorm(500)))
    histogramServer("hist2", reactive(runif(500)))
}
```

### ä½¿ç”¨ JavaScript

```{r eval=FALSE}
ui <- fluidPage(
    tags$head(
        tags$script(HTML("
      Shiny.addCustomMessageHandler('alert', function(message) {
        alert(message);
      });
    "))
    ),
    actionButton("show_alert", "æ˜¾ç¤ºæç¤º")
)

server <- function(input, output, session) {
    observeEvent(input$show_alert, {
        session$sendCustomMessage("alert", "Hello from R!")
    })
}
```

---

## å¸¸è§é—®é¢˜

### åº”ç”¨å“åº”ç¼“æ…¢

- ä½¿ç”¨ `reactive()` ç¼“å­˜è®¡ç®—ç»“æœ
- é¿å…åœ¨ `render*` å‡½æ•°ä¸­è¿›è¡Œé‡å¤è®¡ç®—
- ä½¿ç”¨ `bindCache()` ç¼“å­˜è¾“å‡º

### æ–‡ä»¶ä¸Šä¼ é™åˆ¶

```{r eval=FALSE}
# å¢åŠ ä¸Šä¼ å¤§å°é™åˆ¶ï¼ˆ100MBï¼‰
options(shiny.maxRequestSize = 100 * 1024^2)
```

### ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜

```{r eval=FALSE}
# è®¾ç½®ç¼–ç 
Sys.setlocale("LC_ALL", "Chinese")
```

---

## æ€»ç»“

| ç»„ä»¶ | ä¸»è¦å‡½æ•° | ç”¨é€” |
|------|----------|------|
| UI å¸ƒå±€ | `fluidPage()`, `sidebarLayout()` | å®šä¹‰åº”ç”¨ç»“æ„ |
| è¾“å…¥æ§ä»¶ | `*Input()` | æ”¶é›†ç”¨æˆ·è¾“å…¥ |
| è¾“å‡ºæ§ä»¶ | `*Output()` | å±•ç¤ºç»“æœ |
| å“åº”å¼ | `reactive()`, `observe()` | å¤„ç†æ•°æ®æµ |
| éƒ¨ç½² | `rsconnect::deployApp()` | å‘å¸ƒåº”ç”¨ |

### æ¨èèµ„æº

- [Shiny å®˜æ–¹æ•™ç¨‹](https://shiny.posit.co/r/getstarted/shiny-basics/lesson1/)
- [Mastering Shiny](https://mastering-shiny.org/) - Hadley Wickham è‘—
- [Shiny Gallery](https://shiny.posit.co/r/gallery/) - ç¤ºä¾‹åº”ç”¨é›†
- [shinydashboard](https://rstudio.github.io/shinydashboard/) - ä»ªè¡¨ç›˜æ‰©å±•
