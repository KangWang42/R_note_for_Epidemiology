---
name: section-special
description: 生成"特殊应用"类页面的超详细教程内容。触发条件:(1)用户要求编写卫生经济学、质性研究、信号处理、环境流行病学等跨领域专题;(2)涉及TreeAge决策分析、文本挖掘、小波变换、VMD、DLNM、WQS、BKMR等专业方法;(3)用户需要讲解领域特定的分析流程、专业术语、数据结构;(4)涉及成本效果分析、质性编码、时频分析、混合暴露评估。生成领域专业教程,强调"领域背景→专业术语→分析框架→实践流程→结果解读",确保领域准确性和方法完整性。
---

## 核心任务

生成特殊应用领域教程(.rmd/.qmd),涵盖领域背景、专业方法、完整流程、结果解释。

## 必备内容结构

### YAML头部与setup代码块

```yaml
---
title: '[领域/方法名称]完整教程'
subtitle: '[副标题:强调领域特色]'
date: 'YYYY-MM-DD'
categories:
- 特殊应用
- [具体领域:卫生经济学/质性研究/信号处理/环境流行病学]
image: images/[topic]-cover.svg
description: 一句话概括领域应用
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, warning=FALSE, message=FALSE, 
                      fig.width=8, fig.height=5, fig.retina=2, 
                      out.width="100%", dpi=150)
```
```

### 标题层次结构(CRITICAL)

**MUST使用正确的标题层次**:

```markdown
## 一级标题(章节)  # 用于主要章节,生成目录
### 二级标题(小节)  # 用于子主题
#### 三级标题(详细步骤)  # 用于具体操作步骤
```

**CRITICAL RULE**:
- 一级标题(`##`)是生成目录的**唯一**途径
- 文章必须包含至少3个一级标题才会显示目录
- 单个`#`标题由Quarto从YAML的title字段自动生成,**NEVER手动添加**
- 如果文章只有`###`标题而无`##`标题,将**不会显示目录**

**正确示例**:
```markdown
## 领域背景  # ✅ 一级标题,会出现在目录中
### 研究问题类型  # ✅ 二级标题,不会出现在目录中但有层次结构
```

**错误示例**:
```markdown
### 领域背景  # ❌ 只用三级标题,目录不会生成
#### 研究问题类型  # ❌ 层次混乱
```

### 领域背景与研究问题

**必须包含领域特色**:
```markdown
## 领域背景

[领域名称]是[学科交叉描述],主要研究[核心问题]。

**研究问题类型**
- [问题类型1:具体描述]
- [问题类型2]

**与传统方法的区别**

| 方面 | 传统方法 | 本领域方法 | 优势 |
|------|---------|-----------|------|
| 数据类型 | | | |
| 分析视角 | | | |
| 结果解释 | | | |

**典型应用场景**
- [场景1:实际研究案例]
- [场景2]
```

### 专业术语与概念

**从0讲解领域术语**:
```markdown
## 核心概念

### 基本术语(中英文对照)

| 中文 | 英文 | 定义 | 示例 |
|------|------|------|------|
| [术语1] | Term1 | [通俗解释] | [实例] |
| [术语2] | Term2 | [通俗解释] | [实例] |

### 方法框架

[领域方法]的核心框架包括:

1. **[组成部分1]**: [作用说明]
2. **[组成部分2]**: [作用说明]
3. **[组成部分3]**: [作用说明]

**工作流程图**:
```
数据收集 → [领域特定步骤1] → [步骤2] → 结果解释 → 决策应用
```

### 数据来源与结构

**领域特定的数据说明**:
```markdown
## 数据准备

### 数据来源

**常见数据源**:
- [数据库1]: [获取方式、特点]
- [数据库2]: [获取方式、特点]

**数据伦理**(如适用):
- 伦理审批要求
- 数据隐私保护
- 知情同意

### 数据结构

{r data-structure}
# 领域特定的数据格式
data <- data.frame(
  [变量1] = ...,  # [领域含义]
  [变量2] = ...,  # [领域含义]
  [变量3] = ...   # [领域含义]
)

**变量类型**:
- **[变量类别1]**: [定义、测量方式、编码规则]
- **[变量类别2]**: [定义、测量方式、编码规则]

### 数据预处理

{r preprocessing}
# 领域特定的清洗步骤
# [步骤1:说明为什么需要]
# [步骤2:说明为什么需要]
```

### 方法原理与流程

**详细的领域方法讲解**:
```markdown
## 方法原理

### 理论基础

[方法名称]基于[理论框架],用于[解决什么问题]。

**核心假设**:
1. [假设1]: [含义与重要性]
2. [假设2]: [含义与重要性]

**数学模型**(如适用):

$$[核心公式]$$

其中:
- $[符号1]$: [领域含义]
- $[符号2]$: [领域含义]

### 分析流程

{r workflow-diagram, echo=FALSE}
# 可选:用DiagrammeR绘制流程图
```

### 实践步骤(详尽流程)

**分领域示范**:

#### 6.1 卫生经济学示例
```markdown
## 成本效果分析流程

### 步骤1:定义干预方案

{r define-interventions}
# 定义比较方案
interventions <- list(
  baseline = list(cost = 0, qaly = 0),
  intervention_a = list(cost = 5000, qaly = 0.5),
  intervention_b = list(cost = 10000, qaly = 0.8)
)

### 步骤2:构建决策树

{r decision-tree, eval=FALSE}
# 使用TreeAge或R包构建
library(decisim)
# [决策树代码]

### 步骤3:计算ICER

{r calculate-icer}
# 增量成本效果比
icer <- (cost_new - cost_old) / (qaly_new - qaly_old)

**解释**: ICER表示[领域解释]

### 步骤4:敏感性分析

{r sensitivity}
# 单因素敏感性分析
# 概率敏感性分析(PSA)

### 步骤5:结果可视化

{r cea-plane}
# 成本效果平面
# 可接受曲线
```

#### 6.2 质性研究示例
```markdown
## 质性数据分析流程

### 步骤1:数据准备

{r qualitative-data}
# 访谈/焦点小组文本
library(tidytext)
library(tm)

### 步骤2:主题编码

{r coding}
# 开放式编码
# 轴心式编码
# 选择性编码

### 步骤3:文本挖掘

{r text-mining}
# 词频分析
# 情感分析
# 主题建模(LDA)

### 步骤4:结果呈现

{r qualitative-viz}
# 词云
# 主题网络图
```

#### 6.3 信号处理示例
```markdown
## 生物信号分析流程

### 步骤1:信号预处理

{r signal-prep}
library(signal)
library(Rwave)

# 滤波
# 去噪

### 步骤2:特征提取

{r feature-extraction}
# 时域特征
# 频域特征
# 时频特征(小波变换/VMD)

### 步骤3:信号分解

{r signal-decomposition}
# VMD分解
# EMD分解

### 步骤4:特征分析

{r feature-analysis}
# HRV分析
# 功率谱密度
```

### 结果解读(领域视角)

**强调领域专业性**:
```markdown
## 结果解释

### 统计结果

{r results}
# [分析结果]

### 领域解读

**从[领域]角度解释**:

- **发现1**: [统计结果] → [领域含义] → [实际意义]
- **发现2**: [统计结果] → [领域含义] → [实际意义]

### 临床/政策/实践意义

[结果对实际应用的启示]

### 报告规范

**[领域]研究的报告要求**:
- 遵循[指南名称]
- 报告[关键指标]
- 包含[必要图表]

**示例报告语句**:
> "[结果描述],这表明[领域解释]。"
```

### 常见错误(领域特定)

```markdown
## 常见陷阱

### 陷阱1:[领域常见错误]

**错误示例**: [具体情况]

**正确做法**: [如何避免]

**为什么重要**: [领域后果]

### 陷阱2:[方法论错误]

[同上结构]

### 陷阱3:[解释错误]

[同上结构]
```

### 进阶应用

```markdown
## 进阶主题

### 高级方法

- **[方法1]**: [何时使用、如何实现]
- **[方法2]**: [何时使用、如何实现]

### 跨领域应用

[与其他领域的结合应用]

### 前沿研究

[最新方法进展]

### 推荐资源

- **期刊**: [领域顶级期刊]
- **指南**: [方法指南、报告规范]
- **软件**: [专业软件工具]
- **课程**: [学习资源]
```

### 封面图生成(MANDATORY)

**CRITICAL**: 每篇教程必须有封面图,路径必须与YAML中的`image`字段匹配。

**方法1: 使用SVG(推荐)**

在`doc/images/`目录创建SVG文件:

```r
# 示例:创建简单的主题封面
library(ggplot2)

cover <- ggplot() +
  annotate("text", x = 0.5, y = 0.6, 
           label = "[领域名称]", 
           size = 24, fontface = "bold", color = "#2c3e50") +
  annotate("text", x = 0.5, y = 0.4, 
           label = "Specialized Application Tutorial", 
           size = 10, color = "#7f8c8d") +
  theme_void() +
  theme(plot.background = element_rect(fill = "#ecf0f1", color = NA))

ggsave("doc/images/[topic]-cover.svg", cover, 
       width = 8, height = 4.5, bg = "white")
```

**方法2: 使用领域相关可视化作为封面**

```r
library(ggplot2)
library(ggsci)

# 创建领域特定的可视化作为封面
# 例如:卫生经济学的成本效果平面图、信号处理的波形图等
cover_plot <- ggplot(...) +
  geom_[domain_specific_geom]() +
  scale_fill_lancet() +
  theme_minimal(base_size = 14) +
  labs(title = "[领域名称]教程")

ggsave("doc/images/[topic]-cover.svg", cover_plot,
       width = 8, height = 4.5, dpi = 300, bg = "white")
```

**CRITICAL CHECKS**:
- [ ] 封面图文件存在于`doc/images/`目录
- [ ] YAML中`image: images/[topic]-cover.svg`路径正确
- [ ] 文件名与YAML中的路径完全匹配
- [ ] 图片清晰、主题相关、视觉美观
- [ ] 封面图体现了领域特色

## 写作规范

### 领域准确性

- 术语使用准确(中英对照)
- 引用领域权威文献
- 遵循领域规范和指南
- 区分统计显著性与实际意义

### 通俗性

- 用类比解释专业概念
- 避免过度术语堆砌
- 提供实际案例
- 图示辅助理解

### 完整性

- 覆盖完整分析流程
- 包含数据伦理考虑(如适用)
- 说明报告规范
- 提供实际应用指导

## 完整工作流程

### 步骤1:生成教程

- 强调领域特色
- 提供完整实例
- 包含专业术语表
- 遵循领域规范

### 步骤2:三项渲染验证

```bash
quarto render doc/[number]-[topic].rmd
quarto render doc/index.qmd
quarto render doc/sections/special.qmd
```

### 步骤3:更新导航

更新`_quarto.yml`、`0001-guide.rmd`、`README.md`。

### 步骤4:提交

```bash
git add doc/[number]-[topic].rmd ...
git commit -m "新增特殊应用教程:[领域-方法]"
git push
```

## 质量检查

- [ ] 是否明确了领域背景?
- [ ] 是否讲解了专业术语?
- [ ] 是否提供了完整的分析流程?
- [ ] 是否从领域角度解读结果?
- [ ] 是否遵循领域报告规范?
- [ ] 是否提供了实际应用指导?
- [ ] 术语使用是否准确?
- [ ] 三项render是否成功?

## 参考模板

- `doc/1015-health-economics.rmd` - 卫生经济学
- `doc/1030-qualitative-research.rmd` - 质性研究
- `doc/1034-nvmd.rmd` - 信号处理
- `doc/1033-dlnm.rmd` - 环境流行病学

## 领域分类

### 卫生经济学
- 成本效果分析、决策分析、预算影响分析、马尔科夫模型

### 质性研究
- 扎根理论、现象学、民族志、文本挖掘、主题分析

### 信号处理
- ECG/EEG/EMG分析、HRV、小波变换、VMD、频谱分析

### 环境流行病学
- DLNM、WQS、qgcomp、BKMR、混合暴露、滞后效应

## 常见问题

**Q: 如何确保领域准确性?**

A: 查阅领域权威教材/指南,使用标准术语,必要时引用经典文献。

**Q: 如何平衡专业性与可读性?**

A: 首次出现的术语提供中英文和通俗解释,用实例和类比帮助理解。

**Q: 是否需要伦理审查说明?**

A: 涉及人类受试者数据的领域(如质性研究),必须说明伦理要求。

**Q: 用户需求模糊怎么办?**

A: 澄清:具体领域、研究问题类型、数据来源、分析目标、期望深度。
