---
name: section-visualization
description: 生成数据可视化类页面的超详细教程内容，强调图形设计与复现步骤
compatibility: opencode
metadata:
  audience: intermediate
  section: visualization
---

## 我做什么

- 为“数据可视化”类页面生成极其详细的图表教程
- 强调图形设计原则、数据准备、绘图流程、主题美化与解释文字
- 适配本仓库“图形基础/组合/分布/趋势/比较/关系/专题/进阶美化”分类

## 输出结构要求

1. **图表用途与场景**：何时使用该图，适合什么数据。
2. **模型/图形入门**：从0解释图形构成、编码规则与使用场景。
3. **数据准备**：数据结构、变量类型、必要清洗步骤。
4. **绘图基础**：ggplot2 或其他包的基础结构说明。
5. **完整代码示例**：从数据到图表输出的闭环。
6. **逐段解释**：每行/每块代码都解释用途。
7. **样式与美化**：主题、颜色、字体、图例、布局。
8. **常见错误**：比例误导、轴标签、颜色冲突等。
9. **进阶扩展**：交互式图表、组合图、动画等。

## 写作与代码规范

- 每种图至少包含“基础版本 + 进阶版本”。
- 说明图像输出路径，推荐 `doc/figure/`。
- 对随机图形示例必须 `set.seed()`。
- 文本解释必须明显多于代码，强调图表解读。
- 教程文字必须通俗、完整、详尽，包含例子、对比与应用场景，确保读者能理解方法原理与使用方式。
- 代码章节尽量放在解释之后，逐段讲透参数与输出逻辑。
- 在任何代码之前必须先完整讲清方法/框架与整体流程，详尽程度对齐 `doc/1016-mlr3.rmd`，结构组织参考 `doc/1079-kmeans.rmd` 的“概念 → 流程 → 代码 → 解释”顺序。
- 语言风格要求客观、科学、结构清楚，以段落叙述为主；列表仅在能更清晰表达时使用。
- 避免面向读者的口语化指令或主观劝导（如“让读者…”），保持方法介绍的学术语气。
- 若文内没有图片，必须生成 SVG 封面并在 YAML 的 `image` 字段引用。

## 完成后操作

- 自动更新 `doc/_quarto.yml` 的侧边栏入口，确保页面能被索引。
- 若渲染报依赖缺失，先在终端安装所需 R 包后再渲染；除非依赖体积过大或环境不合适，否则应安装依赖，确保 `quarto render` 能产出图片。
- 预览新教程后执行：`quarto preview doc/index.qmd`，确认无报错。
- **更新 `doc/0001-guide.rmd`**：在对应分类表格中添加新教程条目，保持与现有格式一致。
- 渲染完成后询问是否提交；用户确认后执行 commit，并按需 push。

## 何时使用我

当需要撰写可视化教程、图形说明或美化指南时使用。
若未指定图表类型或数据结构，请先提出澄清问题。
