[
  {
    "objectID": "test.html",
    "href": "test.html",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance"
  },
  {
    "objectID": "test.html#råŒ…ä»‹ç»",
    "href": "test.html#råŒ…ä»‹ç»",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance"
  },
  {
    "objectID": "test.html#råŒ…å®‰è£…",
    "href": "test.html#råŒ…å®‰è£…",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n# æ–¹æ³•1ï¼šä» CRAN å®‰è£…ï¼ˆæ¨èï¼‰\ninstall.packages(\"bruceR\", dep = TRUE)\n\n# æ–¹æ³•2ï¼šä» GitHub å®‰è£…æœ€æ–°ç‰ˆ\ninstall.packages(\"devtools\")\ndevtools::install_github(\"psychbruce/bruceR\", dep = TRUE, force = TRUE)\nlibrary(bruceR)"
  },
  {
    "objectID": "test.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "href": "test.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "text": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½\n\nset.wd()ï¼šæ™ºèƒ½è®¾ç½®å·¥ä½œç›®å½•\nè‡ªåŠ¨å°†å·¥ä½œç›®å½•è®¾ç½®ä¸ºå½“å‰è„šæœ¬æ‰€åœ¨è·¯å¾„ï¼š\nset.wd()\n\n\nimport() / export()ï¼šä¸‡èƒ½æ•°æ®å¯¼å…¥å¯¼å‡º\næ”¯æŒå‡ ä¹æ‰€æœ‰å¸¸è§æ•°æ®æ ¼å¼ï¼Œè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼š\n# æ”¯æŒçš„æ ¼å¼ï¼š\n# - æ–‡æœ¬ï¼š.txt, .csv, .tsv\n# - Excelï¼š.xls, .xlsx\n# - SPSSï¼š.sav\n# - Stataï¼š.dta\n# - Rå¯¹è±¡ï¼š.rda, .rds, .RData\n\n# å¯¼å…¥æ•°æ®\ndata &lt;- import(\"data.xlsx\")\ndata &lt;- import(\"data.sav\")\ndata &lt;- import(\"data.dta\")\n\n# å¯¼å‡ºæ•°æ®\nexport(data, file = \"output.xlsx\")\nexport(data, file = \"output.csv\")\n\n\ncc()ï¼šå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\næ¯” c() æ›´ç®€æ´ï¼Œæ— éœ€å¼•å·ï¼š\n# ä¼ ç»Ÿå†™æ³•\nc(\"age\", \"gender\", \"education\")\n## [1] \"age\"       \"gender\"    \"education\"\n# bruceR å†™æ³•\ncc(\"age, gender, education\")\n## [1] \"age\"       \"gender\"    \"education\"\n\n\nprint_table()ï¼šç”Ÿæˆä¸‰çº¿è¡¨\nsummary_data &lt;- data.frame(\n  Variable = c(\"Age\", \"Income\", \"Score\"),\n  Mean = c(35.2, 5000, 78.5),\n  SD = c(8.3, 1200, 12.1),\n  N = c(100, 100, 100)\n)\n\nprint_table(summary_data)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##    Variable     Mean       SD       N\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## 1    Age      35.200    8.300 100.000\n## 2    Income 5000.000 1200.000 100.000\n## 3    Score    78.500   12.100 100.000\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
  },
  {
    "objectID": "test.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "href": "test.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æ•°æ®è®¡ç®—åŠŸèƒ½",
    "text": "æ•°æ®è®¡ç®—åŠŸèƒ½\n\nMEAN() / SUM()ï¼šæ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\nå¿ƒç†å­¦é‡è¡¨ç»å¸¸éœ€è¦è®¡ç®—å¤šä¸ªé¢˜ç›®çš„å‡å€¼æˆ–æ€»åˆ†ï¼Œå¹¶å¤„ç†åå‘è®¡åˆ†ï¼š\n# åˆ›å»ºæ¨¡æ‹Ÿé—®å·æ•°æ®ï¼ˆ5ç‚¹é‡è¡¨ï¼Œå…±6é¢˜ï¼‰\nset.seed(42)\nquestionnaire &lt;- data.frame(\n  id = 1:5,\n  q1 = sample(1:5, 5, replace = TRUE),\n  q2 = sample(1:5, 5, replace = TRUE),\n  q3 = sample(1:5, 5, replace = TRUE),\n  q4 = sample(1:5, 5, replace = TRUE),\n  q5 = sample(1:5, 5, replace = TRUE),\n  q6 = sample(1:5, 5, replace = TRUE)\n)\nquestionnaire\n##   id q1 q2 q3 q4 q5 q6\n## 1  1  1  4  1  3  5  4\n## 2  2  5  2  5  1  5  3\n## 3  3  1  2  4  1  5  2\n## 4  4  1  1  2  3  4  1\n## 5  5  2  4  2  4  2  2\n# è®¡ç®—å‡å€¼ï¼ˆq3ã€q6 åå‘è®¡åˆ†ï¼Œé‡è¡¨èŒƒå›´1-5ï¼‰\nquestionnaire$score_mean &lt;- MEAN(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\n# è®¡ç®—æ€»åˆ†\nquestionnaire$score_sum &lt;- SUM(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\nquestionnaire[, c(\"id\", \"score_mean\", \"score_sum\")]\n##   id score_mean score_sum\n## 1  1   3.333333        20\n## 2  2   2.833333        17\n## 3  3   2.500000        15\n## 4  4   3.000000        18\n## 5  5   3.333333        20\n\n\nRECODE()ï¼šå˜é‡é‡ç¼–ç \nd &lt;- data.frame(age = c(18, 25, 35, 45, 55, 65, 75))\n\nd$age_group &lt;- RECODE(d$age, \n  \"lo:29 = 'é’å¹´'; \n   30:59 = 'ä¸­å¹´'; \n   60:hi = 'è€å¹´'\"\n)\nd\n##   age age_group\n## 1  18      é’å¹´\n## 2  25      é’å¹´\n## 3  35      ä¸­å¹´\n## 4  45      ä¸­å¹´\n## 5  55      ä¸­å¹´\n## 6  65      è€å¹´\n## 7  75      è€å¹´\n\n\nRESCALE()ï¼šå˜é‡æ ‡å‡†åŒ–\nscores &lt;- c(2, 3, 4, 5, 6, 7, 8)\nRESCALE(scores, to = 0:100)\n## [1]   0.00000  16.66667  33.33333  50.00000  66.66667  83.33333 100.00000"
  },
  {
    "objectID": "test.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "href": "test.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¿¡åº¦ä¸å› å­åˆ†æ",
    "text": "ä¿¡åº¦ä¸å› å­åˆ†æ\n\nAlpha()ï¼šä¿¡åº¦åˆ†æ\ndata(\"bfi\", package = \"psych\")\n\n# Alpha éœ€è¦æŒ‡å®šæ•°æ®å’Œå˜é‡å\nAlpha(bfi, var = \"A\", items = 1:5)\n## \n## Reliability Analysis\n## \n## Summary:\n## Total Items: 5\n## Scale Range: 1 ~ 6\n## Total Cases: 2800\n## Valid Cases: 2709 (96.8%)\n## \n## Scale Statistics:\n## Mean = 4.208\n## S.D. = 0.735\n## Cronbachâ€™s Î± = 0.431\n## McDonaldâ€™s Ï‰ = 0.592\n## \n## Warning: Scale reliability is low. You may check item codings.\n## Item A1 correlates negatively with the scale and may be reversed.\n## You can specify this argument: rev=c(\"A1\")\n## \n## Item Statistics (Cronbachâ€™s Î± If Item Deleted):\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##      Mean    S.D. Item-Rest Cor. Cronbachâ€™s Î±\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## A1  2.412 (1.405)         -0.311        0.718\n## A2  4.797 (1.176)          0.372        0.278\n## A3  4.599 (1.305)          0.478        0.174\n## A4  4.682 (1.486)          0.365        0.252\n## A5  4.551 (1.262)          0.448        0.207\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Item-Rest Cor. = Corrected Item-Total Correlation\n\n\nEFA()ï¼šæ¢ç´¢æ€§å› å­åˆ†æ\ndata(\"bfi\", package = \"psych\")\n\n# æ¢ç´¢æ€§å› å­åˆ†æï¼šä½¿ç”¨ var + items æ ¼å¼\n# åˆ†æå¤–å‘æ€§(E)é‡è¡¨çš„5ä¸ªé¢˜ç›®\nEFA(bfi, var = \"E\", items = 1:5, nfactors = 2, plot.scree = FALSE)\n## \n## Principal Component Analysis\n## \n## Summary:\n## Total Items: 5\n## Scale Range: 1 ~ 6\n## Total Cases: 2800\n## Valid Cases: 2713 (96.9%)\n## \n## Extraction Method:\n## - Principal Component Analysis\n## Rotation Method:\n## - Varimax (with Kaiser Normalization)\n## \n## KMO and Bartlett's Test:\n## - Kaiser-Meyer-Olkin (KMO) Measure of Sampling Adequacy: MSA = 0.799\n## - Bartlett's Test of Sphericity: Approx. Ï‡Â²(10) = 3011.40, p &lt; 1e-99 ***\n## \n## Total Variance Explained:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              Eigenvalue Variance % Cumulative % SS Loading Variance % Cumulative %\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Component 1       2.565     51.298       51.298      1.884     37.680       37.680\n## Component 2       0.768     15.368       66.666      1.449     28.986       66.666\n## Component 3       0.643     12.851       79.517                                   \n## Component 4       0.561     11.211       90.728                                   \n## Component 5       0.464      9.272      100.000                                   \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Component Loadings (Rotated) (Sorted by Size):\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##        RC1    RC2 Communality\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## E1   0.812 -0.098       0.668\n## E2   0.752 -0.304       0.658\n## E4  -0.736  0.290       0.625\n## E5  -0.145  0.860       0.761\n## E3  -0.312  0.723       0.620\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Communality = Sum of Squared (SS) Factor Loadings\n## (Uniqueness = 1 - Communality)"
  },
  {
    "objectID": "test.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "href": "test.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "text": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ\n\nDescribe()ï¼šæè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4])\n## Descriptive Statistics:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                 N Mean   SD | Median  Min  Max Skewness Kurtosis\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length  150 5.84 0.83 |   5.80 4.30 7.90     0.31    -0.61\n## Sepal.Width   150 3.06 0.44 |   3.00 2.00 4.40     0.31     0.14\n## Petal.Length  150 3.76 1.77 |   4.35 1.00 6.90    -0.27    -1.42\n## Petal.Width   150 1.20 0.76 |   1.30 0.10 2.50    -0.10    -1.36\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nFreq()ï¼šé¢‘ç‡åˆ†æ\nFreq(iris$Species)\n## Frequency Statistics:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              N    %\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## setosa      50 33.3\n## versicolor  50 33.3\n## virginica   50 33.3\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total N = 150\n\n\nCorr()ï¼šç›¸å…³åˆ†æ\nCorr(iris[, 1:4])\n## Pearson's r and 95% confidence intervals:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                r       [95% CI]     p       N\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length-Sepal.Width   -0.12 [-0.27,  0.04]  .152     150\n## Sepal.Length-Petal.Length   0.87 [ 0.83,  0.91] &lt;.001 *** 150\n## Sepal.Length-Petal.Width    0.82 [ 0.76,  0.86] &lt;.001 *** 150\n## Sepal.Width-Petal.Length   -0.43 [-0.55, -0.29] &lt;.001 *** 150\n## Sepal.Width-Petal.Width    -0.37 [-0.50, -0.22] &lt;.001 *** 150\n## Petal.Length-Petal.Width    0.96 [ 0.95,  0.97] &lt;.001 *** 150\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\nplot of chunk unnamed-chunk-14"
  },
  {
    "objectID": "test.html#ç»Ÿè®¡æ£€éªŒ",
    "href": "test.html#ç»Ÿè®¡æ£€éªŒ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ç»Ÿè®¡æ£€éªŒ",
    "text": "ç»Ÿè®¡æ£€éªŒ\n\nTTEST()ï¼štæ£€éªŒ\n# ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒï¼ˆéœ€è¦ä¸¤æ°´å¹³å› å­ï¼‰\niris_subset &lt;- iris[iris$Species %in% c(\"versicolor\", \"virginica\"), ]\niris_subset$Species &lt;- droplevels(iris_subset$Species)\n\nTTEST(iris_subset, y = \"Sepal.Length\", x = \"Species\")\n## \n## Independent-Samples t-test\n## \n## Hypothesis: two-sided (Î¼2 - Î¼1 â‰  0)\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##      Variable  Factor      Level  N Mean (S.D.)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Sepal.Length Species versicolor 50 5.94 (0.52)\n##  Sepal.Length Species virginica  50 6.59 (0.64)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Leveneâ€™s test for homogeneity of variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                                 Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length: Species (virginica - versicolor)        1.42   1  98  .236    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note: H0 = equal variance (homoscedasticity).\n## If significant (violation of the assumption),\n## then you should better set `var.equal=FALSE`.\n## \n## Results of t-test:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                                    t df     p     Difference [95% CI] Cohenâ€™s d [95% CI]     BF10\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length: Species (virginica - versicolor)  5.63 98 &lt;.001 ***   0.65 [0.42, 0.88]  1.13 [0.73, 1.52] 7.04e+04\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nMANOVA()ï¼šå¤šå› ç´ æ–¹å·®åˆ†æ\nMANOVA(data = npk, dv = \"yield\", between = c(\"N\", \"P\", \"K\"))\n## \n## ====== ANOVA (Between-Subjects Design) ======\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\" \"P\" \"K\"   Mean    S.D. n\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0  P0  K0 51.433 (4.600) 3\n##   N0  P0  K1 52.000 (5.635) 3\n##   N0  P1  K0 54.333 (9.411) 3\n##   N0  P1  K1 50.500 (2.364) 3\n##   N1  P0  K0 63.767 (5.086) 3\n##   N1  P0  K1 54.667 (4.216) 3\n##   N1  P1  K0 57.933 (5.478) 3\n##   N1  P1  K1 54.367 (5.006) 3\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total sample size: N = 24\n## \n## ANOVA Table:\n## Dependent variable(s):      yield\n## Between-subjects factor(s): N, P, K\n## Within-subjects factor(s):  â€“\n## Covariate(s):               â€“\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                 MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## N          189.282 30.724   1  16 6.161  .025 *     .278 [.024, .529] .278\n## P            8.402 30.724   1  16 0.273  .608       .017 [.000, .220] .017\n## K           95.202 30.724   1  16 3.099  .097 .     .162 [.000, .427] .162\n## N * P       21.282 30.724   1  16 0.693  .418       .041 [.000, .277] .041\n## N * K       33.135 30.724   1  16 1.078  .314       .063 [.000, .312] .063\n## P * K        0.482 30.724   1  16 0.016  .902       .001 [.000, .078] .001\n## N * P * K   37.002 30.724   1  16 1.204  .289       .070 [.000, .322] .070\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## MSE = mean square error (the residual variance of the linear model)\n## Î·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\n## Ï‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\n## Î·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\n## Cohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n## \n## Leveneâ€™s Test for Homogeneity of Variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## DV: yield       0.986   7  16  .475    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nEMMEANS()ï¼šè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\nresult &lt;- MANOVA(npk, dv = \"yield\", between = c(\"N\", \"P\"))\n## \n## ====== ANOVA (Between-Subjects Design) ======\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\" \"P\"   Mean    S.D. n\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0  P0 51.717 (4.611) 6\n##   N0  P1 52.417 (6.486) 6\n##   N1  P0 59.217 (6.504) 6\n##   N1  P1 56.150 (5.084) 6\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total sample size: N = 24\n## \n## ANOVA Table:\n## Dependent variable(s):      yield\n## Between-subjects factor(s): N, P\n## Within-subjects factor(s):  â€“\n## Covariate(s):               â€“\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##             MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## N      189.282 32.870   1  20 5.758  .026 *     .224 [.017, .460] .224\n## P        8.402 32.870   1  20 0.256  .619       .013 [.000, .181] .013\n## N * P   21.282 32.870   1  20 0.647  .430       .031 [.000, .230] .031\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## MSE = mean square error (the residual variance of the linear model)\n## Î·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\n## Ï‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\n## Î·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\n## Cohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n## \n## Leveneâ€™s Test for Homogeneity of Variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## DV: yield       0.160   3  20  .922    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEMMEANS(result, effect = \"N\")\n## ------ EMMEANS (effect = \"N\") ------\n## \n## Joint Tests of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Effect df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N       1  20 5.758  .026 *     .224 [.017, .460]\n##   P       1  20 0.256  .619       .013 [.000, .181]\n##   N * P   1  20 0.647  .430       .031 [.000, .230]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. Simple effects of repeated measures with 3 or more levels\n## are different from the results obtained with SPSS MANOVA syntax.\n## \n## Univariate Tests of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Sum of Squares df Mean Square     F     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Mean: \"N\"         189.282  1     189.282 5.758  .026 *  \n## Residuals         657.400 20      32.870                \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. Identical to the results obtained with SPSS GLM EMMEANS syntax.\n## \n## Estimated Marginal Means of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\"   Mean [95% CI of Mean]    S.E.\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0 52.067 [48.614, 55.519] (1.655)\n##   N1 57.683 [54.231, 61.136] (1.655)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Pairwise Comparisons of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Contrast Estimate    S.E. df     t     p     Cohenâ€™s d [95% CI of d]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N1 - N0    5.617 (2.341) 20 2.400  .026 *      0.980 [0.128, 1.831]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Pooled SD for computing Cohenâ€™s d: 5.733\n## Results are averaged over the levels of: P\n## No need to adjust p values.\n## \n## Disclaimer:\n## By default, pooled SD is Root Mean Square Error (RMSE).\n## There is much disagreement on how to compute Cohenâ€™s d.\n## You are completely responsible for setting `sd.pooled`.\n## You might also use `effectsize::t_to_d()` to compute d."
  },
  {
    "objectID": "test.html#å›å½’åˆ†æ",
    "href": "test.html#å›å½’åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å›å½’åˆ†æ",
    "text": "å›å½’åˆ†æ\n\nmodel_summary()ï¼šæ¨¡å‹æ±‡æ€»\nlm1 &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)\nlm2 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length, data = iris)\nlm3 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)\n\n# å¤šä¸ªæ¨¡å‹å¯¹æ¯”\nmodel_summary(list(lm1, lm2, lm3))\n## \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##               (1) Sepal.Length  (2) Sepal.Length  (3) Sepal.Length\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## (Intercept)     6.526 ***         2.249 ***         1.856 ***     \n##                (0.479)           (0.248)           (0.251)        \n## Sepal.Width    -0.223             0.596 ***         0.651 ***     \n##                (0.155)           (0.069)           (0.067)        \n## Petal.Length                      0.472 ***         0.709 ***     \n##                                  (0.017)           (0.057)        \n## Petal.Width                                        -0.556 ***     \n##                                                    (0.128)        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2             0.014             0.840             0.859         \n## Adj. R^2        0.007             0.838             0.856         \n## Num. obs.     150               150               150             \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n# è¾“å‡ºæ ‡å‡†åŒ–ç³»æ•°\nmodel_summary(lm3, std = TRUE)\n## \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##               (1) Sepal.Length\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Width      .343 ***     \n##                 (.035)        \n## Petal.Length    1.512 ***     \n##                 (.121)        \n## Petal.Width     -.512 ***     \n##                 (.117)        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2              .859         \n## Adj. R^2         .856         \n## Num. obs.     150             \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n## \n## # Check for Multicollinearity\n## \n## Low Correlation\n## \n##         Term  VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n##  Sepal.Width 1.27 [ 1.11,  1.65]     1.13      0.79     [0.61, 0.90]\n## \n## High Correlation\n## \n##          Term   VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n##  Petal.Length 15.10 [11.27, 20.36]     3.89      0.07     [0.05, 0.09]\n##   Petal.Width 14.23 [10.63, 19.19]     3.77      0.07     [0.05, 0.09]"
  },
  {
    "objectID": "test.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "href": "test.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "text": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ\n\nPROCESS()ï¼šä¸­ä»‹è°ƒèŠ‚åˆ†æ\nset.seed(123)\nn &lt;- 200\nmediation_data &lt;- data.frame(\n  X = rnorm(n),\n  M = rnorm(n),\n  Y = rnorm(n)\n)\nmediation_data$M &lt;- 0.5 * mediation_data$X + rnorm(n, sd = 0.5)\nmediation_data$Y &lt;- 0.4 * mediation_data$M + 0.3 * mediation_data$X + rnorm(n, sd = 0.5)\n\n# ç®€å•ä¸­ä»‹æ¨¡å‹\nPROCESS(mediation_data, y = \"Y\", x = \"X\", meds = \"M\", \n        ci = \"boot\", nsim = 100)\n## \n## ****************** PART 1. Regression Model Summary ******************\n## \n## PROCESS Model ID : 4\n## Model Type : Simple Mediation\n## -    Outcome (Y) : Y\n## -  Predictor (X) : X\n## -  Mediators (M) : M\n## - Moderators (W) : -\n## - Covariates (C) : -\n## -   HLM Clusters : -\n## \n## All numeric predictors have been grand-mean centered.\n## (For details, please see the help page of PROCESS.)\n## \n## Formula of Mediator:\n## -    M ~ X\n## Formula of Outcome:\n## -    Y ~ X + M\n## \n## CAUTION:\n##   Fixed effect (coef.) of a predictor involved in an interaction\n##   denotes its \"simple effect/slope\" at the other predictor = 0.\n##   Only when all predictors in an interaction are mean-centered\n##   can the fixed effect be interpreted as \"main effect\"!\n##   \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              (1) Y        (2) M        (3) Y      \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## (Intercept)    0.010       -0.015        0.010    \n##               (0.039)      (0.036)      (0.037)   \n## X              0.462 ***    0.475 ***    0.302 ***\n##               (0.041)      (0.039)      (0.052)   \n## M                                        0.336 ***\n##                                         (0.072)   \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2            0.391        0.434        0.452    \n## Adj. R^2       0.388        0.431        0.446    \n## Num. obs.    200          200          200        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n## \n## ************ PART 2. Mediation/Moderation Effect Estimate ************\n## \n## Package Use : â€˜mediationâ€™ (v4.5.0)\n## Effect Type : Simple Mediation (Model 4)\n## Sample Size : 200\n## Random Seed : set.seed()\n## Simulations : 100 (Bootstrap)\n## \n## Running 100 simulations...\n## Indirect Path: \"X\" (X) ==&gt; \"M\" (M) ==&gt; \"Y\" (Y)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                Effect    S.E.      z     p      [Boot 95% CI]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Indirect (ab)   0.160 (0.039)  4.046 &lt;.001 *** [0.098, 0.240]\n## Direct (c')     0.302 (0.053)  5.713 &lt;.001 *** [0.192, 0.387]\n## Total (c)       0.462 (0.040) 11.623 &lt;.001 *** [0.399, 0.545]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Percentile Bootstrap Confidence Interval\n## (SE and CI are estimated based on 100 Bootstrap samples.)\n## \n## Note. The results based on bootstrapping or other random processes\n## are unlikely identical to other statistical software (e.g., SPSS).\n## To make results reproducible, you need to set a seed (any number).\n## Please see the help page for details: help(PROCESS)\n## Ignore this note if you have already set a seed. :)"
  },
  {
    "objectID": "test.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "href": "test.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å…¶ä»–å®ç”¨åŠŸèƒ½",
    "text": "å…¶ä»–å®ç”¨åŠŸèƒ½\n\nè¿ç®—ç¬¦\n# %notin%ï¼šä¸åœ¨å…¶ä¸­\nc(1, 2, 3) %notin% c(2, 4, 6)\n## [1]  TRUE FALSE  TRUE\n# %allin%ï¼šå…¨éƒ¨åœ¨å…¶ä¸­\nc(1, 2) %allin% c(1, 2, 3, 4)\n## [1] TRUE\n\n\ntheme_bruce()ï¼šggplot2 ä¸»é¢˜\nlibrary(ggplot2)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(title = \"é¸¢å°¾èŠ±æ•°æ®å¯è§†åŒ–\") +\n  theme_bruce()\n\n\n\nplot of chunk unnamed-chunk-21"
  },
  {
    "objectID": "test.html#å¯¼å‡ºåˆ°-word",
    "href": "test.html#å¯¼å‡ºåˆ°-word",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å¯¼å‡ºåˆ° Word",
    "text": "å¯¼å‡ºåˆ° Word\nbruceR çš„ä¸€å¤§ç‰¹è‰²æ˜¯å¯ä»¥å°†ç»“æœç›´æ¥å¯¼å‡ºåˆ° Word æ–‡æ¡£ï¼š\n# æè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4], file = \"descriptives.doc\")\n\n# ç›¸å…³çŸ©é˜µ\nCorr(iris[, 1:4], file = \"correlation.doc\")\n\n# å›å½’æ¨¡å‹\nmodel_summary(list(lm1, lm2, lm3), file = \"regression.doc\")\n\n# ä¸­ä»‹åˆ†æ\nPROCESS(data, y = \"Y\", x = \"X\", meds = \"M\", file = \"mediation.doc\")"
  },
  {
    "objectID": "test.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "test.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "å‡½æ•°é€ŸæŸ¥è¡¨\n\n\n\nç±»åˆ«\nå‡½æ•°\nåŠŸèƒ½\n\n\n\n\nåŸºç¡€\nset.wd()\nè®¾ç½®å·¥ä½œç›®å½•åˆ°å½“å‰è„šæœ¬ä½ç½®\n\n\n\nimport() / export()\nä¸‡èƒ½æ•°æ®å¯¼å…¥/å¯¼å‡º\n\n\n\ncc()\nå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\n\n\n\nprint_table()\næ‰“å°ä¸‰çº¿è¡¨\n\n\nè®¡ç®—\nMEAN() / SUM()\næ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\n\n\n\nRECODE()\nå˜é‡é‡ç¼–ç \n\n\n\nRESCALE()\nå˜é‡æ ‡å‡†åŒ–\n\n\nä¿¡æ•ˆåº¦\nAlpha()\nCronbachâ€™s Î± ä¿¡åº¦åˆ†æ\n\n\n\nEFA() / PCA()\næ¢ç´¢æ€§å› å­åˆ†æ/ä¸»æˆåˆ†åˆ†æ\n\n\n\nCFA()\néªŒè¯æ€§å› å­åˆ†æ\n\n\næè¿°\nDescribe()\næè¿°ç»Ÿè®¡\n\n\n\nFreq()\né¢‘ç‡åˆ†æä¸äº¤å‰è¡¨\n\n\n\nCorr()\nç›¸å…³åˆ†æä¸çƒ­åŠ›å›¾\n\n\næ£€éªŒ\nTTEST()\ntæ£€éªŒï¼ˆå•æ ·æœ¬/ç‹¬ç«‹/é…å¯¹ï¼‰\n\n\n\nMANOVA()\nå¤šå› ç´ æ–¹å·®åˆ†æ\n\n\n\nEMMEANS()\nè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\n\nå›å½’\nmodel_summary()\nå›å½’æ¨¡å‹æ•´æ´è¾“å‡º\n\n\n\nGLM_summary()\nå¹¿ä¹‰çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\n\nHLM_summary()\nå¤šå±‚çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\nä¸­ä»‹\nPROCESS()\nä¸­ä»‹/è°ƒèŠ‚æ•ˆåº”åˆ†æ\n\n\n\nmed_summary()\nä¸­ä»‹æ•ˆåº”æ±‡æ€»"
  },
  {
    "objectID": "test.html#å‚è€ƒèµ„æº",
    "href": "test.html#å‚è€ƒèµ„æº",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nbruceR GitHub ä¸»é¡µ\nCRAN å®˜æ–¹é¡µé¢\nä¸­æ–‡æ•™ç¨‹ï¼šæ¦‚è¿°ç¯‡\nä¸­æ–‡æ•™ç¨‹ï¼šå¸¸è§é—®é¢˜\nå¼•ç”¨ï¼šBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions. https://doi.org/10.32614/CRAN.package.bruceR"
  },
  {
    "objectID": "sections/packages.html",
    "href": "sections/packages.html",
    "title": "å®ç”¨ R åŒ…",
    "section": "",
    "text": "è¿™é‡Œæ”¶é›†äº†æé«˜æ•ˆç‡çš„å„ç±» R åŒ…ï¼Œæ¶µç›–æ•°æ®æ¸…æ´—ã€ç»Ÿè®¡åˆ†æã€è¡¨æ ¼ç”Ÿæˆç­‰å¤šä¸ªæ–¹é¢ã€‚æ¯ä¸ªåŒ…éƒ½é™„æœ‰è¯¦ç»†çš„ä½¿ç”¨æ•™ç¨‹å’Œå®é™…æ¡ˆä¾‹ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbruceR - ç»Ÿè®¡åˆ†æå·¥å…·\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\ncompareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nscitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\nfuture åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—\n\n10 min\n\n\n\n\n\n\n\n\n\n\n\npurrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ\n\n17 min\n\n\n\n\n\n\n\n\n\n\n\næ—¶é—´åºåˆ—åˆ†æ\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nå€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨\n\n9 min\n\n\n\n\n\n\n\n\n\n\n\nLogistic å›å½’å®Œå…¨æŒ‡å—\n\n11 min\n\n\n\n\n\n\n\n\n\n\n\nç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—\n\n15 min\n\n\n\n\n\n\n\n\n\n\n\nå¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—\n\n10 min\n\n\n\n\n\n\n\n\n\n\n\nMeta åˆ†æå®Œå…¨æŒ‡å—\n\n9 min\n\n\n\n\n\n\n\n\n\n\n\nä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—\n\n9 min\n\n\n\n\n\n\n\n\n\n\n\nå¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—\n\n10 min\n\n\n\n\n\n\n\n\n\n\n\nå¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—\n\n9 min\n\n\n\n\n\n\n\n\n\n\n\nPoisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—\n\n11 min\n\n\n\n\n\n\n\n\n\n\n\né™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—\n\n12 min\n\n\n\n\n\n\n\n\n\n\n\nåŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—\n\n15 min\n\n\n\n\n\n\n\n\n\n\n\nä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nè´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\næ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nåˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nå˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—\n\n10 min\n\n\n\n\n\n\n\n\n\n\n\nç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—\n\n17 min\n\n\n\n\n\n\n\n\n\n\n\næ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nPLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\næ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—\n\n8 min\n\n\n\n\n\n\n\n\n\n\n\nä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\nèŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—\n\n15 min\n\n\n\n\n\n\n\n\n\n\n\nç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—\n\n7 min\n\n\n\n\n\n\n\n\n\n\n\ntidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶\n\n8 min\n\n\n\n\n\n\n\n\n\n\n\nbroom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—\n\n8 min\n\n\n\n\n\n\n\n\n\n\n\nLSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹\n\n10 min\n\n\n\n\n\n\n\n\n\n\n\nrstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\nç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nROC åˆ†æä¸æ¨¡å‹è¯„ä¼°\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\næ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\næ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nç«äº‰é£é™©åˆ†æ (Competing Risks)\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nè´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nBootstrapä¸ç½®æ¢æ£€éªŒ\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\ngtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼\n\n12 min\n\n\n\n\n\n\n\n\n\n\n\näºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ\n\n6 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "sections/methods.html",
    "href": "sections/methods.html",
    "title": "R è¯­è¨€ç»Ÿè®¡æ–¹æ³•",
    "section": "",
    "text": "è¿™é‡Œæ”¶é›†äº†ä½¿ç”¨ R è¯­è¨€å®ç°çš„å„ç±»åˆ†ææ–¹æ³•ï¼Œæ¶µç›–ä¼ ç»Ÿç»Ÿè®¡ã€ç”Ÿå­˜åˆ†æã€å› æœæ¨æ–­å’Œé«˜çº§å»ºæ¨¡ç­‰é¢†åŸŸã€‚æ¯ç¯‡æ•™ç¨‹éƒ½ä»åŸç†å‡ºå‘ï¼Œé…ä»¥å®Œæ•´çš„ä»£ç å®ç°å’Œå¯è§†åŒ–ã€‚"
  },
  {
    "objectID": "sections/methods.html#ç»Ÿè®¡å»ºæ¨¡æ–¹æ³•åº“",
    "href": "sections/methods.html#ç»Ÿè®¡å»ºæ¨¡æ–¹æ³•åº“",
    "title": "R è¯­è¨€ç»Ÿè®¡æ–¹æ³•",
    "section": "",
    "text": "è¿™é‡Œæ”¶é›†äº†ä½¿ç”¨ R è¯­è¨€å®ç°çš„å„ç±»åˆ†ææ–¹æ³•ï¼Œæ¶µç›–ä¼ ç»Ÿç»Ÿè®¡ã€ç”Ÿå­˜åˆ†æã€å› æœæ¨æ–­å’Œé«˜çº§å»ºæ¨¡ç­‰é¢†åŸŸã€‚æ¯ç¯‡æ•™ç¨‹éƒ½ä»åŸç†å‡ºå‘ï¼Œé…ä»¥å®Œæ•´çš„ä»£ç å®ç°å’Œå¯è§†åŒ–ã€‚"
  },
  {
    "objectID": "sections/methods.html#å…¨éƒ¨æ–¹æ³•æ•™ç¨‹",
    "href": "sections/methods.html#å…¨éƒ¨æ–¹æ³•æ•™ç¨‹",
    "title": "R è¯­è¨€ç»Ÿè®¡æ–¹æ³•",
    "section": "ğŸ“– å…¨éƒ¨æ–¹æ³•æ•™ç¨‹",
    "text": "ğŸ“– å…¨éƒ¨æ–¹æ³•æ•™ç¨‹"
  },
  {
    "objectID": "3003-dplyr-tidyr.html",
    "href": "3003-dplyr-tidyr.html",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "dplyr å’Œ tidyr æ˜¯ tidyverse çš„æ ¸å¿ƒæ•°æ®å¤„ç†åŒ…ï¼Œæä¾›äº†ç›´è§‚ã€é«˜æ•ˆçš„æ•°æ®æ“ä½œè¯­æ³•ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nè¯­æ³•ç›´è§‚\nå‡½æ•°åå³åŠ¨è¯ï¼Œæ˜“è¯»æ˜“å†™\n\n\nç®¡é“æ“ä½œ\n%&gt;% é“¾å¼è°ƒç”¨\n\n\næ€§èƒ½ä¼˜ç§€\nåº•å±‚C++å®ç°\n\n\nç”Ÿæ€å®Œå–„\nä¸tidyverseæ— ç¼é›†æˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#dplyrtidyr-ç®€ä»‹",
    "href": "3003-dplyr-tidyr.html#dplyrtidyr-ç®€ä»‹",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "dplyr å’Œ tidyr æ˜¯ tidyverse çš„æ ¸å¿ƒæ•°æ®å¤„ç†åŒ…ï¼Œæä¾›äº†ç›´è§‚ã€é«˜æ•ˆçš„æ•°æ®æ“ä½œè¯­æ³•ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nè¯­æ³•ç›´è§‚\nå‡½æ•°åå³åŠ¨è¯ï¼Œæ˜“è¯»æ˜“å†™\n\n\nç®¡é“æ“ä½œ\n%&gt;% é“¾å¼è°ƒç”¨\n\n\næ€§èƒ½ä¼˜ç§€\nåº•å±‚C++å®ç°\n\n\nç”Ÿæ€å®Œå–„\nä¸tidyverseæ— ç¼é›†æˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#å®‰è£…ä¸åŠ è½½",
    "href": "3003-dplyr-tidyr.html#å®‰è£…ä¸åŠ è½½",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(tibble)\n\n# ç¤ºä¾‹æ•°æ®\ndata(mtcars)\ndf &lt;- as_tibble(mtcars, rownames = \"car\")\nhead(df)\n\n# A tibble: 6 Ã— 12\n  car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Mazda RX4     21       6   160   110  3.9   2.62  16.5     0     1     4     4\n2 Mazda RX4 Wâ€¦  21       6   160   110  3.9   2.88  17.0     0     1     4     4\n3 Datsun 710    22.8     4   108    93  3.85  2.32  18.6     1     1     4     1\n4 Hornet 4 Drâ€¦  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1\n5 Hornet Sporâ€¦  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2\n6 Valiant       18.1     6   225   105  2.76  3.46  20.2     1     0     3     1",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#ç¬¬ä¸€éƒ¨åˆ†dplyr-æ ¸å¿ƒå‡½æ•°",
    "href": "3003-dplyr-tidyr.html#ç¬¬ä¸€éƒ¨åˆ†dplyr-æ ¸å¿ƒå‡½æ•°",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šdplyr æ ¸å¿ƒå‡½æ•°",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šdplyr æ ¸å¿ƒå‡½æ•°\n\nfilter() - ç­›é€‰è¡Œ\n\n# å•æ¡ä»¶ç­›é€‰\ndf %&gt;% filter(mpg &gt; 25)\n\n# A tibble: 6 Ã— 12\n  car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Fiat 128      32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n2 Honda Civic   30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n3 Toyota Coroâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n4 Fiat X1-9     27.3     4  79      66  4.08  1.94  18.9     1     1     4     1\n5 Porsche 914â€¦  26       4 120.     91  4.43  2.14  16.7     0     1     5     2\n6 Lotus Europa  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n\n\n\n# å¤šæ¡ä»¶ç­›é€‰ï¼ˆANDï¼‰\ndf %&gt;% filter(mpg &gt; 20, cyl == 4)\n\n# A tibble: 11 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Datsun 710   22.8     4 108      93  3.85  2.32  18.6     1     1     4     1\n 2 Merc 240D    24.4     4 147.     62  3.69  3.19  20       1     0     4     2\n 3 Merc 230     22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2\n 4 Fiat 128     32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n 5 Honda Civic  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n 6 Toyota Corâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n 7 Toyota Corâ€¦  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1\n 8 Fiat X1-9    27.3     4  79      66  4.08  1.94  18.9     1     1     4     1\n 9 Porsche 91â€¦  26       4 120.     91  4.43  2.14  16.7     0     1     5     2\n10 Lotus Euroâ€¦  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n11 Volvo 142E   21.4     4 121     109  4.11  2.78  18.6     1     1     4     2\n\n# å¤šæ¡ä»¶ç­›é€‰ï¼ˆORï¼‰\ndf %&gt;% filter(mpg &gt; 30 | hp &gt; 200)\n\n# A tibble: 11 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Duster 360   14.3     8 360     245  3.21  3.57  15.8     0     0     3     4\n 2 Cadillac Fâ€¦  10.4     8 472     205  2.93  5.25  18.0     0     0     3     4\n 3 Lincoln Coâ€¦  10.4     8 460     215  3     5.42  17.8     0     0     3     4\n 4 Chrysler Iâ€¦  14.7     8 440     230  3.23  5.34  17.4     0     0     3     4\n 5 Fiat 128     32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n 6 Honda Civic  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n 7 Toyota Corâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n 8 Camaro Z28   13.3     8 350     245  3.73  3.84  15.4     0     0     3     4\n 9 Lotus Euroâ€¦  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n10 Ford Panteâ€¦  15.8     8 351     264  4.22  3.17  14.5     0     1     5     4\n11 Maserati Bâ€¦  15       8 301     335  3.54  3.57  14.6     0     1     5     8\n\n\n\n# ä½¿ç”¨ %in%\ndf %&gt;% filter(cyl %in% c(4, 6))\n\n# A tibble: 18 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6 160     110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 â€¦  21       6 160     110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4 108      93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Dâ€¦  21.4     6 258     110  3.08  3.22  19.4     1     0     3     1\n 5 Valiant      18.1     6 225     105  2.76  3.46  20.2     1     0     3     1\n 6 Merc 240D    24.4     4 147.     62  3.69  3.19  20       1     0     4     2\n 7 Merc 230     22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2\n 8 Merc 280     19.2     6 168.    123  3.92  3.44  18.3     1     0     4     4\n 9 Merc 280C    17.8     6 168.    123  3.92  3.44  18.9     1     0     4     4\n10 Fiat 128     32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n11 Honda Civic  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n12 Toyota Corâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n13 Toyota Corâ€¦  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1\n14 Fiat X1-9    27.3     4  79      66  4.08  1.94  18.9     1     1     4     1\n15 Porsche 91â€¦  26       4 120.     91  4.43  2.14  16.7     0     1     5     2\n16 Lotus Euroâ€¦  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n17 Ferrari Diâ€¦  19.7     6 145     175  3.62  2.77  15.5     0     1     5     6\n18 Volvo 142E   21.4     4 121     109  4.11  2.78  18.6     1     1     4     2\n\n\n\n\nselect() - é€‰æ‹©åˆ—\n\n# é€‰æ‹©ç‰¹å®šåˆ—\ndf %&gt;% select(car, mpg, hp)\n\n# A tibble: 32 Ã— 3\n   car                 mpg    hp\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21     110\n 2 Mazda RX4 Wag      21     110\n 3 Datsun 710         22.8    93\n 4 Hornet 4 Drive     21.4   110\n 5 Hornet Sportabout  18.7   175\n 6 Valiant            18.1   105\n 7 Duster 360         14.3   245\n 8 Merc 240D          24.4    62\n 9 Merc 230           22.8    95\n10 Merc 280           19.2   123\n# â„¹ 22 more rows\n\n\n\n# æ’é™¤åˆ—\ndf %&gt;% select(-car, -vs, -am)\n\n# A tibble: 32 Ã— 9\n     mpg   cyl  disp    hp  drat    wt  qsec  gear  carb\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  21       6  160    110  3.9   2.62  16.5     4     4\n 2  21       6  160    110  3.9   2.88  17.0     4     4\n 3  22.8     4  108     93  3.85  2.32  18.6     4     1\n 4  21.4     6  258    110  3.08  3.22  19.4     3     1\n 5  18.7     8  360    175  3.15  3.44  17.0     3     2\n 6  18.1     6  225    105  2.76  3.46  20.2     3     1\n 7  14.3     8  360    245  3.21  3.57  15.8     3     4\n 8  24.4     4  147.    62  3.69  3.19  20       4     2\n 9  22.8     4  141.    95  3.92  3.15  22.9     4     2\n10  19.2     6  168.   123  3.92  3.44  18.3     4     4\n# â„¹ 22 more rows\n\n# é€‰æ‹©èŒƒå›´\ndf %&gt;% select(mpg:hp)\n\n# A tibble: 32 Ã— 4\n     mpg   cyl  disp    hp\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  21       6  160    110\n 2  21       6  160    110\n 3  22.8     4  108     93\n 4  21.4     6  258    110\n 5  18.7     8  360    175\n 6  18.1     6  225    105\n 7  14.3     8  360    245\n 8  24.4     4  147.    62\n 9  22.8     4  141.    95\n10  19.2     6  168.   123\n# â„¹ 22 more rows\n\n\n\n# è¾…åŠ©å‡½æ•°\ndf %&gt;% select(starts_with(\"c\")) # ä»¥cå¼€å¤´\n\n# A tibble: 32 Ã— 3\n   car                 cyl  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4             6     4\n 2 Mazda RX4 Wag         6     4\n 3 Datsun 710            4     1\n 4 Hornet 4 Drive        6     1\n 5 Hornet Sportabout     8     2\n 6 Valiant               6     1\n 7 Duster 360            8     4\n 8 Merc 240D             4     2\n 9 Merc 230              4     2\n10 Merc 280              6     4\n# â„¹ 22 more rows\n\ndf %&gt;% select(ends_with(\"p\")) # ä»¥pç»“å°¾\n\n# A tibble: 32 Ã— 2\n    disp    hp\n   &lt;dbl&gt; &lt;dbl&gt;\n 1  160    110\n 2  160    110\n 3  108     93\n 4  258    110\n 5  360    175\n 6  225    105\n 7  360    245\n 8  147.    62\n 9  141.    95\n10  168.   123\n# â„¹ 22 more rows\n\ndf %&gt;% select(contains(\"ar\")) # åŒ…å«ar\n\n# A tibble: 32 Ã— 3\n   car                gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4             4     4\n 2 Mazda RX4 Wag         4     4\n 3 Datsun 710            4     1\n 4 Hornet 4 Drive        3     1\n 5 Hornet Sportabout     3     2\n 6 Valiant               3     1\n 7 Duster 360            3     4\n 8 Merc 240D             4     2\n 9 Merc 230              4     2\n10 Merc 280              4     4\n# â„¹ 22 more rows\n\ndf %&gt;% select(where(is.numeric)) # æ•°å€¼å‹åˆ—\n\n# A tibble: 32 Ã— 11\n     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1  21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# â„¹ 22 more rows\n\n\n\n\nmutate() - åˆ›å»º/ä¿®æ”¹åˆ—\n\n# åˆ›å»ºæ–°åˆ—\ndf %&gt;% mutate(\n    kpl = mpg * 0.425, # è‹±é‡Œè½¬å…¬é‡Œ\n    hp_per_cyl = hp / cyl # æ¯ç¼¸é©¬åŠ›\n)\n\n# A tibble: 32 Ã— 14\n   car     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb   kpl\n   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazdâ€¦  21       6  160    110  3.9   2.62  16.5     0     1     4     4  8.92\n 2 Mazdâ€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4  8.92\n 3 Datsâ€¦  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1  9.69\n 4 Hornâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1  9.09\n 5 Hornâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2  7.95\n 6 Valiâ€¦  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1  7.69\n 7 Dustâ€¦  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4  6.08\n 8 Mercâ€¦  24.4     4  147.    62  3.69  3.19  20       1     0     4     2 10.4 \n 9 Mercâ€¦  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2  9.69\n10 Mercâ€¦  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4  8.16\n# â„¹ 22 more rows\n# â„¹ 1 more variable: hp_per_cyl &lt;dbl&gt;\n\n\n\n# æ¡ä»¶åˆ›å»º\ndf %&gt;% mutate(\n    efficiency = case_when(\n        mpg &gt;= 25 ~ \"é«˜æ•ˆ\",\n        mpg &gt;= 18 ~ \"ä¸­ç­‰\",\n        TRUE ~ \"ä½æ•ˆ\"\n    )\n)\n\n# A tibble: 32 Ã— 13\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 â€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Dâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spoâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# â„¹ 22 more rows\n# â„¹ 1 more variable: efficiency &lt;chr&gt;\n\n\n\n# ä¿®æ”¹ç°æœ‰åˆ—\ndf %&gt;% mutate(\n    cyl = as.factor(cyl),\n    am = ifelse(am == 1, \"æ‰‹åŠ¨\", \"è‡ªåŠ¨\")\n)\n\n# A tibble: 32 Ã— 12\n   car           mpg cyl    disp    hp  drat    wt  qsec    vs am     gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21   6      160    110  3.9   2.62  16.5     0 æ‰‹åŠ¨      4     4\n 2 Mazda RX4 â€¦  21   6      160    110  3.9   2.88  17.0     0 æ‰‹åŠ¨      4     4\n 3 Datsun 710   22.8 4      108     93  3.85  2.32  18.6     1 æ‰‹åŠ¨      4     1\n 4 Hornet 4 Dâ€¦  21.4 6      258    110  3.08  3.22  19.4     1 è‡ªåŠ¨      3     1\n 5 Hornet Spoâ€¦  18.7 8      360    175  3.15  3.44  17.0     0 è‡ªåŠ¨      3     2\n 6 Valiant      18.1 6      225    105  2.76  3.46  20.2     1 è‡ªåŠ¨      3     1\n 7 Duster 360   14.3 8      360    245  3.21  3.57  15.8     0 è‡ªåŠ¨      3     4\n 8 Merc 240D    24.4 4      147.    62  3.69  3.19  20       1 è‡ªåŠ¨      4     2\n 9 Merc 230     22.8 4      141.    95  3.92  3.15  22.9     1 è‡ªåŠ¨      4     2\n10 Merc 280     19.2 6      168.   123  3.92  3.44  18.3     1 è‡ªåŠ¨      4     4\n# â„¹ 22 more rows\n\n\n\n\narrange() - æ’åº\n\n# å‡åº\ndf %&gt;% arrange(mpg)\n\n# A tibble: 32 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Cadillac Fâ€¦  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 2 Lincoln Coâ€¦  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 3 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n 4 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 5 Chrysler Iâ€¦  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 6 Maserati Bâ€¦  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Dodge Chalâ€¦  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 Ford Panteâ€¦  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n# â„¹ 22 more rows\n\n# é™åº\ndf %&gt;% arrange(desc(mpg))\n\n# A tibble: 32 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Toyota Corâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n 2 Fiat 128     32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n 3 Honda Civic  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n 4 Lotus Euroâ€¦  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n 5 Fiat X1-9    27.3     4  79      66  4.08  1.94  18.9     1     1     4     1\n 6 Porsche 91â€¦  26       4 120.     91  4.43  2.14  16.7     0     1     5     2\n 7 Merc 240D    24.4     4 147.     62  3.69  3.19  20       1     0     4     2\n 8 Datsun 710   22.8     4 108      93  3.85  2.32  18.6     1     1     4     1\n 9 Merc 230     22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2\n10 Toyota Corâ€¦  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1\n# â„¹ 22 more rows\n\n# å¤šåˆ—æ’åº\ndf %&gt;% arrange(cyl, desc(mpg))\n\n# A tibble: 32 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Toyota Corâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n 2 Fiat 128     32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n 3 Honda Civic  30.4     4  75.7    52  4.93  1.62  18.5     1     1     4     2\n 4 Lotus Euroâ€¦  30.4     4  95.1   113  3.77  1.51  16.9     1     1     5     2\n 5 Fiat X1-9    27.3     4  79      66  4.08  1.94  18.9     1     1     4     1\n 6 Porsche 91â€¦  26       4 120.     91  4.43  2.14  16.7     0     1     5     2\n 7 Merc 240D    24.4     4 147.     62  3.69  3.19  20       1     0     4     2\n 8 Datsun 710   22.8     4 108      93  3.85  2.32  18.6     1     1     4     1\n 9 Merc 230     22.8     4 141.     95  3.92  3.15  22.9     1     0     4     2\n10 Toyota Corâ€¦  21.5     4 120.     97  3.7   2.46  20.0     1     0     3     1\n# â„¹ 22 more rows\n\n\n\n\nsummarise() - æ±‡æ€»\n\n# åŸºç¡€æ±‡æ€»\ndf %&gt;% summarise(\n    n = n(),\n    mean_mpg = mean(mpg),\n    sd_mpg = sd(mpg),\n    median_hp = median(hp)\n)\n\n# A tibble: 1 Ã— 4\n      n mean_mpg sd_mpg median_hp\n  &lt;int&gt;    &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;\n1    32     20.1   6.03       123\n\n\n\n# å¤šåˆ—æ±‡æ€»\ndf %&gt;% summarise(\n    across(c(mpg, hp, wt), list(\n        mean = mean,\n        sd = sd\n    ))\n)\n\n# A tibble: 1 Ã— 6\n  mpg_mean mpg_sd hp_mean hp_sd wt_mean wt_sd\n     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;\n1     20.1   6.03    147.  68.6    3.22 0.978",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#ç¬¬äºŒéƒ¨åˆ†åˆ†ç»„æ“ä½œ",
    "href": "3003-dplyr-tidyr.html#ç¬¬äºŒéƒ¨åˆ†åˆ†ç»„æ“ä½œ",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ†ç»„æ“ä½œ",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ†ç»„æ“ä½œ\n\ngroup_by() + summarise()\n\n# åˆ†ç»„æ±‡æ€»\ndf %&gt;%\n    group_by(cyl) %&gt;%\n    summarise(\n        n = n(),\n        mean_mpg = mean(mpg),\n        mean_hp = mean(hp)\n    )\n\n# A tibble: 3 Ã— 4\n    cyl     n mean_mpg mean_hp\n  &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n1     4    11     26.7    82.6\n2     6     7     19.7   122. \n3     8    14     15.1   209. \n\n\n\n# å¤šåˆ—åˆ†ç»„\ndf %&gt;%\n    group_by(cyl, am) %&gt;%\n    summarise(\n        n = n(),\n        mean_mpg = mean(mpg),\n        .groups = \"drop\"\n    )\n\n# A tibble: 6 Ã— 4\n    cyl    am     n mean_mpg\n  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;\n1     4     0     3     22.9\n2     4     1     8     28.1\n3     6     0     4     19.1\n4     6     1     3     20.6\n5     8     0    12     15.0\n6     8     1     2     15.4\n\n\n\n\ngroup_by() + mutate()\n\n# åˆ†ç»„å†…è®¡ç®—\ndf %&gt;%\n    group_by(cyl) %&gt;%\n    mutate(\n        mpg_rank = rank(-mpg), # ç»„å†…æ’å\n        mpg_pct = mpg / max(mpg) # ç»„å†…ç™¾åˆ†æ¯”\n    ) %&gt;%\n    select(car, cyl, mpg, mpg_rank, mpg_pct)\n\n# A tibble: 32 Ã— 5\n# Groups:   cyl [3]\n   car                 cyl   mpg mpg_rank mpg_pct\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;\n 1 Mazda RX4             6  21        2.5   0.981\n 2 Mazda RX4 Wag         6  21        2.5   0.981\n 3 Datsun 710            4  22.8      8.5   0.673\n 4 Hornet 4 Drive        6  21.4      1     1    \n 5 Hornet Sportabout     8  18.7      2     0.974\n 6 Valiant               6  18.1      6     0.846\n 7 Duster 360            8  14.3     11     0.745\n 8 Merc 240D             4  24.4      7     0.720\n 9 Merc 230              4  22.8      8.5   0.673\n10 Merc 280              6  19.2      5     0.897\n# â„¹ 22 more rows\n\n\n\n\nåˆ†ç»„ç­›é€‰\n\n# æ¯ç»„å–æœ€å¤§å€¼\ndf %&gt;%\n    group_by(cyl) %&gt;%\n    slice_max(mpg, n = 2)\n\n# A tibble: 7 Ã— 12\n# Groups:   cyl [3]\n  car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Toyota Coroâ€¦  33.9     4  71.1    65  4.22  1.84  19.9     1     1     4     1\n2 Fiat 128      32.4     4  78.7    66  4.08  2.2   19.5     1     1     4     1\n3 Hornet 4 Drâ€¦  21.4     6 258     110  3.08  3.22  19.4     1     0     3     1\n4 Mazda RX4     21       6 160     110  3.9   2.62  16.5     0     1     4     4\n5 Mazda RX4 Wâ€¦  21       6 160     110  3.9   2.88  17.0     0     1     4     4\n6 Pontiac Firâ€¦  19.2     8 400     175  3.08  3.84  17.0     0     0     3     2\n7 Hornet Sporâ€¦  18.7     8 360     175  3.15  3.44  17.0     0     0     3     2\n\n# æ¯ç»„å–å‰Nè¡Œ\ndf %&gt;%\n    group_by(cyl) %&gt;%\n    slice_head(n = 3)\n\n# A tibble: 9 Ã— 12\n# Groups:   cyl [3]\n  car            mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Datsun 710    22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n2 Merc 240D     24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n3 Merc 230      22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n4 Mazda RX4     21       6  160    110  3.9   2.62  16.5     0     1     4     4\n5 Mazda RX4 Wâ€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n6 Hornet 4 Drâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n7 Hornet Sporâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n8 Duster 360    14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n9 Merc 450SE    16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#ç¬¬ä¸‰éƒ¨åˆ†è¡¨è¿æ¥join",
    "href": "3003-dplyr-tidyr.html#ç¬¬ä¸‰éƒ¨åˆ†è¡¨è¿æ¥join",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¡¨è¿æ¥ï¼ˆJoinï¼‰",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¡¨è¿æ¥ï¼ˆJoinï¼‰\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ncars_info &lt;- tibble(\n    car = c(\"Mazda RX4\", \"Honda Civic\", \"Toyota Corolla\"),\n    country = c(\"æ—¥æœ¬\", \"æ—¥æœ¬\", \"æ—¥æœ¬\"),\n    year = c(1978, 1980, 1979)\n)\n\nprices &lt;- tibble(\n    car = c(\"Mazda RX4\", \"Datsun 710\", \"Honda Civic\"),\n    price = c(25000, 18000, 15000)\n)\n\n\nleft_join() - å·¦è¿æ¥\n\n# ä¿ç•™å·¦è¡¨æ‰€æœ‰è¡Œ\ndf %&gt;%\n    select(car, mpg, hp) %&gt;%\n    left_join(cars_info, by = \"car\")\n\n# A tibble: 32 Ã— 5\n   car                 mpg    hp country  year\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n 1 Mazda RX4          21     110 æ—¥æœ¬     1978\n 2 Mazda RX4 Wag      21     110 &lt;NA&gt;       NA\n 3 Datsun 710         22.8    93 &lt;NA&gt;       NA\n 4 Hornet 4 Drive     21.4   110 &lt;NA&gt;       NA\n 5 Hornet Sportabout  18.7   175 &lt;NA&gt;       NA\n 6 Valiant            18.1   105 &lt;NA&gt;       NA\n 7 Duster 360         14.3   245 &lt;NA&gt;       NA\n 8 Merc 240D          24.4    62 &lt;NA&gt;       NA\n 9 Merc 230           22.8    95 &lt;NA&gt;       NA\n10 Merc 280           19.2   123 &lt;NA&gt;       NA\n# â„¹ 22 more rows\n\n\n\n\ninner_join() - å†…è¿æ¥\n\n# åªä¿ç•™åŒ¹é…è¡Œ\ndf %&gt;%\n    select(car, mpg) %&gt;%\n    inner_join(prices, by = \"car\")\n\n# A tibble: 3 Ã— 3\n  car           mpg price\n  &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;\n1 Mazda RX4    21   25000\n2 Datsun 710   22.8 18000\n3 Honda Civic  30.4 15000\n\n\n\n\nfull_join() - å…¨è¿æ¥\n\n# ä¿ç•™æ‰€æœ‰è¡Œ\ncars_info %&gt;% full_join(prices, by = \"car\")\n\n# A tibble: 4 Ã— 4\n  car            country  year price\n  &lt;chr&gt;          &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;\n1 Mazda RX4      æ—¥æœ¬     1978 25000\n2 Honda Civic    æ—¥æœ¬     1980 15000\n3 Toyota Corolla æ—¥æœ¬     1979    NA\n4 Datsun 710     &lt;NA&gt;       NA 18000\n\n\n\n\nanti_join() - åè¿æ¥\n\n# ä¿ç•™ä¸åŒ¹é…çš„è¡Œ\ndf %&gt;%\n    select(car, mpg) %&gt;%\n    anti_join(prices, by = \"car\") %&gt;%\n    head()\n\n# A tibble: 6 Ã— 2\n  car                 mpg\n  &lt;chr&gt;             &lt;dbl&gt;\n1 Mazda RX4 Wag      21  \n2 Hornet 4 Drive     21.4\n3 Hornet Sportabout  18.7\n4 Valiant            18.1\n5 Duster 360         14.3\n6 Merc 240D          24.4",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#ç¬¬å››éƒ¨åˆ†tidyr-æ•°æ®æ•´å½¢",
    "href": "3003-dplyr-tidyr.html#ç¬¬å››éƒ¨åˆ†tidyr-æ•°æ®æ•´å½¢",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼štidyr æ•°æ®æ•´å½¢",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼štidyr æ•°æ®æ•´å½¢\n\npivot_longer() - å®½è½¬é•¿\n\n# åˆ›å»ºå®½æ ¼å¼æ•°æ®\nwide_data &lt;- tibble(\n    id = 1:3,\n    time1 = c(10, 15, 12),\n    time2 = c(12, 18, 14),\n    time3 = c(14, 20, 16)\n)\nwide_data\n\n# A tibble: 3 Ã— 4\n     id time1 time2 time3\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     1    10    12    14\n2     2    15    18    20\n3     3    12    14    16\n\n\n\n# è½¬ä¸ºé•¿æ ¼å¼\nlong_data &lt;- wide_data %&gt;%\n    pivot_longer(\n        cols = starts_with(\"time\"),\n        names_to = \"time\",\n        values_to = \"value\"\n    )\nlong_data\n\n# A tibble: 9 Ã— 3\n     id time  value\n  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;\n1     1 time1    10\n2     1 time2    12\n3     1 time3    14\n4     2 time1    15\n5     2 time2    18\n6     2 time3    20\n7     3 time1    12\n8     3 time2    14\n9     3 time3    16\n\n\n\n\npivot_wider() - é•¿è½¬å®½\n\n# è½¬å›å®½æ ¼å¼\nlong_data %&gt;%\n    pivot_wider(\n        names_from = time,\n        values_from = value\n    )\n\n# A tibble: 3 Ã— 4\n     id time1 time2 time3\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     1    10    12    14\n2     2    15    18    20\n3     3    12    14    16\n\n\n\n\nseparate() - æ‹†åˆ†åˆ—\n\n# æ‹†åˆ†æ—¥æœŸ\ndates &lt;- tibble(\n    id = 1:3,\n    date = c(\"2024-01-15\", \"2024-02-20\", \"2024-03-25\")\n)\n\ndates %&gt;%\n    separate(date, into = c(\"year\", \"month\", \"day\"), sep = \"-\")\n\n# A tibble: 3 Ã— 4\n     id year  month day  \n  &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;\n1     1 2024  01    15   \n2     2 2024  02    20   \n3     3 2024  03    25   \n\n\n\n\nunite() - åˆå¹¶åˆ—\n\n# åˆå¹¶åˆ—\ntibble(\n    year = c(2024, 2024, 2024),\n    month = c(1, 2, 3),\n    day = c(15, 20, 25)\n) %&gt;%\n    unite(\"date\", year:day, sep = \"-\")\n\n# A tibble: 3 Ã— 1\n  date     \n  &lt;chr&gt;    \n1 2024-1-15\n2 2024-2-20\n3 2024-3-25\n\n\n\n\nnest()/unnest() - åµŒå¥—\n\n# åµŒå¥—æ•°æ®æ¡†\nnested &lt;- df %&gt;%\n    group_by(cyl) %&gt;%\n    nest()\n\nnested\n\n# A tibble: 3 Ã— 2\n# Groups:   cyl [3]\n    cyl data              \n  &lt;dbl&gt; &lt;list&gt;            \n1     6 &lt;tibble [7 Ã— 11]&gt; \n2     4 &lt;tibble [11 Ã— 11]&gt;\n3     8 &lt;tibble [14 Ã— 11]&gt;\n\n\n\n# å±•å¼€åµŒå¥—\nnested %&gt;% unnest(data)\n\n# A tibble: 32 Ã— 12\n# Groups:   cyl [3]\n     cyl car           mpg  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1     6 Mazda RX4    21    160    110  3.9   2.62  16.5     0     1     4     4\n 2     6 Mazda RX4 â€¦  21    160    110  3.9   2.88  17.0     0     1     4     4\n 3     6 Hornet 4 Dâ€¦  21.4  258    110  3.08  3.22  19.4     1     0     3     1\n 4     6 Valiant      18.1  225    105  2.76  3.46  20.2     1     0     3     1\n 5     6 Merc 280     19.2  168.   123  3.92  3.44  18.3     1     0     4     4\n 6     6 Merc 280C    17.8  168.   123  3.92  3.44  18.9     1     0     4     4\n 7     6 Ferrari Diâ€¦  19.7  145    175  3.62  2.77  15.5     0     1     5     6\n 8     4 Datsun 710   22.8  108     93  3.85  2.32  18.6     1     1     4     1\n 9     4 Merc 240D    24.4  147.    62  3.69  3.19  20       1     0     4     2\n10     4 Merc 230     22.8  141.    95  3.92  3.15  22.9     1     0     4     2\n# â„¹ 22 more rows",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#ç¬¬äº”éƒ¨åˆ†å®ç”¨æŠ€å·§",
    "href": "3003-dplyr-tidyr.html#ç¬¬äº”éƒ¨åˆ†å®ç”¨æŠ€å·§",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šå®ç”¨æŠ€å·§",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šå®ç”¨æŠ€å·§\n\nè·¨åˆ—æ“ä½œ across()\n\n# æ‰¹é‡æ ‡å‡†åŒ–\ndf %&gt;%\n    mutate(across(\n        where(is.numeric),\n        ~ (. - mean(.)) / sd(.)\n    )) %&gt;%\n    select(car, mpg, hp, wt)\n\n# A tibble: 32 Ã— 4\n   car                  mpg     hp       wt\n   &lt;chr&gt;              &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n 1 Mazda RX4          0.151 -0.535 -0.610  \n 2 Mazda RX4 Wag      0.151 -0.535 -0.350  \n 3 Datsun 710         0.450 -0.783 -0.917  \n 4 Hornet 4 Drive     0.217 -0.535 -0.00230\n 5 Hornet Sportabout -0.231  0.413  0.228  \n 6 Valiant           -0.330 -0.608  0.248  \n 7 Duster 360        -0.961  1.43   0.361  \n 8 Merc 240D          0.715 -1.24  -0.0278 \n 9 Merc 230           0.450 -0.754 -0.0687 \n10 Merc 280          -0.148 -0.345  0.228  \n# â„¹ 22 more rows\n\n\n\n\nè¡Œæ“ä½œ rowwise()\n\n# è¡Œæ–¹å‘è®¡ç®—\ndf %&gt;%\n    rowwise() %&gt;%\n    mutate(row_mean = mean(c(mpg, hp, wt))) %&gt;%\n    select(car, mpg, hp, wt, row_mean)\n\n# A tibble: 32 Ã— 5\n# Rowwise: \n   car                 mpg    hp    wt row_mean\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;\n 1 Mazda RX4          21     110  2.62     44.5\n 2 Mazda RX4 Wag      21     110  2.88     44.6\n 3 Datsun 710         22.8    93  2.32     39.4\n 4 Hornet 4 Drive     21.4   110  3.22     44.9\n 5 Hornet Sportabout  18.7   175  3.44     65.7\n 6 Valiant            18.1   105  3.46     42.2\n 7 Duster 360         14.3   245  3.57     87.6\n 8 Merc 240D          24.4    62  3.19     29.9\n 9 Merc 230           22.8    95  3.15     40.3\n10 Merc 280           19.2   123  3.44     48.5\n# â„¹ 22 more rows\n\n\n\n\nè®¡æ•°ä¸å»é‡\n\n# è®¡æ•°\ndf %&gt;% count(cyl, sort = TRUE)\n\n# A tibble: 3 Ã— 2\n    cyl     n\n  &lt;dbl&gt; &lt;int&gt;\n1     8    14\n2     4    11\n3     6     7\n\n# å»é‡\ndf %&gt;% distinct(cyl, am)\n\n# A tibble: 6 Ã— 2\n    cyl    am\n  &lt;dbl&gt; &lt;dbl&gt;\n1     6     1\n2     4     1\n3     6     0\n4     8     0\n5     4     0\n6     8     1\n\n\n\n\nç¼ºå¤±å€¼å¤„ç†\n\n# åˆ é™¤å«NAè¡Œ\ndf %&gt;% drop_na()\n\n# A tibble: 32 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 â€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Dâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spoâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# â„¹ 22 more rows\n\n# å¡«å……NA\ndf %&gt;% replace_na(list(mpg = 0, hp = 0))\n\n# A tibble: 32 Ã— 12\n   car           mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 â€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Dâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spoâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# â„¹ 22 more rows\n\n# ç”¨å‰å€¼å¡«å……\ntibble(x = c(1, NA, NA, 4)) %&gt;%\n    fill(x, .direction = \"down\")\n\n# A tibble: 4 Ã— 1\n      x\n  &lt;dbl&gt;\n1     1\n2     1\n3     1\n4     4",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "3003-dplyr-tidyr.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# ç­›é€‰\ndf %&gt;% filter(æ¡ä»¶)\ndf %&gt;% filter(x &gt; 10, y == \"A\")\ndf %&gt;% filter(x %in% c(1, 2, 3))\n\n# é€‰æ‹©\ndf %&gt;% select(col1, col2)\ndf %&gt;% select(-col)\ndf %&gt;% select(where(is.numeric))\n\n# ä¿®æ”¹\ndf %&gt;% mutate(new_col = è®¡ç®—)\ndf %&gt;% mutate(across(cols, fun))\n\n# æ±‡æ€»\ndf %&gt;%\n    group_by(group) %&gt;%\n    summarise(mean = mean(x))\n\n# æ’åº\ndf %&gt;% arrange(desc(col))\n\n# è¿æ¥\nleft_join(df1, df2, by = \"key\")\ninner_join(df1, df2, by = c(\"a\" = \"b\"))\n\n# æ•´å½¢\npivot_longer(cols, names_to, values_to)\npivot_wider(names_from, values_from)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#å°ç»“",
    "href": "3003-dplyr-tidyr.html#å°ç»“",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å°ç»“",
    "text": "å°ç»“\ndplyr/tidyr æ ¸å¿ƒä»·å€¼ï¼š\n\nåŠ¨è¯å³å‡½æ•°ï¼šfilter, select, mutate, arrange, summarise\nç®¡é“æµç•…ï¼š%&gt;% è¿æ¥æ“ä½œ\nåˆ†ç»„å¼ºå¤§ï¼šgroup_by + ä»»æ„æ“ä½œ\nè¿æ¥å®Œå¤‡ï¼šleft/right/inner/full/anti join\næ•´å½¢è‡ªå¦‚ï¼špivot_longer/wider",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3003-dplyr-tidyr.html#å‚è€ƒèµ„æº",
    "href": "3003-dplyr-tidyr.html#å‚è€ƒèµ„æº",
    "title": "dplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\ndplyr å®˜æ–¹æ–‡æ¡£\ntidyr å®˜æ–¹æ–‡æ¡£\nR for Data Science",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "dplyr/tidyr æ•°æ®å¤„ç†"
    ]
  },
  {
    "objectID": "3001-imports.html",
    "href": "3001-imports.html",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "",
    "text": "ä»¥å…¬å¼€æ•°æ®åº“CHRALSä¸ºä¾‹\nåœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰10ä¸ªdtaæ–‡ä»¶ï¼Œæ–‡ä»¶åå„ä¸ä¸€è‡´ã€‚å¦‚ä½•å°†æ‰€æœ‰æ–‡ä»¶å¯¼å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Ÿ\n\n\n\n\nlibrary(bruceR)\nlibrary(purrr)\nrm(list = ls())\n# set_wd() # è‡ªåŠ¨æ„å»ºæ—¶æ— éœ€è®¾ç½®å·¥ä½œè·¯å¾„\n\n\n\n\n\nfiles &lt;- \n    fs::dir_ls(\"01-attch\\\\10\\\\CHARLS\", \n                   recurse = TRUE,\n                    glob = \"*.dta\")\n\nprint(files)\n\n01-attch/10/CHARLS/COVID_Module.dta\n01-attch/10/CHARLS/Demographic_Background.dta\n01-attch/10/CHARLS/Exit_Module.dta\n01-attch/10/CHARLS/Family_Information.dta\n01-attch/10/CHARLS/Health_Status_and_Functioning.dta\n01-attch/10/CHARLS/Household_Income.dta\n01-attch/10/CHARLS/Individual_Income.dta\n01-attch/10/CHARLS/Sample_Infor.dta\n01-attch/10/CHARLS/Weights.dta\n01-attch/10/CHARLS/Work_Retirement.dta\n\n\n\n\n\n\ndata_list &lt;- files |&gt; \n    map(\\(filename)\n    {import(file=filename)})\n\nå¯ä»¥çœ‹åˆ°å·²ç»å¯¼å…¥æˆåŠŸ \n\n\n\n\ndata_list_neat &lt;- set_names(\n    data_list,\n    files |&gt; \n        map(\\(str)\n        {str_remove(str, \n        \"01-attch/10/CHARLS/\")})\n)\n\nå¯ä»¥çœ‹åˆ°åˆ—è¡¨æ¯ä¸ªå…ƒç´ åä¹Ÿè§„èŒƒäº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#æ‰¹é‡å¯¼å…¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶",
    "href": "3001-imports.html#æ‰¹é‡å¯¼å…¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "",
    "text": "ä»¥å…¬å¼€æ•°æ®åº“CHRALSä¸ºä¾‹\nåœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰10ä¸ªdtaæ–‡ä»¶ï¼Œæ–‡ä»¶åå„ä¸ä¸€è‡´ã€‚å¦‚ä½•å°†æ‰€æœ‰æ–‡ä»¶å¯¼å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Ÿ\n\n\n\n\nlibrary(bruceR)\nlibrary(purrr)\nrm(list = ls())\n# set_wd() # è‡ªåŠ¨æ„å»ºæ—¶æ— éœ€è®¾ç½®å·¥ä½œè·¯å¾„\n\n\n\n\n\nfiles &lt;- \n    fs::dir_ls(\"01-attch\\\\10\\\\CHARLS\", \n                   recurse = TRUE,\n                    glob = \"*.dta\")\n\nprint(files)\n\n01-attch/10/CHARLS/COVID_Module.dta\n01-attch/10/CHARLS/Demographic_Background.dta\n01-attch/10/CHARLS/Exit_Module.dta\n01-attch/10/CHARLS/Family_Information.dta\n01-attch/10/CHARLS/Health_Status_and_Functioning.dta\n01-attch/10/CHARLS/Household_Income.dta\n01-attch/10/CHARLS/Individual_Income.dta\n01-attch/10/CHARLS/Sample_Infor.dta\n01-attch/10/CHARLS/Weights.dta\n01-attch/10/CHARLS/Work_Retirement.dta\n\n\n\n\n\n\ndata_list &lt;- files |&gt; \n    map(\\(filename)\n    {import(file=filename)})\n\nå¯ä»¥çœ‹åˆ°å·²ç»å¯¼å…¥æˆåŠŸ \n\n\n\n\ndata_list_neat &lt;- set_names(\n    data_list,\n    files |&gt; \n        map(\\(str)\n        {str_remove(str, \n        \"01-attch/10/CHARLS/\")})\n)\n\nå¯ä»¥çœ‹åˆ°åˆ—è¡¨æ¯ä¸ªå…ƒç´ åä¹Ÿè§„èŒƒäº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "href": "3001-imports.html#æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "text": "æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet\nç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªexcelæ–‡ä»¶ï¼Œå…¶ä¸­æœ‰å¤šä¸ªsheetï¼Œå¦‚ä½•ä¸€æ¬¡æ€§å¯¼å…¥åˆ°åˆ—è¡¨é‡Œå‘¢ \n\nç¬¬ä¸€æ­¥:æå–sheetå\n\nsheet_names &lt;- readxl::excel_sheets(\n    \"01-attch/10/CHARLS/data.xlsx\"\n)\n\nsheet_names\n\n[1] \"gong\" \"bo\"   \"hong\" \"wan\"  \"he\"  \n\n\n\n\nç¬¬äºŒæ­¥:æ‰¹é‡å¯¼å…¥\n\ndata_list &lt;- \n    sheet_names |&gt;\n    map(\\(var)\n        {import(\n        file='01-attch/10/CHARLS/data.xlsx',\n        sheet = var) \n    }) |&gt; \n    set_names(sheet_names)\n\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nâ€¢ `` -&gt; `...1`\n\nstr(data_list)\n\nList of 5\n $ gong:'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.501 0.502 0.498 0.497 0.499 0.496 0.5 0.503 0.5 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘£\" \"1.19â‘¨\" \"1.20â‘¦\" \"1.20â‘§\" ...\n  ..$ Cr  : num [1:12] 0.3465 0.1507 0.0616 0.0745 0.7903 ...\n  ..$ As  : num [1:12] 1.87 4.63 9.89 3.43 3.02 ...\n  ..$ Cd  : num [1:12] 0.0262 0.2018 0.4037 0 0.0485 ...\n  ..$ Pb  : num [1:12] 0.0761 0.2169 0.0744 0.131 0.4851 ...\n  ..$ Hg  : num [1:12] 0.1011 0.0577 0.187 0.1879 0.0538 ...\n $ bo  :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.501 0.496 0.499 0.504 0.5 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘¢\" \"1.20â‘¨\" \"1.20â‘©\" \"1.21â‘ \" ...\n  ..$ Cr  : num [1:12] 0.0198 0.0384 0.0375 0.7255 1.784 ...\n  ..$ As  : num [1:12] 6.08 2.76 3.1 2.45 3.23 ...\n  ..$ Cd  : num [1:12] 0.0639 0.0788 0.0217 0 0.0549 ...\n  ..$ Pb  : num [1:12] 0.2474 0.0799 0.0743 0.0906 0.0836 ...\n  ..$ Hg  : num [1:12] 0.0362 0.0671 0.0383 0.0527 0.0442 ...\n $ hong:'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.496 0.498 0.499 0.5 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.17â‘¡\" \"1.17â‘£\" \"1.20â‘¥\" \"1.21â‘©\" ...\n  ..$ Cr  : num [1:12] 1.283 0.636 0.233 1.073 0.979 ...\n  ..$ As  : num [1:12] 5.57 2.56 2.15 4.8 3.21 ...\n  ..$ Cd  : num [1:12] 0.1119 0.0241 0.0224 0 0 ...\n  ..$ Pb  : num [1:12] 0.157 0.0256 0.0745 0.1524 0.356 ...\n  ..$ Hg  : num [1:12] 0.37 0.184 1.375 1.49 0.469 ...\n $ wan :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"è¶Šç§€åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.497 0.498 0.493 0.499 0.498 ...\n  ..$ ç¼–å·: chr [1:12] \"1.23â‘¦\" \"1.23â‘§\" \"1.21â‘¤\" \"1.21â‘¥\" ...\n  ..$ Cr  : num [1:12] 4.011 4.461 0.899 0.816 0.326 ...\n  ..$ As  : num [1:12] 0.0396 0.0934 0 0 1.4307 ...\n  ..$ Cd  : num [1:12] 0 0 0 0 0 0 0 0 0 0 ...\n  ..$ Pb  : num [1:12] 0 0.5965 0.0808 0.0878 0 ...\n  ..$ Hg  : num [1:12] 0.0066 0.017 0.062 0.0196 0.0404 0.0559 0.0074 0.0437 0.0177 0.0122 ...\n $ he  :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.497 0.497 0.5 0.501 0.501 0.5 0.502 0.502 0.497 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘¡\" \"1.23â‘¨\" \"1.20â‘¤\" \"1.21â‘£\" ...\n  ..$ Cr  : num [1:12] 0 3.746 0.221 1.027 3.893 ...\n  ..$ As  : num [1:12] 0.908 3.099 0.935 0.896 2.939 ...\n  ..$ Cd  : num [1:12] 0.0115 0.0884 0.0395 0 0.1448 ...\n  ..$ Pb  : num [1:12] 0.065 1.545 0.845 0.125 0.226 ...\n  ..$ Hg  : num [1:12] 0.3371 0.0898 0.1123 0.1392 0.1663 ...",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#å°¾è¯­",
    "href": "3001-imports.html#å°¾è¯­",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "å°¾è¯­",
    "text": "å°¾è¯­\næœ¬æœŸä¸»è¦ä½¿ç”¨äº†bruceRåŒ…å’ŒpurrråŒ…ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³æ—¥å¸¸æ•°æ®å¯¼å…¥çš„æ‰€æœ‰éœ€æ±‚ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html",
    "href": "2031-bindcomplex.html",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç§‘ç ”è®ºæ–‡å‘è¡¨å¯¹å›¾è¡¨æœ‰ä¸¥æ ¼è¦æ±‚ï¼šæ¸…æ™°ã€ä¸“ä¸šã€ä¿¡æ¯ä¸°å¯Œã€‚æœ¬æ•™ç¨‹å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ R è¯­è¨€åˆ›å»ºå‘è¡¨çº§åˆ«çš„å¤æ‚ç»„åˆå›¾è¡¨ï¼ŒåŒ…æ‹¬ï¼š\n\nå¤šé¢æ¿å¸ƒå±€è®¾è®¡\nåµŒå¥—å›¾å½¢ï¼ˆå›¾ä¸­å›¾ï¼‰\næ³¨é‡Šå±‚è®¾è®¡\né¡¶åˆŠé£æ ¼æ¨¡æ¿",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#å‰è¨€",
    "href": "2031-bindcomplex.html#å‰è¨€",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç§‘ç ”è®ºæ–‡å‘è¡¨å¯¹å›¾è¡¨æœ‰ä¸¥æ ¼è¦æ±‚ï¼šæ¸…æ™°ã€ä¸“ä¸šã€ä¿¡æ¯ä¸°å¯Œã€‚æœ¬æ•™ç¨‹å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ R è¯­è¨€åˆ›å»ºå‘è¡¨çº§åˆ«çš„å¤æ‚ç»„åˆå›¾è¡¨ï¼ŒåŒ…æ‹¬ï¼š\n\nå¤šé¢æ¿å¸ƒå±€è®¾è®¡\nåµŒå¥—å›¾å½¢ï¼ˆå›¾ä¸­å›¾ï¼‰\næ³¨é‡Šå±‚è®¾è®¡\né¡¶åˆŠé£æ ¼æ¨¡æ¿",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#å‡†å¤‡å·¥ä½œ",
    "href": "2031-bindcomplex.html#å‡†å¤‡å·¥ä½œ",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "å‡†å¤‡å·¥ä½œ",
    "text": "å‡†å¤‡å·¥ä½œ\n\nlibrary(ggplot2)\nlibrary(patchwork)\nlibrary(cowplot)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(grid)\nlibrary(gridExtra)\n\n# è®¾ç½®å‘è¡¨çº§ä¸»é¢˜\ntheme_publication &lt;- function(base_size = 12) {\n    theme_minimal(base_size = base_size) +\n        theme(\n            # æ ‡é¢˜\n            plot.title = element_text(face = \"bold\", size = base_size + 2, hjust = 0),\n            plot.subtitle = element_text(size = base_size, color = \"gray40\"),\n\n            # åæ ‡è½´\n            axis.title = element_text(face = \"bold\", size = base_size),\n            axis.text = element_text(size = base_size - 1),\n            axis.line = element_line(color = \"black\", linewidth = 0.5),\n\n            # å›¾ä¾‹\n            legend.title = element_text(face = \"bold\", size = base_size),\n            legend.text = element_text(size = base_size - 1),\n            legend.background = element_rect(fill = \"white\", color = NA),\n\n            # é¢æ¿\n            panel.grid.major = element_line(color = \"gray90\", linewidth = 0.3),\n            panel.grid.minor = element_blank(),\n            panel.border = element_rect(color = \"black\", fill = NA, linewidth = 0.5),\n\n            # åˆ†é¢\n            strip.text = element_text(face = \"bold\", size = base_size),\n            strip.background = element_rect(fill = \"gray95\", color = \"black\")\n        )\n}\n\ntheme_set(theme_publication())",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#åˆ›å»ºç¤ºä¾‹æ•°æ®",
    "href": "2031-bindcomplex.html#åˆ›å»ºç¤ºä¾‹æ•°æ®",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "åˆ›å»ºç¤ºä¾‹æ•°æ®",
    "text": "åˆ›å»ºç¤ºä¾‹æ•°æ®\n\nset.seed(42)\n\n# å®éªŒæ•°æ®\nn &lt;- 100\nexperiment_data &lt;- data.frame(\n    condition = rep(c(\"Control\", \"Treatment A\", \"Treatment B\"), each = n),\n    response = c(\n        rnorm(n, 50, 10),\n        rnorm(n, 65, 12),\n        rnorm(n, 75, 8)\n    ),\n    biomarker = c(\n        rnorm(n, 100, 20),\n        rnorm(n, 120, 25),\n        rnorm(n, 150, 18)\n    ),\n    time = rep(1:10, each = 10, times = 3)\n)\n\n# æ—¶é—´åºåˆ—æ•°æ®\ntime_data &lt;- experiment_data %&gt;%\n    group_by(condition, time) %&gt;%\n    summarise(\n        mean_response = mean(response),\n        se_response = sd(response) / sqrt(n()),\n        .groups = \"drop\"\n    )\n\n# ç”Ÿå­˜æ•°æ®ï¼ˆæ¨¡æ‹Ÿï¼‰\nsurvival_data &lt;- data.frame(\n    time = c(0, 10, 20, 30, 40, 50, 60),\n    survival_control = c(1, 0.95, 0.85, 0.70, 0.55, 0.40, 0.30),\n    survival_treatment = c(1, 0.98, 0.92, 0.85, 0.75, 0.65, 0.55)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#patchwork-å¤šå›¾ç»„åˆ",
    "href": "2031-bindcomplex.html#patchwork-å¤šå›¾ç»„åˆ",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "3. patchwork å¤šå›¾ç»„åˆ",
    "text": "3. patchwork å¤šå›¾ç»„åˆ\n\nåŸºç¡€ç»„åˆ\n\n# åˆ›å»ºå››ä¸ªåŸºç¡€å›¾\np1 &lt;- ggplot(experiment_data, aes(x = condition, y = response, fill = condition)) +\n    geom_boxplot(alpha = 0.8) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"A. å„ç»„å“åº”åˆ†å¸ƒ\", x = NULL, y = \"Response\") +\n    theme(legend.position = \"none\")\n\np2 &lt;- ggplot(experiment_data, aes(x = biomarker, y = response, color = condition)) +\n    geom_point(alpha = 0.6) +\n    geom_smooth(method = \"lm\", se = FALSE, linewidth = 1) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"B. ç”Ÿç‰©æ ‡å¿—ç‰©ç›¸å…³æ€§\", x = \"Biomarker\", y = \"Response\") +\n    theme(legend.position = c(0.85, 0.2))\n\np3 &lt;- ggplot(time_data, aes(x = time, y = mean_response, color = condition)) +\n    geom_line(linewidth = 1) +\n    geom_ribbon(\n        aes(\n            ymin = mean_response - 1.96 * se_response,\n            ymax = mean_response + 1.96 * se_response, fill = condition\n        ),\n        alpha = 0.2, color = NA\n    ) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"C. æ—¶é—´è¶‹åŠ¿\", x = \"Time (days)\", y = \"Mean Response\") +\n    theme(legend.position = \"none\")\n\np4 &lt;- ggplot(survival_data) +\n    geom_step(aes(x = time, y = survival_control, color = \"Control\"), linewidth = 1) +\n    geom_step(aes(x = time, y = survival_treatment, color = \"Treatment\"), linewidth = 1) +\n    scale_color_manual(values = c(\"Control\" = \"#4e79a7\", \"Treatment\" = \"#59a14f\")) +\n    labs(title = \"D. ç”Ÿå­˜æ›²çº¿\", x = \"Time (months)\", y = \"Survival Probability\", color = \"Group\") +\n    ylim(0, 1)\n\n# ç»„åˆ\n(p1 | p2) / (p3 | p4)\n\n\n\n\n\n\n\n\n\n\nå¤æ‚å¸ƒå±€\n\n# ä½¿ç”¨ plot_layout è‡ªå®šä¹‰å°ºå¯¸\ncombined &lt;- (p1 | p2) / (p3 | p4) +\n    plot_layout(heights = c(1, 1.2)) +\n    plot_annotation(\n        title = \"Figure 1. Treatment Effects on Response and Survival\",\n        subtitle = \"A comprehensive analysis of experimental outcomes\",\n        caption = \"Data source: Simulated experiment\",\n        theme = theme(\n            plot.title = element_text(size = 16, face = \"bold\"),\n            plot.subtitle = element_text(size = 12, color = \"gray40\"),\n            plot.caption = element_text(size = 10, color = \"gray60\", hjust = 0)\n        )\n    )\n\ncombined\n\n\n\n\n\n\n\n\n\n\néå¯¹ç§°å¸ƒå±€\n\n# å·¦ä¾§å¤§å›¾ + å³ä¾§å¤šå°å›¾\np_main &lt;- ggplot(experiment_data, aes(x = biomarker, y = response)) +\n    geom_point(aes(color = condition), alpha = 0.6, size = 2) +\n    geom_smooth(aes(color = condition), method = \"lm\", se = TRUE, alpha = 0.2) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"Main: Biomarker-Response Relationship\",\n        x = \"Biomarker Level\", y = \"Response\"\n    ) +\n    theme(legend.position = \"bottom\")\n\np_hist1 &lt;- ggplot(experiment_data, aes(x = response, fill = condition)) +\n    geom_histogram(alpha = 0.7, bins = 20, position = \"identity\") +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"Response Distribution\") +\n    theme(legend.position = \"none\", axis.title.y = element_blank())\n\np_hist2 &lt;- ggplot(experiment_data, aes(x = biomarker, fill = condition)) +\n    geom_histogram(alpha = 0.7, bins = 20, position = \"identity\") +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"Biomarker Distribution\") +\n    theme(legend.position = \"none\", axis.title.y = element_blank())\n\n# ç»„åˆå¸ƒå±€\np_main + (p_hist1 / p_hist2) + plot_layout(widths = c(2, 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#cowplot-é«˜çº§æŠ€å·§",
    "href": "2031-bindcomplex.html#cowplot-é«˜çº§æŠ€å·§",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "cowplot é«˜çº§æŠ€å·§",
    "text": "cowplot é«˜çº§æŠ€å·§\n\nå›¾ä¸­å›¾ (Inset)\n\n# ä¸»å›¾\nmain_plot &lt;- ggplot(experiment_data, aes(x = biomarker, y = response, color = condition)) +\n    geom_point(alpha = 0.6, size = 2) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = \"Biomarker\", y = \"Response\") +\n    theme(legend.position = c(0.15, 0.85))\n\n# å†…åµŒå›¾ï¼ˆå±€éƒ¨æ”¾å¤§æˆ–ç»Ÿè®¡ï¼‰\ninset_plot &lt;- ggplot(experiment_data, aes(x = condition, y = response, fill = condition)) +\n    geom_boxplot(alpha = 0.8, width = 0.6) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = NULL, y = NULL) +\n    theme_minimal(base_size = 8) +\n    theme(\n        legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1),\n        panel.background = element_rect(fill = \"white\", color = \"gray40\"),\n        plot.background = element_rect(fill = \"white\", color = \"gray40\", linewidth = 0.5)\n    )\n\n# ç»„åˆ\nggdraw(main_plot) +\n    draw_plot(inset_plot, x = 0.55, y = 0.1, width = 0.4, height = 0.35)\n\n\n\n\n\n\n\n\n\n\nå¤šå±‚æ³¨é‡Š\n\n# åˆ›å»ºå¸¦æ ‡ç­¾çš„ç»„åˆå›¾\nlabeled_combined &lt;- ggdraw() +\n    draw_plot(p1, x = 0, y = 0.5, width = 0.5, height = 0.5) +\n    draw_plot(p2, x = 0.5, y = 0.5, width = 0.5, height = 0.5) +\n    draw_plot(p3, x = 0, y = 0, width = 0.5, height = 0.5) +\n    draw_plot(p4, x = 0.5, y = 0, width = 0.5, height = 0.5) +\n    # æ·»åŠ é¢æ¿æ ‡ç­¾\n    draw_plot_label(\n        label = c(\"A\", \"B\", \"C\", \"D\"),\n        x = c(0, 0.5, 0, 0.5),\n        y = c(1, 1, 0.5, 0.5),\n        size = 16, fontface = \"bold\"\n    )\n\nlabeled_combined\n\n\n\n\n\n\n\n\n\n\næ··åˆå›¾è¡¨ç±»å‹\n\n# åˆ›å»ºè¡¨æ ¼å›¾\nsummary_table &lt;- experiment_data %&gt;%\n    group_by(condition) %&gt;%\n    summarise(\n        N = n(),\n        `Mean Â± SD` = paste0(round(mean(response), 1), \" Â± \", round(sd(response), 1)),\n        Median = round(median(response), 1)\n    )\n\n# è¡¨æ ¼ç»˜åˆ¶\ntable_plot &lt;- tableGrob(summary_table,\n    rows = NULL,\n    theme = ttheme_minimal(\n        core = list(fg_params = list(fontsize = 10)),\n        colhead = list(fg_params = list(fontsize = 10, fontface = \"bold\"))\n    )\n)\n\n# ç»„åˆå›¾è¡¨ + è¡¨æ ¼\ncombined_with_table &lt;- ggdraw() +\n    draw_plot(p1, x = 0, y = 0.35, width = 0.5, height = 0.65) +\n    draw_plot(p2, x = 0.5, y = 0.35, width = 0.5, height = 0.65) +\n    draw_grob(table_plot, x = 0.25, y = 0.02, width = 0.5, height = 0.3)\n\ncombined_with_table",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#é«˜çº§åˆ†é¢è®¾è®¡",
    "href": "2031-bindcomplex.html#é«˜çº§åˆ†é¢è®¾è®¡",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "é«˜çº§åˆ†é¢è®¾è®¡",
    "text": "é«˜çº§åˆ†é¢è®¾è®¡\n\nè‡ªç”±åæ ‡è½´åˆ†é¢\n\nggplot(experiment_data, aes(x = time, y = response)) +\n    geom_point(alpha = 0.3) +\n    geom_smooth(method = \"loess\", color = \"#4e79a7\", fill = \"#4e79a7\", alpha = 0.2) +\n    facet_wrap(~condition, scales = \"free_y\", ncol = 3) +\n    labs(\n        title = \"Response Trends by Condition\",\n        subtitle = \"Y-axis scales are independent for each panel\",\n        x = \"Time\", y = \"Response\"\n    )\n\n\n\n\n\n\n\n\n\n\nåµŒå¥—åˆ†é¢ (facet_grid)\n\n# æ·»åŠ ç¬¬äºŒä¸ªåˆ†ç±»å˜é‡\nexperiment_data$gender &lt;- rep(c(\"Male\", \"Female\"), length.out = nrow(experiment_data))\n\nggplot(experiment_data, aes(x = response, fill = condition)) +\n    geom_density(alpha = 0.7) +\n    facet_grid(gender ~ condition) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"Response Distribution by Condition and Gender\",\n        x = \"Response\", y = \"Density\"\n    ) +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\nåˆ†é¢ + æ±‡æ€»è¾¹ç¼˜å›¾\n\nlibrary(ggExtra)\n\n# åˆ›å»ºåŸºç¡€æ•£ç‚¹å›¾\np_scatter &lt;- ggplot(experiment_data, aes(x = biomarker, y = response, color = condition)) +\n    geom_point(alpha = 0.6) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = \"Biomarker\", y = \"Response\") +\n    theme(legend.position = \"bottom\")\n\n# æ·»åŠ è¾¹ç¼˜ç›´æ–¹å›¾\nggMarginal(p_scatter, type = \"histogram\", groupColour = TRUE, groupFill = TRUE, alpha = 0.5)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#æ³¨é‡Šç³»ç»Ÿè®¾è®¡",
    "href": "2031-bindcomplex.html#æ³¨é‡Šç³»ç»Ÿè®¾è®¡",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "æ³¨é‡Šç³»ç»Ÿè®¾è®¡",
    "text": "æ³¨é‡Šç³»ç»Ÿè®¾è®¡\n\nç»Ÿè®¡æ˜¾è‘—æ€§æ ‡æ³¨\n\nlibrary(ggpubr)\n\n# å¸¦æ˜¾è‘—æ€§æ ‡æ³¨çš„ç®±çº¿å›¾\nggplot(experiment_data, aes(x = condition, y = response, fill = condition)) +\n    geom_boxplot(alpha = 0.8) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    stat_compare_means(\n        comparisons = list(\n            c(\"Control\", \"Treatment A\"),\n            c(\"Control\", \"Treatment B\"),\n            c(\"Treatment A\", \"Treatment B\")\n        ),\n        method = \"t.test\",\n        label = \"p.signif\",\n        tip.length = 0.02\n    ) +\n    labs(\n        title = \"Treatment Effects with Statistical Significance\",\n        x = NULL, y = \"Response\"\n    ) +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\nå¤æ‚æ³¨é‡Šå±‚\n\n# åˆ›å»ºå¸¦å¤šå±‚æ³¨é‡Šçš„å›¾\nggplot(\n    experiment_data %&gt;% filter(condition == \"Treatment A\"),\n    aes(x = biomarker, y = response)\n) +\n    # æ•°æ®å±‚\n    geom_point(alpha = 0.6, color = \"#f28e2b\", size = 2) +\n    geom_smooth(method = \"lm\", color = \"#e15759\", fill = \"#e15759\", alpha = 0.2) +\n\n    # æ³¨é‡Šå±‚ - å‚è€ƒåŒºåŸŸ\n    annotate(\"rect\",\n        xmin = 80, xmax = 120, ymin = -Inf, ymax = Inf,\n        fill = \"yellow\", alpha = 0.15\n    ) +\n    annotate(\"text\",\n        x = 100, y = max(experiment_data$response) * 0.95,\n        label = \"Normal Range\", fontface = \"italic\", color = \"gray40\"\n    ) +\n\n    # æ³¨é‡Šå±‚ - å…³é”®ç‚¹æ ‡è®°\n    annotate(\"point\", x = 150, y = 80, color = \"red\", size = 4, shape = 17) +\n    annotate(\"segment\",\n        x = 155, y = 82, xend = 152, yend = 80,\n        arrow = arrow(length = unit(0.1, \"inches\")), color = \"red\"\n    ) +\n    annotate(\"text\", x = 165, y = 84, label = \"Outlier\", color = \"red\", fontface = \"bold\") +\n\n    # æ³¨é‡Šå±‚ - ç»Ÿè®¡ä¿¡æ¯\n    annotate(\"text\",\n        x = 80, y = 40, hjust = 0,\n        label = paste(\n            \"n =\", sum(experiment_data$condition == \"Treatment A\"),\n            \"\\nr =\", round(cor(\n                experiment_data$biomarker[experiment_data$condition == \"Treatment A\"],\n                experiment_data$response[experiment_data$condition == \"Treatment A\"]\n            ), 2)\n        ),\n        size = 4\n    ) +\n    labs(\n        title = \"Treatment A: Biomarker-Response Relationship\",\n        subtitle = \"Annotated with reference range and statistical summary\",\n        x = \"Biomarker Level\", y = \"Response\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#å‘è¡¨çº§æ¨¡æ¿",
    "href": "2031-bindcomplex.html#å‘è¡¨çº§æ¨¡æ¿",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "å‘è¡¨çº§æ¨¡æ¿",
    "text": "å‘è¡¨çº§æ¨¡æ¿\n\nNature é£æ ¼\n\ntheme_nature &lt;- function(base_size = 10) {\n    theme_minimal(base_size = base_size) +\n        theme(\n            # æ–‡å­—ä½¿ç”¨ Arial\n            text = element_text(family = \"sans\"),\n\n            # ç®€æ´çš„è½´çº¿\n            axis.line = element_line(color = \"black\", linewidth = 0.3),\n            axis.ticks = element_line(color = \"black\", linewidth = 0.3),\n            axis.ticks.length = unit(0.1, \"cm\"),\n\n            # æ— ç½‘æ ¼çº¿\n            panel.grid = element_blank(),\n\n            # å›¾ä¾‹åœ¨åº•éƒ¨\n            legend.position = \"bottom\",\n            legend.box = \"horizontal\",\n\n            # ç´§å‡‘çš„è¾¹è·\n            plot.margin = margin(5, 5, 5, 5)\n        )\n}\n\n# åº”ç”¨\nggplot(experiment_data, aes(x = condition, y = response, fill = condition)) +\n    geom_boxplot(alpha = 0.8, width = 0.6, outlier.size = 1) +\n    scale_fill_manual(values = c(\"#E64B35\", \"#4DBBD5\", \"#00A087\")) + # Nature é…è‰²\n    labs(x = NULL, y = \"Response (arbitrary units)\") +\n    theme_nature() +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\nCell é£æ ¼\n\ntheme_cell &lt;- function(base_size = 11) {\n    theme_classic(base_size = base_size) +\n        theme(\n            # ç²—è¾¹æ¡†\n            panel.border = element_rect(color = \"black\", fill = NA, linewidth = 1),\n\n            # è½´çº¿\n            axis.line = element_blank(),\n            axis.ticks = element_line(color = \"black\", linewidth = 0.5),\n\n            # æ ‡é¢˜\n            plot.title = element_text(size = base_size + 2, face = \"bold\", hjust = 0.5),\n\n            # å›¾ä¾‹\n            legend.position = \"right\",\n            legend.key.size = unit(0.4, \"cm\")\n        )\n}\n\nggplot(time_data, aes(x = time, y = mean_response, color = condition)) +\n    geom_line(linewidth = 1) +\n    geom_point(size = 2.5) +\n    geom_errorbar(\n        aes(\n            ymin = mean_response - se_response,\n            ymax = mean_response + se_response\n        ),\n        width = 0.3\n    ) +\n    scale_color_manual(values = c(\"#374E55\", \"#DF8F44\", \"#00A1D5\")) + # Cell é…è‰²\n    labs(\n        title = \"Time Course of Response\",\n        x = \"Time (days)\",\n        y = \"Mean Response Â± SE\",\n        color = \"Condition\"\n    ) +\n    theme_cell()\n\n\n\n\n\n\n\n\n\n\nJAMA é£æ ¼\n\ntheme_jama &lt;- function(base_size = 11) {\n    theme_minimal(base_size = base_size) +\n        theme(\n            # ç°è‰²ç½‘æ ¼\n            panel.grid.major = element_line(color = \"gray85\", linewidth = 0.3),\n            panel.grid.minor = element_blank(),\n\n            # è½´çº¿\n            axis.line = element_line(color = \"black\", linewidth = 0.4),\n\n            # æ ‡é¢˜å±…ä¸­\n            plot.title = element_text(hjust = 0.5, face = \"bold\"),\n            plot.subtitle = element_text(hjust = 0.5),\n\n            # å›¾ä¾‹\n            legend.position = \"bottom\"\n        )\n}\n\nggplot(experiment_data, aes(x = biomarker, y = response, color = condition)) +\n    geom_point(alpha = 0.5) +\n    geom_smooth(method = \"lm\", se = TRUE, alpha = 0.15) +\n    scale_color_manual(values = c(\"#0072B5\", \"#BC3C29\", \"#20854E\")) + # JAMA é…è‰²\n    labs(\n        title = \"Association Between Biomarker and Response\",\n        subtitle = \"By treatment condition\",\n        x = \"Biomarker Level\",\n        y = \"Response\",\n        color = \"Condition\"\n    ) +\n    theme_jama()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#å¯¼å‡ºé«˜è´¨é‡å›¾ç‰‡",
    "href": "2031-bindcomplex.html#å¯¼å‡ºé«˜è´¨é‡å›¾ç‰‡",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "å¯¼å‡ºé«˜è´¨é‡å›¾ç‰‡",
    "text": "å¯¼å‡ºé«˜è´¨é‡å›¾ç‰‡\n\nggsave å‚æ•°\n\n# åˆ›å»ºæœ€ç»ˆå›¾\nfinal_plot &lt;- (p1 | p2) / (p3 | p4) +\n    plot_annotation(title = \"Figure 1\")\n\n# å¯¼å‡ºä¸º PDFï¼ˆçŸ¢é‡æ ¼å¼ï¼Œå‘è¡¨é¦–é€‰ï¼‰\nggsave(\"figure1.pdf\", final_plot, width = 10, height = 8, dpi = 300)\n\n# å¯¼å‡ºä¸º TIFFï¼ˆæŸäº›æœŸåˆŠè¦æ±‚ï¼‰\nggsave(\"figure1.tiff\", final_plot, width = 10, height = 8, dpi = 300, compression = \"lzw\")\n\n# å¯¼å‡ºä¸º PNGï¼ˆç½‘é¡µ/PPT ä½¿ç”¨ï¼‰\nggsave(\"figure1.png\", final_plot, width = 10, height = 8, dpi = 300)\n\n# å¯¼å‡ºä¸º SVGï¼ˆå¯ç¼–è¾‘çŸ¢é‡ï¼‰\nggsave(\"figure1.svg\", final_plot, width = 10, height = 8)\n\n\n\næ‰¹é‡å¯¼å‡º\n\n# æ‰¹é‡å¯¼å‡ºå¤šä¸ªå›¾\nplots_list &lt;- list(\n    \"fig1_boxplot\" = p1,\n    \"fig2_scatter\" = p2,\n    \"fig3_timecourse\" = p3,\n    \"fig4_survival\" = p4\n)\n\n# å¾ªç¯å¯¼å‡º\nfor (name in names(plots_list)) {\n    ggsave(\n        paste0(name, \".pdf\"),\n        plots_list[[name]],\n        width = 6,\n        height = 5,\n        dpi = 300\n    )\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´è®ºæ–‡å›¾",
    "href": "2031-bindcomplex.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´è®ºæ–‡å›¾",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´è®ºæ–‡å›¾",
    "text": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´è®ºæ–‡å›¾\n\n# åˆ›å»ºå®Œæ•´çš„è®ºæ–‡å›¾\n# Panel A: ä¸»æ•ˆåº”ç®±çº¿å›¾\npanelA &lt;- ggplot(experiment_data, aes(x = condition, y = response, fill = condition)) +\n    geom_violin(alpha = 0.3, color = NA) +\n    geom_boxplot(width = 0.3, alpha = 0.8, outlier.size = 1) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = NULL, y = \"Response\") +\n    theme(legend.position = \"none\")\n\n# Panel B: ç›¸å…³æ€§æ•£ç‚¹å›¾\npanelB &lt;- ggplot(experiment_data, aes(x = biomarker, y = response)) +\n    geom_point(aes(color = condition), alpha = 0.5) +\n    geom_smooth(aes(color = condition), method = \"lm\", se = FALSE, linewidth = 0.8) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = \"Biomarker\", y = \"Response\", color = \"Condition\") +\n    theme(\n        legend.position = c(0.85, 0.2),\n        legend.background = element_rect(fill = \"white\", color = \"gray80\")\n    )\n\n# Panel C: æ—¶é—´è¶‹åŠ¿\npanelC &lt;- ggplot(time_data, aes(x = time, y = mean_response, color = condition)) +\n    geom_ribbon(\n        aes(\n            ymin = mean_response - 1.96 * se_response,\n            ymax = mean_response + 1.96 * se_response, fill = condition\n        ),\n        alpha = 0.2, color = NA\n    ) +\n    geom_line(linewidth = 1) +\n    geom_point(size = 2) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    scale_fill_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(x = \"Time (days)\", y = \"Mean Response Â± 95% CI\") +\n    theme(legend.position = \"none\")\n\n# Panel D: ç”Ÿå­˜æ›²çº¿\npanelD &lt;- survival_data %&gt;%\n    pivot_longer(cols = starts_with(\"survival\"), names_to = \"group\", values_to = \"survival\") %&gt;%\n    mutate(group = ifelse(group == \"survival_control\", \"Control\", \"Treatment\")) %&gt;%\n    ggplot(aes(x = time, y = survival, color = group)) +\n    geom_step(linewidth = 1.2) +\n    geom_point(size = 2) +\n    scale_color_manual(values = c(\"Control\" = \"#4e79a7\", \"Treatment\" = \"#59a14f\")) +\n    scale_y_continuous(labels = scales::percent_format(), limits = c(0, 1)) +\n    labs(x = \"Time (months)\", y = \"Survival Probability\", color = \"Group\") +\n    theme(legend.position = c(0.85, 0.85))\n\n# ç»„åˆ\nfinal_figure &lt;- (panelA | panelB) / (panelC | panelD) +\n    plot_annotation(\n        title = \"Figure 1. Comprehensive Analysis of Treatment Effects\",\n        subtitle = \"A) Group comparison, B) Biomarker correlation, C) Time course, D) Survival\",\n        tag_levels = \"A\",\n        theme = theme(\n            plot.title = element_text(size = 16, face = \"bold\"),\n            plot.subtitle = element_text(size = 12, color = \"gray40\")\n        )\n    ) &\n    theme(plot.tag = element_text(size = 14, face = \"bold\"))\n\nfinal_figure",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2031-bindcomplex.html#æ€»ç»“",
    "href": "2031-bindcomplex.html#æ€»ç»“",
    "title": "å¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nå·¥å…·\nä¸»è¦ç”¨é€”\nä¼˜åŠ¿\n\n\n\n\npatchwork\nå¤šå›¾ç»„åˆ\nè¯­æ³•ç®€æ´ï¼Œå¸ƒå±€çµæ´»\n\n\ncowplot\nå›¾ä¸­å›¾ã€å¤æ‚å¸ƒå±€\nç²¾ç¡®å®šä½æ§åˆ¶\n\n\ngridExtra\nè¡¨æ ¼ä¸å›¾ç»„åˆ\næ”¯æŒè¡¨æ ¼å…ƒç´ \n\n\nggpubr\nç»Ÿè®¡æ ‡æ³¨\nè‡ªåŠ¨æ˜¾è‘—æ€§æ ‡è®°\n\n\nggExtra\nè¾¹ç¼˜å›¾\nä¸€è¡Œä»£ç æ·»åŠ \n\n\n\n\n[!TIP] å‘è¡¨å›¾è¡¨æ£€æŸ¥æ¸…å•ï¼š - [ ] å­—ä½“å¤§å°â‰¥8pt - [ ] çº¿æ¡ç²—ç»†â‰¥0.5pt\n- [ ] åˆ†è¾¨ç‡â‰¥300dpi - [ ] é…è‰²å¯¹è‰²ç›²å‹å¥½ - [ ] å›¾ä¾‹æ ‡ç­¾å®Œæ•´ - [ ] åæ ‡è½´æ ‡ç­¾å«å•ä½",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å¤æ‚ç»„åˆå›¾"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html",
    "href": "2029-bindlineplot.html",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æŠ˜çº¿å›¾æ˜¯æ•°æ®å¯è§†åŒ–ä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„å›¾è¡¨ç±»å‹ä¹‹ä¸€ã€‚å®ƒç‰¹åˆ«é€‚åˆå±•ç¤ºï¼š\n\næ—¶é—´åºåˆ—æ•°æ®ï¼šè‚¡ä»·ã€æ¸©åº¦å˜åŒ–ã€ç–¾ç—…å‘ç—…ç‡\nè¶‹åŠ¿å˜åŒ–ï¼šå®éªŒç»“æœéšæ¡ä»¶å˜åŒ–\nå¤šç»„å¯¹æ¯”ï¼šä¸åŒç»„åˆ«åœ¨æ—¶é—´ç»´åº¦ä¸Šçš„å·®å¼‚\n\næœ¬æ•™ç¨‹å°†ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå…¨é¢ä»‹ç» R è¯­è¨€ä¸­æŠ˜çº¿å›¾çš„ç»‘åˆ¶æŠ€å·§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#å‰è¨€",
    "href": "2029-bindlineplot.html#å‰è¨€",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æŠ˜çº¿å›¾æ˜¯æ•°æ®å¯è§†åŒ–ä¸­æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„å›¾è¡¨ç±»å‹ä¹‹ä¸€ã€‚å®ƒç‰¹åˆ«é€‚åˆå±•ç¤ºï¼š\n\næ—¶é—´åºåˆ—æ•°æ®ï¼šè‚¡ä»·ã€æ¸©åº¦å˜åŒ–ã€ç–¾ç—…å‘ç—…ç‡\nè¶‹åŠ¿å˜åŒ–ï¼šå®éªŒç»“æœéšæ¡ä»¶å˜åŒ–\nå¤šç»„å¯¹æ¯”ï¼šä¸åŒç»„åˆ«åœ¨æ—¶é—´ç»´åº¦ä¸Šçš„å·®å¼‚\n\næœ¬æ•™ç¨‹å°†ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå…¨é¢ä»‹ç» R è¯­è¨€ä¸­æŠ˜çº¿å›¾çš„ç»‘åˆ¶æŠ€å·§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#ggplot2-åŸºç¡€æŠ˜çº¿å›¾",
    "href": "2029-bindlineplot.html#ggplot2-åŸºç¡€æŠ˜çº¿å›¾",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "ggplot2 åŸºç¡€æŠ˜çº¿å›¾",
    "text": "ggplot2 åŸºç¡€æŠ˜çº¿å›¾\n\nå‡†å¤‡å·¥ä½œ\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(scales)\nlibrary(lubridate)\n\n# è®¾ç½®ä¸»é¢˜\ntheme_set(theme_minimal(base_size = 14))\n\n\n\nåˆ›å»ºç¤ºä¾‹æ•°æ®\n\n# æ¨¡æ‹Ÿæœˆåº¦é”€å”®æ•°æ®\nset.seed(42)\nmonths &lt;- seq(as.Date(\"2024-01-01\"), as.Date(\"2025-12-31\"), by = \"month\")\nsales_data &lt;- data.frame(\n    date = months,\n    product_A = 100 + cumsum(rnorm(length(months), 5, 10)),\n    product_B = 80 + cumsum(rnorm(length(months), 3, 8)),\n    product_C = 60 + cumsum(rnorm(length(months), 4, 12))\n)\n\nhead(sales_data)\n\n        date product_A product_B product_C\n1 2024-01-01  118.7096  98.16155  58.82265\n2 2024-02-01  118.0626  97.71779  70.69042\n3 2024-03-01  126.6939  98.65964  78.55352\n4 2024-04-01  138.0225  87.55433  73.14746\n5 2024-05-01  147.0652  94.23511  96.05619\n6 2024-06-01  151.0040  92.11515 107.77098\n\n\n\n\nåŸºç¡€æŠ˜çº¿å›¾\n\n# æœ€ç®€å•çš„æŠ˜çº¿å›¾\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    labs(\n        title = \"äº§å“ A æœˆåº¦é”€å”®è¶‹åŠ¿\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ•°æ®ç‚¹\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    geom_point(color = \"#4e79a7\", size = 2.5, shape = 21, fill = \"white\", stroke = 1.5) +\n    labs(\n        title = \"äº§å“ A æœˆåº¦é”€å”®è¶‹åŠ¿\",\n        subtitle = \"æ·»åŠ æ•°æ®ç‚¹ä½¿è¶‹åŠ¿æ›´æ¸…æ™°\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#å¤šç»„æŠ˜çº¿å¯¹æ¯”",
    "href": "2029-bindlineplot.html#å¤šç»„æŠ˜çº¿å¯¹æ¯”",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "å¤šç»„æŠ˜çº¿å¯¹æ¯”",
    "text": "å¤šç»„æŠ˜çº¿å¯¹æ¯”\n\næ•°æ®æ•´ç†ï¼ˆå®½æ ¼å¼è½¬é•¿æ ¼å¼ï¼‰\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼\nsales_long &lt;- sales_data %&gt;%\n    pivot_longer(\n        cols = starts_with(\"product\"),\n        names_to = \"product\",\n        values_to = \"sales\"\n    ) %&gt;%\n    mutate(product = case_when(\n        product == \"product_A\" ~ \"äº§å“ A\",\n        product == \"product_B\" ~ \"äº§å“ B\",\n        product == \"product_C\" ~ \"äº§å“ C\"\n    ))\n\nhead(sales_long)\n\n# A tibble: 6 Ã— 3\n  date       product sales\n  &lt;date&gt;     &lt;chr&gt;   &lt;dbl&gt;\n1 2024-01-01 äº§å“ A  119. \n2 2024-01-01 äº§å“ B   98.2\n3 2024-01-01 äº§å“ C   58.8\n4 2024-02-01 äº§å“ A  118. \n5 2024-02-01 äº§å“ B   97.7\n6 2024-02-01 äº§å“ C   70.7\n\n\n\n\nå¤šç»„æŠ˜çº¿å›¾\n\nggplot(sales_long, aes(x = date, y = sales, color = product)) +\n    geom_line(linewidth = 1) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"ä¸‰æ¬¾äº§å“é”€å”®è¶‹åŠ¿å¯¹æ¯”\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\",\n        color = \"äº§å“\"\n    ) +\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ åŒºåˆ†ç‚¹å½¢çŠ¶\n\nggplot(sales_long, aes(x = date, y = sales, color = product, shape = product)) +\n    geom_line(linewidth = 1) +\n    geom_point(size = 2.5) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    scale_shape_manual(values = c(16, 17, 15)) + # åœ†å½¢ã€ä¸‰è§’ã€æ–¹å½¢\n    labs(\n        title = \"ä¸‰æ¬¾äº§å“é”€å”®è¶‹åŠ¿å¯¹æ¯”\",\n        subtitle = \"ä½¿ç”¨ä¸åŒå½¢çŠ¶åŒºåˆ†äº§å“\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\",\n        color = \"äº§å“\",\n        shape = \"äº§å“\"\n    ) +\n    theme(legend.position = \"top\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#è¯¯å·®å¸¦ä¸ç½®ä¿¡åŒºé—´",
    "href": "2029-bindlineplot.html#è¯¯å·®å¸¦ä¸ç½®ä¿¡åŒºé—´",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "è¯¯å·®å¸¦ä¸ç½®ä¿¡åŒºé—´",
    "text": "è¯¯å·®å¸¦ä¸ç½®ä¿¡åŒºé—´\n\nåˆ›å»ºå¸¦è¯¯å·®çš„æ•°æ®\n\n# æ¨¡æ‹Ÿå¸¦è¯¯å·®çš„å®éªŒæ•°æ®\ntime_points &lt;- 1:10\nexperiment_data &lt;- data.frame(\n    time = time_points,\n    mean_treatment = 10 + log(time_points) * 5,\n    se_treatment = runif(length(time_points), 0.5, 1.5),\n    mean_control = 10 + log(time_points) * 2,\n    se_control = runif(length(time_points), 0.3, 1)\n)\n\nexperiment_data &lt;- experiment_data %&gt;%\n    mutate(\n        lower_treatment = mean_treatment - 1.96 * se_treatment,\n        upper_treatment = mean_treatment + 1.96 * se_treatment,\n        lower_control = mean_control - 1.96 * se_control,\n        upper_control = mean_control + 1.96 * se_control\n    )\n\n\n\nè¯¯å·®å¸¦ï¼ˆribbonï¼‰\n\nggplot(experiment_data, aes(x = time)) +\n    # è¯¯å·®å¸¦\n    geom_ribbon(aes(ymin = lower_treatment, ymax = upper_treatment),\n        fill = \"#4e79a7\", alpha = 0.2\n    ) +\n    geom_ribbon(aes(ymin = lower_control, ymax = upper_control),\n        fill = \"#e15759\", alpha = 0.2\n    ) +\n    # æŠ˜çº¿\n    geom_line(aes(y = mean_treatment, color = \"å¹²é¢„ç»„\"), linewidth = 1) +\n    geom_line(aes(y = mean_control, color = \"å¯¹ç…§ç»„\"), linewidth = 1) +\n    scale_color_manual(values = c(\"å¹²é¢„ç»„\" = \"#4e79a7\", \"å¯¹ç…§ç»„\" = \"#e15759\")) +\n    labs(\n        title = \"å¹²é¢„æ•ˆæœæ—¶é—´æ›²çº¿\",\n        subtitle = \"é˜´å½±åŒºåŸŸè¡¨ç¤º 95% ç½®ä¿¡åŒºé—´\",\n        x = \"æ—¶é—´ï¼ˆå‘¨ï¼‰\",\n        y = \"æŒ‡æ ‡å€¼\",\n        color = \"ç»„åˆ«\"\n    ) +\n    theme(legend.position = c(0.85, 0.2))\n\n\n\n\n\n\n\n\n\n\nè¯¯å·®çº¿ï¼ˆerrorbarï¼‰\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼æ›´æ–¹ä¾¿\nexp_long &lt;- experiment_data %&gt;%\n    select(time, mean_treatment, mean_control, se_treatment, se_control) %&gt;%\n    pivot_longer(\n        cols = c(mean_treatment, mean_control),\n        names_to = \"group\",\n        names_prefix = \"mean_\",\n        values_to = \"mean\"\n    ) %&gt;%\n    mutate(\n        se = ifelse(group == \"treatment\", experiment_data$se_treatment, experiment_data$se_control),\n        group = ifelse(group == \"treatment\", \"å¹²é¢„ç»„\", \"å¯¹ç…§ç»„\")\n    )\n\nggplot(exp_long, aes(x = time, y = mean, color = group)) +\n    geom_line(linewidth = 1) +\n    geom_point(size = 3) +\n    geom_errorbar(aes(ymin = mean - 1.96 * se, ymax = mean + 1.96 * se),\n        width = 0.2, linewidth = 0.8\n    ) +\n    scale_color_manual(values = c(\"å¹²é¢„ç»„\" = \"#4e79a7\", \"å¯¹ç…§ç»„\" = \"#e15759\")) +\n    labs(\n        title = \"å¹²é¢„æ•ˆæœæ—¶é—´æ›²çº¿\",\n        subtitle = \"è¯¯å·®çº¿è¡¨ç¤º 95% ç½®ä¿¡åŒºé—´\",\n        x = \"æ—¶é—´ï¼ˆå‘¨ï¼‰\",\n        y = \"æŒ‡æ ‡å€¼\",\n        color = \"ç»„åˆ«\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#æ³¨é‡Šä¸æ ‡è®°æŠ€å·§",
    "href": "2029-bindlineplot.html#æ³¨é‡Šä¸æ ‡è®°æŠ€å·§",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "4. æ³¨é‡Šä¸æ ‡è®°æŠ€å·§",
    "text": "4. æ³¨é‡Šä¸æ ‡è®°æŠ€å·§\n\næ·»åŠ æ–‡æœ¬æ³¨é‡Š\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    # æ ‡æ³¨æœ€é«˜ç‚¹\n    annotate(\"point\",\n        x = sales_data$date[which.max(sales_data$product_A)],\n        y = max(sales_data$product_A), color = \"red\", size = 4\n    ) +\n    annotate(\"text\",\n        x = sales_data$date[which.max(sales_data$product_A)],\n        y = max(sales_data$product_A) + 10,\n        label = paste0(\"å³°å€¼: \", round(max(sales_data$product_A), 1)),\n        color = \"red\", fontface = \"bold\"\n    ) +\n    # æ ‡æ³¨åŒºåŸŸ\n    annotate(\"rect\",\n        xmin = as.Date(\"2024-11-01\"), xmax = as.Date(\"2025-02-01\"),\n        ymin = -Inf, ymax = Inf, fill = \"yellow\", alpha = 0.2\n    ) +\n    annotate(\"text\",\n        x = as.Date(\"2024-12-15\"), y = min(sales_data$product_A),\n        label = \"ä¿ƒé”€å­£\", fontface = \"italic\"\n    ) +\n    labs(\n        title = \"äº§å“ A é”€å”®è¶‹åŠ¿ä¸å…³é”®èŠ‚ç‚¹\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ å‚ç›´å‚è€ƒçº¿\n\n# æ ‡è®°é‡è¦äº‹ä»¶\nevents &lt;- data.frame(\n    date = as.Date(c(\"2024-06-01\", \"2025-01-01\", \"2025-06-01\")),\n    event = c(\"äº§å“å‡çº§\", \"ä»·æ ¼è°ƒæ•´\", \"è¥é”€æ´»åŠ¨\")\n)\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    geom_vline(\n        data = events, aes(xintercept = date),\n        linetype = \"dashed\", color = \"gray50\"\n    ) +\n    geom_label(\n        data = events, aes(x = date, y = max(sales_data$product_A) * 0.95, label = event),\n        size = 3, fill = \"white\", label.size = 0.5\n    ) +\n    labs(\n        title = \"äº§å“ A é”€å”®è¶‹åŠ¿ä¸å…³é”®äº‹ä»¶\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    )\n\n\n\n\n\n\n\n\n\n\nç›´æ¥æ ‡æ³¨çº¿æ¡ç»ˆç‚¹\n\n# è·å–æœ€æ–°æ•°æ®ç‚¹\nlast_points &lt;- sales_long %&gt;%\n    group_by(product) %&gt;%\n    filter(date == max(date))\n\nggplot(sales_long, aes(x = date, y = sales, color = product)) +\n    geom_line(linewidth = 1) +\n    geom_text(\n        data = last_points, aes(label = product),\n        hjust = -0.1, fontface = \"bold\", size = 4\n    ) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    scale_x_date(expand = expansion(mult = c(0.02, 0.15))) + # å³ä¾§ç•™ç©ºé—´\n    labs(\n        title = \"ä¸‰æ¬¾äº§å“é”€å”®è¶‹åŠ¿\",\n        subtitle = \"ç›´æ¥æ ‡æ³¨æ›¿ä»£å›¾ä¾‹\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#æ—¶é—´è½´æ ¼å¼åŒ–",
    "href": "2029-bindlineplot.html#æ—¶é—´è½´æ ¼å¼åŒ–",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "æ—¶é—´è½´æ ¼å¼åŒ–",
    "text": "æ—¶é—´è½´æ ¼å¼åŒ–\n\næ—¥æœŸæ ¼å¼æ§åˆ¶\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    scale_x_date(\n        date_breaks = \"3 months\", # æ¯3ä¸ªæœˆä¸€ä¸ªåˆ»åº¦\n        date_labels = \"%Yå¹´%mæœˆ\", # ä¸­æ–‡æ—¥æœŸæ ¼å¼\n        expand = c(0.02, 0.02)\n    ) +\n    labs(\n        title = \"äº§å“ A é”€å”®è¶‹åŠ¿\",\n        x = NULL,\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n\nå¸¸ç”¨æ—¥æœŸæ ¼å¼\n\n\n\næ ¼å¼ä»£ç \nå«ä¹‰\nç¤ºä¾‹\n\n\n\n\n%Y\n4ä½å¹´ä»½\n2024\n\n\n%y\n2ä½å¹´ä»½\n24\n\n\n%m\næœˆä»½ï¼ˆæ•°å­—ï¼‰\n01-12\n\n\n%b\næœˆä»½ï¼ˆç¼©å†™ï¼‰\nJan\n\n\n%B\næœˆä»½ï¼ˆå…¨ç§°ï¼‰\nJanuary\n\n\n%d\næ—¥æœŸ\n01-31\n\n\n%H\nå°æ—¶ï¼ˆ24hï¼‰\n00-23\n\n\n%M\nåˆ†é’Ÿ\n00-59\n\n\n%w\næ˜ŸæœŸï¼ˆæ•°å­—ï¼‰\n0-6\n\n\n%A\næ˜ŸæœŸï¼ˆå…¨ç§°ï¼‰\nMonday",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#åˆ†é¢ä¸å°å¤šå›¾",
    "href": "2029-bindlineplot.html#åˆ†é¢ä¸å°å¤šå›¾",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "åˆ†é¢ä¸å°å¤šå›¾",
    "text": "åˆ†é¢ä¸å°å¤šå›¾\n\nfacet_wrap æŒ‰äº§å“åˆ†é¢\n\nggplot(sales_long, aes(x = date, y = sales)) +\n    geom_line(aes(color = product), linewidth = 1) +\n    facet_wrap(~product, ncol = 1, scales = \"free_y\") +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"å„äº§å“é”€å”®è¶‹åŠ¿ï¼ˆç‹¬ç«‹çºµè½´ï¼‰\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ è¶‹åŠ¿èƒŒæ™¯\n\n# æ·»åŠ æ•´ä½“è¶‹åŠ¿ä½œä¸ºèƒŒæ™¯\nggplot() +\n    # èƒŒæ™¯ï¼šæ‰€æœ‰æ•°æ®ï¼ˆæµ…è‰²ï¼‰\n    geom_line(\n        data = sales_long, aes(x = date, y = sales, group = product),\n        color = \"gray80\", linewidth = 0.5\n    ) +\n    # å‰æ™¯ï¼šå½“å‰åˆ†é¢æ•°æ®ï¼ˆæ·±è‰²ï¼‰\n    geom_line(\n        data = sales_long, aes(x = date, y = sales, color = product),\n        linewidth = 1\n    ) +\n    facet_wrap(~product, ncol = 1) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"å„äº§å“é”€å”®è¶‹åŠ¿å¯¹æ¯”\",\n        subtitle = \"ç°è‰²çº¿æ¡ä¸ºå…¶ä»–äº§å“è¶‹åŠ¿\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme(\n        legend.position = \"none\",\n        panel.grid.minor = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#å¹³æ»‘æ›²çº¿ä¸è¶‹åŠ¿æ‹Ÿåˆ",
    "href": "2029-bindlineplot.html#å¹³æ»‘æ›²çº¿ä¸è¶‹åŠ¿æ‹Ÿåˆ",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "å¹³æ»‘æ›²çº¿ä¸è¶‹åŠ¿æ‹Ÿåˆ",
    "text": "å¹³æ»‘æ›²çº¿ä¸è¶‹åŠ¿æ‹Ÿåˆ\n\nå±€éƒ¨å›å½’å¹³æ»‘ (LOESS)\n\n# æ·»åŠ å™ªå£°æ•°æ®\nset.seed(123)\nnoisy_data &lt;- data.frame(\n    x = 1:100,\n    y = sin(1:100 / 10) * 10 + rnorm(100, 0, 2)\n)\n\nggplot(noisy_data, aes(x = x, y = y)) +\n    geom_point(color = \"gray60\", alpha = 0.6) +\n    geom_smooth(\n        method = \"loess\", span = 0.3, color = \"#4e79a7\",\n        fill = \"#4e79a7\", alpha = 0.2\n    ) +\n    labs(\n        title = \"LOESS å¹³æ»‘æ›²çº¿\",\n        subtitle = \"span = 0.3ï¼Œé˜´å½±ä¸ºç½®ä¿¡åŒºé—´\",\n        x = \"X\",\n        y = \"Y\"\n    )\n\n\n\n\n\n\n\n\n\n\nçº¿æ€§è¶‹åŠ¿æ‹Ÿåˆ\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_point(color = \"#4e79a7\", alpha = 0.6) +\n    geom_line(color = \"#4e79a7\", alpha = 0.3) +\n    geom_smooth(method = \"lm\", color = \"#e15759\", fill = \"#e15759\", alpha = 0.2) +\n    labs(\n        title = \"é”€å”®é¢çº¿æ€§è¶‹åŠ¿\",\n        subtitle = \"çº¢è‰²ä¸ºçº¿æ€§æ‹ŸåˆåŠ 95% ç½®ä¿¡åŒºé—´\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#é˜¶æ¢¯å›¾ä¸å˜åŒ–å¼ºè°ƒ",
    "href": "2029-bindlineplot.html#é˜¶æ¢¯å›¾ä¸å˜åŒ–å¼ºè°ƒ",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "é˜¶æ¢¯å›¾ä¸å˜åŒ–å¼ºè°ƒ",
    "text": "é˜¶æ¢¯å›¾ä¸å˜åŒ–å¼ºè°ƒ\n\né˜¶æ¢¯æŠ˜çº¿å›¾\n\n# é˜¶æ¢¯å›¾é€‚åˆå±•ç¤ºç¦»æ•£å˜åŒ–\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_step(color = \"#4e79a7\", linewidth = 1) +\n    geom_point(color = \"#4e79a7\", size = 2) +\n    labs(\n        title = \"äº§å“ A ä»·æ ¼å˜åŠ¨ï¼ˆé˜¶æ¢¯å›¾ï¼‰\",\n        subtitle = \"é˜¶æ¢¯å›¾å¼ºè°ƒç¦»æ•£æ—¶é—´ç‚¹çš„å€¼å˜åŒ–\",\n        x = \"æ—¥æœŸ\",\n        y = \"ä»·æ ¼ï¼ˆå…ƒï¼‰\"\n    )\n\n\n\n\n\n\n\n\n\n\né«˜äº®å…³é”®åŒºé—´\n\n# è¯†åˆ«å¢é•¿å’Œä¸‹é™åŒºé—´\nsales_data &lt;- sales_data %&gt;%\n    mutate(\n        change = product_A - lag(product_A),\n        direction = ifelse(change &gt;= 0, \"å¢é•¿\", \"ä¸‹é™\")\n    )\n\nggplot(sales_data, aes(x = date, y = product_A)) +\n    geom_line(color = \"gray50\", linewidth = 0.5) +\n    geom_point(aes(color = direction), size = 3) +\n    scale_color_manual(values = c(\"å¢é•¿\" = \"#59a14f\", \"ä¸‹é™\" = \"#e15759\"), na.value = \"gray\") +\n    labs(\n        title = \"é”€å”®é¢å¢å‡å˜åŒ–\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\",\n        color = \"å˜åŒ–æ–¹å‘\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#é«˜çº§ç¾åŒ–æŠ€å·§",
    "href": "2029-bindlineplot.html#é«˜çº§ç¾åŒ–æŠ€å·§",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "é«˜çº§ç¾åŒ–æŠ€å·§",
    "text": "é«˜çº§ç¾åŒ–æŠ€å·§\n\nè‡ªå®šä¹‰èƒŒæ™¯ç½‘æ ¼\n\nggplot(sales_long, aes(x = date, y = sales, color = product)) +\n    geom_line(linewidth = 1) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"äº§å“é”€å”®è¶‹åŠ¿\",\n        x = NULL,\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme_minimal(base_size = 14) +\n    theme(\n        panel.grid.major.y = element_line(color = \"gray90\", linewidth = 0.5),\n        panel.grid.minor.y = element_blank(),\n        panel.grid.major.x = element_blank(),\n        panel.grid.minor.x = element_blank(),\n        legend.position = \"top\",\n        plot.title = element_text(face = \"bold\", size = 16),\n        axis.line.x = element_line(color = \"gray40\")\n    )\n\n\n\n\n\n\n\n\n\n\næ¸å˜è‰²æŠ˜çº¿\n\n# ä½¿ç”¨é¢œè‰²è¡¨ç¤ºå¦ä¸€ä¸ªå˜é‡\nsales_data$intensity &lt;- sales_data$product_A / max(sales_data$product_A)\n\nggplot(sales_data, aes(x = date, y = product_A, color = intensity)) +\n    geom_line(linewidth = 1.5) +\n    scale_color_gradient2(low = \"#2166ac\", mid = \"#f7f7f7\", high = \"#b2182b\", midpoint = 0.5) +\n    labs(\n        title = \"é”€å”®é¢çƒ­åº¦å›¾\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\",\n        color = \"ç›¸å¯¹å¼ºåº¦\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#äº¤äº’å¼æŠ˜çº¿å›¾-plotly",
    "href": "2029-bindlineplot.html#äº¤äº’å¼æŠ˜çº¿å›¾-plotly",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’å¼æŠ˜çº¿å›¾ (plotly)",
    "text": "äº¤äº’å¼æŠ˜çº¿å›¾ (plotly)\n\nåŸºç¡€äº¤äº’å›¾\n\nlibrary(plotly)\n\n# åˆ›å»ºåŸºç¡€ ggplot\np &lt;- ggplot(sales_long, aes(x = date, y = sales, color = product)) +\n    geom_line(linewidth = 0.8) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(\n        title = \"äº§å“é”€å”®è¶‹åŠ¿ï¼ˆäº¤äº’å¼ï¼‰\",\n        x = \"æ—¥æœŸ\",\n        y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\"\n    ) +\n    theme_minimal()\n\n# è½¬æ¢ä¸º plotly\nggplotly(p, tooltip = c(\"x\", \"y\", \"color\"))\n\n\n\n\n\n\n\nè‡ªå®šä¹‰æ‚¬åœä¿¡æ¯\n\n# æ·»åŠ è‡ªå®šä¹‰æ‚¬åœæ–‡æœ¬\nsales_long &lt;- sales_long %&gt;%\n    mutate(\n        hover_text = paste0(\n            \"&lt;b&gt;\", product, \"&lt;/b&gt;&lt;br&gt;\",\n            \"æ—¥æœŸ: \", format(date, \"%Yå¹´%mæœˆ\"), \"&lt;br&gt;\",\n            \"é”€å”®é¢: \", round(sales, 1), \" ä¸‡å…ƒ\"\n        )\n    )\n\np2 &lt;- ggplot(sales_long, aes(x = date, y = sales, color = product, text = hover_text)) +\n    geom_line(linewidth = 0.8) +\n    scale_color_manual(values = c(\"#4e79a7\", \"#f28e2b\", \"#59a14f\")) +\n    labs(title = \"äº§å“é”€å”®è¶‹åŠ¿\", x = \"æ—¥æœŸ\", y = \"é”€å”®é¢ï¼ˆä¸‡å…ƒï¼‰\") +\n    theme_minimal()\n\nggplotly(p2, tooltip = \"text\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#å®æˆ˜æ¡ˆä¾‹ç–«æƒ…æ›²çº¿",
    "href": "2029-bindlineplot.html#å®æˆ˜æ¡ˆä¾‹ç–«æƒ…æ›²çº¿",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "å®æˆ˜æ¡ˆä¾‹ï¼šç–«æƒ…æ›²çº¿",
    "text": "å®æˆ˜æ¡ˆä¾‹ï¼šç–«æƒ…æ›²çº¿\n\n# æ¨¡æ‹Ÿç–«æƒ…æ•°æ®\nset.seed(2020)\ndates &lt;- seq(as.Date(\"2020-01-20\"), as.Date(\"2020-06-30\"), by = \"day\")\nn_days &lt;- length(dates)\n\ncovid_data &lt;- data.frame(\n    date = dates,\n    new_cases = c(\n        rpois(30, 50), # åˆæœŸ\n        rpois(30, 500), # çˆ†å‘æœŸ\n        rpois(30, 2000), # é«˜å³°\n        rpois(30, 800), # ä¸‹é™\n        rpois(n_days - 120, 100) # å¹³ç¨³ï¼ˆåŠ¨æ€è®¡ç®—å‰©ä½™å¤©æ•°ï¼‰\n    )\n)\n\n# è®¡ç®—7æ—¥ç§»åŠ¨å¹³å‡\ncovid_data &lt;- covid_data %&gt;%\n    mutate(\n        ma7 = zoo::rollmean(new_cases, k = 7, fill = NA, align = \"right\"),\n        cumulative = cumsum(new_cases)\n    )\n\n# ç»‘åˆ¶\np_cases &lt;- ggplot(covid_data, aes(x = date)) +\n    geom_col(aes(y = new_cases), fill = \"steelblue\", alpha = 0.4, width = 1) +\n    geom_line(aes(y = ma7), color = \"darkred\", linewidth = 1.2) +\n    annotate(\"text\",\n        x = as.Date(\"2020-05-01\"), y = max(covid_data$new_cases, na.rm = TRUE) * 0.9,\n        label = \"7æ—¥ç§»åŠ¨å¹³å‡\", color = \"darkred\", fontface = \"bold\"\n    ) +\n    labs(\n        title = \"æ¯æ—¥æ–°å¢ç—…ä¾‹\",\n        x = NULL,\n        y = \"ç—…ä¾‹æ•°\"\n    )\n\np_cum &lt;- ggplot(covid_data, aes(x = date, y = cumulative)) +\n    geom_area(fill = \"steelblue\", alpha = 0.3) +\n    geom_line(color = \"steelblue\", linewidth = 1) +\n    labs(\n        title = \"ç´¯è®¡ç—…ä¾‹æ•°\",\n        x = \"æ—¥æœŸ\",\n        y = \"ç´¯è®¡ç—…ä¾‹\"\n    )\n\n# ç»„åˆ\nlibrary(patchwork)\np_cases / p_cum +\n    plot_annotation(\n        title = \"ç–«æƒ…å‘å±•æ›²çº¿\",\n        subtitle = \"2020å¹´1æœˆè‡³6æœˆæ•°æ®\",\n        theme = theme(\n            plot.title = element_text(size = 18, face = \"bold\"),\n            plot.subtitle = element_text(size = 12, color = \"gray50\")\n        )\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2029-bindlineplot.html#æ€»ç»“",
    "href": "2029-bindlineplot.html#æ€»ç»“",
    "title": "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èæ–¹æ³•\n\n\n\n\nå•ç»„è¶‹åŠ¿\ngeom_line() + geom_point()\n\n\nå¤šç»„å¯¹æ¯”\né•¿æ ¼å¼ + color æ˜ å°„\n\n\nè¯¯å·®å±•ç¤º\ngeom_ribbon() æˆ– geom_errorbar()\n\n\næ ‡æ³¨äº‹ä»¶\ngeom_vline() + annotate()\n\n\næ—¶é—´æ ¼å¼\nscale_x_date()\n\n\nåˆ†é¢å±•ç¤º\nfacet_wrap()\n\n\nè¶‹åŠ¿æ‹Ÿåˆ\ngeom_smooth()\n\n\näº¤äº’å¼\nplotly::ggplotly()\n\n\n\n\n[!TIP] é…è‰²å»ºè®®ï¼šæŠ˜çº¿å›¾é€šå¸¸ä½¿ç”¨ 5 ç§ä»¥å†…çš„é¢œè‰²ï¼Œè¿‡å¤šä¼šå½±å“å¯è¯»æ€§ã€‚æ¨èä½¿ç”¨ RColorBrewer æˆ– Tableau é…è‰²æ–¹æ¡ˆã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html",
    "href": "2027-bindhistogram.html",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç›´æ–¹å›¾å’Œå¯†åº¦å›¾æ˜¯æ¢ç´¢è¿ç»­å˜é‡åˆ†å¸ƒç‰¹å¾çš„æ ¸å¿ƒå·¥å…·ï¼š\n\n\n\nå›¾è¡¨ç±»å‹\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\nç›´æ–¹å›¾\nç¦»æ•£åˆ†ç®±ï¼Œç›´è§‚æ˜“æ‡‚\næ•°æ®æ¢ç´¢ã€åˆ†å¸ƒå½¢æ€\n\n\nå¯†åº¦å›¾\nå¹³æ»‘æ›²çº¿ï¼Œä¾¿äºæ¯”è¾ƒ\nå¤šç»„æ¯”è¾ƒã€åˆ†å¸ƒå åŠ \n\n\nå²­çº¿å›¾\nå¤šåˆ†å¸ƒå †å å±•ç¤º\nå¤šç±»åˆ«åˆ†å¸ƒæ¯”è¾ƒ\n\n\né¢‘ç‡å¤šè¾¹å½¢\næŠ˜çº¿è¿æ¥é¢‘ç‡\nå¤šç»„åˆ†å¸ƒå åŠ \n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\n\n# ä½¿ç”¨é’»çŸ³æ•°æ®é›†\ndata(diamonds)\n# å–å­é›†åŠ å¿«è¿è¡Œ\nset.seed(42)\ndiamonds_sample &lt;- diamonds[sample(nrow(diamonds), 5000), ]",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#ç®€ä»‹",
    "href": "2027-bindhistogram.html#ç®€ä»‹",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç›´æ–¹å›¾å’Œå¯†åº¦å›¾æ˜¯æ¢ç´¢è¿ç»­å˜é‡åˆ†å¸ƒç‰¹å¾çš„æ ¸å¿ƒå·¥å…·ï¼š\n\n\n\nå›¾è¡¨ç±»å‹\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\nç›´æ–¹å›¾\nç¦»æ•£åˆ†ç®±ï¼Œç›´è§‚æ˜“æ‡‚\næ•°æ®æ¢ç´¢ã€åˆ†å¸ƒå½¢æ€\n\n\nå¯†åº¦å›¾\nå¹³æ»‘æ›²çº¿ï¼Œä¾¿äºæ¯”è¾ƒ\nå¤šç»„æ¯”è¾ƒã€åˆ†å¸ƒå åŠ \n\n\nå²­çº¿å›¾\nå¤šåˆ†å¸ƒå †å å±•ç¤º\nå¤šç±»åˆ«åˆ†å¸ƒæ¯”è¾ƒ\n\n\né¢‘ç‡å¤šè¾¹å½¢\næŠ˜çº¿è¿æ¥é¢‘ç‡\nå¤šç»„åˆ†å¸ƒå åŠ \n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\n\n# ä½¿ç”¨é’»çŸ³æ•°æ®é›†\ndata(diamonds)\n# å–å­é›†åŠ å¿«è¿è¡Œ\nset.seed(42)\ndiamonds_sample &lt;- diamonds[sample(nrow(diamonds), 5000), ]",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#åŸºç¡€ç›´æ–¹å›¾",
    "href": "2027-bindhistogram.html#åŸºç¡€ç›´æ–¹å›¾",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ç›´æ–¹å›¾",
    "text": "åŸºç¡€ç›´æ–¹å›¾\n\næœ€ç®€å•çš„ç›´æ–¹å›¾\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram() +\n    labs(\n        title = \"é’»çŸ³ä»·æ ¼åˆ†å¸ƒ\",\n        x = \"ä»·æ ¼ (ç¾å…ƒ)\",\n        y = \"é¢‘æ•°\"\n    )\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´åˆ†ç®±æ•°\nåˆ†ç®±æ•°ï¼ˆbinsï¼‰æˆ–åˆ†ç®±å®½åº¦ï¼ˆbinwidthï¼‰æ˜¯ç›´æ–¹å›¾æœ€é‡è¦çš„å‚æ•°ã€‚\n\n# æŒ‡å®šåˆ†ç®±æ•°\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(bins = 50, fill = \"#4f46e5\", color = \"white\") +\n    labs(title = \"50 ä¸ªåˆ†ç®±\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n# æŒ‡å®šåˆ†ç®±å®½åº¦\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(binwidth = 500, fill = \"#22c55e\", color = \"white\") +\n    labs(title = \"åˆ†ç®±å®½åº¦ = $500\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\né€‰æ‹©åˆé€‚çš„åˆ†ç®±æ•°\n\n# å¯¹æ¯”ä¸åŒåˆ†ç®±æ•°çš„æ•ˆæœ\nlibrary(patchwork)\n\np1 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(bins = 10, fill = \"#f59e0b\") +\n    labs(title = \"bins = 10\") +\n    theme_minimal()\n\np2 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(bins = 30, fill = \"#3b82f6\") +\n    labs(title = \"bins = 30\") +\n    theme_minimal()\n\np3 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(bins = 100, fill = \"#22c55e\") +\n    labs(title = \"bins = 100\") +\n    theme_minimal()\n\np1 + p2 + p3\n\n\n\n\n\n\n\n\n\n[!TIP] åˆ†ç®±é€‰æ‹©å»ºè®®ï¼š - å¤ªå°‘ï¼šä¸¢å¤±åˆ†å¸ƒç»†èŠ‚ - å¤ªå¤šï¼šå™ªå£°è¿‡å¤§ - ç»éªŒæ³•åˆ™ï¼šâˆšn æˆ– Sturges å…¬å¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#åˆ†ç»„ç›´æ–¹å›¾",
    "href": "2027-bindhistogram.html#åˆ†ç»„ç›´æ–¹å›¾",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "åˆ†ç»„ç›´æ–¹å›¾",
    "text": "åˆ†ç»„ç›´æ–¹å›¾\n\næŒ‰ç»„å¡«å……é¢œè‰²\n\nggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_histogram(bins = 30, position = \"stack\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"æŒ‰åˆ‡å·¥åˆ†ç»„çš„ä»·æ ¼åˆ†å¸ƒ\",\n        fill = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„ä½ç½®é€‰é¡¹\n\n# å †å  (stack) - é»˜è®¤\np1 &lt;- ggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_histogram(bins = 30, position = \"stack\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"å †å  (stack)\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\n# é‡å é€æ˜ (identity)\np2 &lt;- ggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_histogram(bins = 30, position = \"identity\", alpha = 0.5) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"é‡å é€æ˜ (identity)\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\n# å¹¶åˆ— (dodge)\np3 &lt;- ggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_histogram(bins = 20, position = \"dodge\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"å¹¶åˆ— (dodge)\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\np1 + p2 + p3\n\n\n\n\n\n\n\n\n\n\nåˆ†é¢ç›´æ–¹å›¾\n\nggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_histogram(bins = 30, color = \"white\") +\n    facet_wrap(~cut, ncol = 1, scales = \"free_y\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"åˆ†é¢ç›´æ–¹å›¾\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#å¯†åº¦å›¾",
    "href": "2027-bindhistogram.html#å¯†åº¦å›¾",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "å¯†åº¦å›¾",
    "text": "å¯†åº¦å›¾\n\nåŸºç¡€å¯†åº¦å›¾\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_density(fill = \"#4f46e5\", alpha = 0.5) +\n    labs(\n        title = \"é’»çŸ³ä»·æ ¼å¯†åº¦åˆ†å¸ƒ\",\n        x = \"ä»·æ ¼\",\n        y = \"å¯†åº¦\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´å¸¦å®½ (bandwidth)\nå¸¦å®½æ§åˆ¶å¯†åº¦æ›²çº¿çš„å¹³æ»‘ç¨‹åº¦ã€‚\n\np1 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_density(fill = \"#ef4444\", alpha = 0.5, bw = 100) +\n    labs(title = \"bw = 100 (æ¬ å¹³æ»‘)\") +\n    theme_minimal()\n\np2 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_density(fill = \"#22c55e\", alpha = 0.5, bw = 500) +\n    labs(title = \"bw = 500 (é€‚ä¸­)\") +\n    theme_minimal()\n\np3 &lt;- ggplot(diamonds_sample, aes(x = price)) +\n    geom_density(fill = \"#3b82f6\", alpha = 0.5, bw = 2000) +\n    labs(title = \"bw = 2000 (è¿‡å¹³æ»‘)\") +\n    theme_minimal()\n\np1 + p2 + p3\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„å¯†åº¦å›¾\n\nggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_density(alpha = 0.5) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"æŒ‰åˆ‡å·¥åˆ†ç»„çš„ä»·æ ¼å¯†åº¦åˆ†å¸ƒ\",\n        fill = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nä»…æ˜¾ç¤ºè½®å»“çº¿\n\nggplot(diamonds_sample, aes(x = price, color = cut)) +\n    geom_density(linewidth = 1) +\n    scale_color_lancet() +\n    labs(\n        title = \"å¯†åº¦æ›²çº¿æ¯”è¾ƒ\",\n        color = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#ç›´æ–¹å›¾-å¯†åº¦æ›²çº¿",
    "href": "2027-bindhistogram.html#ç›´æ–¹å›¾-å¯†åº¦æ›²çº¿",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "ç›´æ–¹å›¾ + å¯†åº¦æ›²çº¿",
    "text": "ç›´æ–¹å›¾ + å¯†åº¦æ›²çº¿\n\nå åŠ æ˜¾ç¤º\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(\n        aes(y = after_stat(density)), # è½¬æ¢ä¸ºå¯†åº¦\n        bins = 50,\n        fill = \"#94a3b8\",\n        color = \"white\"\n    ) +\n    geom_density(color = \"#ef4444\", linewidth = 1.2) +\n    labs(\n        title = \"ç›´æ–¹å›¾ + å¯†åº¦æ›²çº¿\",\n        x = \"ä»·æ ¼\",\n        y = \"å¯†åº¦\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„å åŠ \n\ndiamonds_subset &lt;- diamonds_sample %&gt;%\n    filter(cut %in% c(\"Fair\", \"Ideal\"))\n\nggplot(diamonds_subset, aes(x = price, fill = cut)) +\n    geom_histogram(\n        aes(y = after_stat(density)),\n        bins = 30,\n        position = \"identity\",\n        alpha = 0.4\n    ) +\n    geom_density(aes(color = cut), linewidth = 1) +\n    scale_fill_manual(values = c(\"#ef4444\", \"#3b82f6\")) +\n    scale_color_manual(values = c(\"#b91c1c\", \"#1d4ed8\")) +\n    labs(\n        title = \"ä¸¤ç»„åˆ†å¸ƒå¯¹æ¯”\",\n        fill = \"åˆ‡å·¥\",\n        color = \"åˆ‡å·¥\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#é¢‘ç‡å¤šè¾¹å½¢",
    "href": "2027-bindhistogram.html#é¢‘ç‡å¤šè¾¹å½¢",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "é¢‘ç‡å¤šè¾¹å½¢",
    "text": "é¢‘ç‡å¤šè¾¹å½¢\né¢‘ç‡å¤šè¾¹å½¢ä½¿ç”¨æŠ˜çº¿è¿æ¥å„åˆ†ç®±çš„é¢‘ç‡ï¼Œé€‚åˆå¤šç»„æ¯”è¾ƒã€‚\n\nggplot(diamonds_sample, aes(x = price, color = cut)) +\n    geom_freqpoly(bins = 30, linewidth = 1) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(\n        title = \"é¢‘ç‡å¤šè¾¹å½¢\",\n        color = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#å²­çº¿å›¾-ridgeline-plot",
    "href": "2027-bindhistogram.html#å²­çº¿å›¾-ridgeline-plot",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "å²­çº¿å›¾ (Ridgeline Plot)",
    "text": "å²­çº¿å›¾ (Ridgeline Plot)\nå²­çº¿å›¾æ˜¯å±•ç¤ºå¤šç»„åˆ†å¸ƒçš„ä¼˜é›…æ–¹å¼ã€‚\n\n# install.packages(\"ggridges\")\nlibrary(ggridges)\n\nggplot(diamonds_sample, aes(x = price, y = cut, fill = cut)) +\n    geom_density_ridges(alpha = 0.7) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"å²­çº¿å›¾ï¼šå„åˆ‡å·¥ç­‰çº§çš„ä»·æ ¼åˆ†å¸ƒ\",\n        x = \"ä»·æ ¼\",\n        y = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\næ¸å˜å¡«å……å²­çº¿å›¾\n\nggplot(diamonds_sample, aes(x = price, y = cut, fill = after_stat(x))) +\n    geom_density_ridges_gradient(scale = 2) +\n    scale_fill_viridis_c(option = \"plasma\") +\n    labs(\n        title = \"æ¸å˜å¡«å……å²­çº¿å›¾\",\n        x = \"ä»·æ ¼\",\n        y = \"åˆ‡å·¥ç­‰çº§\"\n    ) +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\nåˆ†ä½æ•°å²­çº¿å›¾\n\nggplot(diamonds_sample, aes(x = price, y = cut, fill = factor(after_stat(quantile)))) +\n    stat_density_ridges(\n        geom = \"density_ridges_gradient\",\n        calc_ecdf = TRUE,\n        quantiles = 4,\n        quantile_lines = TRUE\n    ) +\n    scale_fill_viridis_d(name = \"å››åˆ†ä½\", option = \"plasma\") +\n    labs(\n        title = \"åˆ†ä½æ•°å²­çº¿å›¾\",\n        subtitle = \"å±•ç¤ºå„ç»„çš„å››åˆ†ä½åˆ†å¸ƒ\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#ç´¯ç§¯åˆ†å¸ƒå‡½æ•°-ecdf",
    "href": "2027-bindhistogram.html#ç´¯ç§¯åˆ†å¸ƒå‡½æ•°-ecdf",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (ECDF)",
    "text": "ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (ECDF)\n\nggplot(diamonds_sample, aes(x = price, color = cut)) +\n    stat_ecdf(linewidth = 1) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(\n        title = \"ç»éªŒç´¯ç§¯åˆ†å¸ƒå‡½æ•° (ECDF)\",\n        x = \"ä»·æ ¼\",\n        y = \"ç´¯ç§¯æ¦‚ç‡\",\n        color = \"åˆ‡å·¥\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#qq-å›¾",
    "href": "2027-bindhistogram.html#qq-å›¾",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "QQ å›¾",
    "text": "QQ å›¾\nç”¨äºæ£€éªŒæ•°æ®æ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚\n\n# å–å•ä¸€ç»„æ•°æ®\nideal_prices &lt;- diamonds_sample$price[diamonds_sample$cut == \"Ideal\"]\n\nggplot(data.frame(x = ideal_prices), aes(sample = x)) +\n    stat_qq(color = \"#4f46e5\") +\n    stat_qq_line(color = \"#ef4444\") +\n    labs(\n        title = \"QQ å›¾ï¼šæ£€éªŒæ­£æ€æ€§\",\n        subtitle = \"ç‚¹åç¦»çº¿è¡¨ç¤ºéæ­£æ€\",\n        x = \"ç†è®ºåˆ†ä½æ•°\",\n        y = \"æ ·æœ¬åˆ†ä½æ•°\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\nåˆ†ç»„ QQ å›¾\n\nggplot(diamonds_sample, aes(sample = price, color = cut)) +\n    stat_qq(alpha = 0.5) +\n    stat_qq_line() +\n    scale_color_brewer(palette = \"Set1\") +\n    facet_wrap(~cut) +\n    labs(title = \"åˆ†ç»„ QQ å›¾\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "href": "2027-bindhistogram.html#æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "text": "æ·»åŠ ç»Ÿè®¡ä¿¡æ¯\n\næ·»åŠ å‡å€¼çº¿\n\nmean_price &lt;- mean(diamonds_sample$price)\nmedian_price &lt;- median(diamonds_sample$price)\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(bins = 50, fill = \"#94a3b8\", color = \"white\") +\n    geom_vline(xintercept = mean_price, color = \"#ef4444\", linetype = \"dashed\", linewidth = 1) +\n    geom_vline(xintercept = median_price, color = \"#3b82f6\", linetype = \"dashed\", linewidth = 1) +\n    annotate(\"text\", x = mean_price + 500, y = 300, label = paste0(\"å‡å€¼: $\", round(mean_price)), color = \"#ef4444\") +\n    annotate(\"text\", x = median_price - 500, y = 280, label = paste0(\"ä¸­ä½æ•°: $\", round(median_price)), color = \"#3b82f6\") +\n    labs(title = \"æ·»åŠ å‡å€¼å’Œä¸­ä½æ•°æ ‡æ³¨\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ­£æ€æ›²çº¿å‚è€ƒ\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(\n        aes(y = after_stat(density)),\n        bins = 50,\n        fill = \"#94a3b8\",\n        color = \"white\"\n    ) +\n    stat_function(\n        fun = dnorm,\n        args = list(mean = mean(diamonds_sample$price), sd = sd(diamonds_sample$price)),\n        color = \"#ef4444\",\n        linewidth = 1.2\n    ) +\n    labs(\n        title = \"ä¸æ­£æ€åˆ†å¸ƒæ¯”è¾ƒ\",\n        subtitle = \"çº¢çº¿ä¸ºåŒå‡å€¼æ ‡å‡†å·®çš„æ­£æ€åˆ†å¸ƒ\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#ç¾åŒ–ä¸ä¸“ä¸šå›¾è¡¨",
    "href": "2027-bindhistogram.html#ç¾åŒ–ä¸ä¸“ä¸šå›¾è¡¨",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "ç¾åŒ–ä¸ä¸“ä¸šå›¾è¡¨",
    "text": "ç¾åŒ–ä¸ä¸“ä¸šå›¾è¡¨\n\nä¸“ä¸šæ ·å¼ç›´æ–¹å›¾\n\nggplot(diamonds_sample, aes(x = price)) +\n    geom_histogram(\n        bins = 40,\n        fill = \"#4f46e5\",\n        color = \"white\",\n        alpha = 0.8\n    ) +\n    geom_density(\n        aes(y = after_stat(count) * 500), # ç¼©æ”¾å¯†åº¦æ›²çº¿\n        color = \"#f59e0b\",\n        linewidth = 1.2\n    ) +\n    scale_x_continuous(labels = scales::dollar_format()) +\n    labs(\n        title = \"é’»çŸ³ä»·æ ¼åˆ†å¸ƒåˆ†æ\",\n        subtitle = \"åŸºäº 5,000 é¢—é’»çŸ³æ ·æœ¬\",\n        x = \"ä»·æ ¼\",\n        y = \"é¢‘æ•°\",\n        caption = \"æ•°æ®æ¥æºï¼šggplot2 diamonds æ•°æ®é›†\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        plot.title = element_text(face = \"bold\", size = 14),\n        plot.subtitle = element_text(color = \"gray50\"),\n        panel.grid.minor = element_blank()\n    )\n\n\n\n\n\n\n\n\n\n\né•œåƒç›´æ–¹å›¾ï¼ˆå¯¹æ¯”ä¸¤ç»„ï¼‰\n\n# å‡†å¤‡æ•°æ®\nfair_diamonds &lt;- diamonds_sample %&gt;%\n    filter(cut == \"Fair\") %&gt;%\n    mutate(y = 1)\nideal_diamonds &lt;- diamonds_sample %&gt;%\n    filter(cut == \"Ideal\") %&gt;%\n    mutate(y = -1)\n\nggplot() +\n    geom_histogram(\n        data = fair_diamonds,\n        aes(x = price, y = after_stat(count)),\n        bins = 30,\n        fill = \"#ef4444\",\n        alpha = 0.7\n    ) +\n    geom_histogram(\n        data = ideal_diamonds,\n        aes(x = price, y = -after_stat(count)),\n        bins = 30,\n        fill = \"#3b82f6\",\n        alpha = 0.7\n    ) +\n    geom_hline(yintercept = 0, color = \"black\") +\n    scale_y_continuous(labels = abs) +\n    annotate(\"text\", x = 15000, y = 100, label = \"Fair\", color = \"#ef4444\", size = 5, fontface = \"bold\") +\n    annotate(\"text\", x = 15000, y = -100, label = \"Ideal\", color = \"#3b82f6\", size = 5, fontface = \"bold\") +\n    labs(\n        title = \"é•œåƒç›´æ–¹å›¾ï¼šFair vs Ideal åˆ‡å·¥æ¯”è¾ƒ\",\n        x = \"ä»·æ ¼\",\n        y = \"é¢‘æ•°\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#ä¿å­˜å›¾ç‰‡",
    "href": "2027-bindhistogram.html#ä¿å­˜å›¾ç‰‡",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "ä¿å­˜å›¾ç‰‡",
    "text": "ä¿å­˜å›¾ç‰‡\n\np &lt;- ggplot(diamonds_sample, aes(x = price, fill = cut)) +\n    geom_density(alpha = 0.5) +\n    scale_fill_brewer(palette = \"Set2\") +\n    theme_minimal()\n\n# PNG\nggsave(\"density_plot.png\", p, width = 10, height = 6, dpi = 300)\n\n# PDF\nggsave(\"density_plot.pdf\", p, width = 10, height = 6)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2027-bindhistogram.html#æ€»ç»“",
    "href": "2027-bindhistogram.html#æ€»ç»“",
    "title": "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èå›¾è¡¨\n\n\n\n\nå•å˜é‡åˆ†å¸ƒæ¢ç´¢\nç›´æ–¹å›¾\n\n\nå¤šç»„åˆ†å¸ƒæ¯”è¾ƒ\nå¯†åº¦å›¾/é¢‘ç‡å¤šè¾¹å½¢\n\n\nå¤šç±»åˆ«åˆ†å¸ƒå±•ç¤º\nå²­çº¿å›¾\n\n\næ­£æ€æ€§æ£€éªŒ\nQQ å›¾\n\n\nåˆ†å¸ƒå½¢æ€è¯¦è§£\nç›´æ–¹å›¾ + å¯†åº¦æ›²çº¿\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. åˆç†é€‰æ‹©åˆ†ç®±æ•°/å¸¦å®½ 2. å¤šç»„æ¯”è¾ƒæ—¶ä½¿ç”¨é€æ˜åº¦ 3. æ·»åŠ å‡å€¼/ä¸­ä½æ•°å‚è€ƒçº¿ 4. è€ƒè™‘ä½¿ç”¨å²­çº¿å›¾å±•ç¤ºå¤šç»„åˆ†å¸ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç›´æ–¹å›¾ä¸å¯†åº¦å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html",
    "href": "2025-bindboxplot.html",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç®±çº¿å›¾ï¼ˆBox Plotï¼‰å’Œå°æç´å›¾ï¼ˆViolin Plotï¼‰æ˜¯å±•ç¤ºæ•°æ®åˆ†å¸ƒç‰¹å¾çš„é‡è¦å¯è§†åŒ–å·¥å…·ï¼š\n\n\n\n\n\n\n\n\n\nå›¾è¡¨ç±»å‹\nå±•ç¤ºä¿¡æ¯\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nç®±çº¿å›¾\nä¸­ä½æ•°ã€å››åˆ†ä½æ•°ã€å¼‚å¸¸å€¼\nç®€æ´ã€æ˜“è§£è¯»\næ— æ³•çœ‹åˆ°åˆ†å¸ƒå½¢æ€\n\n\nå°æç´å›¾\nå®Œæ•´çš„å¯†åº¦åˆ†å¸ƒ\nåˆ†å¸ƒå½¢æ€æ¸…æ™°\nä¸ç›´è§‚ã€éœ€è¦è§£é‡Š\n\n\næŠ–åŠ¨ç‚¹å›¾\næ¯ä¸ªæ•°æ®ç‚¹\nå¯è§æ ·æœ¬é‡å’Œåˆ†å¸ƒ\næ•°æ®é‡å¤§æ—¶æ··ä¹±\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci) # ç§‘å­¦æœŸåˆŠé…è‰²\n\n# ä½¿ç”¨ iris æ•°æ®é›†\ndata(iris)\nhead(iris)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#ç®€ä»‹",
    "href": "2025-bindboxplot.html#ç®€ä»‹",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç®±çº¿å›¾ï¼ˆBox Plotï¼‰å’Œå°æç´å›¾ï¼ˆViolin Plotï¼‰æ˜¯å±•ç¤ºæ•°æ®åˆ†å¸ƒç‰¹å¾çš„é‡è¦å¯è§†åŒ–å·¥å…·ï¼š\n\n\n\n\n\n\n\n\n\nå›¾è¡¨ç±»å‹\nå±•ç¤ºä¿¡æ¯\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nç®±çº¿å›¾\nä¸­ä½æ•°ã€å››åˆ†ä½æ•°ã€å¼‚å¸¸å€¼\nç®€æ´ã€æ˜“è§£è¯»\næ— æ³•çœ‹åˆ°åˆ†å¸ƒå½¢æ€\n\n\nå°æç´å›¾\nå®Œæ•´çš„å¯†åº¦åˆ†å¸ƒ\nåˆ†å¸ƒå½¢æ€æ¸…æ™°\nä¸ç›´è§‚ã€éœ€è¦è§£é‡Š\n\n\næŠ–åŠ¨ç‚¹å›¾\næ¯ä¸ªæ•°æ®ç‚¹\nå¯è§æ ·æœ¬é‡å’Œåˆ†å¸ƒ\næ•°æ®é‡å¤§æ—¶æ··ä¹±\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci) # ç§‘å­¦æœŸåˆŠé…è‰²\n\n# ä½¿ç”¨ iris æ•°æ®é›†\ndata(iris)\nhead(iris)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n5          5.0         3.6          1.4         0.2  setosa\n6          5.4         3.9          1.7         0.4  setosa",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#åŸºç¡€ç®±çº¿å›¾",
    "href": "2025-bindboxplot.html#åŸºç¡€ç®±çº¿å›¾",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ç®±çº¿å›¾",
    "text": "åŸºç¡€ç®±çº¿å›¾\n\næœ€ç®€å•çš„ç®±çº¿å›¾\n\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n    geom_boxplot() +\n    labs(\n        title = \"ä¸åŒé¸¢å°¾èŠ±å“ç§çš„èŠ±è¼é•¿åº¦åˆ†å¸ƒ\",\n        x = \"å“ç§\",\n        y = \"èŠ±è¼é•¿åº¦ (cm)\"\n    )\n\n\n\n\n\n\n\n\n\n\nç®±çº¿å›¾ç»“æ„è§£è¯»\nç®±çº¿å›¾çš„å„ä¸ªéƒ¨åˆ†å«ä¹‰ï¼š\n\nç®±ä½“ï¼šä» Q1ï¼ˆä¸‹å››åˆ†ä½æ•°ï¼‰åˆ° Q3ï¼ˆä¸Šå››åˆ†ä½æ•°ï¼‰\nä¸­çº¿ï¼šä¸­ä½æ•°\né¡»ï¼ˆwhiskerï¼‰ï¼šå»¶ä¼¸åˆ° 1.5 Ã— IQR èŒƒå›´å†…çš„æœ€è¿œæ•°æ®ç‚¹\nç‚¹ï¼šå¼‚å¸¸å€¼ï¼ˆè¶…å‡ºé¡»èŒƒå›´çš„æ•°æ®ç‚¹ï¼‰\n\n\n# å±•ç¤ºç®±çº¿å›¾å„éƒ¨åˆ†\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n    geom_boxplot(\n        fill = \"#4f46e5\",\n        color = \"#1e1b4b\",\n        alpha = 0.7,\n        outlier.color = \"#ef4444\",\n        outlier.shape = 16,\n        outlier.size = 2\n    ) +\n    labs(title = \"è‡ªå®šä¹‰ç®±çº¿å›¾æ ·å¼\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ°´å¹³ç®±çº¿å›¾\n\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n    geom_boxplot(fill = \"#06b6d4\") +\n    coord_flip() + # ç¿»è½¬åæ ‡è½´\n    labs(title = \"æ°´å¹³ç®±çº¿å›¾\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#å¡«å……é¢œè‰²",
    "href": "2025-bindboxplot.html#å¡«å……é¢œè‰²",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "å¡«å……é¢œè‰²",
    "text": "å¡«å……é¢œè‰²\n\næŒ‰ç»„å¡«è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"æŒ‰å“ç§å¡«å……é¢œè‰²\") +\n    theme_minimal() +\n    theme(legend.position = \"none\") # éšè—å›¾ä¾‹ï¼ˆå› ä¸ºxè½´å·²æ˜¾ç¤ºï¼‰\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ ggsci ç§‘å­¦æœŸåˆŠé…è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    scale_fill_lancet() + # æŸ³å¶åˆ€é…è‰²\n    labs(title = \"Lancet æœŸåˆŠé…è‰²é£æ ¼\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    scale_fill_nejm() + # NEJM é…è‰²\n    labs(title = \"NEJM æœŸåˆŠé…è‰²é£æ ¼\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "href": "2025-bindboxplot.html#æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "æ·»åŠ ç»Ÿè®¡ä¿¡æ¯",
    "text": "æ·»åŠ ç»Ÿè®¡ä¿¡æ¯\n\næ·»åŠ å‡å€¼ç‚¹\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    stat_summary(\n        fun = mean,\n        geom = \"point\",\n        shape = 18, # è±å½¢\n        size = 3,\n        color = \"#ef4444\"\n    ) +\n    scale_fill_brewer(palette = \"Pastel1\") +\n    labs(title = \"ç®±çº¿å›¾ + å‡å€¼ç‚¹ï¼ˆçº¢è‰²è±å½¢ï¼‰\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ˜¾ç¤ºæ ·æœ¬é‡\n\n# è®¡ç®—æ¯ç»„æ ·æœ¬é‡\nsample_sizes &lt;- iris %&gt;%\n    group_by(Species) %&gt;%\n    summarise(n = n(), y_pos = max(Sepal.Length) + 0.2)\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    geom_text(\n        data = sample_sizes,\n        aes(x = Species, y = y_pos, label = paste0(\"n=\", n)),\n        inherit.aes = FALSE,\n        size = 4\n    ) +\n    scale_fill_brewer(palette = \"Set3\") +\n    labs(title = \"ç®±çº¿å›¾ + æ ·æœ¬é‡æ ‡æ³¨\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#ç®±çº¿å›¾-æŠ–åŠ¨ç‚¹",
    "href": "2025-bindboxplot.html#ç®±çº¿å›¾-æŠ–åŠ¨ç‚¹",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "ç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹",
    "text": "ç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹\n\njitter æŠ–åŠ¨ç‚¹\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot(outlier.shape = NA, alpha = 0.7) + # éšè—å¼‚å¸¸å€¼ï¼ˆå› ä¸ºè¦æ˜¾ç¤ºæ‰€æœ‰ç‚¹ï¼‰\n    geom_jitter(\n        width = 0.2, # æ°´å¹³æŠ–åŠ¨èŒƒå›´\n        alpha = 0.5,\n        size = 1.5\n    ) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"ç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ç‚¹æ ·å¼\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot(outlier.shape = NA, alpha = 0.6, width = 0.5) +\n    geom_jitter(\n        aes(color = Species),\n        width = 0.15,\n        alpha = 0.8,\n        size = 2\n    ) +\n    scale_fill_manual(values = c(\"#fee2e2\", \"#dbeafe\", \"#dcfce7\")) +\n    scale_color_manual(values = c(\"#ef4444\", \"#3b82f6\", \"#22c55e\")) +\n    labs(title = \"ç®±çº¿å›¾ + å½©è‰²æŠ–åŠ¨ç‚¹\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#åˆ†ç»„ç®±çº¿å›¾",
    "href": "2025-bindboxplot.html#åˆ†ç»„ç®±çº¿å›¾",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "åˆ†ç»„ç®±çº¿å›¾",
    "text": "åˆ†ç»„ç®±çº¿å›¾\n\nåŒåˆ†ç»„\n\n# åˆ›å»ºåˆ†ç»„æ•°æ®\nset.seed(42)\ngrouped_data &lt;- data.frame(\n    treatment = rep(c(\"å¯¹ç…§ç»„\", \"å®éªŒç»„\"), each = 150),\n    time = rep(rep(c(\"åŸºçº¿\", \"4å‘¨\", \"8å‘¨\"), each = 50), 2),\n    value = c(\n        rnorm(50, 50, 10), rnorm(50, 52, 10), rnorm(50, 51, 10), # å¯¹ç…§ç»„\n        rnorm(50, 50, 10), rnorm(50, 60, 10), rnorm(50, 70, 10) # å®éªŒç»„\n    )\n)\ngrouped_data$time &lt;- factor(grouped_data$time, levels = c(\"åŸºçº¿\", \"4å‘¨\", \"8å‘¨\"))\n\nggplot(grouped_data, aes(x = time, y = value, fill = treatment)) +\n    geom_boxplot(position = position_dodge(0.8), width = 0.6) +\n    scale_fill_manual(values = c(\"#94a3b8\", \"#4f46e5\")) +\n    labs(\n        title = \"ä¸¤ç»„æ‚£è€…åœ¨ä¸åŒæ—¶é—´ç‚¹çš„æŒ‡æ ‡å˜åŒ–\",\n        x = \"æ—¶é—´ç‚¹\",\n        y = \"æŒ‡æ ‡å€¼\",\n        fill = \"åˆ†ç»„\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nåˆ†é¢å±•ç¤º\n\nggplot(grouped_data, aes(x = treatment, y = value, fill = treatment)) +\n    geom_boxplot() +\n    facet_wrap(~time, nrow = 1) +\n    scale_fill_brewer(palette = \"Set1\") +\n    labs(title = \"æŒ‰æ—¶é—´ç‚¹åˆ†é¢å±•ç¤º\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#ç¼ºå£ç®±çº¿å›¾",
    "href": "2025-bindboxplot.html#ç¼ºå£ç®±çº¿å›¾",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "ç¼ºå£ç®±çº¿å›¾",
    "text": "ç¼ºå£ç®±çº¿å›¾\nç¼ºå£ï¼ˆnotchï¼‰ç”¨äºæ¯”è¾ƒä¸­ä½æ•°å·®å¼‚ï¼šå¦‚æœä¸¤ç»„çš„ç¼ºå£ä¸é‡å ï¼Œåˆ™ä¸­ä½æ•°å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼ˆçº¦ 95% ç½®ä¿¡åº¦ï¼‰ã€‚\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot(notch = TRUE) + # æ·»åŠ ç¼ºå£\n    scale_fill_brewer(palette = \"Pastel2\") +\n    labs(\n        title = \"ç¼ºå£ç®±çº¿å›¾\",\n        subtitle = \"ç¼ºå£ä¸é‡å è¡¨ç¤ºä¸­ä½æ•°å·®å¼‚æ˜¾è‘—\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#å°æç´å›¾",
    "href": "2025-bindboxplot.html#å°æç´å›¾",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "å°æç´å›¾",
    "text": "å°æç´å›¾\n\nåŸºç¡€å°æç´å›¾\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_violin() +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"åŸºç¡€å°æç´å›¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nå°æç´å›¾ + ç®±çº¿å›¾\næœ€å¸¸ç”¨çš„ç»„åˆï¼Œå…¼å…·ä¸¤è€…ä¼˜ç‚¹ã€‚\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_violin(trim = FALSE, alpha = 0.7) + # trim=FALSE ä¿ç•™å®Œæ•´å½¢çŠ¶\n    geom_boxplot(width = 0.1, fill = \"white\", outlier.shape = NA) +\n    scale_fill_lancet() +\n    labs(title = \"å°æç´å›¾ + å†…åµŒç®±çº¿å›¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nå°æç´å›¾ + å‡å€¼/ä¸­ä½æ•°\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_violin(trim = FALSE, alpha = 0.7) +\n    stat_summary(\n        fun = median,\n        geom = \"crossbar\",\n        width = 0.2,\n        color = \"black\"\n    ) +\n    stat_summary(\n        fun = mean,\n        geom = \"point\",\n        shape = 18,\n        size = 3,\n        color = \"#ef4444\"\n    ) +\n    scale_fill_brewer(palette = \"Pastel1\") +\n    labs(\n        title = \"å°æç´å›¾ + ä¸­ä½æ•°ï¼ˆæ¨ªçº¿ï¼‰+ å‡å€¼ï¼ˆçº¢ç‚¹ï¼‰\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nåˆ†åŠå°æç´å›¾\nå±•ç¤ºä¸¤ç»„å¯¹æ¯”æ—¶éå¸¸æœ‰æ•ˆã€‚\n\n# éœ€è¦ see åŒ…\n# install.packages(\"see\")\nlibrary(see)\n\ntwo_groups &lt;- iris %&gt;%\n    filter(Species != \"virginica\") %&gt;%\n    mutate(Species = droplevels(Species))\n\nggplot(two_groups, aes(x = 1, y = Sepal.Length, fill = Species)) +\n    geom_violinhalf(flip = c(1, 2), position = position_identity()) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    labs(title = \"åˆ†åŠå°æç´å›¾ï¼šä¸¤ç»„å¯¹æ¯”\") +\n    theme_minimal() +\n    theme(\n        axis.text.x = element_blank(),\n        axis.title.x = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#é›¨äº‘å›¾-raincloud-plot",
    "href": "2025-bindboxplot.html#é›¨äº‘å›¾-raincloud-plot",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "é›¨äº‘å›¾ (Raincloud Plot)",
    "text": "é›¨äº‘å›¾ (Raincloud Plot)\né›¨äº‘å›¾ç»“åˆäº†å°æç´å›¾ã€ç®±çº¿å›¾å’ŒæŠ–åŠ¨ç‚¹çš„ä¼˜ç‚¹ã€‚\n\n# ä½¿ç”¨ ggdist åŒ…åˆ›å»ºé›¨äº‘å›¾\n# install.packages(\"ggdist\")\nlibrary(ggdist)\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    # åŠå°æç´ï¼ˆäº‘ï¼‰\n    stat_halfeye(\n        adjust = 0.5,\n        width = 0.6,\n        .width = 0,\n        justification = -0.2,\n        point_colour = NA\n    ) +\n    # ç®±çº¿å›¾\n    geom_boxplot(\n        width = 0.15,\n        outlier.shape = NA,\n        alpha = 0.5\n    ) +\n    # æŠ–åŠ¨ç‚¹ï¼ˆé›¨ï¼‰\n    stat_dots(\n        side = \"left\",\n        justification = 1.1,\n        binwidth = 0.1\n    ) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"é›¨äº‘å›¾ (Raincloud Plot)\",\n        subtitle = \"ç»“åˆå¯†åº¦åˆ†å¸ƒã€ç®±çº¿å›¾å’Œæ•°æ®ç‚¹\"\n    ) +\n    coord_flip() +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#æ˜¾è‘—æ€§æ ‡æ³¨",
    "href": "2025-bindboxplot.html#æ˜¾è‘—æ€§æ ‡æ³¨",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "æ˜¾è‘—æ€§æ ‡æ³¨",
    "text": "æ˜¾è‘—æ€§æ ‡æ³¨\n\nä½¿ç”¨ ggpubr æ·»åŠ ç»Ÿè®¡æ£€éªŒ\n\n# install.packages(\"ggpubr\")\nlibrary(ggpubr)\n\nggboxplot(iris,\n    x = \"Species\", y = \"Sepal.Length\",\n    fill = \"Species\", palette = \"Set2\"\n) +\n    stat_compare_means(method = \"anova\", label.y = 8.5) + # æ€»ä½“æ£€éªŒ\n    stat_compare_means(\n        comparisons = list(\n            c(\"setosa\", \"versicolor\"),\n            c(\"versicolor\", \"virginica\"),\n            c(\"setosa\", \"virginica\")\n        ),\n        method = \"t.test\",\n        label = \"p.signif\" # æ˜¾ç¤ºæ˜Ÿå·\n    ) +\n    labs(title = \"å¸¦æ˜¾è‘—æ€§æ ‡æ³¨çš„ç®±çº¿å›¾\")\n\n\n\n\n\n\n\n\n\n\næ‰‹åŠ¨æ·»åŠ æ˜¾è‘—æ€§æ ‡æ³¨\n\n# ä½¿ç”¨ ggsignif åŒ…\n# install.packages(\"ggsignif\")\nlibrary(ggsignif)\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot() +\n    geom_signif(\n        comparisons = list(c(\"setosa\", \"versicolor\")),\n        annotations = \"***\",\n        y_position = 7.8\n    ) +\n    geom_signif(\n        comparisons = list(c(\"versicolor\", \"virginica\")),\n        annotations = \"**\",\n        y_position = 8.2\n    ) +\n    geom_signif(\n        comparisons = list(c(\"setosa\", \"virginica\")),\n        annotations = \"****\",\n        y_position = 8.8\n    ) +\n    scale_fill_brewer(palette = \"Pastel1\") +\n    labs(title = \"æ‰‹åŠ¨æ·»åŠ æ˜¾è‘—æ€§æ ‡æ³¨\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#ä¸»é¢˜ä¸ç¾åŒ–",
    "href": "2025-bindboxplot.html#ä¸»é¢˜ä¸ç¾åŒ–",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "ä¸»é¢˜ä¸ç¾åŒ–",
    "text": "ä¸»é¢˜ä¸ç¾åŒ–\n\nä¸“ä¸šå›¾è¡¨æ ·å¼\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_boxplot(\n        width = 0.5,\n        outlier.shape = 21,\n        outlier.fill = \"white\",\n        outlier.size = 2\n    ) +\n    scale_fill_manual(values = c(\"#1e40af\", \"#047857\", \"#b91c1c\")) +\n    labs(\n        title = \"èŠ±è¼é•¿åº¦åˆ†å¸ƒæ¯”è¾ƒ\",\n        subtitle = \"ä¸‰ç§é¸¢å°¾èŠ±çš„å·®å¼‚åˆ†æ\",\n        x = NULL,\n        y = \"èŠ±è¼é•¿åº¦ (cm)\",\n        caption = \"æ•°æ®æ¥æºï¼šFisher's Iris Dataset\"\n    ) +\n    theme_minimal(base_size = 14) +\n    theme(\n        plot.title = element_text(face = \"bold\", size = 16),\n        plot.subtitle = element_text(color = \"gray50\"),\n        legend.position = \"none\",\n        panel.grid.major.x = element_blank(),\n        axis.text = element_text(size = 12)\n    )\n\n\n\n\n\n\n\n\n\n\næç®€é£æ ¼\n\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n    geom_boxplot(\n        fill = \"#f8fafc\",\n        color = \"#334155\",\n        width = 0.4\n    ) +\n    geom_jitter(\n        color = \"#4f46e5\",\n        alpha = 0.4,\n        width = 0.1,\n        size = 1\n    ) +\n    labs(\n        title = \"æç®€é£æ ¼ç®±çº¿å›¾\",\n        x = NULL,\n        y = \"èŠ±è¼é•¿åº¦\"\n    ) +\n    theme_classic() +\n    theme(\n        plot.title = element_text(hjust = 0.5),\n        axis.line = element_line(color = \"#94a3b8\")\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#ä¿å­˜å›¾ç‰‡",
    "href": "2025-bindboxplot.html#ä¿å­˜å›¾ç‰‡",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "ä¿å­˜å›¾ç‰‡",
    "text": "ä¿å­˜å›¾ç‰‡\n\n# åˆ›å»ºå›¾è¡¨\np &lt;- ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n    geom_violin(alpha = 0.7) +\n    geom_boxplot(width = 0.1, fill = \"white\") +\n    scale_fill_lancet() +\n    theme_minimal()\n\n# ä¿å­˜ä¸º PNGï¼ˆé€‚åˆç½‘é¡µï¼‰\nggsave(\"boxplot.png\", p, width = 8, height = 6, dpi = 300)\n\n# ä¿å­˜ä¸º PDFï¼ˆé€‚åˆè®ºæ–‡ï¼‰\nggsave(\"boxplot.pdf\", p, width = 8, height = 6)\n\n# ä¿å­˜ä¸º SVGï¼ˆçŸ¢é‡å›¾ï¼‰\nggsave(\"boxplot.svg\", p, width = 8, height = 6)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "2025-bindboxplot.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\nä¸´åºŠè¯•éªŒæ•°æ®å¯è§†åŒ–\n\n# æ¨¡æ‹Ÿä¸´åºŠè¯•éªŒæ•°æ®\nset.seed(123)\nclinical_data &lt;- data.frame(\n    patient_id = 1:200,\n    group = rep(c(\"å®‰æ…°å‰‚\", \"ä½å‰‚é‡\", \"ä¸­å‰‚é‡\", \"é«˜å‰‚é‡\"), each = 50),\n    baseline = rnorm(200, 100, 15),\n    week4 = c(\n        rnorm(50, 100, 15), # å®‰æ…°å‰‚\n        rnorm(50, 95, 14), # ä½å‰‚é‡\n        rnorm(50, 88, 13), # ä¸­å‰‚é‡\n        rnorm(50, 80, 12) # é«˜å‰‚é‡\n    )\n)\nclinical_data$change &lt;- clinical_data$week4 - clinical_data$baseline\nclinical_data$group &lt;- factor(clinical_data$group,\n    levels = c(\"å®‰æ…°å‰‚\", \"ä½å‰‚é‡\", \"ä¸­å‰‚é‡\", \"é«˜å‰‚é‡\")\n)\n\n# ç»‘åˆ¶ä¸“ä¸šå›¾è¡¨\nggplot(clinical_data, aes(x = group, y = change, fill = group)) +\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n    geom_violin(alpha = 0.6, trim = FALSE) +\n    geom_boxplot(width = 0.15, fill = \"white\", outlier.shape = NA) +\n    stat_summary(\n        fun = mean,\n        geom = \"point\",\n        shape = 18,\n        size = 3,\n        color = \"#ef4444\"\n    ) +\n    scale_fill_manual(values = c(\"#94a3b8\", \"#86efac\", \"#4ade80\", \"#22c55e\")) +\n    labs(\n        title = \"ä¸åŒå‰‚é‡ç»„çš„æŒ‡æ ‡å˜åŒ–\",\n        subtitle = \"4å‘¨æ²»ç–—åä¸åŸºçº¿çš„å·®å€¼æ¯”è¾ƒ\",\n        x = \"æ²»ç–—ç»„\",\n        y = \"æŒ‡æ ‡å˜åŒ–å€¼ (ç¬¬4å‘¨ - åŸºçº¿)\",\n        caption = \"çº¢è‰²è±å½¢è¡¨ç¤ºå‡å€¼\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        legend.position = \"none\",\n        plot.title = element_text(face = \"bold\", size = 14),\n        panel.grid.major.x = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2025-bindboxplot.html#æ€»ç»“",
    "href": "2025-bindboxplot.html#æ€»ç»“",
    "title": "ç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èå›¾è¡¨\n\n\n\n\nå¿«é€ŸæŸ¥çœ‹åˆ†å¸ƒ\nåŸºç¡€ç®±çº¿å›¾\n\n\nå±•ç¤ºåˆ†å¸ƒå½¢æ€\nå°æç´å›¾\n\n\nå°æ ·æœ¬æ•°æ®\nç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹\n\n\nä¸¤ç»„å¯¹æ¯”\nåˆ†åŠå°æç´å›¾\n\n\nç»¼åˆå±•ç¤º\né›¨äº‘å›¾\n\n\nè®ºæ–‡å‘è¡¨\nå°æç´å›¾ + å†…åµŒç®±çº¿å›¾\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. æ ·æœ¬é‡å°ï¼ˆn &lt; 30ï¼‰æ—¶ï¼ŒåŠ¡å¿…æ·»åŠ æŠ–åŠ¨ç‚¹ 2. æ¯”è¾ƒç»„é—´å·®å¼‚æ—¶ï¼Œæ·»åŠ æ˜¾è‘—æ€§æ ‡æ³¨ 3. ä½¿ç”¨ç§‘å­¦æœŸåˆŠé…è‰²ï¼ˆggsciåŒ…ï¼‰æå‡ä¸“ä¸šåº¦ 4. æ ‡æ³¨å‡å€¼å’Œæ ·æœ¬é‡å¢åŠ ä¿¡æ¯é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ç®±çº¿å›¾ä¸å°æç´å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html",
    "href": "2023-radar.html",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "",
    "text": "é›·è¾¾å›¾ (Radar Chart)ï¼Œåˆç§°èœ˜è››å›¾ (Spider Chart) æˆ–æ˜Ÿå½¢å›¾ (Star Plot)ï¼Œæ˜¯ä¸€ç§ç”¨äºå±•ç¤ºå¤šç»´æ•°æ®çš„å¯è§†åŒ–æ–¹æ³•ã€‚å®ƒå°†å¤šä¸ªå˜é‡çš„å€¼ç»‘åˆ¶åœ¨ä»ä¸­å¿ƒå‘å¤–è¾å°„çš„è½´ä¸Šï¼Œå½¢æˆä¸€ä¸ªå¤šè¾¹å½¢åŒºåŸŸã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nèƒ½åŠ›è¯„ä¼°\nå‘˜å·¥æŠ€èƒ½ç”»åƒã€å­¦ç”Ÿç»¼åˆç´ è´¨\n\n\näº§å“å¯¹æ¯”\næ‰‹æœºæ€§èƒ½å¯¹æ¯”ã€æŠ¤è‚¤å“æˆåˆ†åˆ†æ\n\n\né—®å·åˆ†æ\næ»¡æ„åº¦å¤šç»´è¯„åˆ†ã€æœåŠ¡è´¨é‡è¯„ä¼°\n\n\nè¿åŠ¨æ•°æ®\nçƒå‘˜èƒ½åŠ›å…­è¾¹å½¢ã€å¥èº«æŒ‡æ ‡è¿½è¸ª\n\n\n\n\n[!NOTE] é›·è¾¾å›¾æœ€é€‚åˆå±•ç¤º 5-10 ä¸ªç»´åº¦çš„æ•°æ®ã€‚ç»´åº¦è¿‡å¤šä¼šä½¿å›¾å½¢æ‚ä¹±ï¼Œè¿‡å°‘åˆ™ä¸å¦‚æŸ±çŠ¶å›¾ç›´è§‚ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#ä»€ä¹ˆæ˜¯é›·è¾¾å›¾",
    "href": "2023-radar.html#ä»€ä¹ˆæ˜¯é›·è¾¾å›¾",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "",
    "text": "é›·è¾¾å›¾ (Radar Chart)ï¼Œåˆç§°èœ˜è››å›¾ (Spider Chart) æˆ–æ˜Ÿå½¢å›¾ (Star Plot)ï¼Œæ˜¯ä¸€ç§ç”¨äºå±•ç¤ºå¤šç»´æ•°æ®çš„å¯è§†åŒ–æ–¹æ³•ã€‚å®ƒå°†å¤šä¸ªå˜é‡çš„å€¼ç»‘åˆ¶åœ¨ä»ä¸­å¿ƒå‘å¤–è¾å°„çš„è½´ä¸Šï¼Œå½¢æˆä¸€ä¸ªå¤šè¾¹å½¢åŒºåŸŸã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nèƒ½åŠ›è¯„ä¼°\nå‘˜å·¥æŠ€èƒ½ç”»åƒã€å­¦ç”Ÿç»¼åˆç´ è´¨\n\n\näº§å“å¯¹æ¯”\næ‰‹æœºæ€§èƒ½å¯¹æ¯”ã€æŠ¤è‚¤å“æˆåˆ†åˆ†æ\n\n\né—®å·åˆ†æ\næ»¡æ„åº¦å¤šç»´è¯„åˆ†ã€æœåŠ¡è´¨é‡è¯„ä¼°\n\n\nè¿åŠ¨æ•°æ®\nçƒå‘˜èƒ½åŠ›å…­è¾¹å½¢ã€å¥èº«æŒ‡æ ‡è¿½è¸ª\n\n\n\n\n[!NOTE] é›·è¾¾å›¾æœ€é€‚åˆå±•ç¤º 5-10 ä¸ªç»´åº¦çš„æ•°æ®ã€‚ç»´åº¦è¿‡å¤šä¼šä½¿å›¾å½¢æ‚ä¹±ï¼Œè¿‡å°‘åˆ™ä¸å¦‚æŸ±çŠ¶å›¾ç›´è§‚ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#æ–¹æ³•ä¸€fmsb-åŒ…åŸºç¡€-r",
    "href": "2023-radar.html#æ–¹æ³•ä¸€fmsb-åŒ…åŸºç¡€-r",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "2. æ–¹æ³•ä¸€ï¼šfmsb åŒ…ï¼ˆåŸºç¡€ Rï¼‰",
    "text": "2. æ–¹æ³•ä¸€ï¼šfmsb åŒ…ï¼ˆåŸºç¡€ Rï¼‰\nfmsb åŒ…æä¾›äº†æœ€ç»å…¸çš„é›·è¾¾å›¾ç»‘åˆ¶å‡½æ•°ï¼Œè¯­æ³•ç®€æ´ä½†è‡ªå®šä¹‰èƒ½åŠ›æœ‰é™ã€‚\n\nå®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"fmsb\")\n\n\nlibrary(fmsb)\n\n\n\næ•°æ®å‡†å¤‡\nfmsb::radarchart() è¦æ±‚æ•°æ®æ ¼å¼ç‰¹æ®Šï¼šå‰ä¸¤è¡Œå¿…é¡»æ˜¯æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®ï¼šä¸‰åå‘˜å·¥çš„èƒ½åŠ›è¯„åˆ† (1-10)\ndata &lt;- data.frame(\n    æ²Ÿé€šèƒ½åŠ› = c(10, 0, 8, 6, 9),\n    æŠ€æœ¯èƒ½åŠ› = c(10, 0, 9, 7, 5),\n    å›¢é˜Ÿåä½œ = c(10, 0, 7, 8, 8),\n    åˆ›æ–°æ€ç»´ = c(10, 0, 6, 9, 7),\n    æ‰§è¡ŒåŠ› = c(10, 0, 9, 5, 6),\n    å­¦ä¹ èƒ½åŠ› = c(10, 0, 8, 8, 9)\n)\nrownames(data) &lt;- c(\"Max\", \"Min\", \"å¼ ä¸‰\", \"æå››\", \"ç‹äº”\")\n\n# æŸ¥çœ‹æ•°æ®ç»“æ„\ndata\n\n     æ²Ÿé€šèƒ½åŠ› æŠ€æœ¯èƒ½åŠ› å›¢é˜Ÿåä½œ åˆ›æ–°æ€ç»´ æ‰§è¡ŒåŠ› å­¦ä¹ èƒ½åŠ›\nMax        10       10       10       10     10       10\nMin         0        0        0        0      0        0\nå¼ ä¸‰        8        9        7        6      9        8\næå››        6        7        8        9      5        8\nç‹äº”        9        5        8        7      6        9\n\n\n\n\nç»‘åˆ¶å•äººé›·è¾¾å›¾\n\n# ç»‘åˆ¶å¼ ä¸‰çš„èƒ½åŠ›ç”»åƒ\nradarchart(\n    data[c(1, 2, 3), ], # Max, Min, å¼ ä¸‰\n    axistype = 1, # æ˜¾ç¤ºæ•°å€¼è½´\n    pcol = \"#4f46e5\", # çº¿æ¡é¢œè‰²\n    pfcol = rgb(0.31, 0.27, 0.9, 0.3), # å¡«å……é¢œè‰²ï¼ˆå¸¦é€æ˜åº¦ï¼‰\n    plwd = 3, # çº¿æ¡å®½åº¦\n    cglcol = \"grey\", # ç½‘æ ¼çº¿é¢œè‰²\n    cglty = 1, # ç½‘æ ¼çº¿ç±»å‹\n    cglwd = 0.8, # ç½‘æ ¼çº¿å®½åº¦\n    axislabcol = \"grey30\", # è½´æ ‡ç­¾é¢œè‰²\n    vlcex = 1.2, # å˜é‡æ ‡ç­¾å¤§å°\n    title = \"å¼ ä¸‰èƒ½åŠ›ç”»åƒ\"\n)\n\n\n\n\n\n\n\n\n\n\nç»‘åˆ¶å¤šäººå¯¹æ¯”é›·è¾¾å›¾\n\n# å®šä¹‰é¢œè‰²\ncolors &lt;- c(\"#4f46e5\", \"#22c55e\", \"#f97316\")\nfills &lt;- c(\n    rgb(0.31, 0.27, 0.9, 0.2),\n    rgb(0.13, 0.77, 0.37, 0.2),\n    rgb(0.98, 0.45, 0.09, 0.2)\n)\n\n# ç»‘åˆ¶ä¸‰äººå¯¹æ¯”\nradarchart(\n    data,\n    axistype = 1,\n    pcol = colors,\n    pfcol = fills,\n    plwd = 2,\n    plty = 1,\n    cglcol = \"grey80\",\n    cglty = 1,\n    cglwd = 0.8,\n    axislabcol = \"grey30\",\n    vlcex = 1.1,\n    title = \"å‘˜å·¥èƒ½åŠ›å¯¹æ¯”\"\n)\n\n# æ·»åŠ å›¾ä¾‹\nlegend(\n    \"topright\",\n    legend = c(\"å¼ ä¸‰\", \"æå››\", \"ç‹äº”\"),\n    col = colors,\n    lwd = 2,\n    bty = \"n\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#æ–¹æ³•äºŒggradar-åŒ…ggplot2-é£æ ¼",
    "href": "2023-radar.html#æ–¹æ³•äºŒggradar-åŒ…ggplot2-é£æ ¼",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "3. æ–¹æ³•äºŒï¼šggradar åŒ…ï¼ˆggplot2 é£æ ¼ï¼‰",
    "text": "3. æ–¹æ³•äºŒï¼šggradar åŒ…ï¼ˆggplot2 é£æ ¼ï¼‰\nggradar åŒ…å°†é›·è¾¾å›¾æ•´åˆåˆ° ggplot2 ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œæ›´å®¹æ˜“è‡ªå®šä¹‰å’Œç¾åŒ–ã€‚\n\nå®‰è£…\n\n# ä» GitHub å®‰è£…\ndevtools::install_github(\"ricardo-bion/ggradar\")\n\n\nlibrary(ggradar)\nlibrary(dplyr)\nlibrary(scales)\n\n\n\næ•°æ®å‡†å¤‡\nggradar è¦æ±‚æ•°æ®ä¸º 0-1 åŒºé—´ï¼Œç¬¬ä¸€åˆ—ä¸ºåˆ†ç»„å˜é‡ã€‚\n\n# å‡†å¤‡æ•°æ®ï¼ˆæ•°å€¼æ ‡å‡†åŒ–åˆ° 0-1ï¼‰\nradar_data &lt;- data.frame(\n    group = c(\"å¼ ä¸‰\", \"æå››\", \"ç‹äº”\"),\n    æ²Ÿé€šèƒ½åŠ› = c(0.8, 0.6, 0.9),\n    æŠ€æœ¯èƒ½åŠ› = c(0.9, 0.7, 0.5),\n    å›¢é˜Ÿåä½œ = c(0.7, 0.8, 0.8),\n    åˆ›æ–°æ€ç»´ = c(0.6, 0.9, 0.7),\n    æ‰§è¡ŒåŠ› = c(0.9, 0.5, 0.6),\n    å­¦ä¹ èƒ½åŠ› = c(0.8, 0.8, 0.9)\n)\n\nradar_data\n\n\n\nç»‘åˆ¶ ggradar å›¾\n\nggradar(\n    radar_data,\n    font.radar = \"sans\",\n    grid.min = 0,\n    grid.mid = 0.5,\n    grid.max = 1,\n    grid.label.size = 4,\n    axis.label.size = 4,\n    group.line.width = 1,\n    group.point.size = 3,\n    group.colours = c(\"#4f46e5\", \"#22c55e\", \"#f97316\"),\n    background.circle.colour = \"white\",\n    gridline.mid.colour = \"grey70\",\n    legend.position = \"bottom\",\n    legend.text.size = 12,\n    plot.title = \"å‘˜å·¥èƒ½åŠ›é›·è¾¾å›¾\"\n) +\n    theme(\n        plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n        legend.title = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#æ–¹æ³•ä¸‰ggplot2-æ‰‹åŠ¨å®ç°",
    "href": "2023-radar.html#æ–¹æ³•ä¸‰ggplot2-æ‰‹åŠ¨å®ç°",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "4. æ–¹æ³•ä¸‰ï¼šggplot2 æ‰‹åŠ¨å®ç°",
    "text": "4. æ–¹æ³•ä¸‰ï¼šggplot2 æ‰‹åŠ¨å®ç°\nå¦‚æœéœ€è¦æ›´é«˜çš„å®šåˆ¶è‡ªç”±åº¦ï¼Œå¯ä»¥ä½¿ç”¨ coord_polar() æ‰‹åŠ¨ç»‘åˆ¶ã€‚\n\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(dplyr)\n\n# å‡†å¤‡æ•°æ®ï¼ˆæ•°å€¼æ ‡å‡†åŒ–åˆ° 0-1ï¼‰\nradar_data &lt;- data.frame(\n    group = c(\"å¼ ä¸‰\", \"æå››\", \"ç‹äº”\"),\n    æ²Ÿé€šèƒ½åŠ› = c(0.8, 0.6, 0.9),\n    æŠ€æœ¯èƒ½åŠ› = c(0.9, 0.7, 0.5),\n    å›¢é˜Ÿåä½œ = c(0.7, 0.8, 0.8),\n    åˆ›æ–°æ€ç»´ = c(0.6, 0.9, 0.7),\n    æ‰§è¡ŒåŠ› = c(0.9, 0.5, 0.6),\n    å­¦ä¹ èƒ½åŠ› = c(0.8, 0.8, 0.9)\n)\n\n# æ•°æ®è½¬æ¢ä¸ºé•¿æ ¼å¼\nradar_long &lt;- radar_data %&gt;%\n    pivot_longer(cols = -group, names_to = \"variable\", values_to = \"value\")\n\n# åˆ›å»ºé›·è¾¾å›¾\nggplot(radar_long, aes(x = variable, y = value, group = group, color = group, fill = group)) +\n    geom_polygon(alpha = 0.2, linewidth = 1) +\n    geom_point(size = 3) +\n    coord_polar() +\n    scale_y_continuous(limits = c(0, 1)) +\n    scale_color_manual(values = c(\"#4f46e5\", \"#22c55e\", \"#f97316\")) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#22c55e\", \"#f97316\")) +\n    labs(title = \"è‡ªå®šä¹‰é›·è¾¾å›¾\", x = NULL, y = NULL) +\n    theme_minimal(base_size = 14) +\n    theme(\n        axis.text.y = element_blank(),\n        axis.ticks.y = element_blank(),\n        panel.grid.major = element_line(color = \"grey80\"),\n        legend.position = \"bottom\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#å®æˆ˜æ¡ˆä¾‹äº§å“å¯¹æ¯”",
    "href": "2023-radar.html#å®æˆ˜æ¡ˆä¾‹äº§å“å¯¹æ¯”",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "5. å®æˆ˜æ¡ˆä¾‹ï¼šäº§å“å¯¹æ¯”",
    "text": "5. å®æˆ˜æ¡ˆä¾‹ï¼šäº§å“å¯¹æ¯”\n\n# æ‰‹æœºæ€§èƒ½å¯¹æ¯”æ•°æ®\nphones &lt;- data.frame(\n    äº§å“ = c(\"iPhone 15 Pro\", \"Galaxy S24\", \"Pixel 8\"),\n    æ€§èƒ½ = c(0.95, 0.90, 0.85),\n    ç»­èˆª = c(0.80, 0.85, 0.90),\n    æ‹ç…§ = c(0.92, 0.88, 0.95),\n    å±å¹• = c(0.90, 0.95, 0.85),\n    æ€§ä»·æ¯” = c(0.60, 0.75, 0.85)\n)\n\nggradar(\n    phones,\n    grid.min = 0,\n    grid.mid = 0.5,\n    grid.max = 1,\n    group.colours = c(\"#1d4ed8\", \"#16a34a\", \"#ea580c\"),\n    legend.position = \"bottom\"\n) +\n    labs(title = \"2024 æ——èˆ°æ‰‹æœºå¯¹æ¯”\") +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#æ³¨æ„äº‹é¡¹",
    "href": "2023-radar.html#æ³¨æ„äº‹é¡¹",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "6. æ³¨æ„äº‹é¡¹",
    "text": "6. æ³¨æ„äº‹é¡¹\n\n[!WARNING] é›·è¾¾å›¾çš„å±€é™æ€§ï¼š 1. ä¸é€‚åˆå˜é‡ä¹‹é—´å­˜åœ¨å¾ˆå¤§æ•°é‡çº§å·®å¼‚çš„æƒ…å†µ 2. äººçœ¼éš¾ä»¥å‡†ç¡®æ¯”è¾ƒé¢ç§¯å¤§å° 3. å˜é‡é¡ºåºä¼šå½±å“å›¾å½¢å½¢çŠ¶å’Œè§†è§‰å°è±¡\n\n\næœ€ä½³å®è·µ\n\n\n\nâœ… æ¨è\nâŒ é¿å…\n\n\n\n\n5-8 ä¸ªå˜é‡\nè¶…è¿‡ 12 ä¸ªå˜é‡\n\n\næ ‡å‡†åŒ–åˆ°ç»Ÿä¸€é‡ç¨‹\næ··ç”¨ä¸åŒå•ä½\n\n\næœ‰æ„ä¹‰çš„å˜é‡æ’åº\néšæœºæ’åˆ—\n\n\n2-4 ç»„å¯¹æ¯”\nè¶…è¿‡ 5 ç»„å åŠ ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2023-radar.html#å‚è€ƒæ–‡çŒ®",
    "href": "2023-radar.html#å‚è€ƒæ–‡çŒ®",
    "title": "é›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nWickham, H. (2016). ggplot2: Elegant Graphics for Data Analysis. Springer.\nNakazawa, M. (2023). fmsb: Functions for Medical Statistics Book with some Demographic Data. R package.",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é›·è¾¾å›¾"
    ]
  },
  {
    "objectID": "2021-cowplot.html",
    "href": "2021-cowplot.html",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "",
    "text": "cowplot æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œä¸“æ³¨äºï¼š\n\nä¸“ä¸šä¸»é¢˜ï¼šå‡ºç‰ˆçº§ç®€æ´ä¸»é¢˜\nå›¾å½¢ç»„åˆï¼šçµæ´»çš„å¤šå›¾æ’åˆ—\nå›¾å½¢åµŒå…¥ï¼šåœ¨å›¾ä¸­æ·»åŠ å­å›¾\næ ‡ç­¾æ³¨é‡Šï¼šè‡ªåŠ¨æ·»åŠ  A/B/C é¢æ¿æ ‡ç­¾\nå¯¹é½æ§åˆ¶ï¼šç²¾ç¡®å¯¹é½å¤šå›¾åæ ‡è½´\n\n\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ç®€ä»‹",
    "href": "2021-cowplot.html#ç®€ä»‹",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "",
    "text": "cowplot æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œä¸“æ³¨äºï¼š\n\nä¸“ä¸šä¸»é¢˜ï¼šå‡ºç‰ˆçº§ç®€æ´ä¸»é¢˜\nå›¾å½¢ç»„åˆï¼šçµæ´»çš„å¤šå›¾æ’åˆ—\nå›¾å½¢åµŒå…¥ï¼šåœ¨å›¾ä¸­æ·»åŠ å­å›¾\næ ‡ç­¾æ³¨é‡Šï¼šè‡ªåŠ¨æ·»åŠ  A/B/C é¢æ¿æ ‡ç­¾\nå¯¹é½æ§åˆ¶ï¼šç²¾ç¡®å¯¹é½å¤šå›¾åæ ‡è½´\n\n\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸»é¢˜ç³»ç»Ÿ",
    "href": "2021-cowplot.html#ä¸»é¢˜ç³»ç»Ÿ",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸»é¢˜ç³»ç»Ÿ",
    "text": "ä¸»é¢˜ç³»ç»Ÿ\n\ntheme_cowplot - ç»å…¸ä¸»é¢˜\n\np &lt;- ggplot(mtcars, aes(wt, mpg)) + \n  geom_point(aes(color = factor(cyl)), size = 3)\n\n# cowplot ç»å…¸ä¸»é¢˜ï¼šæ— ç½‘æ ¼çº¿ï¼Œç²—åæ ‡è½´\np + theme_cowplot(font_size = 12)\n\n\n\n\n\n\n\n\n\n\ntheme_minimal_grid - æç®€ç½‘æ ¼\n\np + theme_minimal_grid(font_size = 12)\n\n\n\n\n\n\n\n\n\n\ntheme_minimal_hgrid / vgrid\n\np1 &lt;- p + theme_minimal_hgrid() + ggtitle(\"æ°´å¹³ç½‘æ ¼\")\np2 &lt;- p + theme_minimal_vgrid() + ggtitle(\"å‚ç›´ç½‘æ ¼\")\nplot_grid(p1, p2, ncol = 2)\n\n\n\n\n\n\n\n\n\n\ntheme_half_open - åŠå¼€æ”¾åæ ‡è½´\n\n# åªæ˜¾ç¤ºå·¦ä¸‹åæ ‡è½´ï¼Œé€‚åˆç§‘ç ”å›¾\np + theme_half_open(font_size = 12)\n\n\n\n\n\n\n\n\n\n\nä¸»é¢˜å‚æ•°è¯¦è§£\n\np + theme_cowplot(\n  font_size = 14,       # åŸºç¡€å­—å·\n  font_family = \"\",     # å­—ä½“\n  line_size = 0.5,      # çº¿æ¡ç²—ç»†\n  rel_small = 12/14,    # å°å­—å·æ¯”ä¾‹\n  rel_tiny = 10/14,     # æ›´å°å­—å·æ¯”ä¾‹\n  rel_large = 16/14     # å¤§å­—å·æ¯”ä¾‹\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å›¾å½¢ç»„åˆplot_grid",
    "href": "2021-cowplot.html#å›¾å½¢ç»„åˆplot_grid",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å›¾å½¢ç»„åˆï¼šplot_grid()",
    "text": "å›¾å½¢ç»„åˆï¼šplot_grid()\n\nåŸºç¡€ç»„åˆ\n\np1 &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\np2 &lt;- ggplot(mtcars, aes(disp, mpg)) + geom_point() + theme_cowplot()\np3 &lt;- ggplot(mtcars, aes(factor(cyl))) + geom_bar(fill = \"steelblue\") + theme_cowplot()\np4 &lt;- ggplot(mtcars, aes(hp, mpg)) + geom_point() + theme_cowplot()\n\n# 2x2 ç½‘æ ¼\nplot_grid(p1, p2, p3, p4, ncol = 2)\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ ‡ç­¾\n\n# A/B/C/D æ ‡ç­¾\nplot_grid(\n  p1, p2, p3, p4,\n  ncol = 2,\n  labels = \"AUTO\",          # è‡ªåŠ¨ A/B/C/D\n  label_size = 14,          # æ ‡ç­¾å­—å·\n  label_fontface = \"bold\"   # ç²—ä½“\n)\n\n\n\n\n\n\n\n\n\n# è‡ªå®šä¹‰æ ‡ç­¾\nplot_grid(\n  p1, p2,\n  labels = c(\"å›¾ 1\", \"å›¾ 2\"),\n  label_size = 12,\n  label_x = 0.1,   # æ ‡ç­¾ x ä½ç½® (0-1)\n  label_y = 0.95   # æ ‡ç­¾ y ä½ç½® (0-1)\n)\n\n\n\n\n\n\n\n\n\n\næ§åˆ¶ç›¸å¯¹å¤§å°\n\n# rel_widths æ§åˆ¶åˆ—å®½æ¯”ä¾‹\nplot_grid(p1, p3, ncol = 2, rel_widths = c(2, 1))  # å·¦:å³ = 2:1\n\n\n\n\n\n\n\n\n\n# rel_heights æ§åˆ¶è¡Œé«˜æ¯”ä¾‹\nplot_grid(p1, p3, nrow = 2, rel_heights = c(2, 1))  # ä¸Š:ä¸‹ = 2:1\n\n\n\n\n\n\n\n\n\n\nå¯¹é½åæ ‡è½´\n\n# ä¸åŒ y è½´èŒƒå›´çš„å›¾\npa &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\npb &lt;- ggplot(mtcars, aes(wt, disp)) + geom_point() + theme_cowplot()\n\n# align å‚æ•°å¯¹é½åæ ‡è½´\nplot_grid(\n  pa, pb,\n  ncol = 2,\n  align = \"h\",   # æ°´å¹³å¯¹é½ (h/v/hv/none)\n  axis = \"bt\"    # å¯¹é½å“ªäº›è½´ (t/b/l/r/tb/lr/tblr)\n)\n\n\n\n\n\n\n\n\n\n\nåµŒå¥—ç»„åˆ\n\n# å¤æ‚å¸ƒå±€ï¼šå·¦è¾¹ä¸€ä¸ªå¤§å›¾ï¼Œå³è¾¹ä¸¤ä¸ªå°å›¾\nright_col &lt;- plot_grid(p2, p3, ncol = 1, labels = c(\"B\", \"C\"))\nplot_grid(p1, right_col, ncol = 2, labels = c(\"A\", \"\"), rel_widths = c(1.5, 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å›¾å½¢åµŒå…¥draw_plot",
    "href": "2021-cowplot.html#å›¾å½¢åµŒå…¥draw_plot",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å›¾å½¢åµŒå…¥ï¼šdraw_plot()",
    "text": "å›¾å½¢åµŒå…¥ï¼šdraw_plot()\n\nåœ¨å›¾ä¸­åµŒå…¥å­å›¾\n\n# ä¸»å›¾\nmain_plot &lt;- ggplot(mtcars, aes(wt, mpg)) +\n  geom_point(size = 3) +\n  theme_cowplot()\n\n# å­å›¾ï¼ˆç¼©ç•¥å›¾ï¼‰\ninset_plot &lt;- ggplot(mtcars, aes(factor(cyl))) +\n  geom_bar(fill = \"steelblue\") +\n  theme_cowplot(font_size = 10) +\n  theme(plot.background = element_rect(fill = \"white\", color = \"grey50\"))\n\n# å°†å­å›¾åµŒå…¥ä¸»å›¾\nggdraw(main_plot) +\n  draw_plot(\n    inset_plot,\n    x = 0.6, y = 0.6,           # å­å›¾å·¦ä¸‹è§’ä½ç½®\n    width = 0.35, height = 0.35  # å­å›¾å°ºå¯¸\n  )\n\n\n\n\n\n\n\n\n\n\nå¤šä¸ªåµŒå…¥å›¾\n\n# å¯åµŒå…¥å¤šä¸ªå­å›¾\ninset2 &lt;- ggplot(mtcars, aes(hp)) +\n  geom_histogram(fill = \"coral\", bins = 15) +\n  theme_cowplot(font_size = 9) +\n  labs(title = \"HPåˆ†å¸ƒ\")\n\nggdraw(main_plot) +\n  draw_plot(inset_plot, x = 0.05, y = 0.6, width = 0.3, height = 0.35) +\n  draw_plot(inset2, x = 0.65, y = 0.1, width = 0.3, height = 0.3)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ·»åŠ æ³¨é‡Š",
    "href": "2021-cowplot.html#æ·»åŠ æ³¨é‡Š",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æ·»åŠ æ³¨é‡Š",
    "text": "æ·»åŠ æ³¨é‡Š\n\ndraw_label()\n\n# æ·»åŠ æ–‡å­—æ ‡ç­¾\nggdraw(main_plot) +\n  draw_label(\n    \"R2 = 0.75\",\n    x = 0.8, y = 0.9,\n    size = 14,\n    fontface = \"bold\",\n    color = \"red\"\n  )\n\n\n\n\n\n\n\n\n\n\ndraw_image() - åµŒå…¥å›¾ç‰‡\n\n# åµŒå…¥å¤–éƒ¨å›¾ç‰‡ï¼ˆå¦‚ logoï¼‰\nggdraw() +\n  draw_image(\"path/to/logo.png\", x = 0.4, y = 0.4, width = 0.2) +\n  draw_plot(p1)\n\n\n\ndraw_line() - æ·»åŠ çº¿æ¡\n\n# æ·»åŠ å‚è€ƒçº¿æˆ–ç®­å¤´\nggdraw(main_plot) +\n  draw_line(x = c(0.2, 0.5), y = c(0.2, 0.8), color = \"red\", size = 1)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#åæ ‡è½´å¯¹é½align_plots",
    "href": "2021-cowplot.html#åæ ‡è½´å¯¹é½align_plots",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "åæ ‡è½´å¯¹é½ï¼šalign_plots()",
    "text": "åæ ‡è½´å¯¹é½ï¼šalign_plots()\nå½“å›¾å½¢æœ‰ä¸åŒçš„åæ ‡è½´èŒƒå›´æ—¶ï¼Œplot_grid() çš„ align å‚æ•°å¯èƒ½ä¸å¤Ÿç”¨ï¼Œæ­¤æ—¶ä½¿ç”¨ align_plots() æ›´ç²¾ç¡®ã€‚\n\n# ä¸¤ä¸ª y è½´èŒƒå›´å·®å¼‚å¤§çš„å›¾\nplot_a &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\nplot_b &lt;- ggplot(mtcars, aes(wt, hp)) + geom_point() + theme_cowplot()\n\n# ç²¾ç¡®å¯¹é½\naligned &lt;- align_plots(plot_a, plot_b, align = \"hv\", axis = \"tblr\")\nplot_grid(aligned[[1]], aligned[[2]], ncol = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¿å­˜ç»„åˆå›¾",
    "href": "2021-cowplot.html#ä¿å­˜ç»„åˆå›¾",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¿å­˜ç»„åˆå›¾",
    "text": "ä¿å­˜ç»„åˆå›¾\n\nsave_plot()\n\n# cowplot æä¾›çš„ä¿å­˜å‡½æ•°\ncombined &lt;- plot_grid(p1, p2, p3, p4, ncol = 2, labels = \"AUTO\")\n\n# ä¿å­˜ä¸º PNG\nsave_plot(\n  \"combined_plot.png\",\n  combined,\n  ncol = 2,          # åˆ—æ•°ï¼ˆç”¨äºè®¡ç®—å°ºå¯¸ï¼‰\n  nrow = 2,          # è¡Œæ•°\n  base_width = 4,    # æ¯ä¸ªå­å›¾å®½åº¦ï¼ˆè‹±å¯¸ï¼‰\n  base_height = 3    # æ¯ä¸ªå­å›¾é«˜åº¦\n)\n\n# ä¿å­˜ä¸º PDFï¼ˆçŸ¢é‡å›¾ï¼‰\nsave_plot(\"combined_plot.pdf\", combined, ncol = 2, nrow = 2)\n\n\n\nggsave2() - å¢å¼ºç‰ˆ ggsave\n\n# ggsave2 è‡ªåŠ¨å¤„ç†ç»„åˆå›¾å°ºå¯¸\nggsave2(\"output.png\", combined, width = 10, height = 8, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸-ggplot2-facet-å¯¹æ¯”",
    "href": "2021-cowplot.html#ä¸-ggplot2-facet-å¯¹æ¯”",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸ ggplot2 facet å¯¹æ¯”",
    "text": "ä¸ ggplot2 facet å¯¹æ¯”\n\n\n\nåœºæ™¯\næ¨èæ–¹æ³•\n\n\n\n\nåŒä¸€æ•°æ®çš„åˆ†é¢\nggplot + facet_wrap()\n\n\nä¸åŒæ•°æ®/ä¸åŒå›¾\ncowplot::plot_grid()\n\n\néœ€è¦ä¸åŒåæ ‡è½´\ncowplot::plot_grid(align = â€œhâ€)\n\n\néœ€è¦åµŒå…¥å­å›¾\nggdraw() + draw_plot()\n\n\nå¤æ‚åµŒå¥—å¸ƒå±€\ncowplot åµŒå¥— plot_grid()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å®æˆ˜å®Œæ•´ç§‘ç ”å›¾",
    "href": "2021-cowplot.html#å®æˆ˜å®Œæ•´ç§‘ç ”å›¾",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å®æˆ˜ï¼šå®Œæ•´ç§‘ç ”å›¾",
    "text": "å®æˆ˜ï¼šå®Œæ•´ç§‘ç ”å›¾\n\nset.seed(42)\ndf &lt;- mtcars |&gt; mutate(group = ifelse(mpg &gt; 20, \"High\", \"Low\"))\n\n# å›¾ A: æ•£ç‚¹å›¾ + å›å½’\nfig_a &lt;- ggplot(df, aes(wt, mpg)) +\n  geom_point(aes(color = group), size = 3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"grey40\") +\n  scale_color_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Weight (1000 lbs)\", y = \"Miles per Gallon\", color = \"MPG Group\") +\n  theme_half_open() +\n  theme(legend.position = c(0.8, 0.8))\n\n# å›¾ B: ç®±çº¿å›¾\nfig_b &lt;- ggplot(df, aes(factor(cyl), mpg, fill = group)) +\n  geom_boxplot() +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Cylinders\", y = \"MPG\", fill = \"Group\") +\n  theme_half_open() +\n  theme(legend.position = \"none\")\n\n# å›¾ C: å¯†åº¦å›¾\nfig_c &lt;- ggplot(df, aes(mpg, fill = group)) +\n  geom_density(alpha = 0.6) +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"MPG\", y = \"Density\") +\n  theme_minimal_hgrid() +\n  theme(legend.position = \"none\")\n\n# å›¾ D: æŸ±çŠ¶å›¾\nfig_d &lt;- df |&gt;\n  count(cyl, group) |&gt;\n  ggplot(aes(factor(cyl), n, fill = group)) +\n  geom_col(position = \"dodge\") +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Cylinders\", y = \"Count\") +\n  theme_half_open() +\n  theme(legend.position = \"none\")\n\n# ç»„åˆï¼šä¸Šæ–¹å¤§å›¾ï¼Œä¸‹æ–¹ä¸‰ä¸ªå°å›¾\ntop_row &lt;- fig_a\nbottom_row &lt;- plot_grid(fig_b, fig_c, fig_d, ncol = 3, labels = c(\"B\", \"C\", \"D\"), label_size = 14)\n\n# æœ€ç»ˆç»„åˆ\nfinal_plot &lt;- plot_grid(\n  top_row, bottom_row,\n  nrow = 2,\n  labels = c(\"A\", \"\"),\n  label_size = 14,\n  rel_heights = c(1.2, 1)\n)\n\nfinal_plot",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸-patchwork-å¯¹æ¯”",
    "href": "2021-cowplot.html#ä¸-patchwork-å¯¹æ¯”",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸ patchwork å¯¹æ¯”",
    "text": "ä¸ patchwork å¯¹æ¯”\n\n\n\nç‰¹æ€§\ncowplot\npatchwork\n\n\n\n\nè¯­æ³•\nplot_grid(p1, p2)\np1 + p2 / p1 | p2\n\n\nå›¾å½¢åµŒå…¥\ndraw_plot()\ninset_element()\n\n\nåæ ‡è½´å¯¹é½\néœ€æ‰‹åŠ¨ align\nè‡ªåŠ¨å¯¹é½\n\n\næ ‡ç­¾æ·»åŠ \nlabels = â€œAUTOâ€\nplot_annotation(tag_levels)\n\n\nä¸»é¢˜ç³»ç»Ÿ\nä¸°å¯Œçš„ä¸“ä¸šä¸»é¢˜\næ— \n\n\nå­¦ä¹ æ›²çº¿\nä¸­ç­‰\nç®€å•\n\n\n\né€‰æ‹©å»ºè®®ï¼š\n\néœ€è¦ä¸“ä¸šä¸»é¢˜ â†’ cowplot\nå¿«é€Ÿç»„åˆ â†’ patchwork\nå›¾å½¢åµŒå…¥ â†’ ä¸¤è€…å‡å¯\nå¤æ‚å¸ƒå±€æ§åˆ¶ â†’ cowplot",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æå–ä¸å…±äº«å›¾ä¾‹",
    "href": "2021-cowplot.html#æå–ä¸å…±äº«å›¾ä¾‹",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æå–ä¸å…±äº«å›¾ä¾‹",
    "text": "æå–ä¸å…±äº«å›¾ä¾‹\n\n# åˆ›å»ºå¸¦å›¾ä¾‹çš„å›¾\np_legend &lt;- ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set1\", name = \"Cylinders\") +\n  theme_cowplot()\n\n# æå–å›¾ä¾‹\nlegend &lt;- get_legend(p_legend)\n\n# åˆ›å»ºæ— å›¾ä¾‹çš„å›¾\np_no_leg1 &lt;- p_legend + theme(legend.position = \"none\")\np_no_leg2 &lt;- ggplot(mtcars, aes(disp, mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set1\") +\n  theme_cowplot() +\n  theme(legend.position = \"none\")\n\n# ç»„åˆï¼šä¸¤å›¾å…±äº«ä¸€ä¸ªå›¾ä¾‹\nplot_grid(\n  plot_grid(p_no_leg1, p_no_leg2, ncol = 2),\n  legend,\n  ncol = 2,\n  rel_widths = c(1, 0.15)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "href": "2021-cowplot.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "text": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥\n\n\n\nå‡½æ•°\nç”¨é€”\n\n\n\n\ntheme_cowplot()\nç»å…¸æ— ç½‘æ ¼ä¸»é¢˜\n\n\ntheme_half_open()\nåŠå¼€æ”¾åæ ‡è½´\n\n\ntheme_minimal_grid()\næç®€ç½‘æ ¼\n\n\nplot_grid()\nç»„åˆå¤šå›¾\n\n\nalign_plots()\nç²¾ç¡®å¯¹é½åæ ‡è½´\n\n\nggdraw()\nåˆ›å»ºç»‘å›¾ç”»å¸ƒ\n\n\ndraw_plot()\nåµŒå…¥å­å›¾\n\n\ndraw_label()\næ·»åŠ æ–‡å­—\n\n\ndraw_image()\nåµŒå…¥å›¾ç‰‡\n\n\nsave_plot()\nä¿å­˜ç»„åˆå›¾\n\n\nget_legend()\næå–å›¾ä¾‹\n\n\nget_title()\næå–æ ‡é¢˜",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ€»ç»“",
    "href": "2021-cowplot.html#æ€»ç»“",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\ncowplot æ ¸å¿ƒä¼˜åŠ¿ï¼š\n\nä¸“ä¸šä¸»é¢˜ - theme_cowplot(), theme_half_open() ç›´æ¥ç”¨äºç§‘ç ”å›¾\nçµæ´»ç»„åˆ - plot_grid() æ”¯æŒå¤æ‚åµŒå¥—å¸ƒå±€\nç²¾ç¡®æ§åˆ¶ - rel_widths, rel_heights, align å‚æ•°\nå›¾å½¢åµŒå…¥ - draw_plot() è½»æ¾æ·»åŠ å­å›¾\nè‡ªåŠ¨æ ‡ç­¾ - labels = â€œAUTOâ€ ä¸€é”®æ·»åŠ é¢æ¿æ ‡ç­¾\n\næ¨èå·¥ä½œæµï¼š\n\n# 1. åˆ›å»ºå•å›¾ï¼Œåº”ç”¨ cowplot ä¸»é¢˜\np1 &lt;- ggplot(...) + theme_half_open()\np2 &lt;- ggplot(...) + theme_half_open()\n\n# 2. ç»„åˆå¹¶æ·»åŠ æ ‡ç­¾\ncombined &lt;- plot_grid(p1, p2, labels = \"AUTO\", align = \"hv\")\n\n# 3. ä¿å­˜\nsave_plot(\"output.pdf\", combined, ncol = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ"
    ]
  },
  {
    "objectID": "2019-dualaxis.html",
    "href": "2019-dualaxis.html",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "",
    "text": "åŒåæ ‡è½´ï¼ˆDual Y-Axisï¼‰å›¾è¡¨å¯ä»¥åœ¨åŒä¸€å¼ å›¾ä¸­å±•ç¤ºä¸¤ä¸ªé‡çº²ä¸åŒçš„å˜é‡ï¼Œå¸¸ç”¨äºå±•ç¤ºè¶‹åŠ¿å¯¹æ¯”ã€æŸ±çº¿æ··åˆå›¾ç­‰åœºæ™¯ã€‚æœ¬æ•™ç¨‹ä»‹ç»å¦‚ä½•åœ¨ ggplot2 ä¸­å®ç°åŒåæ ‡è½´ç»‘å›¾ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#ä»€ä¹ˆæ˜¯åŒåæ ‡è½´",
    "href": "2019-dualaxis.html#ä»€ä¹ˆæ˜¯åŒåæ ‡è½´",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "ä»€ä¹ˆæ˜¯åŒåæ ‡è½´ï¼Ÿ",
    "text": "ä»€ä¹ˆæ˜¯åŒåæ ‡è½´ï¼Ÿ\nåŒåæ ‡è½´å›¾è¡¨æ˜¯æŒ‡åœ¨åŒä¸€å¼ å›¾ä¸­ä½¿ç”¨ä¸¤ä¸ª Y è½´ï¼š\n\nå·¦ Y è½´ï¼ˆä¸»è½´ï¼‰ï¼šé€šå¸¸å±•ç¤ºä¸»è¦å˜é‡\nå³ Y è½´ï¼ˆæ¬¡è½´ï¼‰ï¼šå±•ç¤ºæ¬¡è¦å˜é‡ï¼Œé‡çº²å¯èƒ½ä¸åŒ\n\n\né€‚ç”¨åœºæ™¯\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\næŸ±çº¿æ··åˆå›¾\næŸ±çŠ¶å›¾æ˜¾ç¤ºé”€é‡ï¼ŒæŠ˜çº¿å›¾æ˜¾ç¤ºå¢é•¿ç‡\n\n\nè¶‹åŠ¿å¯¹æ¯”\næ¸©åº¦ä¸é™é›¨é‡çš„æ—¶é—´å˜åŒ–\n\n\nå› æœå…³ç³»\nå¹¿å‘ŠæŠ•å…¥ä¸é”€å”®é¢çš„å…³ç³»\n\n\n\n\n\näº‰è®®ä¸æ³¨æ„äº‹é¡¹\nåŒåæ ‡è½´å›¾è¡¨å­˜åœ¨ä¸€äº›äº‰è®®ï¼š\n\nè¯¯å¯¼æ€§ï¼šä¸¤ä¸ª Y è½´çš„åˆ»åº¦æ¯”ä¾‹ä¼šå½±å“è¯»è€…å¯¹æ•°æ®å…³ç³»çš„ç†è§£\nå¯è¯»æ€§ï¼šå¢åŠ äº†å›¾è¡¨çš„å¤æ‚åº¦\næ›¿ä»£æ–¹æ¡ˆï¼šåˆ†é¢å›¾ï¼ˆfacetï¼‰é€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©\n\nä½¿ç”¨å»ºè®®ï¼š\n\nâœ… ä¸¤ä¸ªå˜é‡ç¡®å®æœ‰å…³è”æ—¶ä½¿ç”¨\nâœ… æ˜ç¡®æ ‡æ³¨ä¸¤ä¸ªè½´çš„å•ä½\nâŒ é¿å…åˆ»æ„è°ƒæ•´åˆ»åº¦æ¥åˆ¶é€ ç›¸å…³æ€§å‡è±¡",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åŸºç¡€ç”¨æ³•",
    "href": "2019-dualaxis.html#åŸºç¡€ç”¨æ³•",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "åŸºç¡€ç”¨æ³•",
    "text": "åŸºç¡€ç”¨æ³•\n\nggplot2 ä¸­çš„ sec_axis()\nggplot2 é€šè¿‡ sec_axis() å‡½æ•°å®ç°åŒåæ ‡è½´ã€‚æ ¸å¿ƒåŸç†æ˜¯ æ¬¡è½´å¿…é¡»æ˜¯ä¸»è½´çš„çº¿æ€§å˜æ¢ã€‚\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\n\n\næœ€ç®€ç¤ºä¾‹\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ndf &lt;- data.frame(\n  month = 1:12,\n  sales = c(120, 135, 150, 180, 200, 220, 250, 240, 210, 180, 150, 160),\n  growth_rate = c(5, 8, 12, 15, 18, 20, 22, 18, 12, 8, 5, 6)\n)\n\n# å®šä¹‰è½¬æ¢ç³»æ•°ï¼ˆè®©ä¸¤ä¸ªå˜é‡åœ¨å›¾ä¸Šæœ‰ç›¸ä¼¼çš„èŒƒå›´ï¼‰\ncoef &lt;- max(df$sales) / max(df$growth_rate)\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales), fill = \"#4f46e5\", alpha = 0.7) +\n  geom_line(aes(y = growth_rate * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef), color = \"#ef4444\", size = 3) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nå…³é”®æ­¥éª¤è§£æ\n\nè®¡ç®—è½¬æ¢ç³»æ•°ï¼šcoef &lt;- max(ä¸»è½´å˜é‡) / max(æ¬¡è½´å˜é‡)\nç»‘åˆ¶æ¬¡è½´æ•°æ®æ—¶ä¹˜ä»¥ç³»æ•°ï¼šaes(y = growth_rate * coef)\nè®¾ç½® sec_axis æ—¶é™¤ä»¥ç³»æ•°ï¼šsec_axis(~ . / coef, name = \"æ¬¡è½´æ ‡ç­¾\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#æŸ±çº¿æ··åˆå›¾",
    "href": "2019-dualaxis.html#æŸ±çº¿æ··åˆå›¾",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "æŸ±çº¿æ··åˆå›¾",
    "text": "æŸ±çº¿æ··åˆå›¾\næŸ±çº¿æ··åˆå›¾æ˜¯åŒåæ ‡è½´æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯ã€‚\n\nåŸºç¡€ç‰ˆæœ¬\n\n# æ¨¡æ‹Ÿå­£åº¦æ•°æ®\nquarterly &lt;- data.frame(\n  quarter = c(\"Q1\", \"Q2\", \"Q3\", \"Q4\"),\n  revenue = c(450, 520, 680, 720),\n  profit_margin = c(12, 15, 18, 20)\n)\n\ncoef &lt;- max(quarterly$revenue) / max(quarterly$profit_margin)\n\nggplot(quarterly, aes(x = quarter)) +\n  geom_col(aes(y = revenue), fill = \"#0ea5e9\", width = 0.6) +\n  geom_line(aes(y = profit_margin * coef, group = 1), \n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(aes(y = profit_margin * coef), \n             color = \"#f97316\", size = 4) +\n  scale_y_continuous(\n    name = \"è¥æ”¶ (ä¸‡å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"åˆ©æ¶¦ç‡ (%)\")\n  ) +\n  labs(title = \"å­£åº¦è¥æ”¶ä¸åˆ©æ¶¦ç‡\", x = NULL) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ•°æ®æ ‡ç­¾\n\nggplot(quarterly, aes(x = quarter)) +\n  geom_col(aes(y = revenue), fill = \"#0ea5e9\", width = 0.6) +\n  geom_text(aes(y = revenue, label = revenue), vjust = -0.5, size = 4) +\n  geom_line(aes(y = profit_margin * coef, group = 1), \n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(aes(y = profit_margin * coef), \n             color = \"#f97316\", size = 4) +\n  geom_text(aes(y = profit_margin * coef, label = paste0(profit_margin, \"%\")), \n            vjust = -1, color = \"#f97316\", size = 4) +\n  scale_y_continuous(\n    name = \"è¥æ”¶ (ä¸‡å…ƒ)\",\n    limits = c(0, max(quarterly$revenue) * 1.15),\n    sec.axis = sec_axis(~ . / coef, name = \"åˆ©æ¶¦ç‡ (%)\")\n  ) +\n  labs(title = \"å­£åº¦è¥æ”¶ä¸åˆ©æ¶¦ç‡\", x = NULL) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åŒæŠ˜çº¿å›¾",
    "href": "2019-dualaxis.html#åŒæŠ˜çº¿å›¾",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "åŒæŠ˜çº¿å›¾",
    "text": "åŒæŠ˜çº¿å›¾\nå½“ä¸¤ä¸ªå˜é‡éƒ½æ˜¯è¿ç»­æ—¶é—´åºåˆ—æ—¶ï¼Œå¯ä»¥ç”¨åŒæŠ˜çº¿å›¾ã€‚\n\n# æ¨¡æ‹Ÿæ°”è±¡æ•°æ®\nweather &lt;- data.frame(\n  date = seq(as.Date(\"2025-01-01\"), as.Date(\"2025-12-01\"), by = \"month\"),\n  temperature = c(8, 10, 15, 20, 25, 30, 33, 32, 28, 22, 15, 10),\n  rainfall = c(45, 60, 80, 120, 180, 220, 150, 100, 70, 50, 40, 35)\n)\n\ncoef &lt;- max(weather$rainfall) / max(weather$temperature)\n\nggplot(weather, aes(x = date)) +\n  geom_line(aes(y = temperature), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = temperature), color = \"#ef4444\", size = 2.5) +\n  geom_area(aes(y = rainfall / coef), fill = \"#3b82f6\", alpha = 0.3) +\n  geom_line(aes(y = rainfall / coef), color = \"#3b82f6\", linewidth = 1.2) +\n  scale_y_continuous(\n    name = \"æ¸©åº¦ (Â°C)\",\n    sec.axis = sec_axis(~ . * coef, name = \"é™é›¨é‡ (mm)\")\n  ) +\n  scale_x_date(date_labels = \"%mæœˆ\", date_breaks = \"1 month\") +\n  labs(title = \"2025 å¹´æœˆåº¦æ¸©åº¦ä¸é™é›¨é‡\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "href": "2019-dualaxis.html#è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "text": "è‡ªå®šä¹‰åæ ‡è½´æ ·å¼\n\nåŒ¹é…é¢œè‰²\nè®©åæ ‡è½´é¢œè‰²ä¸å¯¹åº”çš„æ•°æ®ç³»åˆ—é¢œè‰²ä¸€è‡´ï¼Œæé«˜å¯è¯»æ€§ï¼š\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales), fill = \"#4f46e5\", alpha = 0.8) +\n  geom_line(aes(y = growth_rate * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef), color = \"#ef4444\", size = 3) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#4f46e5\", face = \"bold\"),\n    axis.text.y.left = element_text(color = \"#4f46e5\"),\n    axis.title.y.right = element_text(color = \"#ef4444\", face = \"bold\"),\n    axis.text.y.right = element_text(color = \"#ef4444\")\n  )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ å›¾ä¾‹\nåŒåæ ‡è½´å›¾è¡¨é»˜è®¤æ²¡æœ‰å›¾ä¾‹ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼š\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales, fill = \"é”€å”®é¢\"), alpha = 0.8) +\n  geom_line(aes(y = growth_rate * coef, color = \"å¢é•¿ç‡\"), linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef, color = \"å¢é•¿ç‡\"), size = 3) +\n  scale_fill_manual(values = c(\"é”€å”®é¢\" = \"#4f46e5\")) +\n  scale_color_manual(values = c(\"å¢é•¿ç‡\" = \"#ef4444\")) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(\n    title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\",\n    x = NULL,\n    fill = NULL,\n    color = NULL\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"top\",\n    legend.box = \"horizontal\"\n  ) +\n  guides(\n    fill = guide_legend(order = 1),\n    color = guide_legend(order = 2)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åˆ†ç»„åŒåæ ‡è½´",
    "href": "2019-dualaxis.html#åˆ†ç»„åŒåæ ‡è½´",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "åˆ†ç»„åŒåæ ‡è½´",
    "text": "åˆ†ç»„åŒåæ ‡è½´\nå½“æœ‰åˆ†ç»„å˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å †å æˆ–åˆ†ç»„æŸ±çŠ¶å›¾ã€‚\n\n# åˆ†ç»„æ•°æ®\ngrouped_data &lt;- data.frame(\n  quarter = rep(c(\"Q1\", \"Q2\", \"Q3\", \"Q4\"), each = 2),\n  category = rep(c(\"äº§å“A\", \"äº§å“B\"), 4),\n  sales = c(200, 150, 250, 180, 300, 220, 280, 250),\n  total_growth = rep(c(8, 12, 15, 10), each = 2)\n)\n\n# è®¡ç®—æ¯å­£åº¦æ€»é”€å”®é¢ç”¨äºç»‘å›¾\ngrouped_summary &lt;- grouped_data |&gt;\n  group_by(quarter) |&gt;\n  summarise(total_sales = sum(sales), growth = first(total_growth))\n\ncoef &lt;- max(grouped_summary$total_sales) / max(grouped_summary$growth)\n\nggplot() +\n  geom_col(data = grouped_data, \n           aes(x = quarter, y = sales, fill = category),\n           position = \"dodge\", width = 0.7) +\n  geom_line(data = grouped_summary,\n            aes(x = quarter, y = growth * coef, group = 1),\n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(data = grouped_summary,\n             aes(x = quarter, y = growth * coef),\n             color = \"#f97316\", size = 4) +\n  scale_fill_manual(values = c(\"äº§å“A\" = \"#4f46e5\", \"äº§å“B\" = \"#06b6d4\")) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢ (ä¸‡å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  labs(title = \"åˆ†äº§å“é”€å”®é¢ä¸æ€»ä½“å¢é•¿ç‡\", x = NULL, fill = NULL) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"top\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#ä½¿ç”¨-ggnewscale-å®ç°åŒå›¾ä¾‹",
    "href": "2019-dualaxis.html#ä½¿ç”¨-ggnewscale-å®ç°åŒå›¾ä¾‹",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "ä½¿ç”¨ ggnewscale å®ç°åŒå›¾ä¾‹",
    "text": "ä½¿ç”¨ ggnewscale å®ç°åŒå›¾ä¾‹\nå½“éœ€è¦ä¸ºä¸¤ä¸ªè½´åˆ†åˆ«è®¾ç½®å®Œæ•´çš„å›¾ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ggnewscale åŒ…ï¼š\n\nlibrary(ggnewscale)\n\nggplot(df, aes(x = month)) +\n  # ç¬¬ä¸€ä¸ªå›¾å±‚ï¼šæŸ±çŠ¶å›¾\n  geom_col(aes(y = sales, fill = sales), alpha = 0.8) +\n  scale_fill_gradient(low = \"#c7d2fe\", high = \"#4f46e5\", name = \"é”€å”®é¢\") +\n  # å¼€å¯æ–°çš„å¡«å……/é¢œè‰²æ ‡åº¦\n\n  new_scale_color() +\n  # ç¬¬äºŒä¸ªå›¾å±‚ï¼šæŠ˜çº¿å›¾\n  geom_line(aes(y = growth_rate * coef, color = growth_rate), linewidth = 1.5) +\n  geom_point(aes(y = growth_rate * coef, color = growth_rate), size = 3) +\n  scale_color_gradient(low = \"#fca5a5\", high = \"#dc2626\", name = \"å¢é•¿ç‡ (%)\") +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "2019-dualaxis.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹1ï¼šç»æµæŒ‡æ ‡å¯¹æ¯”\n\n# æ¨¡æ‹Ÿç»æµæ•°æ®\neconomy &lt;- data.frame(\n  year = 2015:2024,\n  gdp = c(68.9, 74.6, 83.2, 91.9, 99.1, 101.4, 114.4, 121.0, 126.1, 134.8),\n  gdp_growth = c(6.9, 6.7, 6.8, 6.6, 6.0, 2.3, 8.1, 3.0, 5.2, 5.0)\n)\n\ncoef &lt;- max(economy$gdp) / max(economy$gdp_growth)\n\nggplot(economy, aes(x = year)) +\n  geom_area(aes(y = gdp), fill = \"#4f46e5\", alpha = 0.3) +\n  geom_line(aes(y = gdp), color = \"#4f46e5\", linewidth = 1.2) +\n  geom_point(aes(y = gdp), color = \"#4f46e5\", size = 2.5) +\n  geom_line(aes(y = gdp_growth * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = gdp_growth * coef), color = \"#ef4444\", size = 2.5) +\n  scale_y_continuous(\n    name = \"GDP (ä¸‡äº¿å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"GDPå¢é€Ÿ (%)\")\n  ) +\n  scale_x_continuous(breaks = 2015:2024) +\n  labs(title = \"ä¸­å›½ GDP æ€»é‡ä¸å¢é€Ÿ (2015-2024)\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#4f46e5\"),\n    axis.text.y.left = element_text(color = \"#4f46e5\"),\n    axis.title.y.right = element_text(color = \"#ef4444\"),\n    axis.text.y.right = element_text(color = \"#ef4444\"),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šè¥é”€æ•ˆæœåˆ†æ\n\n# æ¨¡æ‹Ÿè¥é”€æ•°æ®\nmarketing &lt;- data.frame(\n  week = 1:12,\n  ad_spend = c(5, 8, 12, 15, 20, 25, 22, 18, 15, 12, 10, 8),\n  conversions = c(120, 180, 280, 350, 480, 600, 550, 420, 350, 280, 220, 180)\n)\n\ncoef &lt;- max(marketing$conversions) / max(marketing$ad_spend)\n\nggplot(marketing, aes(x = week)) +\n  geom_col(aes(y = conversions, fill = \"è½¬åŒ–æ•°\"), alpha = 0.7, width = 0.7) +\n  geom_line(aes(y = ad_spend * coef, color = \"å¹¿å‘Šæ”¯å‡º\"), linewidth = 1.5) +\n  geom_point(aes(y = ad_spend * coef, color = \"å¹¿å‘Šæ”¯å‡º\"), size = 3) +\n  scale_fill_manual(values = c(\"è½¬åŒ–æ•°\" = \"#10b981\")) +\n  scale_color_manual(values = c(\"å¹¿å‘Šæ”¯å‡º\" = \"#f59e0b\")) +\n  scale_y_continuous(\n    name = \"è½¬åŒ–æ•°\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¹¿å‘Šæ”¯å‡º (ä¸‡å…ƒ)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(\"ç¬¬\", 1:12, \"å‘¨\")) +\n  labs(\n    title = \"å¹¿å‘ŠæŠ•å…¥ä¸è½¬åŒ–æ•ˆæœ\",\n    subtitle = \"12 å‘¨è¥é”€æ´»åŠ¨è¿½è¸ª\",\n    x = NULL, fill = NULL, color = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹3ï¼šåº“å­˜ç®¡ç†\n\n# æ¨¡æ‹Ÿåº“å­˜æ•°æ®\ninventory &lt;- data.frame(\n  month = factor(month.abb, levels = month.abb),\n  stock = c(1000, 850, 920, 780, 650, 500, 600, 750, 900, 1100, 1200, 1050),\n  turnover = c(2.5, 2.8, 2.6, 3.0, 3.5, 4.0, 3.8, 3.2, 2.8, 2.4, 2.2, 2.5)\n)\n\ncoef &lt;- max(inventory$stock) / max(inventory$turnover)\n\nggplot(inventory, aes(x = month)) +\n  geom_col(aes(y = stock), fill = \"#6366f1\", alpha = 0.7, width = 0.6) +\n  geom_line(aes(y = turnover * coef, group = 1), \n            color = \"#ec4899\", linewidth = 1.5) +\n  geom_point(aes(y = turnover * coef), color = \"#ec4899\", size = 3.5) +\n  geom_hline(yintercept = 800, linetype = \"dashed\", color = \"#6366f1\", alpha = 0.5) +\n  annotate(\"text\", x = 11.5, y = 850, label = \"å®‰å…¨åº“å­˜çº¿\", \n           color = \"#6366f1\", size = 3.5) +\n  scale_y_continuous(\n    name = \"åº“å­˜é‡ (ä»¶)\",\n    sec.axis = sec_axis(~ . / coef, name = \"å‘¨è½¬ç‡\")\n  ) +\n  labs(\n    title = \"åº“å­˜é‡ä¸å‘¨è½¬ç‡æœˆåº¦å˜åŒ–\",\n    x = NULL\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#6366f1\", face = \"bold\"),\n    axis.text.y.left = element_text(color = \"#6366f1\"),\n    axis.title.y.right = element_text(color = \"#ec4899\", face = \"bold\"),\n    axis.text.y.right = element_text(color = \"#ec4899\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å°è£…å‡½æ•°",
    "href": "2019-dualaxis.html#å°è£…å‡½æ•°",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "å°è£…å‡½æ•°",
    "text": "å°è£…å‡½æ•°\nä¸ºäº†æ–¹ä¾¿å¤ç”¨ï¼Œå¯ä»¥å°†åŒåæ ‡è½´ç»‘å›¾å°è£…æˆå‡½æ•°ï¼š\n\n#' åˆ›å»ºæŸ±çº¿æ··åˆåŒåæ ‡è½´å›¾\n#' \n#' @param data æ•°æ®æ¡†\n#' @param x xè½´å˜é‡åï¼ˆå­—ç¬¦ä¸²ï¼‰\n#' @param y1 ä¸»è½´å˜é‡åï¼ˆæŸ±çŠ¶å›¾ï¼‰\n#' @param y2 æ¬¡è½´å˜é‡åï¼ˆæŠ˜çº¿å›¾ï¼‰\n#' @param y1_name ä¸»è½´æ ‡ç­¾\n#' @param y2_name æ¬¡è½´æ ‡ç­¾\n#' @param title å›¾è¡¨æ ‡é¢˜\n#' @param bar_color æŸ±çŠ¶å›¾é¢œè‰²\n#' @param line_color æŠ˜çº¿å›¾é¢œè‰²\ncreate_dual_axis_plot &lt;- function(\n    data, x, y1, y2,\n    y1_name = y1, y2_name = y2,\n    title = NULL,\n    bar_color = \"#4f46e5\",\n    line_color = \"#ef4444\"\n) {\n  \n  # æå–æ•°æ®\n  x_val &lt;- data[[x]]\n  y1_val &lt;- data[[y1]]\n  y2_val &lt;- data[[y2]]\n  \n  # è®¡ç®—è½¬æ¢ç³»æ•°\n  coef &lt;- max(y1_val, na.rm = TRUE) / max(y2_val, na.rm = TRUE)\n  \n  # åˆ›å»ºç»‘å›¾æ•°æ®\n  plot_data &lt;- data.frame(\n    x = x_val,\n    y1 = y1_val,\n    y2 = y2_val,\n    y2_scaled = y2_val * coef\n  )\n  \n  # ç»˜å›¾\n  ggplot(plot_data, aes(x = x)) +\n    geom_col(aes(y = y1), fill = bar_color, alpha = 0.7, width = 0.6) +\n    geom_line(aes(y = y2_scaled, group = 1), color = line_color, linewidth = 1.2) +\n    geom_point(aes(y = y2_scaled), color = line_color, size = 3) +\n    scale_y_continuous(\n      name = y1_name,\n      sec.axis = sec_axis(~ . / coef, name = y2_name)\n    ) +\n    labs(title = title, x = NULL) +\n    theme_bw(base_size = 12) +\n    theme(\n      axis.title.y.left = element_text(color = bar_color, face = \"bold\"),\n      axis.text.y.left = element_text(color = bar_color),\n      axis.title.y.right = element_text(color = line_color, face = \"bold\"),\n      axis.text.y.right = element_text(color = line_color)\n    )\n}\n\n# ä½¿ç”¨ç¤ºä¾‹\ncreate_dual_axis_plot(\n  data = df,\n  x = \"month\",\n  y1 = \"sales\",\n  y2 = \"growth_rate\",\n  y1_name = \"é”€å”®é¢\",\n  y2_name = \"å¢é•¿ç‡ (%)\",\n  title = \"æœˆåº¦é”€å”®æ•°æ®\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å¸¸è§é—®é¢˜",
    "href": "2019-dualaxis.html#å¸¸è§é—®é¢˜",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n1. å¦‚ä½•ç¡®å®šåˆé€‚çš„è½¬æ¢ç³»æ•°ï¼Ÿ\næœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯è®©ä¸¤ä¸ªå˜é‡çš„æœ€å¤§å€¼å¯¹é½ï¼š\ncoef &lt;- max(ä¸»è½´å˜é‡) / max(æ¬¡è½´å˜é‡)\nä¹Ÿå¯ä»¥æ ¹æ®æ•°æ®èŒƒå›´è°ƒæ•´ï¼š\n# è®©ä¸¤ä¸ªå˜é‡çš„èŒƒå›´å¯¹é½\ncoef &lt;- diff(range(ä¸»è½´å˜é‡)) / diff(range(æ¬¡è½´å˜é‡))\n\n\n2. æ¬¡è½´æ•°æ®æ˜¾ç¤ºä¸å®Œæ•´æ€ä¹ˆåŠï¼Ÿ\nè°ƒæ•´ä¸»è½´çš„ limitsï¼š\nscale_y_continuous(\n  limits = c(0, max(ä¸»è½´å˜é‡) * 1.1),  # ç•™å‡º10%ç©ºé—´\n  sec.axis = sec_axis(...)\n)\n\n\n3. å¦‚ä½•è®©æ¬¡è½´ä» 0 å¼€å§‹ï¼Ÿ\néœ€è¦å¯¹æ•°æ®è¿›è¡Œåç§»å˜æ¢ï¼š\n\n# ç¤ºä¾‹ï¼šæ¬¡è½´æ•°æ®èŒƒå›´æ˜¯ 10-30ï¼Œæƒ³è®©å®ƒä» 0 å¼€å§‹æ˜¾ç¤º\ndf_offset &lt;- data.frame(\n  x = 1:5,\n  y1 = c(100, 150, 200, 180, 220),\n  y2 = c(10, 15, 20, 25, 30)\n)\n\n# è®¡ç®—åç§»å’Œç¼©æ”¾\ny2_min &lt;- min(df_offset$y2)\ny2_max &lt;- max(df_offset$y2)\ny1_max &lt;- max(df_offset$y1)\n\n# å˜æ¢å…¬å¼: y2_transformed = (y2 - y2_min) * y1_max / (y2_max - y2_min)\ncoef &lt;- y1_max / (y2_max - y2_min)\noffset &lt;- y2_min\n\nggplot(df_offset, aes(x = x)) +\n  geom_col(aes(y = y1), fill = \"#4f46e5\", alpha = 0.7) +\n  geom_line(aes(y = (y2 - offset) * coef), color = \"#ef4444\", linewidth = 1.2) +\n  scale_y_continuous(\n    name = \"ä¸»è½´\",\n    sec.axis = sec_axis(~ . / coef + offset, name = \"æ¬¡è½´\")\n  ) +\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n4. åŒåæ ‡è½´ vs åˆ†é¢å›¾\nå½“ä¸ç¡®å®šæ˜¯å¦ä½¿ç”¨åŒåæ ‡è½´æ—¶ï¼Œè€ƒè™‘ç”¨åˆ†é¢å›¾æ›¿ä»£ï¼š\n\n# æ•°æ®è½¬æ¢ä¸ºé•¿æ ¼å¼\ndf_long &lt;- df |&gt;\n  pivot_longer(cols = c(sales, growth_rate), \n               names_to = \"metric\", \n               values_to = \"value\") |&gt;\n  mutate(metric = ifelse(metric == \"sales\", \"é”€å”®é¢\", \"å¢é•¿ç‡ (%)\"))\n\n# åˆ†é¢å›¾\nggplot(df_long, aes(x = month, y = value, color = metric)) +\n  geom_line(linewidth = 1.2) +\n  geom_point(size = 2.5) +\n  facet_wrap(~ metric, ncol = 1, scales = \"free_y\") +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®æ•°æ®\", x = NULL, y = NULL, color = NULL) +\n  theme_bw(base_size = 12) +\n  theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#æ€»ç»“",
    "href": "2019-dualaxis.html#æ€»ç»“",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nåŒåæ ‡è½´çš„æ ¸å¿ƒè¦ç‚¹ï¼š\n\nåŸç†ï¼šæ¬¡è½´æ˜¯ä¸»è½´çš„çº¿æ€§å˜æ¢ï¼Œé€šè¿‡ sec_axis() å®ç°\nè½¬æ¢ç³»æ•°ï¼šcoef = max(ä¸»è½´) / max(æ¬¡è½´)\nç»˜åˆ¶æ¬¡è½´æ•°æ®ï¼šä¹˜ä»¥ç³»æ•° y2 * coef\nè®¾ç½®æ¬¡è½´åˆ»åº¦ï¼šé™¤ä»¥ç³»æ•° ~ . / coef\nç¾åŒ–ï¼šåŒ¹é…åæ ‡è½´é¢œè‰²ï¼Œæ·»åŠ å›¾ä¾‹\n\nä½¿ç”¨å»ºè®®ï¼š\n\nâœ… ä¸¤ä¸ªå˜é‡æœ‰æ˜ç¡®å…³è”æ—¶ä½¿ç”¨\nâœ… ç”¨é¢œè‰²åŒºåˆ†ä¸¤ä¸ªè½´\nâœ… æ¸…æ™°æ ‡æ³¨å•ä½\nâŒ é¿å…åˆ»æ„è°ƒæ•´æ¯”ä¾‹è¯¯å¯¼è¯»è€…\nâŒ å½“æ•°æ®å¤æ‚æ—¶ï¼Œè€ƒè™‘åˆ†é¢å›¾æ›¿ä»£",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å‚è€ƒèµ„æº",
    "href": "2019-dualaxis.html#å‚è€ƒèµ„æº",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nggplot2 å®˜æ–¹æ–‡æ¡£ - sec_axis\nggnewscale åŒ…\nWhy not to use two Y axes - å…³äºåŒåæ ‡è½´äº‰è®®çš„è®¨è®º",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2017-ggtext.html",
    "href": "2017-ggtext.html",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "",
    "text": "ggtext åŒ…æ‰©å±•äº† ggplot2 çš„æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›ï¼Œæ”¯æŒ Markdown å’Œ HTML è¯­æ³•ï¼Œæ˜¯è§£å†³ä¸­è‹±æ–‡å­—ä½“æ··åˆæ˜¾ç¤ºçš„ç»ˆææ–¹æ¡ˆã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#råŒ…ä»‹ç»",
    "href": "2017-ggtext.html#råŒ…ä»‹ç»",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\n\nä¸ºä»€ä¹ˆéœ€è¦ ggtextï¼Ÿ\nåœ¨ç§‘ç ”ç»‘å›¾ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š\n\nä¸­è‹±æ–‡æ··åˆï¼šæ ‡é¢˜éœ€è¦åŒæ—¶æ˜¾ç¤ºä¸­æ–‡å’Œè‹±æ–‡ï¼Œä½†å­—ä½“ä¸ç»Ÿä¸€\nå¯Œæ–‡æœ¬æ ¼å¼ï¼šéœ€è¦åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ç²—ä½“ã€æ–œä½“ã€é¢œè‰²ç­‰æ ¼å¼\nä¸Šä¸‹æ ‡ï¼šåŒ–å­¦å¼ Hâ‚‚Oã€æ•°å­¦å…¬å¼ RÂ² ç­‰éœ€è¦ç‰¹æ®Šæ ¼å¼\nå›¾ä¾‹ç¾åŒ–ï¼šå¸Œæœ›å›¾ä¾‹æ–‡å­—å¸¦é¢œè‰²ã€æ ¼å¼\n\nggtext å®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ï¼\n\n\nå®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"ggtext\")\n\n\nlibrary(ggplot2)\nlibrary(ggtext)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#åŸºç¡€ç”¨æ³•markdown-æ–‡æœ¬",
    "href": "2017-ggtext.html#åŸºç¡€ç”¨æ³•markdown-æ–‡æœ¬",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "åŸºç¡€ç”¨æ³•ï¼šMarkdown æ–‡æœ¬",
    "text": "åŸºç¡€ç”¨æ³•ï¼šMarkdown æ–‡æœ¬\n\nelement_markdown() åŸºç¡€\nggtext çš„æ ¸å¿ƒå‡½æ•°æ˜¯ element_markdown()ï¼Œå®ƒæ›¿ä»£ element_text() æ¥æ¸²æŸ“å¯Œæ–‡æœ¬ã€‚\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ndata &lt;- data.frame(\n  category = c(\"Control\", \"Treatment A\", \"Treatment B\"),\n  value = c(25, 45, 35)\n)\n\n# ä½¿ç”¨ Markdown è¯­æ³•çš„æ ‡é¢˜\nggplot(data, aes(x = category, y = value, fill = category)) +\n  geom_col() +\n  labs(\n    title = \"**å®éªŒç»“æœ** (*Experimental Results*)\",\n    x = \"åˆ†ç»„\",\n    y = \"æ•°å€¼\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_markdown(size = 16, hjust = 0.5)\n  ) +\n  scale_fill_brewer(palette = \"Set2\")\n\n\n\n\n\n\n\n\n\n\næ”¯æŒçš„ Markdown è¯­æ³•\n\n\n\nè¯­æ³•\næ•ˆæœ\nç¤ºä¾‹\n\n\n\n\n**text**\nç²—ä½“\nç²—ä½“æ–‡å­—\n\n\n*text*\næ–œä½“\næ–œä½“æ–‡å­—\n\n\n&lt;sup&gt;text&lt;/sup&gt;\nä¸Šæ ‡\nR2\n\n\n&lt;sub&gt;text&lt;/sub&gt;\nä¸‹æ ‡\nH2O\n\n\n&lt;span style='color:red'&gt;\né¢œè‰²\nçº¢è‰²æ–‡å­—\n\n\n&lt;br&gt;\næ¢è¡Œ\nå¤šè¡Œæ–‡æœ¬\n\n\n\n\nggplot(data, aes(x = category, y = value, fill = category)) +\n  geom_col() +\n  labs(\n    title = \"H&lt;sub&gt;2&lt;/sub&gt;O å«é‡ä¸ CO&lt;sub&gt;2&lt;/sub&gt; æµ“åº¦\",\n    subtitle = \"ç›¸å…³ç³»æ•° R&lt;sup&gt;2&lt;/sup&gt; = 0.95\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    plot.subtitle = element_markdown(size = 11, hjust = 0.5, color = \"gray50\")\n  ) +\n  scale_fill_brewer(palette = \"Pastel1\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "href": "2017-ggtext.html#ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "text": "ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®\n\næ ¸å¿ƒåŸç†\nggtext ä½¿ç”¨ CSS è¯­æ³•æ¥æŒ‡å®šå­—ä½“ï¼Œé€šè¿‡ &lt;span style='font-family:...'&gt; å¯ä»¥ä¸ºä¸åŒæ–‡å­—æŒ‡å®šä¸åŒå­—ä½“ã€‚\n\n\nåŸºç¡€ç¤ºä¾‹ï¼šä¸­è‹±æ–‡åˆ†åˆ«è®¾ç½®å­—ä½“\n\n# åˆ›å»ºå¸¦ä¸­è‹±æ–‡æ ‡ç­¾çš„æ•°æ®\ndf &lt;- data.frame(\n  group = c(\"å¯¹ç…§ç»„\\nControl\", \"æ²»ç–—ç»„A\\nTreatment A\", \"æ²»ç–—ç»„B\\nTreatment B\"),\n  mean_value = c(23.5, 45.2, 38.7)\n)\n\nggplot(df, aes(x = group, y = mean_value, fill = group)) +\n  geom_col(width = 0.7) +\n  labs(\n    title = \"&lt;span style='font-family:SimHei'&gt;ä¸´åºŠè¯•éªŒç»“æœ&lt;/span&gt; &lt;span style='font-family:Arial'&gt;Clinical Trial Results&lt;/span&gt;\",\n    x = NULL,\n    y = \"&lt;span style='font-family:SimSun'&gt;æ•°å€¼&lt;/span&gt; (Value)\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_markdown(size = 16, hjust = 0.5),\n    axis.title.y = element_markdown(),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Blues\")\n\n\n\n\n\n\n\n\n\n\næ¨èçš„ä¸­è‹±æ–‡å­—ä½“æ­é…\n\n\n\nç”¨é€”\nä¸­æ–‡å­—ä½“\nè‹±æ–‡å­—ä½“\næ•ˆæœ\n\n\n\n\næ­£æ–‡\nSimSun (å®‹ä½“)\nTimes New Roman\nå­¦æœ¯è§„èŒƒ\n\n\næ ‡é¢˜\nSimHei (é»‘ä½“)\nArial\né†’ç›®æ¸…æ™°\n\n\nå¼ºè°ƒ\nMicrosoft YaHei (å¾®è½¯é›…é»‘)\nHelvetica\nç°ä»£ç®€æ´\n\n\nä»£ç \nSimSun\nConsolas\nç­‰å®½æ•´é½\n\n\n\n\n\nåˆ›å»ºä¾¿æ·å‡½æ•°\nä¸ºäº†ç®€åŒ–ä¸­è‹±æ–‡æ··åˆå­—ä½“çš„è®¾ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè¾…åŠ©å‡½æ•°ï¼š\n\n# ä¸­è‹±æ–‡æ··åˆæ–‡æœ¬æ ¼å¼åŒ–å‡½æ•°\nformat_cn_en &lt;- function(cn_text, en_text, \n                         cn_font = \"SimHei\", \n                         en_font = \"Arial\",\n                         cn_color = \"black\",\n                         en_color = \"gray30\") {\n  glue::glue(\n    \"&lt;span style='font-family:{cn_font}; color:{cn_color}'&gt;{cn_text}&lt;/span&gt; \",\n    \"&lt;span style='font-family:{en_font}; color:{en_color}; font-style:italic'&gt;{en_text}&lt;/span&gt;\"\n  )\n}\n\n# ä½¿ç”¨ç¤ºä¾‹\ntitle_text &lt;- format_cn_en(\"ç”Ÿå­˜åˆ†æç»“æœ\", \"Survival Analysis\")\n\nggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(cyl))) +\n  geom_boxplot() +\n  labs(title = title_text) +\n  theme_bw() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Set2\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#é«˜çº§åº”ç”¨å½©è‰²åæ ‡è½´æ ‡ç­¾",
    "href": "2017-ggtext.html#é«˜çº§åº”ç”¨å½©è‰²åæ ‡è½´æ ‡ç­¾",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "é«˜çº§åº”ç”¨ï¼šå½©è‰²åæ ‡è½´æ ‡ç­¾",
    "text": "é«˜çº§åº”ç”¨ï¼šå½©è‰²åæ ‡è½´æ ‡ç­¾\n\næŒ‰åˆ†ç»„ç€è‰²çš„ X è½´æ ‡ç­¾\n\n# åˆ›å»ºæ•°æ®ï¼Œæ ‡ç­¾åŒ…å«é¢œè‰²ä¿¡æ¯\niris_summary &lt;- iris |&gt;\n  group_by(Species) |&gt;\n  summarise(mean_length = mean(Sepal.Length), .groups = \"drop\") |&gt;\n  mutate(\n    # ä¸ºæ¯ä¸ªç‰©ç§åˆ›å»ºå¸¦é¢œè‰²çš„æ ‡ç­¾\n    colored_label = case_when(\n      Species == \"setosa\" ~ \"&lt;span style='color:#E41A1C'&gt;**Setosa** å±±é¸¢å°¾&lt;/span&gt;\",\n      Species == \"versicolor\" ~ \"&lt;span style='color:#377EB8'&gt;**Versicolor** å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n      Species == \"virginica\" ~ \"&lt;span style='color:#4DAF4A'&gt;**Virginica** ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n    )\n  )\n\nggplot(iris_summary, aes(x = colored_label, y = mean_length, fill = Species)) +\n  geom_col(width = 0.6) +\n  labs(\n    title = \"é¸¢å°¾èŠ±è¼ç‰‡é•¿åº¦æ¯”è¾ƒ\",\n    x = NULL,\n    y = \"å¹³å‡è¼ç‰‡é•¿åº¦ (cm)\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    axis.text.x = element_markdown(size = 11),\n    legend.position = \"none\"\n  ) +\n  scale_fill_manual(values = c(\"#E41A1C\", \"#377EB8\", \"#4DAF4A\"))\n\n\n\n\n\n\n\n\n\n\nå½©è‰²å›¾ä¾‹æ–‡å­—\n\n# ä½¿ç”¨ ggtext ç¾åŒ–å›¾ä¾‹\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  scale_color_manual(\n    values = c(\"setosa\" = \"#E41A1C\", \"versicolor\" = \"#377EB8\", \"virginica\" = \"#4DAF4A\"),\n    labels = c(\n      \"setosa\" = \"&lt;span style='color:#E41A1C'&gt;**Setosa** å±±é¸¢å°¾&lt;/span&gt;\",\n      \"versicolor\" = \"&lt;span style='color:#377EB8'&gt;**Versicolor** å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n      \"virginica\" = \"&lt;span style='color:#4DAF4A'&gt;**Virginica** ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n    )\n  ) +\n  labs(\n    title = \"é¸¢å°¾èŠ±å½¢æ€ç‰¹å¾æ•£ç‚¹å›¾\",\n    x = \"è¼ç‰‡é•¿åº¦ Sepal Length (cm)\",\n    y = \"è¼ç‰‡å®½åº¦ Sepal Width (cm)\",\n    color = \"ç‰©ç§ Species\"\n  ) +\n  theme_bw() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.text = element_markdown(size = 10)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#æ–‡æœ¬æ¡†geom_richtext-å’Œ-geom_textbox",
    "href": "2017-ggtext.html#æ–‡æœ¬æ¡†geom_richtext-å’Œ-geom_textbox",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "æ–‡æœ¬æ¡†ï¼šgeom_richtext() å’Œ geom_textbox()",
    "text": "æ–‡æœ¬æ¡†ï¼šgeom_richtext() å’Œ geom_textbox()\n\ngeom_richtext()ï¼šå¯Œæ–‡æœ¬æ ‡æ³¨\n\n# åœ¨å›¾ä¸­æ·»åŠ å¯Œæ–‡æœ¬æ ‡æ³¨\ndf_annotation &lt;- data.frame(\n  x = 6.5,\n  y = 4.2,\n  label = \"**æœ€å¤§å€¼ç‚¹**&lt;br&gt;&lt;span style='color:red; font-size:10pt'&gt;*Sepal.Length* = 7.9&lt;/span&gt;\"\n)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width)) +\n  geom_point(aes(color = Species), alpha = 0.6) +\n  geom_richtext(\n    data = df_annotation,\n    aes(x = x, y = y, label = label),\n    fill = \"white\",\n    label.color = \"gray50\",\n    hjust = 0\n  ) +\n  labs(title = \"ä½¿ç”¨ geom_richtext æ·»åŠ æ ‡æ³¨\") +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  scale_color_brewer(palette = \"Set1\")\n\n\n\n\n\n\n\n\n\n\ngeom_textbox()ï¼šæ–‡æœ¬æ¡†\n\n# æ·»åŠ å¯æ¢è¡Œçš„æ–‡æœ¬æ¡†\nlong_text &lt;- \"è¿™æ˜¯ä¸€æ®µè¾ƒé•¿çš„è¯´æ˜æ–‡å­—ï¼Œä½¿ç”¨ **geom_textbox** å¯ä»¥å®ç°è‡ªåŠ¨æ¢è¡Œã€‚æ”¯æŒ *Markdown* è¯­æ³•å’Œ &lt;span style='color:blue'&gt;HTML æ ·å¼&lt;/span&gt;ã€‚\"\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(aes(color = factor(cyl))) +\n  geom_textbox(\n    aes(x = 4.5, y = 30, label = long_text),\n    width = unit(5, \"cm\"),\n    fill = \"lightyellow\",\n    box.color = \"orange\",\n    hjust = 0.5\n  ) +\n  labs(title = \"ä½¿ç”¨ geom_textbox æ·»åŠ è¯´æ˜\") +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  scale_color_brewer(palette = \"Dark2\", name = \"æ°”ç¼¸æ•°\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "href": "2017-ggtext.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "text": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨\n\næ¡ˆä¾‹1ï¼šä¸´åºŠè¯•éªŒç»“æœå›¾\n\n# æ¨¡æ‹Ÿä¸´åºŠæ•°æ®\nset.seed(42)\nclinical_data &lt;- data.frame(\n  group = rep(c(\"å®‰æ…°å‰‚ç»„\\nPlacebo\", \"ä½å‰‚é‡ç»„\\nLow Dose\", \"é«˜å‰‚é‡ç»„\\nHigh Dose\"), each = 30),\n  response = c(\n    rnorm(30, 50, 10),\n    rnorm(30, 60, 12),\n    rnorm(30, 75, 8)\n  )\n)\n\n# è®¡ç®—æ±‡æ€»ç»Ÿè®¡\nsummary_data &lt;- clinical_data |&gt;\n  group_by(group) |&gt;\n  summarise(\n    mean_val = mean(response),\n    se = sd(response) / sqrt(n()),\n    .groups = \"drop\"\n  )\n\n# åˆ›å»ºå›¾è¡¨\np_clinical &lt;- ggplot(summary_data, aes(x = group, y = mean_val, fill = group)) +\n  geom_col(width = 0.6, color = \"black\", linewidth = 0.3) +\n  geom_errorbar(\n    aes(ymin = mean_val - se, ymax = mean_val + se),\n    width = 0.2\n  ) +\n  labs(\n    title = \"&lt;span style='font-family:SimHei; font-size:16pt'&gt;**è¯ç‰©ç–—æ•ˆè¯„ä¼°**&lt;/span&gt;&lt;br&gt;&lt;span style='font-family:Arial; color:gray40; font-size:12pt'&gt;*Drug Efficacy Assessment*&lt;/span&gt;\",\n    x = NULL,\n    y = \"&lt;span style='font-family:SimSun'&gt;åº”ç­”ç‡ (%)&lt;/span&gt; &lt;span style='font-family:Arial; color:gray50'&gt;Response Rate&lt;/span&gt;\"\n  ) +\n  theme_bw(base_size = 11) +\n  theme(\n    plot.title = element_markdown(hjust = 0.5, lineheight = 1.2),\n    axis.title.y = element_markdown(),\n    axis.text.x = element_text(size = 10),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Blues\") +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1)))\n\np_clinical\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šå¸¦å›¾ç‰‡çš„å›¾ä¾‹\n\n# åˆ›å»ºè‡ªå®šä¹‰å›¾ä¾‹æ ‡ç­¾ï¼ˆæ¨¡æ‹Ÿå¸¦å›¾æ ‡æ•ˆæœï¼‰\nlegend_labels &lt;- c(\n  \"setosa\" = \"&lt;span style='color:#E41A1C'&gt;â—&lt;/span&gt; **Setosa** &lt;span style='color:gray50'&gt;å±±é¸¢å°¾&lt;/span&gt;\",\n  \"versicolor\" = \"&lt;span style='color:#377EB8'&gt;â—&lt;/span&gt; **Versicolor** &lt;span style='color:gray50'&gt;å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n  \"virginica\" = \"&lt;span style='color:#4DAF4A'&gt;â—&lt;/span&gt; **Virginica** &lt;span style='color:gray50'&gt;ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n)\n\nggplot(iris, aes(x = Sepal.Length, y = Petal.Length, color = Species)) +\n  geom_point(size = 2.5, alpha = 0.7) +\n  scale_color_manual(\n    values = c(\"setosa\" = \"#E41A1C\", \"versicolor\" = \"#377EB8\", \"virginica\" = \"#4DAF4A\"),\n    labels = legend_labels\n  ) +\n  labs(\n    title = \"é¸¢å°¾èŠ± **è¼ç‰‡** ä¸ **èŠ±ç“£** é•¿åº¦å…³ç³»\",\n    subtitle = \"*Relationship between Sepal and Petal Length*\",\n    x = \"è¼ç‰‡é•¿åº¦ (cm)\",\n    y = \"èŠ±ç“£é•¿åº¦ (cm)\",\n    color = \"ç‰©ç§ Species\"\n  ) +\n  theme_bw() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    plot.subtitle = element_markdown(size = 11, hjust = 0.5, color = \"gray50\"),\n    legend.text = element_markdown(size = 10),\n    legend.title = element_text(face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "href": "2017-ggtext.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "text": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n\n1. å­—ä½“ä¸æ˜¾ç¤º\n\n# æ£€æŸ¥ç³»ç»Ÿå¯ç”¨å­—ä½“\nwindowsFonts()\n\n# æŸ¥çœ‹ç‰¹å®šå­—ä½“æ˜¯å¦å¯ç”¨\nlibrary(systemfonts)\nsystem_fonts() |&gt; \n  filter(grepl(\"Sim|Microsoft\", family, ignore.case = TRUE))\n\n\n\n2. PDF å¯¼å‡ºä¸­æ–‡ä¹±ç \n\n# ä½¿ç”¨ ragg åŒ…å¯¼å‡º PNGï¼ˆæ¨èï¼‰\nggsave(\"figure.png\", plot = p, device = ragg::agg_png, dpi = 300)\n\n# PDF ä½¿ç”¨ cairo_pdf\nggsave(\"figure.pdf\", plot = p, device = cairo_pdf)\n\n\n\n3. element_markdown ä¸ element_text çš„åŒºåˆ«\n\n\n\nç‰¹æ€§\nelement_text()\nelement_markdown()\n\n\n\n\nçº¯æ–‡æœ¬\nâœ“\nâœ“\n\n\nç²—ä½“/æ–œä½“\nface å‚æ•°\nMarkdown è¯­æ³•\n\n\né¢œè‰²\ncolor å‚æ•°\nHTML span æ ‡ç­¾\n\n\nå¤šå­—ä½“\nâœ—\nâœ“\n\n\nä¸Šä¸‹æ ‡\nâœ—\nâœ“",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#æ€»ç»“",
    "href": "2017-ggtext.html#æ€»ç»“",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nggtext åŒ…çš„æ ¸å¿ƒåŠŸèƒ½ï¼š\n\nelement_markdown()ï¼šåœ¨ä¸»é¢˜å…ƒç´ ä¸­ä½¿ç”¨ Markdown/HTML\ngeom_richtext()ï¼šåœ¨å›¾ä¸­æ·»åŠ å¯Œæ–‡æœ¬æ ‡æ³¨\ngeom_textbox()ï¼šæ·»åŠ å¯æ¢è¡Œçš„æ–‡æœ¬æ¡†\nä¸­è‹±æ–‡æ··åˆï¼šé€šè¿‡ CSS font-family å±æ€§å®ç°\n\næ¨èçš„å·¥ä½œæµç¨‹ï¼š\n\nä½¿ç”¨ glue åŒ…æ„å»ºå¤æ‚çš„ HTML å­—ç¬¦ä¸²\nåˆ›å»ºè¾…åŠ©å‡½æ•°ç®€åŒ–é‡å¤æ“ä½œ\nä½¿ç”¨ ragg åŒ…å¯¼å‡ºç¡®ä¿ä¸­æ–‡æ­£å¸¸æ˜¾ç¤º\n\nå‚è€ƒèµ„æºï¼š\n\nggtext å®˜æ–¹æ–‡æ¡£\nCRAN é¡µé¢\nggtext GitHub",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2015-map.html",
    "href": "2015-map.html",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¦‚ä½•ç»˜åˆ¶é‡‡æ ·åœ°å›¾å’Œå›½å†…åŒºåŸŸåœ°å›¾ï¼Œå¹¶è‡ªå®šä¹‰ç›¸å…³å†…å®¹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»‘åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#råŒ…ä»‹ç»",
    "href": "2015-map.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nggspatialæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»‘åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#råŒ…å®‰è£…",
    "href": "2015-map.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"ggspatial\")\ninstall.packages(\"sf\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»‘åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#åŸºç¡€ç»˜å›¾ä»£ç ",
    "href": "2015-map.html#åŸºç¡€ç»˜å›¾ä»£ç ",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "åŸºç¡€ç»˜å›¾ä»£ç ",
    "text": "åŸºç¡€ç»˜å›¾ä»£ç \n\nå¯¼å…¥åœ°å›¾jsonæ•°æ®\nè¿›å…¥ä»é˜¿é‡Œäº‘DataVå¯è§†åŒ–ç½‘ç«™ï¼ˆå¯é€‰æ‹©å…¶ä»–å¹³å°ï¼‰ä¸‹è½½æ ¼å¼ä¸º.jsonçš„åœ°å›¾æ•°æ®ï¼š\n\n\n\næ•°æ®å¯¼å…¥\n\nlibrary(ggspatial)\nlibrary(sf)\n\nLinking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE\n\nlibrary(ggplot2)\n\n# å¯¼å…¥åœ°å›¾jsonæ•°æ®\nmap &lt;- st_read(\"01-attch\\\\10\\\\å¹¿å·å¸‚.json\")\n\nReading layer `å¹¿å·å¸‚' from data source \n  `E:\\99 å…¶å®ƒ\\05 Rè¯­è¨€\\doc\\01-attch\\10\\å¹¿å·å¸‚.json' using driver `GeoJSON'\nSimple feature collection with 11 features and 9 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 112.9585 ymin: 22.51436 xmax: 114.06 ymax: 23.93292\nGeodetic CRS:  WGS 84\n\n\n\n\nå¼€å§‹ç»˜åˆ¶\n\næ·»åŠ çœä»½åŒºè¾¹æ¡†\n\nggplot() +\n  labs(title = \"Guangzhou\", x = NULL, y = NULL) +\n  geom_sf(data = map, fill = c(\"#f0eedf\"), size = 0.8, color = \"black\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æŒ‡å—é’ˆannotation\n\np &lt;- ggplot() +\n  labs(title = \"Guangzhou\", x = NULL, y = NULL) +\n  geom_sf(data = map, fill = c(\"#f0eedf\"), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  )\np",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»‘åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "href": "2015-map.html#æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "text": "æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹\n\nè®¾ç½®ç™½äº‘åŒºå¤©æ²³åŒºçªå‡ºæ˜¾ç¤º\næˆ‘ä»¬æ–°åŠ ä¸€ä¸ªå›¾å±‚å°±å¯ä»¥ï¼Œç„¶åfillå¡«å……äº®è‰²\n\np + geom_sf(\n  data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n  fill = c(\"#c98c50\"),\n  size = 0.8,\n  color = \"black\"\n)\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®text\næ¥ä¸‹æ¥æˆ‘ä»¬è¦åœ¨å›¾é‡Œæ ‡æ³¨éƒ¨åˆ†åŒºå\n\nlibrary(showtext)\nshowtext::showtext_auto()\n\n\np + geom_sf(\n  data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n  fill = c(\"#c98c50\"),\n  size = 0.8,\n  color = \"black\"\n) +\n  geom_sf_text(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  )\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®ä¸€ä¸ªåˆé€‚çš„ä¸»é¢˜\n\np2 &lt;-\n  p + geom_sf(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    fill = c(\"#c98c50\"),\n    size = 0.8,\n    color = \"black\"\n  ) +\n  geom_sf_text(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal()\n\np2\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®æ ¹æ®æ•°å€¼å˜é‡å¯¹å„åŒºçš„fillè¿›è¡Œæ˜ å°„\n\n# å…ˆç”Ÿæˆä¸€ä¸ªéšæœºå˜é‡\nmap_neat_1 &lt;-\n  map |&gt;\n  dplyr::mutate(\n    value = sample(1:100, nrow(map), replace = TRUE)\n  )\n\n\nggplot() +\n  labs(title = \"map_neat_1\", x = NULL, y = NULL) +\n  geom_sf(data = map_neat_1, aes(fill = value), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  ) +\n  geom_sf_text(\n    data = map,\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ ¹æ®åˆ†ç±»å˜é‡å¯¹åŒºè¿›è¡Œfillæ˜ å°„\n\nlibrary(MetBrewer)\n\nmap_neat_2 &lt;-\n  map |&gt;\n  dplyr::mutate(\n    group = sample(c(\"A\", \"B\", \"C\"), nrow(map), replace = TRUE)\n  )\n\nggplot() +\n  labs(title = \"map_neat_2\", x = NULL, y = NULL) +\n  geom_sf(data = map_neat_2, aes(fill = group), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  ) +\n  geom_sf_text(\n    data = map,\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal() +\n  scale_fill_met_d(\"Cassatt1\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ é‡‡æ ·ç‚¹\n\ndata_sample &lt;-\n  tibble::tibble(\n    lon = c(113.292333, 113.412333, 113.532333),\n    lat = c(23.191944, 23.331944, 22.931944),\n    point = c(\"A\", \"B\", \"C\"),\n  )\n\np2 +\n  geom_point(\n    data = data_sample,\n    aes(x = lon, y = lat),\n    size = 2,\n    color = \"#1647a3\"\n  ) +\n  geom_text(\n    data = data_sample,\n    aes(x = lon, y = lat, label = point),\n    size = 4,\n    color = \"#000000\",\n    fontface = \"bold\",\n    nudge_y = 0.05\n  )+\n  labs(title = \"å¹¿å·å¸‚\")+\n  theme(plot.title = element_text(hjust = 0.5))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»‘åˆ¶"
    ]
  },
  {
    "objectID": "2013-legend.html",
    "href": "2013-legend.html",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "",
    "text": "ggplot2ä¸­çš„å›¾ä¾‹æ ·å¼ä¿®æ”¹ï¼ˆå›¾ä¾‹é—´è·ï¼Œä½ç½®ä¿®æ”¹ç­‰ï¼‰ä¸€ç›´æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·çš„å¿ƒå¤´ç—›ï¼Œå› ä¸ºå®ƒçš„ä¿®æ”¹æ–¹æ³•å®åœ¨å¤ªå¤šäº†ï¼Œè€Œä¸”å¾ˆéš¾è®°ä½ã€‚å¤šç§å‚æ•°æ–¹æ³•çœ‹èµ·æ¥æ‚ä¹±æ— ç« ï¼Œä½†æ˜¯åœ¨24å¹´2æœˆæ›´æ–°çš„ggplot2 2.3.5ä¹‹åï¼Œggplot2çš„å›¾ä¾‹ä¿®æ”¹æ–¹æ³•ç»ˆäºæœ‰äº†ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ä¸€ä¸‹å§\nåœ¨ggplot2æ›´æ–°åæœ‰ä¸”ä»…æœ‰ä¸€ç§æ–¹å¼ä¿®æ”¹å›¾ä¾‹æ ·å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨theme()å‚æ•° ã€‚theme()å‡½æ•°æœ‰æ–°çš„å‚æ•°æ¥æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚ï¼Œè¿™ä½¿å¾—å…¨å±€æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚å˜å¾—æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼š theme(legend.frame)æ›¿æ¢ guide_colourbar(frame.colour, frame.linewidth, frame.linetype) å’Œ theme(legend.axis.line)æ›¿æ¢ guide_bins(axis, axis.colour, axis.linewidth, axis.arrow) ã€‚ï¼ˆå¦‚æœæœ‰å…¶å®ƒæ–¹æ³•å°±æ˜¯è¿˜æ²¡å¼ƒç½®ï¼Œå»ºè®®ä¸è¦ç”¨äº†ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#å›¾ä¾‹æ ·å¼ä¿®æ”¹ä»‹ç»",
    "href": "2013-legend.html#å›¾ä¾‹æ ·å¼ä¿®æ”¹ä»‹ç»",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "",
    "text": "ggplot2ä¸­çš„å›¾ä¾‹æ ·å¼ä¿®æ”¹ï¼ˆå›¾ä¾‹é—´è·ï¼Œä½ç½®ä¿®æ”¹ç­‰ï¼‰ä¸€ç›´æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·çš„å¿ƒå¤´ç—›ï¼Œå› ä¸ºå®ƒçš„ä¿®æ”¹æ–¹æ³•å®åœ¨å¤ªå¤šäº†ï¼Œè€Œä¸”å¾ˆéš¾è®°ä½ã€‚å¤šç§å‚æ•°æ–¹æ³•çœ‹èµ·æ¥æ‚ä¹±æ— ç« ï¼Œä½†æ˜¯åœ¨24å¹´2æœˆæ›´æ–°çš„ggplot2 2.3.5ä¹‹åï¼Œggplot2çš„å›¾ä¾‹ä¿®æ”¹æ–¹æ³•ç»ˆäºæœ‰äº†ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ä¸€ä¸‹å§\nåœ¨ggplot2æ›´æ–°åæœ‰ä¸”ä»…æœ‰ä¸€ç§æ–¹å¼ä¿®æ”¹å›¾ä¾‹æ ·å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨theme()å‚æ•° ã€‚theme()å‡½æ•°æœ‰æ–°çš„å‚æ•°æ¥æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚ï¼Œè¿™ä½¿å¾—å…¨å±€æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚å˜å¾—æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼š theme(legend.frame)æ›¿æ¢ guide_colourbar(frame.colour, frame.linewidth, frame.linetype) å’Œ theme(legend.axis.line)æ›¿æ¢ guide_bins(axis, axis.colour, axis.linewidth, axis.arrow) ã€‚ï¼ˆå¦‚æœæœ‰å…¶å®ƒæ–¹æ³•å°±æ˜¯è¿˜æ²¡å¼ƒç½®ï¼Œå»ºè®®ä¸è¦ç”¨äº†ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "href": "2013-legend.html#æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "text": "æœ¬æœŸä¸»è¦å†…å®¹æ¥æº\næ›´æ–°è¯´æ˜\nguide_legendæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#åŠ è½½åŒ…",
    "href": "2013-legend.html#åŠ è½½åŒ…",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "åŠ è½½åŒ…",
    "text": "åŠ è½½åŒ…\n\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#å›¾ä¾‹è¡Œä¸º",
    "href": "2013-legend.html#å›¾ä¾‹è¡Œä¸º",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "å›¾ä¾‹è¡Œä¸º",
    "text": "å›¾ä¾‹è¡Œä¸º\n\nguide_legendç³»åˆ—\nggplot2 ä¸­çš„å›¾ä¾‹åŒ…å«åä¸ºguide_legend()ï¼Œè¿˜åŒ…æ‹¬guide_colourbar() ã€ guide_coloursteps()å’Œguide_bins()åŸºæœ¬å‚æ•°éƒ½ä¸€è‡´ï¼Œè®¾ç½®å›¾ä¾‹çš„ç±»å‹ ã€‚\n\nguide_legend(\n  title = waiver(),\n  theme = NULL,\n  position = NULL,\n  direction = NULL,\n  override.aes = list(),\n  nrow = NULL,\n  ncol = NULL,\n  reverse = FALSE,\n  order = 0,\n  ...\n)\n\n\n\næ›´æ–°ååŠ äº†ä»€ä¹ˆ\nä¸‹æ–¹ä»£ç å±•ç¤ºäº†å¦‚ä½•è®¾ç½®æŸå•ç‹¬æ˜ å°„çš„å›¾ä¾‹æ ·å¼å’Œå…¨å±€æ ·å¼çš„åŒºåˆ«ã€‚å¦‚æœè¦å•ç‹¬è®¾ç½®æŸæ˜ å°„çš„å›¾ä¾‹æ ·å¼ï¼Œåªéœ€å°†å…¶æ·»åŠ åˆ°guides() ã€‚å¦‚æœè¦è®¾ç½®å…¨å±€æ ·å¼ï¼Œåªéœ€å°†å…¶æ·»åŠ åˆ°theme() ã€‚æœ€ç»ˆçš„å‚æ•°å½¢å¼å°±æ˜¯theme(legend.XXX = element_XXX()) ã€‚\n\nggplot(mpg, aes(displ, hwy, shape = factor(cyl), colour = cty)) +\n  geom_point() +\n  # è®¾ç½®å•ç‹¬æ˜ å°„çš„å›¾ä¾‹\n  guides(\n    shape  = guide_legend(theme = theme(legend.text = element_text(colour = \"red\"))),\n    colour = guide_colorbar(theme = theme(legend.frame = element_rect(colour = \"red\")))\n  ) +\n  # è®¾ç½®å…¨å±€å›¾ä¾‹çš„æ ·å¼\n  theme(\n    legend.title.position = \"left\",\n    # Title justification is controlled by hjust/vjust in the element\n    legend.title = element_text(angle = 90, hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹æ˜¯å¦æ˜¾ç¤º\nå”¯ä¸€ä¸æ”¾åœ¨themeé‡Œçš„å‚æ•°å°±æ˜¯legend.show ã€‚æ‚¨å¯ä»¥åœ¨å›¾å±‚ä¸­è®¾ç½®show.legend = TRUEé€‰é¡¹ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œ show.legendå‚æ•°ä»ç„¶å¯ä»¥ä»¥ç‰¹å®šäºç¾å­¦çš„æ–¹å¼è®¾ç½®ã€‚å°†å…¶è®¾ç½®ä¸ºTRUEè¡¨ç¤ºâ€œå§‹ç»ˆæ˜¾ç¤ºâ€ï¼Œ FALSEè¡¨ç¤ºâ€œä»ä¸æ˜¾ç¤ºâ€ï¼Œ NAè¡¨ç¤ºâ€œå¦‚æœæ‰¾åˆ°åˆ™æ˜¾ç¤ºâ€ã€‚æŸ¥çœ‹ä¸‹æ–¹ç¤ºä¾‹ï¼Œåœ¨è®¾ç½®äº†plotçš„showlegendé‡Œåœ¨å›¾ä¾‹ä¸­å¼ºåˆ¶æ˜¾ç¤ºäº†ç‚¹å’Œçº¿ã€‚\n::: {.cell}\np &lt;- ggplot(mpg, aes(displ, hwy)) +\n scale_alpha_manual(values = c(0.5, 1))\n\np +\n geom_point(aes(colour = \"points\", alpha = \"points\")) +\n geom_line(\n   aes(colour = \"line\", alpha = \"line\"),\n   stat = \"smooth\", formula = y ~ x, method = \"lm\"\n )\n::: {.cell-output-display}  :::\np +\n geom_point(\n   aes(colour = \"points\", alpha = \"points\"),\n   show.legend = TRUE # always show\n ) +\n geom_line(\n   aes(colour = \"line\", alpha = \"line\"),\n   stat = \"smooth\", formula = y ~ x, method = \"lm\",\n   show.legend = c(colour = NA, alpha = TRUE) # always show in alpha\n )\n::: {.cell-output-display}  ::: :::\n\n\nå›¾ä¾‹ä½ç½®\nå›¾ä¾‹ä½ç½®ä¸å†ä»…é™äºå›¾çš„ä¸€ä¾§ã€‚é€šè¿‡è®¾ç½®guidesçš„positionå‚æ•°ï¼Œä½ å¯ä»¥å®šåˆ¶å“ªäº›å‚è€ƒçº¿å‡ºç°åœ¨ç»˜å›¾ä¸­çš„ä½ç½®ã€‚æ²¡æœ‰è®¾ç½®ä½ç½®çš„å‚è€ƒçº¿ï¼ˆä¾‹å¦‚ä¸‹é¢çš„â€œdrvâ€å½¢çŠ¶å›¾ä¾‹ï¼‰éµå¾ªå…¨å±€ä¸»é¢˜çš„legend.positionè®¾ç½®ã€‚\n\np &lt;- ggplot(mpg, \n    aes(displ, hwy, shape = drv, colour = cty, size = year)) +\n  geom_point(aes(alpha = cyl))+\n  theme(legend.position = \"left\") +\n  guides(\n    colour = guide_colourbar(position = \"right\"),\n    size   = guide_legend(position = \"top\"),\n    alpha  = guide_legend(position = \"inside\")\n  ) \np\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹çš„å¯¹é½\nå›¾ä¾‹çš„å¯¹é½å¯ä»¥é€šè¿‡ä½¿ç”¨themeçš„legend.justification.{position}å‚æ•°æ¥æ§åˆ¶ã€‚æ­¤å¤–ï¼Œé€šè¿‡è®¾ç½®legend.locationå‚æ•°ï¼Œå¯ä»¥å°†é¡¶éƒ¨å’Œåº•éƒ¨å‚è€ƒçº¿ä¸ç»˜å›¾è€Œä¸æ˜¯é¢æ¿å¯¹é½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“plot.title.position = \"plot\"æ—¶ï¼Œå·¦ä¾§å›¾ä¾‹å·²ç»å¯¹é½ã€‚å› æ­¤ï¼Œå¯¹äºlegend.locationè®¾ç½®ï¼Œé¡¶éƒ¨å’Œåº•éƒ¨å‚è€ƒçº¿ä¼˜å…ˆã€‚\n\np + \n  labs(title = \"Plot-aligned title\") +\n  theme(\n    legend.margin = margin(0, 0, 0, 0), # turned off for alignment\n    legend.justification.top = \"left\",\n    legend.justification.left = \"top\",\n    legend.justification.bottom = \"right\",\n    legend.justification.inside = c(1, 1),\n    legend.location = \"plot\",\n    plot.title.position = \"plot\"\n  )\n\n\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹çš„é—´è·\næˆ‘ä»¬å…ˆè§‚çœ‹ä¸€ä¸‹ä¸‹æ–¹çš„å›¾ï¼Œè¡¨ç¤ºå›¾ä¾‹çš„ç»„æˆå’Œé—´è·çš„å«ä¹‰\n\n\n\nå›¾ä¾‹å›¾ç¤º\n\n\nå½“æ ‡é¢˜å’Œé”®æ²¡æœ‰æ˜ç¡®çš„è¾¹è·æ—¶ï¼Œä¼šæ ¹æ®æ–‡æœ¬æˆ–æ ‡é¢˜ä½ç½®è‡ªåŠ¨æ·»åŠ é€‚å½“çš„è¾¹è·ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¦†ç›–è¾¹è·ï¼Œå®ƒä»¬å°†æŒ‰ä½ çš„è®¾ç½®æ¥èµ°ã€‚\n\nggplot(mpg, aes(displ, hwy, colour = class)) +\n  geom_point() +\n  guides(colour = guide_legend(ncol = 2)) +\n  theme(\n    legend.key.spacing.x = unit(10, \"pt\"),\n    legend.key.spacing.y = unit(20, \"pt\"),\n    legend.text = element_text(margin = margin(l = 0)),\n    legend.title = element_text(margin = margin(b = 20))\n  )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ ç‰¹æ®Šå›¾ä¾‹\nguide_custom() ã€‚å®ƒå¯ç”¨äºå°†ä»»ä½•å›¾å½¢å¯¹è±¡ï¼ˆgrobï¼‰æ·»åŠ åˆ°ç»˜å›¾ä¸­ï¼Œä¾‹å¦‚annotation_custom() ã€‚ä½†æœ‰ä¸€äº›åŒºåˆ«ï¼šå®ƒçš„ä½ç½®å°±åƒå›¾ä¾‹ä¸€æ ·ï¼Œå¹¶æ·»åŠ äº†æ ‡é¢˜å’Œé¡µè¾¹è·ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œæœ¬å›¾ä¾‹æ˜¯â€œç‰¹æ®Šçš„â€ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€ä¸ç›´æ¥åæ˜ æ¯”ä¾‹çš„æŒ‡å—ã€‚ç¼ºç‚¹æ˜¯å®ƒæ— æ³•ä»å›¾ä¸­è¯»å–å±æ€§ï¼Œä½†ä¼˜ç‚¹æ˜¯å®ƒéå¸¸çµæ´»ã€‚\n\nx &lt;- c(0.5, 1, 1.5, 1.2, 1.5, 1, 0.5, 0.8, 1, 1.15, 2, 1.15, 1, 0.85, 0, 0.85)\ny &lt;- c(1.5, 1.2, 1.5, 1, 0.5, 0.8, 0.5, 1, 2, 1.15, 1, 0.85, 0, 0.85, 1, 1.15)\n\ncompass_rose &lt;- grid::polygonGrob(\n  x = unit(x, \"cm\"), y = unit(y, \"cm\"), id.lengths = c(8, 8),\n  gp = grid::gpar(fill = c(\"grey50\", \"grey25\"), col = NA)\n)\n\nnc &lt;- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)\nggplot(nc) +\n  geom_sf(aes(fill = AREA)) +\n  guides(custom = guide_custom(compass_rose, title = \"compass\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2011-viscolor.html",
    "href": "2011-viscolor.html",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "",
    "text": "ç¬¬98æœŸ Rè¯­è¨€æ•™ç¨‹ ç§‘ç ”ç»˜å›¾é…è‰²å¸¸ç”¨RåŒ…\nåœ¨rè¯­è¨€ï¼Œggplot2ç»˜å›¾è¿‡ç¨‹ä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†å°±æ˜¯é…è‰²çš„é€‰æ‹©ã€‚ä¼˜ç§€çš„é…è‰²è¦å……åˆ†è€ƒè™‘åˆ°é¢œè‰²çš„åŒºåˆ†åº¦ï¼ŒæœŸåˆŠè¦æ±‚ï¼Œå†·æš–ç‰¹ç‚¹ç­‰\næœ¬æœŸä»‹ç»å¦‚ä½•è°ƒæ•´rè¯­è¨€ä¸­çš„é…è‰²ï¼Œä½¿æ•´ä¸ªå›¾ç‰‡ç¾è§‚ä¼˜é›…",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#åŸºç¡€å·¥ä½œ",
    "href": "2011-viscolor.html#åŸºç¡€å·¥ä½œ",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "åŸºç¡€å·¥ä½œ",
    "text": "åŸºç¡€å·¥ä½œ\n\nåŠ è½½æ•°æ®\n\nlibrary(bruceR)\nlibrary(ggplot2)\ndata(iris)\nhead(iris, 10)\n\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1           5.1         3.5          1.4         0.2  setosa\n2           4.9         3.0          1.4         0.2  setosa\n3           4.7         3.2          1.3         0.2  setosa\n4           4.6         3.1          1.5         0.2  setosa\n5           5.0         3.6          1.4         0.2  setosa\n6           5.4         3.9          1.7         0.4  setosa\n7           4.6         3.4          1.4         0.3  setosa\n8           5.0         3.4          1.5         0.2  setosa\n9           4.4         2.9          1.4         0.2  setosa\n10          4.9         3.1          1.5         0.1  setosa\n\n\n\n\nä½¿ç”¨ré»˜è®¤é…è‰²æ–¹æ¡ˆ\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nggplot2æ‰‹åŠ¨è°ƒè‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = c(\"black\", \"grey\", \"brown\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#ä½¿ç”¨rcolorbreweråŒ…è®¾ç½®é¢œè‰²",
    "href": "2011-viscolor.html#ä½¿ç”¨rcolorbreweråŒ…è®¾ç½®é¢œè‰²",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "ä½¿ç”¨RColorBreweråŒ…è®¾ç½®é¢œè‰²",
    "text": "ä½¿ç”¨RColorBreweråŒ…è®¾ç½®é¢œè‰²\n\nRcolorbrewä»‹ç»\nCRANåº“:CRAN: Package RColorBrewer (r-project.org)\nè°ƒç”¨ç½‘ç«™https://colorbrewer2.org/ä¸Šçš„é…è‰²æ–¹æ¡ˆ,ä½¿ç”¨äººæ•°ä¼—å¤š,æ•´ä½“æ¯”è¾ƒä¸­è§„ä¸­çŸ©\n\nlibrary(RColorBrewer)\n\n\n\næŸ¥çœ‹é…è‰²ç›˜ï¼Œé€‰æ‹©3é¢œè‰²ï¼ŒåŒºåˆ†è‰²\n\nå…ˆdisplayé…è‰²,æŸ¥çœ‹ç›®æ ‡è‰²æ•°å’Œè‰²å‹\né€‰æ‹©åˆé€‚çš„è°ƒè‰²ç›˜,åœ¨ggplotä¸­ä½¿ç”¨ scale_*_brewerè°ƒç”¨\n\n\ndisplay.brewer.all(3, type = 'div')\n\n\n\n\n\n\n\n\n\n\nggplot2å»ºç«‹æŸ±çŠ¶å›¾å¯è§†åŒ–\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_brewer(palette = \"Spectral\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "href": "2011-viscolor.html#ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "text": "ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²\n\nRåŒ…ä»‹ç»\nggsciåŒ…å«æœŸåˆŠæˆ–è½¯ä»¶çš„ç»å…¸é…è‰²,æŠ•ç¨¿æ—¶è°ƒç”¨å¿«,æ•ˆæœå¥½,é¡ºæ‰‹å°±ç”¨ä¸Šäº†æˆ‘ç”¨è¯¥åŒ…é…è‰²æœ€å¤š\nCRANåº“:CRAN: Package ggsci (r-project.org)\næ•™ç¨‹:Scientific Journal and Sci-Fi Themed Color Palettes for ggplot2 (r-project.org)\n\nlibrary(ggsci)\n\n\n\né…è‰²æ–¹æ¡ˆ\n\n\n\n\n\n\n\n\n\nName\nScales\nPalette Types\nPalette Generator\n\n\n\n\nNPG\nscale_color_npg() scale_fill_npg()\n\"nrc\"\npal_npg()\n\n\nAAAS\nscale_color_aaas() scale_fill_aaas()\n\"default\"\npal_aaas()\n\n\nNEJM\nscale_color_nejm() scale_fill_nejm()\n\"default\"\npal_nejm()\n\n\nLancet\nscale_color_lancet() scale_fill_lancet()\n\"lanonc\"\npal_lancet()\n\n\nJAMA\nscale_color_jama() scale_fill_jama()\n\"default\"\npal_jama()\n\n\nBMJ\nscale_color_bmj() scale_fill_bmj()\n\"default\"\npal_bmj()\n\n\nJCO\nscale_color_jco() scale_fill_jco()\n\"default\"\npal_jco()\n\n\nUCSCGB\nscale_color_ucscgb() scale_fill_ucscgb()\n\"default\"\npal_ucscgb()\n\n\nD3\nscale_color_d3()``scale_fill_d3()\n\"category10\" \"category20\" \"category20b\" \"category20c\"\npal_d3()\n\n\nObservable\nscale_color_observable() scale_fill_observable()\n\"observable10\"\npal_observable()\n\n\nLocusZoom\nscale_color_locuszoom() scale_fill_locuszoom()\n\"default\"\npal_locuszoom()\n\n\nIGV\nscale_color_igv() scale_fill_igv()\n\"default\"``\"alternating\"\npal_igv()\n\n\nCOSMIC\nscale_color_cosmic() scale_fill_cosmic()\n\"hallmarks_light\"``\"hallmarks_dark\"``\"signature_substitutions\"\npal_cosmic()\n\n\nUChicago\nscale_color_uchicago() scale_fill_uchicago()\n\"default\"``\"light\"``\"dark\"\npal_uchicago()\n\n\nStar Trek\nscale_color_startrek() scale_fill_startrek()\n\"uniform\"\npal_startrek()\n\n\nTron Legacy\nscale_color_tron() scale_fill_tron()\n\"legacy\"\npal_tron()\n\n\nFuturama\nscale_color_futurama() scale_fill_futurama()\n\"planetexpress\"\npal_futurama()\n\n\nRick and Morty\nscale_color_rickandmorty() scale_fill_rickandmorty()\n\"schwifty\"\npal_rickandmorty()\n\n\nThe Simpsons\nscale_color_simpsons() scale_fill_simpsons()\n\"springfield\"\npal_simpsons()\n\n\nFlat UI\nscale_color_flatui() scale_fill_flatui()\n\"default\" \"flattastic\" \"aussie\"\npal_flatui()\n\n\nFrontiers\nscale_color_frontiers() scale_fill_frontiers()\n\"default\"\npal_frontiers()\n\n\nGSEA\nscale_color_gsea() scale_fill_gsea()\n\"default\"\npal_gsea()\n\n\nBootstrap 5\nscale_color_bs5() scale_fill_bs5()\n\"blue\" \"indigo\"``\"purple\" \"pink\"``\"red\" \"orange\"``\"yellow\" \"green\"``\"teal\" \"cyan\"``\"gray\"\npal_bs5()\n\n\nMaterial Design\nscale_color_material() scale_fill_material()\n\"red\" \"pink\"``\"purple\" \"deep-purple\"``\"indigo\" \"blue\"``\"light-blue\" \"cyan\"``\"teal\" \"green\"``\"light-green\" \"lime\"``\"yellow\" \"amber\"``\"orange\" \"deep-orange\"``\"brown\" \"grey\"``\"blue-grey\"\npal_material()\n\n\nTailwind CSS\nscale_color_tw3() scale_fill_tw3()\n\"slate\" \"gray\"``\"zinc\" \"neutral\"``\"stone\" \"red\"``\"orange\" \"amber\"``\"yellow\" \"lime\"``\"green\" \"emerald\"``\"teal\" \"cyan\"``\"sky\" \"blue\"``\"indigo\" \"violet\"``\"purple\" \"fuchsia\"``\"pink\" \"rose\"\npal_tw3()\n\n\n\n\n\n\næŸ³å¶åˆ€é…è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_lancet()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#å…¶å®ƒå®ç”¨råŒ…",
    "href": "2011-viscolor.html#å…¶å®ƒå®ç”¨råŒ…",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "å…¶å®ƒå®ç”¨råŒ…",
    "text": "å…¶å®ƒå®ç”¨råŒ…\n\nviridis: Colorblind-Friendly Color Maps for R\n\nä»‹ç»\nå®˜æ–¹ä»“åº“:CRAN: Package viridis (r-project.org)\næ•™ç¨‹:Introduction to the viridis color maps (r-project.org)\nå¤šç”¨äºè¿ç»­æ¸å˜è‰²\n\n\nä½¿ç”¨æ•ˆæœ\nè‰²ç›˜\n\nä½¿ç”¨æ–¹æ¡ˆå‚è€ƒ\n\n\n\n\nä½¿ç”¨MetBreweråŒ…è®¾ç½®é¢œè‰²\n\nråŒ…ä»‹ç»\nå®˜æ–¹CRANåº“:CRAN: Package MetBrewer (r-project.org)\né…è‰²æ–¹æ¡ˆå‚è€ƒçº½çº¦å¤§éƒ½ä¼šè‰ºæœ¯åšç‰©é¦†,è‰ºæœ¯æ„Ÿçˆ†è¡¨ä¸€èµ·æ¥çœ‹çœ‹\n\nlibrary(MetBrewer)\n\n\n\næŸ¥çœ‹é…è‰²ç›˜ï¼Œé€‰æ‹©3é¢œè‰²ï¼ŒåŒºåˆ†è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = met.brewer(\"Austria\"))\n\n\n\n\n\n\n\n\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = met.brewer(\"Degas\"))\n\n\n\n\n\n\n\n\næœ€åçœ‹çœ‹å¥½çœ‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "1053-gtsummary.html",
    "href": "1053-gtsummary.html",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "",
    "text": "gtsummaryæ˜¯åˆ¶ä½œå‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼çš„RåŒ…ç¥å™¨ã€‚å®ƒèƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆæè¿°æ€§ç»Ÿè®¡è¡¨ã€å›å½’ç»“æœè¡¨ã€ç”Ÿå­˜åˆ†æè¡¨ç­‰ï¼Œæ ¼å¼è§„èŒƒã€ç¾è§‚ï¼Œå¯ç›´æ¥å¯¼å‡ºåˆ°Wordã€PDFæˆ–HTMLï¼Œæå¤§æé«˜ç§‘ç ”è®ºæ–‡å†™ä½œæ•ˆç‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#ä¸ºä»€ä¹ˆé€‰æ‹©gtsummary",
    "href": "1053-gtsummary.html#ä¸ºä»€ä¹ˆé€‰æ‹©gtsummary",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "ä¸ºä»€ä¹ˆé€‰æ‹©gtsummaryï¼Ÿ",
    "text": "ä¸ºä»€ä¹ˆé€‰æ‹©gtsummaryï¼Ÿ\n\nä¸å…¶ä»–è¡¨æ ¼åŒ…å¯¹æ¯”\n\n\n\nç‰¹æ€§\ngtsummary\ntableone\ncompareGroups\n\n\n\n\nè¯­æ³•ç®€æ´\nâ­â­â­â­â­\nâ­â­â­\nâ­â­â­\n\n\nè‡ªåŠ¨é€‰æ‹©ç»Ÿè®¡æ–¹æ³•\nâœ…\nâœ…\nâœ…\n\n\nå›å½’æ¨¡å‹æ”¯æŒ\nâ­â­â­â­â­\nâœ… (æœ‰é™)\nâ­â­â­\n\n\nç”Ÿå­˜åˆ†ææ”¯æŒ\nâ­â­â­â­â­\nâŒ\nâ­â­â­\n\n\nè¡¨æ ¼åˆå¹¶\nâ­â­â­â­â­\nâ­â­\nâ­â­â­\n\n\nè¾“å‡ºæ ¼å¼\nWord/PDF/HTML/LaTeX\nWord/CSV\nWord/PDF\n\n\nä¸tidyverseé›†æˆ\nâ­â­â­â­â­\nâ­â­\nâ­â­",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#råŒ…å®‰è£…",
    "href": "1053-gtsummary.html#råŒ…å®‰è£…",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# å®‰è£…gtsummaryåŠç›¸å…³åŒ…\npackages &lt;- c(\n    \"gtsummary\", \"gt\", \"flextable\", \"survival\",\n    \"tidyverse\", \"labelled\"\n)\n\nfor (pkg in packages) {\n    if (!require(pkg, character.only = TRUE, quietly = TRUE)) {\n        install.packages(pkg)\n        library(pkg, character.only = TRUE)\n    }\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#æè¿°æ€§ç»Ÿè®¡è¡¨table-1",
    "href": "1053-gtsummary.html#æè¿°æ€§ç»Ÿè®¡è¡¨table-1",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "æè¿°æ€§ç»Ÿè®¡è¡¨ï¼ˆTable 1ï¼‰",
    "text": "æè¿°æ€§ç»Ÿè®¡è¡¨ï¼ˆTable 1ï¼‰\n\nåŸºæœ¬ç”¨æ³•\n\nlibrary(gtsummary)\n\n# ä½¿ç”¨å†…ç½®trialæ•°æ®é›†\ndata(trial)\n\n# å¿«é€Ÿç”Ÿæˆè¡¨1\ntbl1 &lt;- trial %&gt;%\n    select(age, grade, stage, trt) %&gt;%\n    tbl_summary()\n\ntbl1\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nN = 2001\n\n\n\n\nAge\n47 (38, 57)\n\n\nÂ Â Â Â Unknown\n11\n\n\nGrade\n\n\n\n\nÂ Â Â Â I\n68 (34%)\n\n\nÂ Â Â Â II\n68 (34%)\n\n\nÂ Â Â Â III\n64 (32%)\n\n\nT Stage\n\n\n\n\nÂ Â Â Â T1\n53 (27%)\n\n\nÂ Â Â Â T2\n54 (27%)\n\n\nÂ Â Â Â T3\n43 (22%)\n\n\nÂ Â Â Â T4\n50 (25%)\n\n\nChemotherapy Treatment\n\n\n\n\nÂ Â Â Â Drug A\n98 (49%)\n\n\nÂ Â Â Â Drug B\n102 (51%)\n\n\n\n1 Median (Q1, Q3); n (%)\n\n\n\n\n\n\n\n\n\n\næŒ‰ç»„åˆ†å±‚\n\n# æŒ‰æ²»ç–—ç»„åˆ†å±‚\ntbl1_by &lt;- trial %&gt;%\n    select(age, grade, stage, marker, trt) %&gt;%\n    tbl_summary(\n        by = trt,\n        statistic = list(\n            all_continuous() ~ \"{mean} Â± {sd}\",\n            all_categorical() ~ \"{n} ({p}%)\"\n        ),\n        digits = all_continuous() ~ 1,\n        missing = \"ifany\",\n        missing_text = \"ç¼ºå¤±\"\n    ) %&gt;%\n    add_p() %&gt;%\n    add_overall() %&gt;%\n    add_n() %&gt;%\n    modify_header(label = \"**å˜é‡**\") %&gt;%\n    modify_spanning_header(c(\"stat_1\", \"stat_2\") ~ \"**æ²»ç–—ç»„**\") %&gt;%\n    bold_labels() %&gt;%\n    italicize_levels()\n\ntbl1_by\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nN\nOverall\nN = 2001\n\næ²»ç–—ç»„\n\np-value2\n\n\nDrug A\nN = 981\nDrug B\nN = 1021\n\n\n\n\nAge\n189\n47.2 Â± 14.3\n47.0 Â± 14.7\n47.4 Â± 14.0\n0.7\n\n\nÂ Â Â Â ç¼ºå¤±\n\n\n11\n7\n4\n\n\n\n\nGrade\n200\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â I\n\n\n68 (34%)\n35 (36%)\n33 (32%)\n\n\n\n\nÂ Â Â Â II\n\n\n68 (34%)\n32 (33%)\n36 (35%)\n\n\n\n\nÂ Â Â Â III\n\n\n64 (32%)\n31 (32%)\n33 (32%)\n\n\n\n\nT Stage\n200\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â T1\n\n\n53 (27%)\n28 (29%)\n25 (25%)\n\n\n\n\nÂ Â Â Â T2\n\n\n54 (27%)\n25 (26%)\n29 (28%)\n\n\n\n\nÂ Â Â Â T3\n\n\n43 (22%)\n22 (22%)\n21 (21%)\n\n\n\n\nÂ Â Â Â T4\n\n\n50 (25%)\n23 (23%)\n27 (26%)\n\n\n\n\nMarker Level (ng/mL)\n190\n0.9 Â± 0.9\n1.0 Â± 0.9\n0.8 Â± 0.8\n0.085\n\n\nÂ Â Â Â ç¼ºå¤±\n\n\n10\n6\n4\n\n\n\n\n\n1 Mean Â± SD; n (%)\n\n\n2 Wilcoxon rank sum test; Pearsonâ€™s Chi-squared test\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ç»Ÿè®¡é‡\n\n# ä½¿ç”¨ä¸­ä½æ•°å’Œå››åˆ†ä½æ•°\ntbl1_custom &lt;- trial %&gt;%\n    select(age, marker, grade, stage, trt) %&gt;%\n    tbl_summary(\n        by = trt,\n        statistic = list(\n            all_continuous() ~ \"{median} ({p25}, {p75})\",\n            all_categorical() ~ \"{n} ({p}%)\"\n        ),\n        label = list(\n            age ~ \"å¹´é¾„ (å²)\",\n            marker ~ \"è‚¿ç˜¤æ ‡å¿—ç‰©\",\n            grade ~ \"è‚¿ç˜¤åˆ†çº§\",\n            stage ~ \"ä¸´åºŠåˆ†æœŸ\"\n        )\n    ) %&gt;%\n    add_p(\n        test = list(\n            all_continuous() ~ \"wilcox.test\",\n            all_categorical() ~ \"chisq.test\"\n        )\n    ) %&gt;%\n    add_overall(col_label = \"**æ€»è®¡ (N={N})**\")\n\ntbl1_custom\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\næ€»è®¡ (N=200)1\nDrug A\nN = 981\nDrug B\nN = 1021\np-value2\n\n\n\n\nå¹´é¾„ (å²)\n47 (38, 57)\n46 (37, 60)\n48 (39, 56)\n0.7\n\n\nÂ Â Â Â Unknown\n11\n7\n4\n\n\n\n\nè‚¿ç˜¤æ ‡å¿—ç‰©\n0.64 (0.22, 1.41)\n0.84 (0.23, 1.60)\n0.52 (0.18, 1.21)\n0.085\n\n\nÂ Â Â Â Unknown\n10\n6\n4\n\n\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â I\n68 (34%)\n35 (36%)\n33 (32%)\n\n\n\n\nÂ Â Â Â II\n68 (34%)\n32 (33%)\n36 (35%)\n\n\n\n\nÂ Â Â Â III\n64 (32%)\n31 (32%)\n33 (32%)\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â T1\n53 (27%)\n28 (29%)\n25 (25%)\n\n\n\n\nÂ Â Â Â T2\n54 (27%)\n25 (26%)\n29 (28%)\n\n\n\n\nÂ Â Â Â T3\n43 (22%)\n22 (22%)\n21 (21%)\n\n\n\n\nÂ Â Â Â T4\n50 (25%)\n23 (23%)\n27 (26%)\n\n\n\n\n\n1 Median (Q1, Q3); n (%)\n\n\n2 Wilcoxon rank sum test; Pearsonâ€™s Chi-squared test",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#å›å½’åˆ†æè¡¨æ ¼",
    "href": "1053-gtsummary.html#å›å½’åˆ†æè¡¨æ ¼",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "å›å½’åˆ†æè¡¨æ ¼",
    "text": "å›å½’åˆ†æè¡¨æ ¼\n\nå•å˜é‡å›å½’\n\n# å•å˜é‡é€»è¾‘å›å½’\ntbl_uv &lt;- trial %&gt;%\n    select(response, age, grade, stage, marker) %&gt;%\n    tbl_uvregression(\n        method = glm,\n        y = response,\n        method.args = list(family = binomial),\n        exponentiate = TRUE,\n        pvalue_fun = ~ style_pvalue(.x, digits = 3)\n    ) %&gt;%\n    add_global_p() %&gt;%\n    modify_header(\n        estimate = \"**OR**\",\n        ci = \"**95% CI**\"\n    ) %&gt;%\n    bold_p() %&gt;%\n    bold_labels()\n\ntbl_uv\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nN\nOR\n95% CI\n95% CI\np-value\n\n\n\n\nAge\n183\n1.02\n1.00, 1.04\n1.00, 1.04\n0.091\n\n\nGrade\n193\n\n\n\n\n\n\n0.928\n\n\nÂ Â Â Â I\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n\n\n0.95\n0.45, 2.00\n0.45, 2.00\n\n\n\n\nÂ Â Â Â III\n\n\n1.10\n0.52, 2.29\n0.52, 2.29\n\n\n\n\nT Stage\n193\n\n\n\n\n\n\n0.582\n\n\nÂ Â Â Â T1\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â T2\n\n\n0.63\n0.27, 1.46\n0.27, 1.46\n\n\n\n\nÂ Â Â Â T3\n\n\n1.13\n0.48, 2.68\n0.48, 2.68\n\n\n\n\nÂ Â Â Â T4\n\n\n0.83\n0.36, 1.92\n0.36, 1.92\n\n\n\n\nMarker Level (ng/mL)\n183\n1.35\n0.94, 1.93\n0.94, 1.93\n0.101\n\n\n\nAbbreviations: CI = Confidence Interval, OR = Odds Ratio\n\n\n\n\n\n\n\n\n\n\nå¤šå˜é‡å›å½’\n\n# æ„å»ºå¤šå˜é‡é€»è¾‘å›å½’æ¨¡å‹\nmv_model &lt;- glm(\n    response ~ age + grade + stage + marker,\n    data = trial,\n    family = binomial\n)\n\n# åˆ¶ä½œè¡¨æ ¼\ntbl_mv &lt;- tbl_regression(\n    mv_model,\n    exponentiate = TRUE,\n    label = list(\n        age ~ \"å¹´é¾„\",\n        grade ~ \"è‚¿ç˜¤åˆ†çº§\",\n        stage ~ \"ä¸´åºŠåˆ†æœŸ\",\n        marker ~ \"è‚¿ç˜¤æ ‡å¿—ç‰©\"\n    ),\n    pvalue_fun = ~ style_pvalue(.x, digits = 3)\n) %&gt;%\n    add_global_p() %&gt;%\n    bold_p() %&gt;%\n    bold_labels() %&gt;%\n    modify_header(\n        estimate = \"**aOR**\",\n        ci = \"**95% CI**\"\n    ) %&gt;%\n    modify_caption(\"**å¤šå› ç´ Logisticå›å½’åˆ†æ**\")\n\ntbl_mv\n\n\n\n\n\nå¤šå› ç´ Logisticå›å½’åˆ†æ\n\n\n\n\n\n\n\n\n\nCharacteristic\naOR\n95% CI\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n1.02\n1.00, 1.04\n1.00, 1.04\n0.104\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n\n\n0.991\n\n\nÂ Â Â Â I\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n1.04\n0.45, 2.42\n0.45, 2.42\n\n\n\n\nÂ Â Â Â III\n1.05\n0.47, 2.35\n0.47, 2.35\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n\n\n0.346\n\n\nÂ Â Â Â T1\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â T2\n0.46\n0.18, 1.13\n0.18, 1.13\n\n\n\n\nÂ Â Â Â T3\n0.87\n0.34, 2.25\n0.34, 2.25\n\n\n\n\nÂ Â Â Â T4\n0.65\n0.25, 1.63\n0.25, 1.63\n\n\n\n\nè‚¿ç˜¤æ ‡å¿—ç‰©\n1.39\n0.94, 2.05\n0.94, 2.05\n0.094\n\n\n\nAbbreviations: CI = Confidence Interval, OR = Odds Ratio\n\n\n\n\n\n\n\n\n\n\nåˆå¹¶å•å˜é‡å’Œå¤šå˜é‡\n\n# åˆå¹¶è¡¨æ ¼ï¼ˆå¸¸è§äºè®ºæ–‡ï¼‰\ntbl_merge(\n    list(tbl_uv, tbl_mv),\n    tab_spanner = c(\"**å•å› ç´ åˆ†æ**\", \"**å¤šå› ç´ åˆ†æ**\")\n)\n\n\n\n\n\nå¤šå› ç´ Logisticå›å½’åˆ†æ\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\nå•å› ç´ åˆ†æ\n\n\nå¤šå› ç´ åˆ†æ\n\n\n\nN\nOR\n95% CI\n95% CI\np-value\naOR\n95% CI\n95% CI\np-value\n\n\n\n\nAge\n183\n1.02\n1.00, 1.04\n1.00, 1.04\n0.091\n\n\n\n\n\n\n\n\n\n\nGrade\n193\n\n\n\n\n\n\n0.928\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â I\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â II\n\n\n0.95\n0.45, 2.00\n0.45, 2.00\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â III\n\n\n1.10\n0.52, 2.29\n0.52, 2.29\n\n\n\n\n\n\n\n\n\n\n\n\nT Stage\n193\n\n\n\n\n\n\n0.582\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â T1\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â T2\n\n\n0.63\n0.27, 1.46\n0.27, 1.46\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â T3\n\n\n1.13\n0.48, 2.68\n0.48, 2.68\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â T4\n\n\n0.83\n0.36, 1.92\n0.36, 1.92\n\n\n\n\n\n\n\n\n\n\n\n\nMarker Level (ng/mL)\n183\n1.35\n0.94, 1.93\n0.94, 1.93\n0.101\n\n\n\n\n\n\n\n\n\n\nå¹´é¾„\n\n\n\n\n\n\n\n\n\n\n1.02\n1.00, 1.04\n1.00, 1.04\n0.104\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n0.991\n\n\nÂ Â Â Â I\n\n\n\n\n\n\n\n\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n\n\n\n\n\n\n\n\n\n\n1.04\n0.45, 2.42\n0.45, 2.42\n\n\n\n\nÂ Â Â Â III\n\n\n\n\n\n\n\n\n\n\n1.05\n0.47, 2.35\n0.47, 2.35\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n0.346\n\n\nÂ Â Â Â T1\n\n\n\n\n\n\n\n\n\n\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â T2\n\n\n\n\n\n\n\n\n\n\n0.46\n0.18, 1.13\n0.18, 1.13\n\n\n\n\nÂ Â Â Â T3\n\n\n\n\n\n\n\n\n\n\n0.87\n0.34, 2.25\n0.34, 2.25\n\n\n\n\nÂ Â Â Â T4\n\n\n\n\n\n\n\n\n\n\n0.65\n0.25, 1.63\n0.25, 1.63\n\n\n\n\nè‚¿ç˜¤æ ‡å¿—ç‰©\n\n\n\n\n\n\n\n\n\n\n1.39\n0.94, 2.05\n0.94, 2.05\n0.094\n\n\n\nAbbreviations: CI = Confidence Interval, OR = Odds Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#ç”Ÿå­˜åˆ†æè¡¨æ ¼",
    "href": "1053-gtsummary.html#ç”Ÿå­˜åˆ†æè¡¨æ ¼",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "ç”Ÿå­˜åˆ†æè¡¨æ ¼",
    "text": "ç”Ÿå­˜åˆ†æè¡¨æ ¼\n\nCoxå›å½’\n\n# Coxæ¯”ä¾‹é£é™©æ¨¡å‹\ncox_model &lt;- coxph(\n    Surv(ttdeath, death) ~ age + grade + stage + trt,\n    data = trial\n)\n\n# åˆ¶ä½œè¡¨æ ¼\ntbl_cox &lt;- tbl_regression(\n    cox_model,\n    exponentiate = TRUE,\n    label = list(\n        age ~ \"å¹´é¾„\",\n        grade ~ \"è‚¿ç˜¤åˆ†çº§\",\n        stage ~ \"ä¸´åºŠåˆ†æœŸ\",\n        trt ~ \"æ²»ç–—ç»„\"\n    )\n) %&gt;%\n    add_global_p() %&gt;%\n    bold_p() %&gt;%\n    bold_labels() %&gt;%\n    modify_header(\n        estimate = \"**HR**\",\n        ci = \"**95% CI**\"\n    ) %&gt;%\n    modify_caption(\"**Coxå›å½’åˆ†æç»“æœ**\")\n\ntbl_cox\n\n\n\n\n\nCoxå›å½’åˆ†æç»“æœ\n\n\n\n\n\n\n\n\n\nCharacteristic\nHR\n95% CI\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n1.01\n1.00, 1.02\n1.00, 1.02\n0.2\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n\n\n0.058\n\n\nÂ Â Â Â I\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n1.23\n0.74, 2.03\n0.74, 2.03\n\n\n\n\nÂ Â Â Â III\n1.75\n1.10, 2.80\n1.10, 2.80\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n\n\n0.002\n\n\nÂ Â Â Â T1\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â T2\n1.27\n0.72, 2.23\n0.72, 2.23\n\n\n\n\nÂ Â Â Â T3\n1.21\n0.65, 2.22\n0.65, 2.22\n\n\n\n\nÂ Â Â Â T4\n2.66\n1.55, 4.59\n1.55, 4.59\n\n\n\n\næ²»ç–—ç»„\n\n\n\n\n\n\n0.12\n\n\nÂ Â Â Â Drug A\nâ€”\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â Drug B\n1.36\n0.92, 2.01\n0.92, 2.01\n\n\n\n\n\nAbbreviations: CI = Confidence Interval, HR = Hazard Ratio\n\n\n\n\n\n\n\n\n\n\nç´¯ç§¯å‘ç”Ÿç‡è¡¨\n\n# ä½¿ç”¨survfitç”Ÿæˆç”Ÿå­˜ç‡è¡¨\nsurv_fit &lt;- survfit(Surv(ttdeath, death) ~ trt, data = trial)\n\ntbl_survfit(\n    surv_fit,\n    times = c(6, 12, 18, 24),\n    label_header = \"**{time}ä¸ªæœˆç”Ÿå­˜ç‡**\"\n) %&gt;%\n    add_p() %&gt;%\n    modify_caption(\"**Kaplan-Meierç”Ÿå­˜ç‡ä¼°è®¡**\")\n\n\n\n\n\nKaplan-Meierç”Ÿå­˜ç‡ä¼°è®¡\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n6ä¸ªæœˆç”Ÿå­˜ç‡\n12ä¸ªæœˆç”Ÿå­˜ç‡\n18ä¸ªæœˆç”Ÿå­˜ç‡\n24ä¸ªæœˆç”Ÿå­˜ç‡\np-value1\n\n\n\n\nChemotherapy Treatment\n\n\n\n\n\n\n\n\n0.2\n\n\nÂ Â Â Â Drug A\n99% (97%, 100%)\n91% (85%, 97%)\n70% (62%, 80%)\n47% (38%, 58%)\n\n\n\n\nÂ Â Â Â Drug B\n99% (97%, 100%)\n86% (80%, 93%)\n60% (51%, 70%)\n41% (33%, 52%)\n\n\n\n\n\n1 Log-rank test",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#è¡¨æ ¼åˆå¹¶ä¸å †å ",
    "href": "1053-gtsummary.html#è¡¨æ ¼åˆå¹¶ä¸å †å ",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "è¡¨æ ¼åˆå¹¶ä¸å †å ",
    "text": "è¡¨æ ¼åˆå¹¶ä¸å †å \n\næ¨ªå‘åˆå¹¶\n\n# ä¸åŒç»“å±€çš„åˆ†æ\nmodel_death &lt;- coxph(Surv(ttdeath, death) ~ age + grade, data = trial)\nmodel_response &lt;- glm(response ~ age + grade, data = trial, family = binomial)\n\ntbl_death &lt;- tbl_regression(model_death, exponentiate = TRUE) %&gt;%\n    modify_header(estimate = \"**HR**\")\n\ntbl_response &lt;- tbl_regression(model_response, exponentiate = TRUE) %&gt;%\n    modify_header(estimate = \"**OR**\")\n\n# åˆå¹¶\ntbl_merge(\n    list(tbl_death, tbl_response),\n    tab_spanner = c(\"**æ­»äº¡é£é™©**\", \"**æ²»ç–—ååº”**\")\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\næ­»äº¡é£é™©\n\n\næ²»ç–—ååº”\n\n\n\nHR\n95% CI\np-value\nOR\n95% CI\np-value\n\n\n\n\nAge\n1.01\n0.99, 1.02\n0.3\n1.02\n1.00, 1.04\n0.10\n\n\nGrade\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nÂ Â Â Â I\nâ€”\nâ€”\n\n\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n1.20\n0.73, 1.97\n0.5\n0.85\n0.39, 1.85\n0.7\n\n\nÂ Â Â Â III\n1.80\n1.13, 2.87\n0.014\n1.01\n0.47, 2.16\n&gt;0.9\n\n\n\nAbbreviations: CI = Confidence Interval, HR = Hazard Ratio, OR = Odds Ratio\n\n\n\n\n\n\n\n\n\n\nçºµå‘å †å \n\n# ä¸åŒäºšç»„çš„åˆ†æ\ntbl_male &lt;- trial %&gt;%\n    filter(!is.na(response)) %&gt;%\n    tbl_summary(\n        include = c(age, grade, response),\n        by = response\n    ) %&gt;%\n    modify_header(label = \"**å˜é‡**\")\n\ntbl_stacked &lt;- tbl_stack(\n    list(tbl1, tbl_male),\n    group_header = c(\"**å…¨éƒ¨æ‚£è€…**\", \"**æœ‰ååº”æ•°æ®çš„æ‚£è€…**\")\n)\n\nTable 1 Column Name   Header                  \nlabel                 \"**Characteristic**\"    \nstat_0                \"**N = 200**\"           \nTable 2 Column Name   Header                \nlabel                 \"**å˜é‡**\"              \nstat_1                \"**0**  \\nN = 132\"    \nstat_2                \"**1**  \\nN = 61\"     \n\ntbl_stacked\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nN = 2001\n0\nN = 1321\n1\nN = 611\n\n\n\n\n**å…¨éƒ¨æ‚£è€…**\n\n\nAge\n47 (38, 57)\n\n\n\n\n\n\nÂ Â Â Â Unknown\n11\n\n\n\n\n\n\nGrade\n\n\n\n\n\n\n\n\nÂ Â Â Â I\n68 (34%)\n\n\n\n\n\n\nÂ Â Â Â II\n68 (34%)\n\n\n\n\n\n\nÂ Â Â Â III\n64 (32%)\n\n\n\n\n\n\nT Stage\n\n\n\n\n\n\n\n\nÂ Â Â Â T1\n53 (27%)\n\n\n\n\n\n\nÂ Â Â Â T2\n54 (27%)\n\n\n\n\n\n\nÂ Â Â Â T3\n43 (22%)\n\n\n\n\n\n\nÂ Â Â Â T4\n50 (25%)\n\n\n\n\n\n\nChemotherapy Treatment\n\n\n\n\n\n\n\n\nÂ Â Â Â Drug A\n98 (49%)\n\n\n\n\n\n\nÂ Â Â Â Drug B\n102 (51%)\n\n\n\n\n\n\n**æœ‰ååº”æ•°æ®çš„æ‚£è€…**\n\n\nAge\n\n\n46 (36, 55)\n49 (43, 59)\n\n\nÂ Â Â Â Unknown\n\n\n7\n3\n\n\nGrade\n\n\n\n\n\n\n\n\nÂ Â Â Â I\n\n\n46 (35%)\n21 (34%)\n\n\nÂ Â Â Â II\n\n\n44 (33%)\n19 (31%)\n\n\nÂ Â Â Â III\n\n\n42 (32%)\n21 (34%)\n\n\n\n1 Median (Q1, Q3); n (%)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#äºšç»„åˆ†æè¡¨æ ¼",
    "href": "1053-gtsummary.html#äºšç»„åˆ†æè¡¨æ ¼",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "äºšç»„åˆ†æè¡¨æ ¼",
    "text": "äºšç»„åˆ†æè¡¨æ ¼\n\n# åˆ›å»ºäºšç»„åˆ†æè¡¨æ ¼\ntbl_forest &lt;- trial %&gt;%\n    mutate(\n        age_group = ifelse(age &gt; 60, \"&gt;60å²\", \"â‰¤60å²\")\n    ) %&gt;%\n    select(response, trt, age_group, grade, stage) %&gt;%\n    filter(!is.na(response)) %&gt;%\n    tbl_strata(\n        strata = c(age_group, grade),\n        .tbl_fun = ~ .x %&gt;%\n            tbl_summary(by = trt, include = response) %&gt;%\n            add_p()\n    )\n\ntbl_forest\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\n&gt;60å², I\n\n\n&gt;60å², II\n\n\n&gt;60å², III\n\n\nâ‰¤60å², I\n\n\nâ‰¤60å², II\n\n\nâ‰¤60å², III\n\n\nNA, I\n\n\nNA, II\n\n\nNA, III\n\n\n\nDrug A\nN = 71\nDrug B\nN = 51\np-value2\nDrug A\nN = 61\nDrug B\nN = 51\np-value2\nDrug A\nN = 71\nDrug B\nN = 61\np-value2\nDrug A\nN = 261\nDrug B\nN = 271\np-value3\nDrug A\nN = 231\nDrug B\nN = 241\np-value3\nDrug A\nN = 201\nDrug B\nN = 271\np-value3\nDrug A\nN = 21\np-value4\nDrug A\nN = 11\nDrug B\nN = 41\np-value2\nDrug A\nN = 31\np-value4\n\n\n\n\nTumor Response\n2 (29%)\n5 (100%)\n0.028\n2 (33%)\n1 (20%)\n&gt;0.9\n3 (43%)\n1 (17%)\n0.6\n6 (23%)\n8 (30%)\n0.6\n5 (22%)\n9 (38%)\n0.2\n9 (45%)\n7 (26%)\n0.2\n\n\n\n\n0 (0%)\n2 (50%)\n&gt;0.9\n1 (33%)\n\n\n\n\nÂ Â Â Â 0\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2 (100%)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1 n (%)\n\n\n2 Fisherâ€™s exact test\n\n\n3 Pearsonâ€™s Chi-squared test\n\n\n4 NA",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#è‡ªå®šä¹‰è¡¨æ ¼å¤–è§‚",
    "href": "1053-gtsummary.html#è‡ªå®šä¹‰è¡¨æ ¼å¤–è§‚",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "è‡ªå®šä¹‰è¡¨æ ¼å¤–è§‚",
    "text": "è‡ªå®šä¹‰è¡¨æ ¼å¤–è§‚\n\nä½¿ç”¨modifyç³»åˆ—å‡½æ•°\n\n# é«˜åº¦è‡ªå®šä¹‰çš„è¡¨æ ¼\ntbl_custom_style &lt;- trial %&gt;%\n    select(age, grade, stage, trt) %&gt;%\n    tbl_summary(by = trt) %&gt;%\n    add_p() %&gt;%\n    add_overall() %&gt;%\n    # ä¿®æ”¹è¡¨å¤´\n    modify_header(\n        label = \"**ç‰¹å¾**\",\n        all_stat_cols() ~ \"**{level}**&lt;br&gt;N = {n}\",\n        p.value = \"**På€¼**\"\n    ) %&gt;%\n    # æ·»åŠ è„šæ³¨\n    modify_footnote(\n        all_stat_cols() ~ \"è¿ç»­å˜é‡: å‡å€¼ (æ ‡å‡†å·®); åˆ†ç±»å˜é‡: n (%)\",\n        p.value ~ \"è¿ç»­å˜é‡: Wilcoxonæ£€éªŒ; åˆ†ç±»å˜é‡: å¡æ–¹æ£€éªŒ\"\n    ) %&gt;%\n    # æ·»åŠ æ ‡é¢˜\n    modify_caption(\"**è¡¨1. åŸºçº¿ç‰¹å¾æ¯”è¾ƒ**\") %&gt;%\n    # ç²—ä½“æ ‡ç­¾\n    bold_labels()\n\ntbl_custom_style\n\n\n\n\n\nè¡¨1. åŸºçº¿ç‰¹å¾æ¯”è¾ƒ\n\n\n\n\n\n\n\n\n\nç‰¹å¾\nOverallN = 2001\nDrug AN = 981\nDrug BN = 1021\nPå€¼2\n\n\n\n\nAge\n47 (38, 57)\n46 (37, 60)\n48 (39, 56)\n0.7\n\n\nÂ Â Â Â Unknown\n11\n7\n4\n\n\n\n\nGrade\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â I\n68 (34%)\n35 (36%)\n33 (32%)\n\n\n\n\nÂ Â Â Â II\n68 (34%)\n32 (33%)\n36 (35%)\n\n\n\n\nÂ Â Â Â III\n64 (32%)\n31 (32%)\n33 (32%)\n\n\n\n\nT Stage\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â T1\n53 (27%)\n28 (29%)\n25 (25%)\n\n\n\n\nÂ Â Â Â T2\n54 (27%)\n25 (26%)\n29 (28%)\n\n\n\n\nÂ Â Â Â T3\n43 (22%)\n22 (22%)\n21 (21%)\n\n\n\n\nÂ Â Â Â T4\n50 (25%)\n23 (23%)\n27 (26%)\n\n\n\n\n\n1 è¿ç»­å˜é‡: å‡å€¼ (æ ‡å‡†å·®); åˆ†ç±»å˜é‡: n (%)\n\n\n2 è¿ç»­å˜é‡: Wilcoxonæ£€éªŒ; åˆ†ç±»å˜é‡: å¡æ–¹æ£€éªŒ\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ä¸»é¢˜\n\n# è®¾ç½®ä¸­æ–‡ä¸»é¢˜\ntheme_gtsummary_language(\"zh-cn\", decimal.mark = \".\", big.mark = \",\")\n\n# æœŸåˆŠé£æ ¼ä¸»é¢˜\ntheme_gtsummary_journal(\"jama\")\n\n# æˆ–è€…ç´§å‡‘ä¸»é¢˜\ntheme_gtsummary_compact()\n\n# é‡æ–°ç”Ÿæˆè¡¨æ ¼\ntrial %&gt;%\n    select(age, grade, trt) %&gt;%\n    tbl_summary(by = trt) %&gt;%\n    add_p()\n\n\n\n\n\n\n\n\n\n\n\n\n\nç‰¹å¾\nDrug A\nN = 98\nDrug B\nN = 102\npå€¼1\n\n\n\n\nAge, ä¸­ä½æ•° (IQR)\n46 (37 â€“ 60)\n48 (39 â€“ 56)\n0.72\n\n\nÂ Â Â Â æœªçŸ¥æ•°\n7\n4\n\n\n\n\nGrade, n (%)\n\n\n\n\n0.87\n\n\nÂ Â Â Â I\n35 (36)\n33 (32)\n\n\n\n\nÂ Â Â Â II\n32 (33)\n36 (35)\n\n\n\n\nÂ Â Â Â III\n31 (32)\n33 (32)\n\n\n\n\n\n1 Wilcoxonç§©å’Œæ£€éªŒ; å¡æ–¹ç‹¬ç«‹æ€§æ£€å®š\n\n\n\n\n\n\n\n\n\n# é‡ç½®ä¸ºé»˜è®¤ä¸»é¢˜\nreset_gtsummary_theme()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#å¯¼å‡ºè¡¨æ ¼",
    "href": "1053-gtsummary.html#å¯¼å‡ºè¡¨æ ¼",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "å¯¼å‡ºè¡¨æ ¼",
    "text": "å¯¼å‡ºè¡¨æ ¼\n\nå¯¼å‡ºåˆ°Word\n\n# æ–¹æ³•1ï¼šä½¿ç”¨flextable\nlibrary(flextable)\n\ntbl1_by %&gt;%\n    as_flex_table() %&gt;%\n    save_as_docx(path = \"table1.docx\")\n\n# æ–¹æ³•2ï¼šä½¿ç”¨gtï¼ˆæ›´å¤šæ ¼å¼é€‰é¡¹ï¼‰\nlibrary(gt)\n\ntbl1_by %&gt;%\n    as_gt() %&gt;%\n    gtsave(\"table1.docx\")\n\n\n\nå¯¼å‡ºåˆ°PDF/HTML\n\n# å¯¼å‡ºä¸ºHTML\ntbl1_by %&gt;%\n    as_gt() %&gt;%\n    gtsave(\"table1.html\")\n\n# å¯¼å‡ºä¸ºPDFï¼ˆéœ€è¦LaTeXï¼‰\ntbl1_by %&gt;%\n    as_gt() %&gt;%\n    gtsave(\"table1.pdf\")\n\n\n\nåœ¨RMarkdownä¸­ä½¿ç”¨\n\n# ç›´æ¥åœ¨RMarkdownä¸­æ‰“å°å³å¯\n# ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„è¾“å‡ºæ ¼å¼\ntbl1_by",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#é«˜çº§æŠ€å·§",
    "href": "1053-gtsummary.html#é«˜çº§æŠ€å·§",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "é«˜çº§æŠ€å·§",
    "text": "é«˜çº§æŠ€å·§\n\n1. æ·»åŠ æ•ˆåº”å€¼\n\n# è®¡ç®—å¹¶æ·»åŠ Cohen's dç­‰æ•ˆåº”å€¼\ntrial %&gt;%\n    select(age, marker, trt) %&gt;%\n    tbl_summary(by = trt) %&gt;%\n    add_difference(\n        test = list(all_continuous() ~ \"t.test\")\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nDrug A\nN = 981\nDrug B\nN = 1021\nDifference2\n95% CI2\np-value2\n\n\n\n\nAge\n46 (37, 60)\n48 (39, 56)\n-0.44\n-4.6, 3.7\n0.8\n\n\nÂ Â Â Â Unknown\n7\n4\n\n\n\n\n\n\n\n\nMarker Level (ng/mL)\n0.84 (0.23, 1.60)\n0.52 (0.18, 1.21)\n0.20\n-0.05, 0.44\n0.12\n\n\nÂ Â Â Â Unknown\n6\n4\n\n\n\n\n\n\n\n\n\n1 Median (Q1, Q3)\n\n\n2 Welch Two Sample t-test\n\n\nAbbreviation: CI = Confidence Interval\n\n\n\n\n\n\n\n\n\n\n2. åˆ†å±‚è¡¨æ ¼\n\n# æŒ‰æ€§åˆ«åˆ†å±‚çš„è¡¨æ ¼\ntrial %&gt;%\n    mutate(\n        gender = sample(c(\"ç”·\", \"å¥³\"), n(), replace = TRUE)\n    ) %&gt;%\n    select(age, grade, trt, gender) %&gt;%\n    tbl_strata(\n        strata = gender,\n        .tbl_fun = ~ .x %&gt;%\n            tbl_summary(by = trt) %&gt;%\n            add_p()\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\n\nå¥³\n\n\nç”·\n\n\n\nDrug A\nN = 491\nDrug B\nN = 591\np-value2\nDrug A\nN = 491\nDrug B\nN = 431\np-value2\n\n\n\n\nAge\n45 (34, 55)\n49 (39, 55)\n0.3\n48 (38, 61)\n47 (39, 59)\n0.7\n\n\nÂ Â Â Â Unknown\n2\n2\n\n\n5\n2\n\n\n\n\nGrade\n\n\n\n\n0.7\n\n\n\n\n0.2\n\n\nÂ Â Â Â I\n16 (33%)\n23 (39%)\n\n\n19 (39%)\n10 (23%)\n\n\n\n\nÂ Â Â Â II\n21 (43%)\n21 (36%)\n\n\n11 (22%)\n15 (35%)\n\n\n\n\nÂ Â Â Â III\n12 (24%)\n15 (25%)\n\n\n19 (39%)\n18 (42%)\n\n\n\n\n\n1 Median (Q1, Q3); n (%)\n\n\n2 Wilcoxon rank sum test; Pearsonâ€™s Chi-squared test\n\n\n\n\n\n\n\n\n\n\n3. è‡ªå®šä¹‰æ£€éªŒæ–¹æ³•\n\n# ä½¿ç”¨è‡ªå®šä¹‰æ£€éªŒ\ntrial %&gt;%\n    select(age, grade, trt) %&gt;%\n    tbl_summary(by = trt) %&gt;%\n    add_p(\n        test = list(\n            age ~ \"t.test\", # tæ£€éªŒ\n            grade ~ \"fisher.test\" # Fisherç²¾ç¡®æ£€éªŒ\n        ),\n        pvalue_fun = ~ style_pvalue(.x, digits = 3)\n    )\n\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nDrug A\nN = 981\nDrug B\nN = 1021\np-value2\n\n\n\n\nAge\n46 (37, 60)\n48 (39, 56)\n0.834\n\n\nÂ Â Â Â Unknown\n7\n4\n\n\n\n\nGrade\n\n\n\n\n0.906\n\n\nÂ Â Â Â I\n35 (36%)\n33 (32%)\n\n\n\n\nÂ Â Â Â II\n32 (33%)\n36 (35%)\n\n\n\n\nÂ Â Â Â III\n31 (32%)\n33 (32%)\n\n\n\n\n\n1 Median (Q1, Q3); n (%)\n\n\n2 Welch Two Sample t-test; Fisherâ€™s exact test\n\n\n\n\n\n\n\n\n\n\n4. å†…è”ç»Ÿè®¡é‡\n\n# åœ¨æ–‡ç« æ­£æ–‡ä¸­å¼•ç”¨ç»Ÿè®¡é‡\ntbl &lt;- trial %&gt;%\n    select(age, trt) %&gt;%\n    tbl_summary(by = trt)\n\n# è·å–ç»Ÿè®¡é‡ç”¨äºè¡Œå†…å¼•ç”¨\ninline_text(tbl, variable = age, column = \"Drug A\")\n\n[1] \"46 (37, 60)\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#å®Œæ•´å·¥ä½œæµç¤ºä¾‹",
    "href": "1053-gtsummary.html#å®Œæ•´å·¥ä½œæµç¤ºä¾‹",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "å®Œæ•´å·¥ä½œæµç¤ºä¾‹",
    "text": "å®Œæ•´å·¥ä½œæµç¤ºä¾‹\n\n# ä¸´åºŠç ”ç©¶å®Œæ•´è¡¨æ ¼åˆ¶ä½œæµç¨‹\n\n# 1. æ•°æ®å‡†å¤‡\nanalysis_data &lt;- trial %&gt;%\n    select(\n        age, grade, stage, marker,\n        response, death, ttdeath, trt\n    ) %&gt;%\n    mutate(\n        age_group = cut(age,\n            breaks = c(0, 50, 65, Inf),\n            labels = c(\"&lt;50å²\", \"50-65å²\", \"&gt;65å²\")\n        )\n    )\n\n# 2. è¡¨1ï¼šåŸºçº¿ç‰¹å¾\ntable1 &lt;- analysis_data %&gt;%\n    select(age, age_group, grade, stage, marker, trt) %&gt;%\n    tbl_summary(\n        by = trt,\n        statistic = list(\n            all_continuous() ~ \"{mean} Â± {sd}\",\n            all_categorical() ~ \"{n} ({p}%)\"\n        ),\n        label = list(\n            age ~ \"å¹´é¾„ (å²)\",\n            age_group ~ \"å¹´é¾„åˆ†ç»„\",\n            grade ~ \"è‚¿ç˜¤åˆ†çº§\",\n            stage ~ \"ä¸´åºŠåˆ†æœŸ\",\n            marker ~ \"è‚¿ç˜¤æ ‡å¿—ç‰©\"\n        ),\n        missing_text = \"ç¼ºå¤±\"\n    ) %&gt;%\n    add_overall() %&gt;%\n    add_p() %&gt;%\n    bold_labels() %&gt;%\n    modify_caption(\"**è¡¨1. æ‚£è€…åŸºçº¿ç‰¹å¾**\")\n\n# 3. è¡¨2ï¼šCoxå›å½’\ncox_full &lt;- coxph(\n    Surv(ttdeath, death) ~ age + grade + stage + marker + trt,\n    data = analysis_data\n)\n\ntable2 &lt;- tbl_regression(\n    cox_full,\n    exponentiate = TRUE,\n    label = list(\n        age ~ \"å¹´é¾„\",\n        grade ~ \"è‚¿ç˜¤åˆ†çº§\",\n        stage ~ \"ä¸´åºŠåˆ†æœŸ\",\n        marker ~ \"è‚¿ç˜¤æ ‡å¿—ç‰©\",\n        trt ~ \"æ²»ç–—ç»„\"\n    )\n) %&gt;%\n    add_global_p() %&gt;%\n    bold_p() %&gt;%\n    bold_labels() %&gt;%\n    modify_caption(\"**è¡¨2. Coxå›å½’åˆ†æ - æ­»äº¡é£é™©å› ç´ **\")\n\n# 4. è¾“å‡º\ntable1\n\n\n\n\n\nè¡¨1. æ‚£è€…åŸºçº¿ç‰¹å¾\n\n\n\n\n\n\n\n\n\nCharacteristic\nOverall\nN = 2001\nDrug A\nN = 981\nDrug B\nN = 1021\np-value2\n\n\n\n\nå¹´é¾„ (å²)\n47 Â± 14\n47 Â± 15\n47 Â± 14\n0.7\n\n\nÂ Â Â Â ç¼ºå¤±\n11\n7\n4\n\n\n\n\nå¹´é¾„åˆ†ç»„\n\n\n\n\n\n\n&gt;0.9\n\n\nÂ Â Â Â &lt;50å²\n113 (60%)\n54 (59%)\n59 (60%)\n\n\n\n\nÂ Â Â Â 50-65å²\n53 (28%)\n26 (29%)\n27 (28%)\n\n\n\n\nÂ Â Â Â &gt;65å²\n23 (12%)\n11 (12%)\n12 (12%)\n\n\n\n\nÂ Â Â Â ç¼ºå¤±\n11\n7\n4\n\n\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â I\n68 (34%)\n35 (36%)\n33 (32%)\n\n\n\n\nÂ Â Â Â II\n68 (34%)\n32 (33%)\n36 (35%)\n\n\n\n\nÂ Â Â Â III\n64 (32%)\n31 (32%)\n33 (32%)\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n\n\n0.9\n\n\nÂ Â Â Â T1\n53 (27%)\n28 (29%)\n25 (25%)\n\n\n\n\nÂ Â Â Â T2\n54 (27%)\n25 (26%)\n29 (28%)\n\n\n\n\nÂ Â Â Â T3\n43 (22%)\n22 (22%)\n21 (21%)\n\n\n\n\nÂ Â Â Â T4\n50 (25%)\n23 (23%)\n27 (26%)\n\n\n\n\nè‚¿ç˜¤æ ‡å¿—ç‰©\n0.92 Â± 0.86\n1.02 Â± 0.89\n0.82 Â± 0.83\n0.085\n\n\nÂ Â Â Â ç¼ºå¤±\n10\n6\n4\n\n\n\n\n\n1 Mean Â± SD; n (%)\n\n\n2 Wilcoxon rank sum test; Pearsonâ€™s Chi-squared test\n\n\n\n\n\n\n\ntable2\n\n\n\n\n\nè¡¨2. Coxå›å½’åˆ†æ - æ­»äº¡é£é™©å› ç´ \n\n\n\n\n\n\n\n\nCharacteristic\nHR\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n1.01\n1.00, 1.03\n0.2\n\n\nè‚¿ç˜¤åˆ†çº§\n\n\n\n\n0.086\n\n\nÂ Â Â Â I\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n1.15\n0.68, 1.95\n\n\n\n\nÂ Â Â Â III\n1.69\n1.05, 2.74\n\n\n\n\nä¸´åºŠåˆ†æœŸ\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â T1\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â T2\n1.52\n0.82, 2.81\n\n\n\n\nÂ Â Â Â T3\n1.42\n0.73, 2.77\n\n\n\n\nÂ Â Â Â T4\n3.23\n1.79, 5.86\n\n\n\n\nè‚¿ç˜¤æ ‡å¿—ç‰©\n0.89\n0.69, 1.14\n0.3\n\n\næ²»ç–—ç»„\n\n\n\n\n0.11\n\n\nÂ Â Â Â Drug A\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â Drug B\n1.39\n0.93, 2.10\n\n\n\n\n\nAbbreviations: CI = Confidence Interval, HR = Hazard Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "href": "1053-gtsummary.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "text": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥\n\n\n\nå‡½æ•°\nç”¨é€”\n\n\n\n\ntbl_summary()\næè¿°æ€§ç»Ÿè®¡è¡¨\n\n\ntbl_regression()\nå›å½’æ¨¡å‹è¡¨æ ¼\n\n\ntbl_uvregression()\nå•å˜é‡å›å½’\n\n\ntbl_survfit()\nç”Ÿå­˜ç‡è¡¨\n\n\ntbl_cross()\näº¤å‰è¡¨\n\n\ntbl_merge()\næ¨ªå‘åˆå¹¶è¡¨æ ¼\n\n\ntbl_stack()\nçºµå‘å †å è¡¨æ ¼\n\n\ntbl_strata()\nåˆ†å±‚è¡¨æ ¼\n\n\nadd_p()\næ·»åŠ på€¼\n\n\nadd_overall()\næ·»åŠ æ€»è®¡åˆ—\n\n\nadd_n()\næ·»åŠ æ ·æœ¬é‡\n\n\nadd_global_p()\næ·»åŠ æ•´ä½“på€¼\n\n\nbold_p()\nåŠ ç²—æ˜¾è‘—på€¼\n\n\nbold_labels()\nåŠ ç²—å˜é‡æ ‡ç­¾",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1053-gtsummary.html#æ€»ç»“",
    "href": "1053-gtsummary.html#æ€»ç»“",
    "title": "gtsummary - å‘è¡¨çº§ç»Ÿè®¡è¡¨æ ¼",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nè¦ç‚¹\nè¯´æ˜\n\n\n\n\næ ¸å¿ƒä¼˜åŠ¿\nè‡ªåŠ¨åŒ–ã€è§„èŒƒåŒ–ã€å¯é‡å¤\n\n\nTable 1\ntbl_summary() + add_p()\n\n\nå›å½’è¡¨æ ¼\ntbl_regression()\n\n\nåˆå¹¶è¡¨æ ¼\ntbl_merge() / tbl_stack()\n\n\nå¯¼å‡º\næ”¯æŒWord/PDF/HTML\n\n\nè‡ªå®šä¹‰\nä½¿ç”¨modify_*ç³»åˆ—å‡½æ•°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "gtsummary - å‘è¡¨çº§è¡¨æ ¼"
    ]
  },
  {
    "objectID": "1051-bayesian.html",
    "href": "1051-bayesian.html",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "",
    "text": "è´å¶æ–¯ç»Ÿè®¡æ˜¯ä¸€ç§åŸºäºè´å¶æ–¯å®šç†çš„ç»Ÿè®¡æ¨æ–­æ–¹æ³•ã€‚ä¸ä¼ ç»Ÿé¢‘ç‡å­¦æ´¾ä¸åŒï¼Œè´å¶æ–¯æ–¹æ³•å…è®¸æˆ‘ä»¬ç»“åˆå…ˆéªŒçŸ¥è¯†å’Œè§‚æµ‹æ•°æ®æ¥æ›´æ–°å¯¹å‚æ•°çš„ä¿¡å¿µï¼Œåœ¨å°æ ·æœ¬ã€å¤æ‚æ¨¡å‹å’Œä¸ç¡®å®šæ€§é‡åŒ–æ–¹é¢å…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#ä¸ºä»€ä¹ˆå­¦ä¹ è´å¶æ–¯ç»Ÿè®¡",
    "href": "1051-bayesian.html#ä¸ºä»€ä¹ˆå­¦ä¹ è´å¶æ–¯ç»Ÿè®¡",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "ä¸ºä»€ä¹ˆå­¦ä¹ è´å¶æ–¯ç»Ÿè®¡ï¼Ÿ",
    "text": "ä¸ºä»€ä¹ˆå­¦ä¹ è´å¶æ–¯ç»Ÿè®¡ï¼Ÿ\n\nè´å¶æ–¯ vs é¢‘ç‡å­¦æ´¾\n\n\n\n\n\n\n\n\nç‰¹å¾\né¢‘ç‡å­¦æ´¾\nè´å¶æ–¯å­¦æ´¾\n\n\n\n\nå‚æ•°æœ¬è´¨\nå›ºå®šæœªçŸ¥å¸¸æ•°\nå…·æœ‰æ¦‚ç‡åˆ†å¸ƒçš„éšæœºå˜é‡\n\n\næ¦‚ç‡å«ä¹‰\né•¿æœŸé¢‘ç‡\nä¸»è§‚ä¿¡å¿µç¨‹åº¦\n\n\nä¸ç¡®å®šæ€§\nç½®ä¿¡åŒºé—´\nå¯ä¿¡åŒºé—´(ç›´æ¥æ¦‚ç‡)\n\n\nå…ˆéªŒä¿¡æ¯\nä¸ä½¿ç”¨\nå¯ä»¥çº³å…¥\n\n\nå°æ ·æœ¬\nå¯èƒ½ä¸å¯é \næ›´ç¨³å¥\n\n\nç»“æœè§£é‡Š\nâ€œ95%CIåŒ…å«çœŸå®å€¼çš„æ¦‚ç‡æ˜¯95%â€\nâ€œå‚æ•°æœ‰95%æ¦‚ç‡åœ¨æ­¤åŒºé—´å†…â€\n\n\n\n\n\nè´å¶æ–¯æ–¹æ³•çš„ä¼˜åŠ¿\n\nç›´è§‚çš„æ¦‚ç‡è§£é‡Šï¼šP(å‚æ•°|æ•°æ®) è€Œé P(æ•°æ®|å‚æ•°)\nçº³å…¥å…ˆéªŒçŸ¥è¯†ï¼šåˆ©ç”¨å†å²ç ”ç©¶æˆ–ä¸“å®¶æ„è§\nå°æ ·æœ¬è¡¨ç°å¥½ï¼šå€ŸåŠ©å…ˆéªŒç¨³å®šä¼°è®¡\nå¤æ‚æ¨¡å‹çµæ´»ï¼šå±‚æ¬¡æ¨¡å‹ã€æ··åˆæ¨¡å‹ç­‰\nä¸ç¡®å®šæ€§å®Œæ•´é‡åŒ–ï¼šæä¾›å®Œæ•´åéªŒåˆ†å¸ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#è´å¶æ–¯å®šç†åŸºç¡€",
    "href": "1051-bayesian.html#è´å¶æ–¯å®šç†åŸºç¡€",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "è´å¶æ–¯å®šç†åŸºç¡€",
    "text": "è´å¶æ–¯å®šç†åŸºç¡€\n\næ ¸å¿ƒå…¬å¼\n\\[P(\\theta|D) = \\frac{P(D|\\theta) \\cdot P(\\theta)}{P(D)}\\]\nå…¶ä¸­ï¼š - \\(P(\\theta|D)\\)ï¼šåéªŒæ¦‚ç‡ï¼ˆæ›´æ–°åçš„ä¿¡å¿µï¼‰ - \\(P(D|\\theta)\\)ï¼šä¼¼ç„¶å‡½æ•°ï¼ˆæ•°æ®çš„å¯èƒ½æ€§ï¼‰ - \\(P(\\theta)\\)ï¼šå…ˆéªŒæ¦‚ç‡ï¼ˆåˆå§‹ä¿¡å¿µï¼‰ - \\(P(D)\\)ï¼šè¾¹é™…ä¼¼ç„¶ï¼ˆå½’ä¸€åŒ–å¸¸æ•°ï¼‰\nç®€åŒ–è®°å¿†ï¼šåéªŒ âˆ ä¼¼ç„¶ Ã— å…ˆéªŒ\n\n\nç›´è§‚ç†è§£ - æ·ç¡¬å¸ä¾‹å­\n\nlibrary(tidyverse)\n\n# æ¨¡æ‹Ÿæ·ç¡¬å¸çš„è´å¶æ–¯æ›´æ–°\n# è®¾ç½®å…ˆéªŒï¼šå‡è®¾ç¡¬å¸å…¬å¹³ Beta(2,2)\nalpha_prior &lt;- 2\nbeta_prior &lt;- 2\n\n# è§‚æµ‹æ•°æ®ï¼š10æ¬¡ä¸­7æ¬¡æ­£é¢\nn_trials &lt;- 10\nn_heads &lt;- 7\n\n# åéªŒåˆ†å¸ƒ Beta(alpha + heads, beta + tails)\nalpha_post &lt;- alpha_prior + n_heads\nbeta_post &lt;- beta_prior + (n_trials - n_heads)\n\n# å¯è§†åŒ–\ntheta &lt;- seq(0, 1, length.out = 100)\n\ndf &lt;- data.frame(\n  theta = theta,\n  prior = dbeta(theta, alpha_prior, beta_prior),\n  likelihood = dbeta(theta, n_heads + 1, n_trials - n_heads + 1),\n  posterior = dbeta(theta, alpha_post, beta_post)\n) %&gt;%\n  pivot_longer(-theta, names_to = \"distribution\", values_to = \"density\")\n\nggplot(df, aes(x = theta, y = density, color = distribution)) +\n  geom_line(linewidth = 1.2) +\n  scale_color_manual(\n    values = c(\"prior\" = \"#2563eb\", \"likelihood\" = \"#dc2626\", \"posterior\" = \"#7c3aed\"),\n    labels = c(\"å…ˆéªŒ\", \"ä¼¼ç„¶\", \"åéªŒ\")\n  ) +\n  labs(\n    title = \"è´å¶æ–¯æ›´æ–°ç¤ºæ„å›¾\",\n    subtitle = \"è§‚æµ‹10æ¬¡æ·ç¡¬å¸ï¼Œ7æ¬¡æ­£é¢\",\n    x = \"ç¡¬å¸æ­£é¢æ¦‚ç‡ (Î¸)\",\n    y = \"æ¦‚ç‡å¯†åº¦\",\n    color = \"åˆ†å¸ƒç±»å‹\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\n\n\nåéªŒä¼°è®¡\n\n# åéªŒå‡å€¼\npost_mean &lt;- alpha_post / (alpha_post + beta_post)\ncat(\"åéªŒå‡å€¼:\", round(post_mean, 3), \"\\n\")\n\nåéªŒå‡å€¼: 0.643 \n\n# 95%å¯ä¿¡åŒºé—´\nci_lower &lt;- qbeta(0.025, alpha_post, beta_post)\nci_upper &lt;- qbeta(0.975, alpha_post, beta_post)\ncat(\"95%å¯ä¿¡åŒºé—´: [\", round(ci_lower, 3), \",\", round(ci_upper, 3), \"]\\n\")\n\n95%å¯ä¿¡åŒºé—´: [ 0.386 , 0.861 ]\n\n# P(theta &gt; 0.5) - ç¡¬å¸åå‘æ­£é¢çš„æ¦‚ç‡\np_biased &lt;- 1 - pbeta(0.5, alpha_post, beta_post)\ncat(\"P(theta &gt; 0.5):\", round(p_biased, 3), \"\\n\")\n\nP(theta &gt; 0.5): 0.867",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#è´å¶æ–¯çº¿æ€§å›å½’æ‰‹åŠ¨å®ç°",
    "href": "1051-bayesian.html#è´å¶æ–¯çº¿æ€§å›å½’æ‰‹åŠ¨å®ç°",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "è´å¶æ–¯çº¿æ€§å›å½’ï¼ˆæ‰‹åŠ¨å®ç°ï¼‰",
    "text": "è´å¶æ–¯çº¿æ€§å›å½’ï¼ˆæ‰‹åŠ¨å®ç°ï¼‰\n\nç®€å•ç¤ºä¾‹\n\n# ä½¿ç”¨mtcarsæ•°æ®\ndata(mtcars)\n\n# æ ‡å‡†çº¿æ€§å›å½’\nlm_fit &lt;- lm(mpg ~ wt, data = mtcars)\nsummary(lm_fit)\n\n\nCall:\nlm(formula = mpg ~ wt, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-4.5432 -2.3647 -0.1252  1.4096  6.8727 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 ***\nwt           -5.3445     0.5591  -9.559 1.29e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.046 on 30 degrees of freedom\nMultiple R-squared:  0.7528,    Adjusted R-squared:  0.7446 \nF-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10\n\n# é¢‘ç‡å­¦æ´¾ç½®ä¿¡åŒºé—´\nconfint(lm_fit)\n\n                2.5 %    97.5 %\n(Intercept) 33.450500 41.119753\nwt          -6.486308 -4.202635\n\n\n\n\nè´å¶æ–¯æ–¹æ³•ï¼ˆä½¿ç”¨MCMCpackï¼‰\n\n# å®‰è£…MCMCpackï¼ˆè½»é‡çº§è´å¶æ–¯åŒ…ï¼‰\nif (!require(\"MCMCpack\", quietly = TRUE)) {\n  install.packages(\"MCMCpack\")\n  library(MCMCpack)\n}\n\n# è´å¶æ–¯çº¿æ€§å›å½’\nbayes_lm &lt;- MCMCregress(\n  mpg ~ wt + hp,\n  data = mtcars,\n  burnin = 1000,\n  mcmc = 5000,\n  thin = 1,\n  seed = 42\n)\n\n# æŸ¥çœ‹åéªŒæ‘˜è¦\nsummary(bayes_lm)\n\n\nIterations = 1001:6000\nThinning interval = 1 \nNumber of chains = 1 \nSample size per chain = 5000 \n\n1. Empirical mean and standard deviation for each variable,\n   plus standard error of the mean:\n\n                Mean       SD  Naive SE Time-series SE\n(Intercept) 37.19318 1.648867 0.0233185      0.0233185\nwt          -3.86052 0.648023 0.0091644      0.0091644\nhp          -0.03186 0.009325 0.0001319      0.0001274\nsigma2       7.21854 2.024071 0.0286247      0.0315857\n\n2. Quantiles for each variable:\n\n                2.5%      25%      50%      75%   97.5%\n(Intercept) 33.89694 36.10498 37.25434 38.27975 40.3652\nwt          -5.13034 -4.29962 -3.86842 -3.43442 -2.6078\nhp          -0.05023 -0.03789 -0.03193 -0.02581 -0.0132\nsigma2       4.29829  5.77132  6.85594  8.27615 12.1007\n\n\n\n\nåéªŒåˆ†å¸ƒå¯è§†åŒ–\n\n# æå–åéªŒæ ·æœ¬\npost_samples &lt;- as.data.frame(bayes_lm)\n\n# ç»‘åˆ¶wtç³»æ•°çš„åéªŒåˆ†å¸ƒ\nggplot(post_samples, aes(x = wt)) +\n  geom_histogram(aes(y = after_stat(density)),\n    bins = 30,\n    fill = \"#4f46e5\", alpha = 0.7\n  ) +\n  geom_density(color = \"#dc2626\", linewidth = 1) +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  labs(\n    title = \"wtç³»æ•°çš„åéªŒåˆ†å¸ƒ\",\n    subtitle = \"è´å¶æ–¯çº¿æ€§å›å½’\",\n    x = \"å›å½’ç³»æ•°\",\n    y = \"å¯†åº¦\"\n  ) +\n  theme_minimal() +\n  theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\n95%å¯ä¿¡åŒºé—´\n\n# è®¡ç®—HPDåŒºé—´ï¼ˆæœ€é«˜åéªŒå¯†åº¦åŒºé—´ï¼‰\nlibrary(coda)\nHPDinterval(bayes_lm, prob = 0.95)\n\n                  lower      upper\n(Intercept) 33.89712524 40.3669471\nwt          -5.07499559 -2.5583910\nhp          -0.04970027 -0.0127128\nsigma2       3.99310743 11.3124685\nattr(,\"Probability\")\n[1] 0.95",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#è´å¶æ–¯é€»è¾‘å›å½’",
    "href": "1051-bayesian.html#è´å¶æ–¯é€»è¾‘å›å½’",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "è´å¶æ–¯é€»è¾‘å›å½’",
    "text": "è´å¶æ–¯é€»è¾‘å›å½’\n\n# åˆ›å»ºäºŒåˆ†ç±»å˜é‡\nmtcars$high_mpg &lt;- ifelse(mtcars$mpg &gt; median(mtcars$mpg), 1, 0)\n\n# è´å¶æ–¯é€»è¾‘å›å½’\nbayes_logit &lt;- MCMClogit(\n  high_mpg ~ wt + hp,\n  data = mtcars,\n  burnin = 1000,\n  mcmc = 5000,\n  seed = 42\n)\n\nsummary(bayes_logit)\n\n\nIterations = 1001:6000\nThinning interval = 1 \nNumber of chains = 1 \nSample size per chain = 5000 \n\n1. Empirical mean and standard deviation for each variable,\n   plus standard error of the mean:\n\n                 Mean SD Naive SE Time-series SE\n(Intercept)  621.3209  0        0              0\nwt          -175.4753  0        0              0\nhp            -0.3336  0        0              0\n\n2. Quantiles for each variable:\n\n                 2.5%       25%       50%       75%     97.5%\n(Intercept)  621.3209  621.3209  621.3209  621.3209  621.3209\nwt          -175.4753 -175.4753 -175.4753 -175.4753 -175.4753\nhp            -0.3336   -0.3336   -0.3336   -0.3336   -0.3336\n\n# è½¬æ¢ä¸ºOR\npost_logit &lt;- as.data.frame(bayes_logit)\nor_summary &lt;- data.frame(\n  Variable = colnames(post_logit)[-1],\n  OR = round(exp(colMeans(post_logit[, -1])), 3),\n  CI_Lower = round(exp(apply(post_logit[, -1], 2, quantile, 0.025)), 3),\n  CI_Upper = round(exp(apply(post_logit[, -1], 2, quantile, 0.975)), 3)\n)\nprint(or_summary)\n\n   Variable    OR CI_Lower CI_Upper\nwt       wt 0.000    0.000    0.000\nhp       hp 0.716    0.716    0.716",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#å…ˆéªŒé€‰æ‹©æŒ‡å—",
    "href": "1051-bayesian.html#å…ˆéªŒé€‰æ‹©æŒ‡å—",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "å…ˆéªŒé€‰æ‹©æŒ‡å—",
    "text": "å…ˆéªŒé€‰æ‹©æŒ‡å—\n\nå¸¸ç”¨å…ˆéªŒç±»å‹\n\n\n\nå…ˆéªŒç±»å‹\né€‚ç”¨åœºæ™¯\næè¿°\n\n\n\n\næ— ä¿¡æ¯å…ˆéªŒ\næ•°æ®å……è¶³ï¼Œä¸æƒ³å½±å“ç»“æœ\nå‡åŒ€åˆ†å¸ƒæˆ–å¾ˆå¹³çš„æ­£æ€\n\n\nå¼±ä¿¡æ¯å…ˆéªŒ\næ¨èä½¿ç”¨ï¼Œé˜²æ­¢æç«¯å€¼\nNormal(0, 10)ä¹‹ç±»\n\n\nä¿¡æ¯å…ˆéªŒ\næœ‰å†å²ç ”ç©¶æˆ–ä¸“å®¶çŸ¥è¯†\nåŸºäºå·²æœ‰æ•°æ®çš„åˆ†å¸ƒ\n\n\næ­£åˆ™åŒ–å…ˆéªŒ\nå˜é‡é€‰æ‹©/é˜²è¿‡æ‹Ÿåˆ\nHorseshoeã€LASSOå…ˆéªŒ\n\n\n\n\n\nå…ˆéªŒæ•æ„Ÿæ€§åˆ†æ\n\n# æ¯”è¾ƒä¸åŒå…ˆéªŒçš„å½±å“\n# å¼ºå…ˆéªŒ vs å¼±å…ˆéªŒ\ncat(\"å…ˆéªŒæ•æ„Ÿæ€§ï¼šæ¯”è¾ƒä¸åŒå…ˆéªŒè®¾ç½®ä¸‹çš„ç»“æœ\\n\")\n\nå…ˆéªŒæ•æ„Ÿæ€§ï¼šæ¯”è¾ƒä¸åŒå…ˆéªŒè®¾ç½®ä¸‹çš„ç»“æœ\n\ncat(\"å»ºè®®ï¼šæ€»æ˜¯è¿›è¡Œæ•æ„Ÿæ€§åˆ†æï¼Œç¡®ä¿ç»“è®ºç¨³å¥\\n\")\n\nå»ºè®®ï¼šæ€»æ˜¯è¿›è¡Œæ•æ„Ÿæ€§åˆ†æï¼Œç¡®ä¿ç»“è®ºç¨³å¥",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#æ¨¡å‹è¯Šæ–­",
    "href": "1051-bayesian.html#æ¨¡å‹è¯Šæ–­",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\nMCMCæ”¶æ•›è¯Šæ–­\n\n# è½¨è¿¹å›¾\nplot(bayes_lm, trace = TRUE, density = FALSE)\n\n\n\n\n\n\n\n\n\n# æœ‰æ•ˆæ ·æœ¬é‡\neffectiveSize(bayes_lm)\n\n(Intercept)          wt          hp      sigma2 \n   5000.000    5000.000    5357.314    4106.500 \n\n\n\n\nGewekeè¯Šæ–­\n\n# Gewekeè¯Šæ–­æ£€éªŒæ”¶æ•›æ€§\ngeweke.diag(bayes_lm)\n\n\nFraction in 1st window = 0.1\nFraction in 2nd window = 0.5 \n\n(Intercept)          wt          hp      sigma2 \n    -0.5374      0.5132     -0.6530     -1.2216",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#ç»“æœæŠ¥å‘Šä¸è§£é‡Š",
    "href": "1051-bayesian.html#ç»“æœæŠ¥å‘Šä¸è§£é‡Š",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "ç»“æœæŠ¥å‘Šä¸è§£é‡Š",
    "text": "ç»“æœæŠ¥å‘Šä¸è§£é‡Š\n\næ–¹æ³•éƒ¨åˆ†æ¨¡æ¿\n\næœ¬ç ”ç©¶é‡‡ç”¨è´å¶æ–¯ç»Ÿè®¡æ–¹æ³•è¿›è¡Œæ•°æ®åˆ†æã€‚çº¿æ€§å›å½’æ¨¡å‹ä½¿ç”¨MCMCpackåŒ…å®ç°ã€‚æˆ‘ä»¬é‡‡ç”¨å¼±ä¿¡æ¯å…ˆéªŒä»¥å‡å°‘å¯¹åéªŒä¼°è®¡çš„å½±å“ã€‚æ¨¡å‹è¿è¡Œ5000æ¬¡é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›è¿­ä»£ï¼ˆå‰1000æ¬¡ä½œä¸ºé¢„çƒ­æœŸä¸¢å¼ƒï¼‰ã€‚æ”¶æ•›æ€§é€šè¿‡è½¨è¿¹å›¾å’ŒGewekeè¯Šæ–­è¯„ä¼°ã€‚ä½¿ç”¨95%å¯ä¿¡åŒºé—´ï¼ˆCrIï¼‰æŠ¥å‘Šå‚æ•°ä¼°è®¡çš„ä¸ç¡®å®šæ€§ã€‚\n\n\n\nç»“æœéƒ¨åˆ†æ¨¡æ¿\n\nè´å¶æ–¯å›å½’åˆ†ææ˜¾ç¤ºï¼Œä½“é‡æ¯å¢åŠ 1000ç£…ï¼Œæ²¹è€—å¹³å‡é™ä½X.X mpgï¼ˆ95% CrI: X.Xè‡³X.Xï¼‰ã€‚åéªŒæ¦‚ç‡åˆ†æè¡¨æ˜ï¼Œä½“é‡å¯¹æ²¹è€—æœ‰è´Ÿå‘å½±å“çš„æ¦‚ç‡ä¸ºXX%ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#è´å¶æ–¯-vs-é¢‘ç‡å­¦æ´¾å¯¹æ¯”",
    "href": "1051-bayesian.html#è´å¶æ–¯-vs-é¢‘ç‡å­¦æ´¾å¯¹æ¯”",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "è´å¶æ–¯ vs é¢‘ç‡å­¦æ´¾å¯¹æ¯”",
    "text": "è´å¶æ–¯ vs é¢‘ç‡å­¦æ´¾å¯¹æ¯”\n\n# å¯¹æ¯”ç»“æœ\ncat(\"=== é¢‘ç‡å­¦æ´¾ç»“æœ ===\\n\")\n\n=== é¢‘ç‡å­¦æ´¾ç»“æœ ===\n\nprint(summary(lm(mpg ~ wt + hp, data = mtcars))$coefficients)\n\n               Estimate Std. Error   t value     Pr(&gt;|t|)\n(Intercept) 37.22727012 1.59878754 23.284689 2.565459e-20\nwt          -3.87783074 0.63273349 -6.128695 1.119647e-06\nhp          -0.03177295 0.00902971 -3.518712 1.451229e-03\n\ncat(\"\\n=== è´å¶æ–¯ç»“æœ ===\\n\")\n\n\n=== è´å¶æ–¯ç»“æœ ===\n\nprint(summary(bayes_lm)$statistics)\n\n                   Mean         SD    Naive SE Time-series SE\n(Intercept) 37.19317646 1.64886724 0.023318504   0.0233185042\nwt          -3.86051841 0.64802323 0.009164432   0.0091644325\nhp          -0.03186464 0.00932476 0.000131872   0.0001273984\nsigma2       7.21854355 2.02407131 0.028624691   0.0315856559",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#å®ç”¨æ¡ˆä¾‹ä¸´åºŠè¯•éªŒåˆ†æ",
    "href": "1051-bayesian.html#å®ç”¨æ¡ˆä¾‹ä¸´åºŠè¯•éªŒåˆ†æ",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "å®ç”¨æ¡ˆä¾‹ï¼šä¸´åºŠè¯•éªŒåˆ†æ",
    "text": "å®ç”¨æ¡ˆä¾‹ï¼šä¸´åºŠè¯•éªŒåˆ†æ\n\n# æ¨¡æ‹Ÿä¸´åºŠè¯•éªŒæ•°æ®\nset.seed(123)\nn &lt;- 100\ntrial_data &lt;- data.frame(\n  treatment = rep(c(0, 1), each = n / 2),\n  age = rnorm(n, 50, 10),\n  response = c(\n    rbinom(n / 2, 1, 0.3), # å®‰æ…°å‰‚ç»„\n    rbinom(n / 2, 1, 0.5) # æ²»ç–—ç»„\n  )\n)\n\n# è´å¶æ–¯é€»è¾‘å›å½’\nbayes_trial &lt;- MCMClogit(\n  response ~ treatment + age,\n  data = trial_data,\n  burnin = 1000,\n  mcmc = 5000,\n  seed = 42\n)\n\n# æå–æ²»ç–—æ•ˆæœ\npost_trial &lt;- as.data.frame(bayes_trial)\n\n# P(æ²»ç–—æœ‰æ•ˆ) = P(OR &gt; 1) = P(beta_treatment &gt; 0)\nprob_effective &lt;- mean(post_trial$treatment &gt; 0)\ncat(\"æ²»ç–—æœ‰æ•ˆçš„åéªŒæ¦‚ç‡:\", round(prob_effective, 3), \"\\n\")\n\næ²»ç–—æœ‰æ•ˆçš„åéªŒæ¦‚ç‡: 0.965 \n\n# ORçš„åéªŒä¼°è®¡\nor_treatment &lt;- exp(post_trial$treatment)\ncat(\"ORä¸­ä½æ•°:\", round(median(or_treatment), 2), \"\\n\")\n\nORä¸­ä½æ•°: 2.21 \n\ncat(\"OR 95%å¯ä¿¡åŒºé—´:\", round(quantile(or_treatment, c(0.025, 0.975)), 2), \"\\n\")\n\nOR 95%å¯ä¿¡åŒºé—´: 0.94 4.99",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#å¸¸è§é—®é¢˜è§£ç­”",
    "href": "1051-bayesian.html#å¸¸è§é—®é¢˜è§£ç­”",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "å¸¸è§é—®é¢˜è§£ç­”",
    "text": "å¸¸è§é—®é¢˜è§£ç­”\n\nQ1: å¦‚ä½•é€‰æ‹©å…ˆéªŒï¼Ÿ\næ¨èçš„é€šç”¨ç­–ç•¥ï¼š 1. ä»å¼±ä¿¡æ¯å…ˆéªŒå¼€å§‹ 2. è¿›è¡Œå…ˆéªŒæ•æ„Ÿæ€§åˆ†æ 3. å¦‚æœ‰å†å²æ•°æ®ï¼Œå¯ä½¿ç”¨ä¿¡æ¯å…ˆéªŒ\n\n\nQ2: æ ·æœ¬é‡å¤šå°‘æ‰å¤Ÿï¼Ÿ\nè´å¶æ–¯æ–¹æ³•åœ¨å°æ ·æœ¬ä¸­ä¹Ÿèƒ½å·¥ä½œï¼Œä½†ä»å»ºè®®ï¼š - ç®€å•æ¨¡å‹ï¼šæ¯ä¸ªå‚æ•°è‡³å°‘20-30ä¸ªè§‚æµ‹ - å¤æ‚æ¨¡å‹ï¼šè¿›è¡Œæ¨¡æ‹Ÿç ”ç©¶ç¡®å®š - å§‹ç»ˆæ£€æŸ¥æœ‰æ•ˆæ ·æœ¬é‡\n\n\nQ3: å¦‚ä½•å¤„ç†ä¸æ”¶æ•›ï¼Ÿ\n\nå¢åŠ MCMCè¿­ä»£æ¬¡æ•°\nå¢åŠ é¢„çƒ­æœŸ\nä½¿ç”¨æ›´å¼ºçš„å…ˆéªŒ\næ£€æŸ¥æ¨¡å‹è®¾å®šæ˜¯å¦åˆç†",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#å­¦ä¹ èµ„æº",
    "href": "1051-bayesian.html#å­¦ä¹ èµ„æº",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "å­¦ä¹ èµ„æº",
    "text": "å­¦ä¹ èµ„æº\n\nä¹¦ç±\n\nStatistical Rethinking (Richard McElreath)\nBayesian Data Analysis (Gelman et al.)\nDoing Bayesian Data Analysis (Kruschke)\n\nRåŒ…æ¨è\n\nMCMCpack: è½»é‡çº§ï¼Œé€‚åˆå…¥é—¨\nrstanarm: ä¸lm/glmè¯­æ³•å…¼å®¹\nbrms: æœ€çµæ´»ï¼Œæ”¯æŒå¤æ‚æ¨¡å‹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1051-bayesian.html#æ€»ç»“",
    "href": "1051-bayesian.html#æ€»ç»“",
    "title": "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨ (Bayesian Statistics)",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nå…³é”®ç‚¹\nè¯´æ˜\n\n\n\n\næ ¸å¿ƒæ€æƒ³\nåéªŒ âˆ ä¼¼ç„¶ Ã— å…ˆéªŒ\n\n\nå¸¸ç”¨RåŒ…\nMCMCpackï¼ˆç®€å•ï¼‰, rstanarm/brmsï¼ˆé«˜çº§ï¼‰\n\n\nå…ˆéªŒé€‰æ‹©\nä»å¼±ä¿¡æ¯å…ˆéªŒå¼€å§‹\n\n\næ”¶æ•›æ£€æŸ¥\nè½¨è¿¹å›¾ + Gewekeè¯Šæ–­\n\n\nç»“æœæŠ¥å‘Š\nä½¿ç”¨å¯ä¿¡åŒºé—´(CrI)å’ŒåéªŒæ¦‚ç‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´å¶æ–¯ç»Ÿè®¡å…¥é—¨"
    ]
  },
  {
    "objectID": "1049-eda.html",
    "href": "1049-eda.html",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "",
    "text": "æ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆExploratory Data Analysis, EDAï¼‰æ˜¯ç†è§£æ•°æ®ç‰¹å¾ã€å‘ç°æ¨¡å¼å’Œå¼‚å¸¸çš„å…³é”®æ­¥éª¤ï¼Œä¸ºåç»­åˆ†æå¥ å®šåŸºç¡€ã€‚\n\n\n\n\n\nç›®æ ‡\nå…³æ³¨ç‚¹\n\n\n\n\näº†è§£æ•°æ®ç»“æ„\nå˜é‡ç±»å‹ã€ç»´åº¦ã€å®Œæ•´æ€§\n\n\næè¿°åˆ†å¸ƒç‰¹å¾\né›†ä¸­è¶‹åŠ¿ã€ç¦»æ•£ç¨‹åº¦ã€åæ€\n\n\nå‘ç°å˜é‡å…³ç³»\nç›¸å…³æ€§ã€åˆ†ç»„å·®å¼‚\n\n\nè¯†åˆ«å¼‚å¸¸å€¼\nç¦»ç¾¤ç‚¹ã€æ•°æ®é”™è¯¯",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#eda-ç®€ä»‹",
    "href": "1049-eda.html#eda-ç®€ä»‹",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "",
    "text": "æ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆExploratory Data Analysis, EDAï¼‰æ˜¯ç†è§£æ•°æ®ç‰¹å¾ã€å‘ç°æ¨¡å¼å’Œå¼‚å¸¸çš„å…³é”®æ­¥éª¤ï¼Œä¸ºåç»­åˆ†æå¥ å®šåŸºç¡€ã€‚\n\n\n\n\n\nç›®æ ‡\nå…³æ³¨ç‚¹\n\n\n\n\näº†è§£æ•°æ®ç»“æ„\nå˜é‡ç±»å‹ã€ç»´åº¦ã€å®Œæ•´æ€§\n\n\næè¿°åˆ†å¸ƒç‰¹å¾\né›†ä¸­è¶‹åŠ¿ã€ç¦»æ•£ç¨‹åº¦ã€åæ€\n\n\nå‘ç°å˜é‡å…³ç³»\nç›¸å…³æ€§ã€åˆ†ç»„å·®å¼‚\n\n\nè¯†åˆ«å¼‚å¸¸å€¼\nç¦»ç¾¤ç‚¹ã€æ•°æ®é”™è¯¯",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#å®‰è£…ä¸åŠ è½½",
    "href": "1049-eda.html#å®‰è£…ä¸åŠ è½½",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(skimr) # å¿«é€Ÿæ•°æ®æ‘˜è¦\nlibrary(DataExplorer) # è‡ªåŠ¨åŒ–EDAæŠ¥å‘Š\nlibrary(corrplot) # ç›¸å…³çŸ©é˜µå¯è§†åŒ–\n\ntheme_set(theme_bw(base_size = 12))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬ä¸€éƒ¨åˆ†æ•°æ®æ¦‚è§ˆ",
    "href": "1049-eda.html#ç¬¬ä¸€éƒ¨åˆ†æ•°æ®æ¦‚è§ˆ",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•°æ®æ¦‚è§ˆ",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ•°æ®æ¦‚è§ˆ\n\nåŸºç¡€æ£€æŸ¥\n\n# ä½¿ç”¨å†…ç½®æ•°æ®é›†\ndata(mtcars)\ndf &lt;- mtcars\n\n# ç»´åº¦\ndim(df)\n\n[1] 32 11\n\n# ç»“æ„\nstr(df)\n\n'data.frame':   32 obs. of  11 variables:\n $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...\n $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...\n $ disp: num  160 160 108 258 360 ...\n $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...\n $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...\n $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...\n $ qsec: num  16.5 17 18.6 19.4 17 ...\n $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...\n $ am  : num  1 1 1 0 0 0 0 0 0 0 ...\n $ gear: num  4 4 4 3 3 3 3 4 4 4 ...\n $ carb: num  4 4 1 1 2 1 4 2 2 4 ...\n\n# å‰å‡ è¡Œ\nhead(df)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n\n\n\n\nä½¿ç”¨ skimr\n\n# å¿«é€Ÿå…¨é¢æ‘˜è¦\nskim(df)\n\n\nData summary\n\n\nName\ndf\n\n\nNumber of rows\n32\n\n\nNumber of columns\n11\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n11\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nmpg\n0\n1\n20.09\n6.03\n10.40\n15.43\n19.20\n22.80\n33.90\nâ–ƒâ–‡â–…â–â–‚\n\n\ncyl\n0\n1\n6.19\n1.79\n4.00\n4.00\n6.00\n8.00\n8.00\nâ–†â–â–ƒâ–â–‡\n\n\ndisp\n0\n1\n230.72\n123.94\n71.10\n120.83\n196.30\n326.00\n472.00\nâ–‡â–ƒâ–ƒâ–ƒâ–‚\n\n\nhp\n0\n1\n146.69\n68.56\n52.00\n96.50\n123.00\n180.00\n335.00\nâ–‡â–‡â–†â–ƒâ–\n\n\ndrat\n0\n1\n3.60\n0.53\n2.76\n3.08\n3.70\n3.92\n4.93\nâ–‡â–ƒâ–‡â–…â–\n\n\nwt\n0\n1\n3.22\n0.98\n1.51\n2.58\n3.33\n3.61\n5.42\nâ–ƒâ–ƒâ–‡â–â–‚\n\n\nqsec\n0\n1\n17.85\n1.79\n14.50\n16.89\n17.71\n18.90\n22.90\nâ–ƒâ–‡â–‡â–‚â–\n\n\nvs\n0\n1\n0.44\n0.50\n0.00\n0.00\n0.00\n1.00\n1.00\nâ–‡â–â–â–â–†\n\n\nam\n0\n1\n0.41\n0.50\n0.00\n0.00\n0.00\n1.00\n1.00\nâ–‡â–â–â–â–†\n\n\ngear\n0\n1\n3.69\n0.74\n3.00\n3.00\n4.00\n4.00\n5.00\nâ–‡â–â–†â–â–‚\n\n\ncarb\n0\n1\n2.81\n1.62\n1.00\n2.00\n2.00\n4.00\n8.00\nâ–‡â–‚â–…â–â–\n\n\n\n\n\n\n\nä½¿ç”¨ DataExplorer\n\n# æ•°æ®æ¦‚è§ˆ\nintroduce(df)\n\n  rows columns discrete_columns continuous_columns all_missing_columns\n1   32      11                0                 11                   0\n  total_missing_values complete_rows total_observations memory_usage\n1                    0            32                352         5928\n\n\n\n# å¯è§†åŒ–æ•°æ®ç±»å‹\nplot_intro(df)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬äºŒéƒ¨åˆ†å•å˜é‡åˆ†æ",
    "href": "1049-eda.html#ç¬¬äºŒéƒ¨åˆ†å•å˜é‡åˆ†æ",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šå•å˜é‡åˆ†æ",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šå•å˜é‡åˆ†æ\n\næ•°å€¼å˜é‡åˆ†å¸ƒ\n\n# ç›´æ–¹å›¾\nggplot(df, aes(x = mpg)) +\n    geom_histogram(bins = 15, fill = \"#4f46e5\", color = \"white\") +\n    labs(title = \"MPG åˆ†å¸ƒ\", x = \"æ²¹è€— (MPG)\", y = \"é¢‘æ•°\")\n\n\n\n\n\n\n\n\n\n# å¯†åº¦å›¾\nggplot(df, aes(x = mpg)) +\n    geom_density(fill = \"#4f46e5\", alpha = 0.5) +\n    geom_rug()\n\n\n\n\n\n\n\n\n\n# æ‰¹é‡ç›´æ–¹å›¾\nplot_histogram(df)\n\n\n\n\n\n\n\n\n\n\nåˆ†ç±»å˜é‡åˆ†å¸ƒ\n\n# æŸ±çŠ¶å›¾\ndf$cyl &lt;- as.factor(df$cyl)\ndf$am &lt;- factor(df$am, labels = c(\"è‡ªåŠ¨\", \"æ‰‹åŠ¨\"))\n\nggplot(df, aes(x = cyl)) +\n    geom_bar(fill = \"#10b981\") +\n    labs(title = \"æ°”ç¼¸æ•°åˆ†å¸ƒ\", x = \"æ°”ç¼¸æ•°\", y = \"æ•°é‡\")\n\n\n\n\n\n\n\n\n\n\næè¿°æ€§ç»Ÿè®¡\n\n# æ±‡æ€»ç»Ÿè®¡\ndf %&gt;%\n    select(mpg, hp, wt, qsec) %&gt;%\n    summary()\n\n      mpg              hp              wt             qsec      \n Min.   :10.40   Min.   : 52.0   Min.   :1.513   Min.   :14.50  \n 1st Qu.:15.43   1st Qu.: 96.5   1st Qu.:2.581   1st Qu.:16.89  \n Median :19.20   Median :123.0   Median :3.325   Median :17.71  \n Mean   :20.09   Mean   :146.7   Mean   :3.217   Mean   :17.85  \n 3rd Qu.:22.80   3rd Qu.:180.0   3rd Qu.:3.610   3rd Qu.:18.90  \n Max.   :33.90   Max.   :335.0   Max.   :5.424   Max.   :22.90",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬ä¸‰éƒ¨åˆ†åŒå˜é‡åˆ†æ",
    "href": "1049-eda.html#ç¬¬ä¸‰éƒ¨åˆ†åŒå˜é‡åˆ†æ",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŒå˜é‡åˆ†æ",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šåŒå˜é‡åˆ†æ\n\næ•°å€¼ vs æ•°å€¼\n\n# æ•£ç‚¹å›¾\nggplot(df, aes(x = wt, y = mpg)) +\n    geom_point(color = \"#4f46e5\", size = 3, alpha = 0.7) +\n    geom_smooth(method = \"lm\", color = \"#ef4444\") +\n    labs(title = \"é‡é‡ä¸æ²¹è€—çš„å…³ç³»\")\n\n\n\n\n\n\n\n\n\n# æ•£ç‚¹å›¾çŸ©é˜µ\npairs(df[, c(\"mpg\", \"hp\", \"wt\", \"qsec\")],\n    pch = 19,\n    col = \"#4f46e5\"\n)\n\n\n\n\n\n\n\n\n\n\næ•°å€¼ vs åˆ†ç±»\n\n# åˆ†ç»„ç®±çº¿å›¾\nggplot(df, aes(x = cyl, y = mpg, fill = cyl)) +\n    geom_boxplot() +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"ä¸åŒæ°”ç¼¸æ•°çš„æ²¹è€—åˆ†å¸ƒ\")\n\n\n\n\n\n\n\n\n\n# å°æç´å›¾ + ç‚¹å›¾\nggplot(df, aes(x = cyl, y = mpg)) +\n    geom_violin(fill = \"#4f46e5\", alpha = 0.3) +\n    geom_jitter(width = 0.1, alpha = 0.7)\n\n\n\n\n\n\n\n\n\n\nåˆ†ç±» vs åˆ†ç±»\n\n# äº¤å‰è¡¨\ntable(df$cyl, df$am)\n\n   \n    è‡ªåŠ¨ æ‰‹åŠ¨\n  4    3    8\n  6    4    3\n  8   12    2\n\n\n\n# å †å æŸ±çŠ¶å›¾\nggplot(df, aes(x = cyl, fill = am)) +\n    geom_bar(position = \"dodge\") +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\")) +\n    labs(title = \"å˜é€Ÿç®±ç±»å‹æŒ‰æ°”ç¼¸æ•°åˆ†å¸ƒ\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬å››éƒ¨åˆ†ç›¸å…³åˆ†æ",
    "href": "1049-eda.html#ç¬¬å››éƒ¨åˆ†ç›¸å…³åˆ†æ",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šç›¸å…³åˆ†æ",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šç›¸å…³åˆ†æ\n\nç›¸å…³ç³»æ•°çŸ©é˜µ\n\n# æ•°å€¼å˜é‡ç›¸å…³\nnumeric_vars &lt;- df %&gt;% select(where(is.numeric))\ncor_matrix &lt;- cor(numeric_vars)\nround(cor_matrix, 2)\n\n       mpg  disp    hp  drat    wt  qsec    vs  gear  carb\nmpg   1.00 -0.85 -0.78  0.68 -0.87  0.42  0.66  0.48 -0.55\ndisp -0.85  1.00  0.79 -0.71  0.89 -0.43 -0.71 -0.56  0.39\nhp   -0.78  0.79  1.00 -0.45  0.66 -0.71 -0.72 -0.13  0.75\ndrat  0.68 -0.71 -0.45  1.00 -0.71  0.09  0.44  0.70 -0.09\nwt   -0.87  0.89  0.66 -0.71  1.00 -0.17 -0.55 -0.58  0.43\nqsec  0.42 -0.43 -0.71  0.09 -0.17  1.00  0.74 -0.21 -0.66\nvs    0.66 -0.71 -0.72  0.44 -0.55  0.74  1.00  0.21 -0.57\ngear  0.48 -0.56 -0.13  0.70 -0.58 -0.21  0.21  1.00  0.27\ncarb -0.55  0.39  0.75 -0.09  0.43 -0.66 -0.57  0.27  1.00\n\n\n\n\nç›¸å…³çŸ©é˜µå¯è§†åŒ–\n\ncorrplot(cor_matrix,\n    method = \"color\",\n    type = \"upper\",\n    addCoef.col = \"black\",\n    tl.col = \"black\",\n    tl.srt = 45,\n    diag = FALSE\n)\n\n\n\n\n\n\n\n\n\n# DataExplorer æ–¹å¼\nplot_correlation(numeric_vars)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬äº”éƒ¨åˆ†å¼‚å¸¸å€¼æ£€æµ‹",
    "href": "1049-eda.html#ç¬¬äº”éƒ¨åˆ†å¼‚å¸¸å€¼æ£€æµ‹",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šå¼‚å¸¸å€¼æ£€æµ‹",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šå¼‚å¸¸å€¼æ£€æµ‹\n\nç®±çº¿å›¾æ³•\n\n# è¯†åˆ«å¼‚å¸¸å€¼\nggplot(df, aes(y = hp)) +\n    geom_boxplot(fill = \"#4f46e5\", alpha = 0.7) +\n    labs(title = \"é©¬åŠ›åˆ†å¸ƒä¸å¼‚å¸¸å€¼\")\n\n\n\n\n\n\n\n\n\n# ç»Ÿè®¡å¼‚å¸¸å€¼\nidentify_outliers &lt;- function(x) {\n    Q1 &lt;- quantile(x, 0.25)\n    Q3 &lt;- quantile(x, 0.75)\n    IQR &lt;- Q3 - Q1\n    lower &lt;- Q1 - 1.5 * IQR\n    upper &lt;- Q3 + 1.5 * IQR\n    which(x &lt; lower | x &gt; upper)\n}\n\noutlier_idx &lt;- identify_outliers(df$hp)\ncat(\"å¼‚å¸¸å€¼ç´¢å¼•:\", outlier_idx, \"\\n\")\n\nå¼‚å¸¸å€¼ç´¢å¼•: 31 \n\ncat(\"å¼‚å¸¸å€¼:\", df$hp[outlier_idx])\n\nå¼‚å¸¸å€¼: 335\n\n\n\n\nZ-score æ³•\n\ndf$hp_zscore &lt;- scale(df$hp)\nsum(abs(df$hp_zscore) &gt; 3) # |z| &gt; 3 çš„å¼‚å¸¸å€¼\n\n[1] 0",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬å…­éƒ¨åˆ†è‡ªåŠ¨åŒ–-eda-æŠ¥å‘Š",
    "href": "1049-eda.html#ç¬¬å…­éƒ¨åˆ†è‡ªåŠ¨åŒ–-eda-æŠ¥å‘Š",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šè‡ªåŠ¨åŒ– EDA æŠ¥å‘Š",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šè‡ªåŠ¨åŒ– EDA æŠ¥å‘Š\n\nDataExplorer æŠ¥å‘Š\n\n# ç”Ÿæˆå®Œæ•´HTMLæŠ¥å‘Š\ncreate_report(df, output_file = \"eda_report.html\")\n\n\n\nè‡ªå®šä¹‰æŠ¥å‘Š\n\n# åˆ†æ­¥ç”Ÿæˆ\nplot_intro(df) # æ•°æ®æ¦‚è§ˆ\nplot_missing(df) # ç¼ºå¤±å€¼\nplot_histogram(df) # ç›´æ–¹å›¾\nplot_correlation(df) # ç›¸å…³çŸ©é˜µ\nplot_bar(df) # æŸ±çŠ¶å›¾ï¼ˆåˆ†ç±»å˜é‡ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#ç¬¬ä¸ƒéƒ¨åˆ†å®Œæ•´-eda-æµç¨‹",
    "href": "1049-eda.html#ç¬¬ä¸ƒéƒ¨åˆ†å®Œæ•´-eda-æµç¨‹",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®Œæ•´ EDA æµç¨‹",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®Œæ•´ EDA æµç¨‹\n\n# 1. åŠ è½½æ•°æ®\ndata(iris)\niris_df &lt;- iris\n\n# 2. æ•°æ®æ¦‚è§ˆ\ncat(\"ç»´åº¦:\", dim(iris_df), \"\\n\")\n\nç»´åº¦: 150 5 \n\ncat(\"å˜é‡:\\n\")\n\nå˜é‡:\n\nnames(iris_df)\n\n[1] \"Sepal.Length\" \"Sepal.Width\"  \"Petal.Length\" \"Petal.Width\"  \"Species\"     \n\n\n\n# 3. ç¼ºå¤±å€¼æ£€æŸ¥\ncolSums(is.na(iris_df))\n\nSepal.Length  Sepal.Width Petal.Length  Petal.Width      Species \n           0            0            0            0            0 \n\n\n\n# 4. æè¿°ç»Ÿè®¡\nskim(iris_df)\n\n\nData summary\n\n\nName\niris_df\n\n\nNumber of rows\n150\n\n\nNumber of columns\n5\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nfactor\n1\n\n\nnumeric\n4\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: factor\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nordered\nn_unique\ntop_counts\n\n\n\n\nSpecies\n0\n1\nFALSE\n3\nset: 50, ver: 50, vir: 50\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nSepal.Length\n0\n1\n5.84\n0.83\n4.3\n5.1\n5.80\n6.4\n7.9\nâ–†â–‡â–‡â–…â–‚\n\n\nSepal.Width\n0\n1\n3.06\n0.44\n2.0\n2.8\n3.00\n3.3\n4.4\nâ–â–†â–‡â–‚â–\n\n\nPetal.Length\n0\n1\n3.76\n1.77\n1.0\n1.6\n4.35\n5.1\n6.9\nâ–‡â–â–†â–‡â–‚\n\n\nPetal.Width\n0\n1\n1.20\n0.76\n0.1\n0.3\n1.30\n1.8\n2.5\nâ–‡â–â–‡â–…â–ƒ\n\n\n\n\n\n\n# 5. åˆ†å¸ƒå¯è§†åŒ–\nggplot(iris_df, aes(x = Sepal.Length, fill = Species)) +\n    geom_density(alpha = 0.5) +\n    labs(title = \"è¼ç‰‡é•¿åº¦æŒ‰ç‰©ç§åˆ†å¸ƒ\")\n\n\n\n\n\n\n\n\n\n# 6. å…³ç³»æ¢ç´¢\nggplot(iris_df, aes(x = Sepal.Length, y = Petal.Length, color = Species)) +\n    geom_point(size = 2) +\n    labs(title = \"è¼ç‰‡ä¸èŠ±ç“£é•¿åº¦çš„å…³ç³»\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1049-eda.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# åŸºç¡€æ£€æŸ¥\ndim(df)\nstr(df)\nhead(df)\nsummary(df)\n\n# skimr\nskim(df)\n\n# DataExplorer\nintroduce(df)\nplot_intro(df)\nplot_missing(df)\nplot_histogram(df)\nplot_bar(df)\nplot_correlation(df)\ncreate_report(df)\n\n# ç›¸å…³çŸ©é˜µ\ncor(df_numeric)\ncorrplot(cor_matrix, method = \"color\")\n\n# å¼‚å¸¸å€¼\nboxplot.stats(x)$out",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#å°ç»“",
    "href": "1049-eda.html#å°ç»“",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "å°ç»“",
    "text": "å°ç»“\nEDA æœ€ä½³å®è·µï¼š\n\nå…ˆæ¦‚è§ˆåç»†èŠ‚ï¼šä»æ•´ä½“åˆ°å±€éƒ¨\næ•°å€¼åˆ†ç±»åˆ†å¼€ï¼šä¸åŒç±»å‹ä¸åŒæ–¹æ³•\nå¯è§†åŒ–ä¼˜å…ˆï¼šå›¾æ¯”æ•°å­—æ›´ç›´è§‚\nè®°å½•å‘ç°ï¼šä¸ºåç»­åˆ†æåšå‡†å¤‡\n\n\næç¤ºï¼šEDA æ˜¯è¿­ä»£è¿‡ç¨‹ï¼Œå‘ç°é—®é¢˜åå›å¤´æ¸…æ´—æ•°æ®ï¼Œå†ç»§ç»­æ¢ç´¢ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1049-eda.html#å‚è€ƒèµ„æº",
    "href": "1049-eda.html#å‚è€ƒèµ„æº",
    "title": "æ¢ç´¢æ€§æ•°æ®åˆ†æ (EDA)",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nskimr åŒ…æ–‡æ¡£\nDataExplorer åŒ…æ–‡æ¡£\nR for Data Science - EDAç« èŠ‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ¢ç´¢æ€§æ•°æ®åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html",
    "href": "1047-roc-analysis.html",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "",
    "text": "ROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿æ˜¯è¯„ä¼°äºŒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„é‡è¦å·¥å…·ï¼Œå±•ç¤ºäº†ä¸åŒé˜ˆå€¼ä¸‹çµæ•åº¦ä¸ç‰¹å¼‚åº¦çš„æƒè¡¡å…³ç³»ã€‚\n\n\n\n\n\næŒ‡æ ‡\nå…¬å¼\nå«ä¹‰\n\n\n\n\nçµæ•åº¦ (Sensitivity)\nTP/(TP+FN)\nçœŸé˜³æ€§ç‡ï¼Œæ£€å‡ºç‡\n\n\nç‰¹å¼‚åº¦ (Specificity)\nTN/(TN+FP)\nçœŸé˜´æ€§ç‡\n\n\nAUC\næ›²çº¿ä¸‹é¢ç§¯\næ¨¡å‹åŒºåˆ†èƒ½åŠ›ï¼Œ0.5-1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#roc-åˆ†æç®€ä»‹",
    "href": "1047-roc-analysis.html#roc-åˆ†æç®€ä»‹",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "",
    "text": "ROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿æ˜¯è¯„ä¼°äºŒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„é‡è¦å·¥å…·ï¼Œå±•ç¤ºäº†ä¸åŒé˜ˆå€¼ä¸‹çµæ•åº¦ä¸ç‰¹å¼‚åº¦çš„æƒè¡¡å…³ç³»ã€‚\n\n\n\n\n\næŒ‡æ ‡\nå…¬å¼\nå«ä¹‰\n\n\n\n\nçµæ•åº¦ (Sensitivity)\nTP/(TP+FN)\nçœŸé˜³æ€§ç‡ï¼Œæ£€å‡ºç‡\n\n\nç‰¹å¼‚åº¦ (Specificity)\nTN/(TN+FP)\nçœŸé˜´æ€§ç‡\n\n\nAUC\næ›²çº¿ä¸‹é¢ç§¯\næ¨¡å‹åŒºåˆ†èƒ½åŠ›ï¼Œ0.5-1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#å®‰è£…ä¸åŠ è½½",
    "href": "1047-roc-analysis.html#å®‰è£…ä¸åŠ è½½",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(pROC)\nlibrary(ggplot2)\nlibrary(dplyr)\n\ntheme_set(theme_bw(base_size = 12))\nset.seed(42)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬ä¸€éƒ¨åˆ†roc-æ›²çº¿ç»‘åˆ¶",
    "href": "1047-roc-analysis.html#ç¬¬ä¸€éƒ¨åˆ†roc-æ›²çº¿ç»‘åˆ¶",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šROC æ›²çº¿ç»‘åˆ¶",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šROC æ›²çº¿ç»‘åˆ¶\n\nåˆ›å»ºç¤ºä¾‹æ•°æ®\n\n# æ¨¡æ‹ŸäºŒåˆ†ç±»æ•°æ®\nn &lt;- 200\ndf &lt;- data.frame(\n    outcome = rbinom(n, 1, 0.4),\n    predictor1 = rnorm(n),\n    predictor2 = rnorm(n)\n)\ndf$predictor1 &lt;- df$predictor1 + df$outcome * 1.2\ndf$predictor2 &lt;- df$predictor2 + df$outcome * 0.8\n\n# æ‹Ÿåˆ logistic å›å½’\nmodel &lt;- glm(outcome ~ predictor1 + predictor2, data = df, family = binomial)\ndf$prob &lt;- predict(model, type = \"response\")\n\n\n\nè®¡ç®— ROC æ›²çº¿\n\n# ä½¿ç”¨ pROC åŒ…\nroc_obj &lt;- roc(df$outcome, df$prob)\nroc_obj\n\n\nCall:\nroc.default(response = df$outcome, predictor = df$prob)\n\nData: df$prob in 108 controls (df$outcome 0) &lt; 92 cases (df$outcome 1).\nArea under the curve: 0.8393\n\n\n\n\nç»‘åˆ¶ ROC æ›²çº¿\n\n# åŸºç¡€ç»‘å›¾\nplot(roc_obj,\n    col = \"#4f46e5\",\n    lwd = 2,\n    main = \"ROC æ›²çº¿\"\n)\n\n\n\n\n\n\n\n\n\n# ggplot2 é£æ ¼\nggroc(roc_obj, color = \"#4f46e5\", size = 1.2) +\n    geom_abline(slope = 1, intercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    labs(title = \"ROC æ›²çº¿\", x = \"ç‰¹å¼‚åº¦\", y = \"çµæ•åº¦\") +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬äºŒéƒ¨åˆ†auc-è®¡ç®—ä¸ç½®ä¿¡åŒºé—´",
    "href": "1047-roc-analysis.html#ç¬¬äºŒéƒ¨åˆ†auc-è®¡ç®—ä¸ç½®ä¿¡åŒºé—´",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šAUC è®¡ç®—ä¸ç½®ä¿¡åŒºé—´",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šAUC è®¡ç®—ä¸ç½®ä¿¡åŒºé—´\n\nAUC å€¼\n\n# AUC\nauc(roc_obj)\n\nArea under the curve: 0.8393\n\n\n\n\nç½®ä¿¡åŒºé—´ï¼ˆBootstrapï¼‰\n\n# 95% CI\nci.auc(roc_obj, conf.level = 0.95, method = \"bootstrap\", boot.n = 1000)\n\n95% CI: 0.786-0.8891 (1000 stratified bootstrap replicates)\n\n\n\n\nAUC è§£é‡Š\n\n\n\nAUC èŒƒå›´\næ¨¡å‹è¡¨ç°\n\n\n\n\n0.9-1.0\nä¼˜ç§€\n\n\n0.8-0.9\nè‰¯å¥½\n\n\n0.7-0.8\nä¸€èˆ¬\n\n\n0.6-0.7\nè¾ƒå·®\n\n\n0.5-0.6\næ— æ„ä¹‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬ä¸‰éƒ¨åˆ†æœ€ä½³æˆªæ–­å€¼",
    "href": "1047-roc-analysis.html#ç¬¬ä¸‰éƒ¨åˆ†æœ€ä½³æˆªæ–­å€¼",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœ€ä½³æˆªæ–­å€¼",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœ€ä½³æˆªæ–­å€¼\n\nçº¦ç™»æŒ‡æ•°æ³•\n\n# çº¦ç™»æŒ‡æ•° = çµæ•åº¦ + ç‰¹å¼‚åº¦ - 1\ncoords_youden &lt;- coords(roc_obj, \"best\", ret = \"all\", best.method = \"youden\")\ncoords_youden\n\n          threshold specificity sensitivity accuracy tn tp fn fp       npv\nthreshold    0.4445   0.7685185   0.7717391     0.77 83 71 21 25 0.7980769\n                ppv       fdr       fpr       tpr       tnr       fnr\nthreshold 0.7395833 0.2604167 0.2314815 0.7717391 0.7685185 0.2282609\n          1-specificity 1-sensitivity 1-accuracy     1-npv     1-ppv precision\nthreshold     0.2314815     0.2282609       0.23 0.2019231 0.2604167 0.7395833\n             recall   lr_pos    lr_neg   youden closest.topleft\nthreshold 0.7717391 3.333913 0.2970141 1.540258       0.1056867\n\n\n\n\nå…¶ä»–æ–¹æ³•\n\n# æœ€æ¥è¿‘å·¦ä¸Šè§’\ncoords_closest &lt;- coords(roc_obj, \"best\", ret = \"all\", best.method = \"closest.topleft\")\n\n# æŒ‡å®šçµæ•åº¦\ncoords_sens &lt;- coords(roc_obj, x = 0.9, input = \"sensitivity\", ret = \"all\")\ncoords_sens\n\n          threshold specificity sensitivity accuracy tn   tp  fn fp       npv\nthreshold        NA    0.537037         0.9    0.704 58 82.8 9.2 50 0.8630952\n               ppv      fdr      fpr tpr      tnr fnr 1-specificity\nthreshold 0.623494 0.376506 0.462963 0.9 0.537037 0.1      0.462963\n          1-sensitivity 1-accuracy     1-npv    1-ppv precision recall lr_pos\nthreshold           0.1      0.296 0.1369048 0.376506  0.623494    0.9  1.944\n             lr_neg   youden closest.topleft\nthreshold 0.1862069 1.437037       0.2243347\n\n\n\n\nå¯è§†åŒ–æœ€ä½³ç‚¹\n\nbest_threshold &lt;- coords_youden$threshold\n\nggroc(roc_obj, color = \"#4f46e5\", size = 1.2) +\n    geom_point(\n        aes(x = coords_youden$specificity, y = coords_youden$sensitivity),\n        color = \"red\", size = 4\n    ) +\n    annotate(\"text\",\n        x = coords_youden$specificity - 0.1,\n        y = coords_youden$sensitivity + 0.05,\n        label = paste0(\"æœ€ä½³é˜ˆå€¼ = \", round(best_threshold, 3)),\n        color = \"red\"\n    ) +\n    labs(title = \"ROC æ›²çº¿ä¸æœ€ä½³æˆªæ–­ç‚¹\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬å››éƒ¨åˆ†æ¯”è¾ƒå¤šæ¡-roc-æ›²çº¿",
    "href": "1047-roc-analysis.html#ç¬¬å››éƒ¨åˆ†æ¯”è¾ƒå¤šæ¡-roc-æ›²çº¿",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šæ¯”è¾ƒå¤šæ¡ ROC æ›²çº¿",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šæ¯”è¾ƒå¤šæ¡ ROC æ›²çº¿\n\nDeLong æ£€éªŒ\n\n# ä¸¤ä¸ªé¢„æµ‹æ¨¡å‹\nroc1 &lt;- roc(df$outcome, df$predictor1)\nroc2 &lt;- roc(df$outcome, df$prob)\n\n# DeLong æ£€éªŒæ¯”è¾ƒ AUC\ntest_result &lt;- roc.test(roc1, roc2, method = \"delong\")\ntest_result\n\n\n    DeLong's test for two correlated ROC curves\n\ndata:  roc1 and roc2\nZ = -1.7223, p-value = 0.08502\nalternative hypothesis: true difference in AUC is not equal to 0\n95 percent confidence interval:\n -0.055085139  0.003555348\nsample estimates:\nAUC of roc1 AUC of roc2 \n  0.8135064   0.8392713 \n\n\n\n\nç»‘åˆ¶å¤šæ¡æ›²çº¿\n\n# ç»„åˆç»‘å›¾\nroc_list &lt;- list(\n    \"å•å˜é‡\" = roc1,\n    \"å¤šå˜é‡æ¨¡å‹\" = roc2\n)\n\nggroc(roc_list, size = 1) +\n    scale_color_manual(values = c(\"#4f46e5\", \"#10b981\")) +\n    geom_abline(slope = 1, intercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    labs(\n        title = \"ROC æ›²çº¿æ¯”è¾ƒ\",\n        color = \"æ¨¡å‹\",\n        x = \"ç‰¹å¼‚åº¦\",\n        y = \"çµæ•åº¦\"\n    ) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬äº”éƒ¨åˆ†æ ¡å‡†æ›²çº¿",
    "href": "1047-roc-analysis.html#ç¬¬äº”éƒ¨åˆ†æ ¡å‡†æ›²çº¿",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šæ ¡å‡†æ›²çº¿",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šæ ¡å‡†æ›²çº¿\næ ¡å‡†æ›²çº¿è¯„ä¼°é¢„æµ‹æ¦‚ç‡ä¸å®é™…æ¦‚ç‡çš„ä¸€è‡´æ€§ã€‚\n\n# åˆ›å»ºæ ¡å‡†æ•°æ®\ndf$prob_group &lt;- cut(df$prob, breaks = seq(0, 1, 0.1), include.lowest = TRUE)\n\ncalibration_data &lt;- df %&gt;%\n    group_by(prob_group) %&gt;%\n    summarise(\n        mean_pred = mean(prob),\n        mean_obs = mean(outcome),\n        n = n()\n    ) %&gt;%\n    filter(n &gt;= 5)\n\n# ç»‘åˆ¶æ ¡å‡†æ›²çº¿\nggplot(calibration_data, aes(x = mean_pred, y = mean_obs)) +\n    geom_point(aes(size = n), color = \"#4f46e5\") +\n    geom_abline(slope = 1, intercept = 0, linetype = \"dashed\") +\n    geom_smooth(method = \"loess\", se = FALSE, color = \"#ef4444\") +\n    labs(\n        title = \"æ ¡å‡†æ›²çº¿\",\n        x = \"é¢„æµ‹æ¦‚ç‡\",\n        y = \"è§‚å¯Ÿæ¦‚ç‡\"\n    ) +\n    coord_equal(xlim = c(0, 1), ylim = c(0, 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#ç¬¬å…­éƒ¨åˆ†å®Œæ•´æ¡ˆä¾‹",
    "href": "1047-roc-analysis.html#ç¬¬å…­éƒ¨åˆ†å®Œæ•´æ¡ˆä¾‹",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šå®Œæ•´æ¡ˆä¾‹",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šå®Œæ•´æ¡ˆä¾‹\n\n# 1. æ•°æ®å‡†å¤‡\ndata(PimaIndiansDiabetes2, package = \"mlbench\")\npima &lt;- na.omit(PimaIndiansDiabetes2)\npima$diabetes &lt;- ifelse(pima$diabetes == \"pos\", 1, 0)\n\n# 2. æ‹Ÿåˆæ¨¡å‹\nfit &lt;- glm(diabetes ~ glucose + mass + age, data = pima, family = binomial)\npima$pred_prob &lt;- predict(fit, type = \"response\")\n\n# 3. ROC åˆ†æ\nroc_pima &lt;- roc(pima$diabetes, pima$pred_prob)\n\n# 4. è¾“å‡ºç»“æœ\ncat(\"AUC:\", round(auc(roc_pima), 3), \"\\n\")\n\nAUC: 0.849 \n\ncat(\"95% CI:\", paste(round(ci.auc(roc_pima), 3), collapse = \" - \"), \"\\n\")\n\n95% CI: 0.809 - 0.849 - 0.888 \n\n# 5. æœ€ä½³é˜ˆå€¼\nbest &lt;- coords(roc_pima, \"best\", ret = c(\"threshold\", \"sensitivity\", \"specificity\"))\ncat(\"\\næœ€ä½³é˜ˆå€¼:\", round(best$threshold, 3), \"\\n\")\n\n\næœ€ä½³é˜ˆå€¼: 0.269 \n\ncat(\"çµæ•åº¦:\", round(best$sensitivity, 3), \"\\n\")\n\nçµæ•åº¦: 0.815 \n\ncat(\"ç‰¹å¼‚åº¦:\", round(best$specificity, 3), \"\\n\")\n\nç‰¹å¼‚åº¦: 0.74",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1047-roc-analysis.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# åŸºç¡€ ROC\nroc_obj &lt;- roc(outcome, predictor)\nplot(roc_obj)\nggroc(roc_obj)\n\n# AUC\nauc(roc_obj)\nci.auc(roc_obj)\n\n# æœ€ä½³é˜ˆå€¼\ncoords(roc_obj, \"best\", best.method = \"youden\")\ncoords(roc_obj, x = 0.9, input = \"sensitivity\")\n\n# æ¯”è¾ƒ ROC\nroc.test(roc1, roc2)\n\n# æŒ‡å®šé˜ˆå€¼çš„æ€§èƒ½\ncoords(roc_obj, x = 0.5, input = \"threshold\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#å°ç»“",
    "href": "1047-roc-analysis.html#å°ç»“",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "å°ç»“",
    "text": "å°ç»“\nROC åˆ†ææ ¸å¿ƒè¦ç‚¹ï¼š\n\nAUC è¡¡é‡æ•´ä½“åŒºåˆ†èƒ½åŠ›\næœ€ä½³é˜ˆå€¼ å¹³è¡¡çµæ•åº¦ä¸ç‰¹å¼‚åº¦\nDeLongæ£€éªŒ æ¯”è¾ƒæ¨¡å‹ä¼˜åŠ£\næ ¡å‡†æ›²çº¿ è¯„ä¼°é¢„æµ‹å¯é æ€§\n\n\næ³¨æ„ï¼šé«˜ AUC ä¸ç­‰äºå¥½çš„æ ¡å‡†ï¼Œä¸¤è€…åº”åŒæ—¶è¯„ä¼°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1047-roc-analysis.html#å‚è€ƒèµ„æº",
    "href": "1047-roc-analysis.html#å‚è€ƒèµ„æº",
    "title": "ROC åˆ†æä¸æ¨¡å‹è¯„ä¼°",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\npROC åŒ…æ–‡æ¡£\nROCæ›²çº¿è§£è¯»æŒ‡å—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ROC åˆ†æ"
    ]
  },
  {
    "objectID": "1045-rstatix.html",
    "href": "1045-rstatix.html",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "",
    "text": "rstatix æ˜¯ä¸€ä¸ªä¸ tidyverse æ— ç¼é›†æˆçš„ç»Ÿè®¡åˆ†æåŒ…ï¼Œæä¾›ç®¡é“å‹å¥½ï¼ˆpipe-friendlyï¼‰çš„ç»Ÿè®¡æ£€éªŒå‡½æ•°ã€‚å®ƒçš„æœ€å¤§ç‰¹ç‚¹æ˜¯å°†ç»Ÿè®¡æ£€éªŒç»“æœè‡ªåŠ¨è½¬æ¢ä¸ºæ•´æ´çš„æ•°æ®æ¡†æ ¼å¼ï¼Œä¾¿äºåç»­åˆ†æå’Œå¯è§†åŒ–ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nç®¡é“å‹å¥½\nå®Œç¾å…¼å®¹ %&gt;% æ“ä½œç¬¦\n\n\næ•´æ´è¾“å‡º\nç»“æœè‡ªåŠ¨è½¬ä¸º tidy data frame\n\n\næ•ˆåº”é‡\nå†…ç½®æ•ˆåº”é‡è®¡ç®—å‡½æ•°\n\n\nå‡è®¾æ£€éªŒ\næ­£æ€æ€§ã€æ–¹å·®é½æ€§ç­‰æ£€éªŒä¸€ç«™å¼å®Œæˆ\n\n\nå¯è§†åŒ–å‹å¥½\nç»“æœå¯ç›´æ¥ç”¨äº ggplot2 æ ‡æ³¨\n\n\n\n\n\n\n\n\n\n\n\nç±»åˆ«\nå‡½æ•°\n\n\n\n\næè¿°ç»Ÿè®¡\nget_summary_stats()\n\n\ntæ£€éªŒ\nt_test(), pairwise_t_test()\n\n\næ–¹å·®åˆ†æ\nanova_test(), welch_anova_test()\n\n\néå‚æ•°æ£€éªŒ\nwilcox_test(), kruskal_test()\n\n\nç›¸å…³åˆ†æ\ncor_test(), cor_mat()\n\n\næ•ˆåº”é‡\ncohens_d(), eta_squared()\n\n\nå‡è®¾æ£€éªŒ\nshapiro_test(), levene_test()",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#rstatix-ç®€ä»‹",
    "href": "1045-rstatix.html#rstatix-ç®€ä»‹",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "",
    "text": "rstatix æ˜¯ä¸€ä¸ªä¸ tidyverse æ— ç¼é›†æˆçš„ç»Ÿè®¡åˆ†æåŒ…ï¼Œæä¾›ç®¡é“å‹å¥½ï¼ˆpipe-friendlyï¼‰çš„ç»Ÿè®¡æ£€éªŒå‡½æ•°ã€‚å®ƒçš„æœ€å¤§ç‰¹ç‚¹æ˜¯å°†ç»Ÿè®¡æ£€éªŒç»“æœè‡ªåŠ¨è½¬æ¢ä¸ºæ•´æ´çš„æ•°æ®æ¡†æ ¼å¼ï¼Œä¾¿äºåç»­åˆ†æå’Œå¯è§†åŒ–ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nç®¡é“å‹å¥½\nå®Œç¾å…¼å®¹ %&gt;% æ“ä½œç¬¦\n\n\næ•´æ´è¾“å‡º\nç»“æœè‡ªåŠ¨è½¬ä¸º tidy data frame\n\n\næ•ˆåº”é‡\nå†…ç½®æ•ˆåº”é‡è®¡ç®—å‡½æ•°\n\n\nå‡è®¾æ£€éªŒ\næ­£æ€æ€§ã€æ–¹å·®é½æ€§ç­‰æ£€éªŒä¸€ç«™å¼å®Œæˆ\n\n\nå¯è§†åŒ–å‹å¥½\nç»“æœå¯ç›´æ¥ç”¨äº ggplot2 æ ‡æ³¨\n\n\n\n\n\n\n\n\n\n\n\nç±»åˆ«\nå‡½æ•°\n\n\n\n\næè¿°ç»Ÿè®¡\nget_summary_stats()\n\n\ntæ£€éªŒ\nt_test(), pairwise_t_test()\n\n\næ–¹å·®åˆ†æ\nanova_test(), welch_anova_test()\n\n\néå‚æ•°æ£€éªŒ\nwilcox_test(), kruskal_test()\n\n\nç›¸å…³åˆ†æ\ncor_test(), cor_mat()\n\n\næ•ˆåº”é‡\ncohens_d(), eta_squared()\n\n\nå‡è®¾æ£€éªŒ\nshapiro_test(), levene_test()",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#å®‰è£…ä¸åŠ è½½",
    "href": "1045-rstatix.html#å®‰è£…ä¸åŠ è½½",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…\ninstall.packages(\"rstatix\")\n\n\nlibrary(rstatix)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(ggpubr) # é…åˆå¯è§†åŒ–\n\n# è®¾ç½®ä¸»é¢˜\ntheme_set(theme_bw(base_size = 12))",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬ä¸€éƒ¨åˆ†æè¿°ç»Ÿè®¡",
    "href": "1045-rstatix.html#ç¬¬ä¸€éƒ¨åˆ†æè¿°ç»Ÿè®¡",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæè¿°ç»Ÿè®¡",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæè¿°ç»Ÿè®¡\n\nget_summary_stats() - æ±‡æ€»ç»Ÿè®¡\n\n# ä½¿ç”¨ ToothGrowth æ•°æ®é›†\ndata(\"ToothGrowth\")\ndf &lt;- ToothGrowth\ndf$dose &lt;- as.factor(df$dose)\n\n# æ•´ä½“æ±‡æ€»\ndf %&gt;%\n    get_summary_stats(len, type = \"mean_sd\")\n\n# A tibble: 1 Ã— 4\n  variable     n  mean    sd\n  &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 len         60  18.8  7.65\n\n\n\n# æŒ‰ç»„æ±‡æ€»\ndf %&gt;%\n    group_by(supp, dose) %&gt;%\n    get_summary_stats(len, type = \"mean_sd\")\n\n# A tibble: 6 Ã— 6\n  supp  dose  variable     n  mean    sd\n  &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 OJ    0.5   len         10 13.2   4.46\n2 OJ    1     len         10 22.7   3.91\n3 OJ    2     len         10 26.1   2.66\n4 VC    0.5   len         10  7.98  2.75\n5 VC    1     len         10 16.8   2.52\n6 VC    2     len         10 26.1   4.80\n\n\n\n\næ±‡æ€»ç±»å‹é€‰é¡¹\n\n\n\ntype\nè¾“å‡ºå†…å®¹\n\n\n\n\n\"full\"\nå®Œæ•´ç»Ÿè®¡ï¼ˆn, min, max, mean, sd, se, ciâ€¦ï¼‰\n\n\n\"mean_sd\"\nå‡å€¼å’Œæ ‡å‡†å·®\n\n\n\"mean_se\"\nå‡å€¼å’Œæ ‡å‡†è¯¯\n\n\n\"mean_ci\"\nå‡å€¼å’Œ95%ç½®ä¿¡åŒºé—´\n\n\n\"median_iqr\"\nä¸­ä½æ•°å’Œå››åˆ†ä½è·\n\n\n\"five_number\"\näº”æ•°æ¦‚æ‹¬\n\n\n\n\n# å®Œæ•´ç»Ÿè®¡\ndf %&gt;%\n    group_by(dose) %&gt;%\n    get_summary_stats(len, type = \"full\")\n\n# A tibble: 3 Ã— 14\n  dose  variable     n   min   max median    q1    q3   iqr   mad  mean    sd\n  &lt;fct&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 0.5   len         20   4.2  21.5   9.85  7.22  12.2  5.03  4.00  10.6  4.5 \n2 1     len         20  13.6  27.3  19.2  16.2   23.4  7.12  5.78  19.7  4.42\n3 2     len         20  18.5  33.9  26.0  23.5   27.8  4.3   3.71  26.1  3.77\n# â„¹ 2 more variables: se &lt;dbl&gt;, ci &lt;dbl&gt;",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬äºŒéƒ¨åˆ†æ­£æ€æ€§å’Œæ–¹å·®é½æ£€éªŒ",
    "href": "1045-rstatix.html#ç¬¬äºŒéƒ¨åˆ†æ­£æ€æ€§å’Œæ–¹å·®é½æ£€éªŒ",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ­£æ€æ€§å’Œæ–¹å·®é½æ£€éªŒ",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ­£æ€æ€§å’Œæ–¹å·®é½æ£€éªŒ\n\nshapiro_test() - æ­£æ€æ€§æ£€éªŒ\n\n# æ•´ä½“æ­£æ€æ€§æ£€éªŒ\ndf %&gt;%\n    shapiro_test(len)\n\n# A tibble: 1 Ã— 3\n  variable statistic     p\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;\n1 len          0.967 0.109\n\n\n\n# åˆ†ç»„æ­£æ€æ€§æ£€éªŒ\ndf %&gt;%\n    group_by(dose) %&gt;%\n    shapiro_test(len)\n\n# A tibble: 3 Ã— 4\n  dose  variable statistic     p\n  &lt;fct&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;\n1 0.5   len          0.941 0.247\n2 1     len          0.931 0.164\n3 2     len          0.978 0.902\n\n\n\n\nlevene_test() - æ–¹å·®é½æ€§æ£€éªŒ\n\n# Levene æ£€éªŒ\ndf %&gt;%\n    levene_test(len ~ dose)\n\n# A tibble: 1 Ã— 4\n    df1   df2 statistic     p\n  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;\n1     2    57     0.646 0.528\n\n\n\n\nidentify_outliers() - å¼‚å¸¸å€¼æ£€æµ‹\n\n# åŸºäº IQR çš„å¼‚å¸¸å€¼æ£€æµ‹\ndf %&gt;%\n    group_by(dose) %&gt;%\n    identify_outliers(len)\n\n# A tibble: 1 Ã— 5\n  dose    len supp  is.outlier is.extreme\n  &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt; &lt;lgl&gt;      &lt;lgl&gt;     \n1 0.5    21.5 OJ    TRUE       FALSE",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬ä¸‰éƒ¨åˆ†t-æ£€éªŒ",
    "href": "1045-rstatix.html#ç¬¬ä¸‰éƒ¨åˆ†t-æ£€éªŒ",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼št æ£€éªŒ",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼št æ£€éªŒ\n\nå•æ ·æœ¬ t æ£€éªŒ\n\n# æ£€éªŒå‡å€¼æ˜¯å¦ç­‰äº 20\ndf %&gt;%\n    t_test(len ~ 1, mu = 20)\n\n# A tibble: 1 Ã— 7\n  .y.   group1 group2         n statistic    df     p\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 len   1      null model    60     -1.20    59 0.234\n\n\n\n\nç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ\n\n# æ¯”è¾ƒä¸¤ç»„\ndf %&gt;%\n    t_test(len ~ supp)\n\n# A tibble: 1 Ã— 8\n  .y.   group1 group2    n1    n2 statistic    df      p\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n1 len   OJ     VC        30    30      1.92  55.3 0.0606\n\n\n\n# æ·»åŠ æ•ˆåº”é‡\ndf %&gt;%\n    t_test(len ~ supp) %&gt;%\n    add_significance()\n\n# A tibble: 1 Ã— 9\n  .y.   group1 group2    n1    n2 statistic    df      p p.signif\n  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   \n1 len   OJ     VC        30    30      1.92  55.3 0.0606 ns      \n\n\n\n\né…å¯¹æ ·æœ¬ t æ£€éªŒ\n\n# æ¨¡æ‹Ÿé…å¯¹æ•°æ®\npaired_data &lt;- data.frame(\n    id = rep(1:10, 2),\n    time = rep(c(\"before\", \"after\"), each = 10),\n    score = c(rnorm(10, 50, 10), rnorm(10, 55, 10))\n)\n\npaired_data %&gt;%\n    t_test(score ~ time, paired = TRUE)\n\n# A tibble: 1 Ã— 8\n  .y.   group1 group2    n1    n2 statistic    df      p\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;\n1 score after  before    10    10      2.95     9 0.0163\n\n\n\n\npairwise_t_test() - å¤šç»„ä¸¤ä¸¤æ¯”è¾ƒ\n\n# å¤šç»„ä¸¤ä¸¤æ¯”è¾ƒ\ndf %&gt;%\n    pairwise_t_test(len ~ dose, p.adjust.method = \"bonferroni\")\n\n# A tibble: 3 Ã— 9\n  .y.   group1 group2    n1    n2        p p.signif    p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;       \n1 len   0.5    1         20    20 6.70e- 9 ****     2.01e- 8 ****        \n2 len   0.5    2         20    20 1.47e-16 ****     4.41e-16 ****        \n3 len   1      2         20    20 1.44e- 5 ****     4.33e- 5 ****",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬å››éƒ¨åˆ†æ–¹å·®åˆ†æanova",
    "href": "1045-rstatix.html#ç¬¬å››éƒ¨åˆ†æ–¹å·®åˆ†æanova",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šæ–¹å·®åˆ†æï¼ˆANOVAï¼‰",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šæ–¹å·®åˆ†æï¼ˆANOVAï¼‰\n\nå•å› ç´  ANOVA\n\n# å•å› ç´ æ–¹å·®åˆ†æ\ndf %&gt;%\n    anova_test(len ~ dose)\n\nANOVA Table (type II tests)\n\n  Effect DFn DFd      F        p p&lt;.05   ges\n1   dose   2  57 67.416 9.53e-16     * 0.703\n\n\n\n# è·å–è¯¦ç»†ä¿¡æ¯ï¼ˆå«æ•ˆåº”é‡ï¼‰\nres_aov &lt;- df %&gt;%\n    anova_test(len ~ dose, detailed = TRUE)\nres_aov\n\nANOVA Table (type II tests)\n\n  Effect      SSn      SSd DFn DFd      F        p p&lt;.05   ges\n1   dose 2426.434 1025.775   2  57 67.416 9.53e-16     * 0.703\n\n\n\n\näº‹åå¤šé‡æ¯”è¾ƒ\n\n# Tukey HSD äº‹åæ£€éªŒ\ndf %&gt;%\n    tukey_hsd(len ~ dose)\n\n# A tibble: 3 Ã— 9\n  term  group1 group2 null.value estimate conf.low conf.high    p.adj\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 dose  0.5    1               0     9.13     5.90     12.4  2   e- 8\n2 dose  0.5    2               0    15.5     12.3      18.7  1.12e-11\n3 dose  1      2               0     6.36     3.14      9.59 4.25e- 5\n# â„¹ 1 more variable: p.adj.signif &lt;chr&gt;\n\n\n\n\nåŒå› ç´  ANOVA\n\n# åŒå› ç´ æ–¹å·®åˆ†æ\ndf %&gt;%\n    anova_test(len ~ supp * dose)\n\nANOVA Table (type II tests)\n\n     Effect DFn DFd      F        p p&lt;.05   ges\n1      supp   1  54 15.572 2.31e-04     * 0.224\n2      dose   2  54 92.000 4.05e-18     * 0.773\n3 supp:dose   2  54  4.107 2.20e-02     * 0.132\n\n\n\n# ç®€å•æ•ˆåº”åˆ†æï¼ˆæŒ‰ supp åˆ†ç»„æ¯”è¾ƒ doseï¼‰\ndf %&gt;%\n    group_by(supp) %&gt;%\n    anova_test(len ~ dose)\n\n# A tibble: 2 Ã— 8\n  supp  Effect   DFn   DFd     F        p `p&lt;.05`   ges\n* &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1 OJ    dose       2    27  31.4 8.89e- 8 *       0.7  \n2 VC    dose       2    27  67.1 3.36e-11 *       0.832\n\n\n\n\nWelch ANOVAï¼ˆæ–¹å·®ä¸é½æ—¶ï¼‰\n\n# Welch ANOVA\ndf %&gt;%\n    welch_anova_test(len ~ dose)\n\n# A tibble: 1 Ã— 7\n  .y.       n statistic   DFn   DFd        p method     \n* &lt;chr&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;      \n1 len      60      68.4     2  37.7 2.81e-13 Welch ANOVA\n\n# Games-Howell äº‹åæ£€éªŒ\ndf %&gt;%\n    games_howell_test(len ~ dose)\n\n# A tibble: 3 Ã— 8\n  .y.   group1 group2 estimate conf.low conf.high       p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;       \n1 len   0.5    1          9.13     5.69     12.6  0.000000376 ****        \n2 len   0.5    2         15.5     12.3      18.7  0           ****        \n3 len   1      2          6.37     3.19      9.54 0.0000557   ****",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬äº”éƒ¨åˆ†éå‚æ•°æ£€éªŒ",
    "href": "1045-rstatix.html#ç¬¬äº”éƒ¨åˆ†éå‚æ•°æ£€éªŒ",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šéå‚æ•°æ£€éªŒ",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šéå‚æ•°æ£€éªŒ\n\nWilcoxon æ£€éªŒ\n\n# ä¸¤ç»„æ¯”è¾ƒï¼ˆMann-Whitney Uï¼‰\ndf %&gt;%\n    wilcox_test(len ~ supp)\n\n# A tibble: 1 Ã— 7\n  .y.   group1 group2    n1    n2 statistic      p\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;  &lt;dbl&gt;\n1 len   OJ     VC        30    30      576. 0.0645\n\n\n\n# æ·»åŠ æ•ˆåº”é‡\ndf %&gt;%\n    wilcox_effsize(len ~ supp)\n\n# A tibble: 1 Ã— 7\n  .y.   group1 group2 effsize    n1    n2 magnitude\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;ord&gt;    \n1 len   OJ     VC       0.240    30    30 small    \n\n\n\n\nKruskal-Wallis æ£€éªŒ\n\n# å¤šç»„æ¯”è¾ƒ\ndf %&gt;%\n    kruskal_test(len ~ dose)\n\n# A tibble: 1 Ã— 6\n  .y.       n statistic    df             p method        \n* &lt;chr&gt; &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;         \n1 len      60      40.7     2 0.00000000148 Kruskal-Wallis\n\n\n\n# Dunn äº‹åæ£€éªŒ\ndf %&gt;%\n    dunn_test(len ~ dose, p.adjust.method = \"bonferroni\")\n\n# A tibble: 3 Ã— 9\n  .y.   group1 group2    n1    n2 statistic        p    p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;       \n1 len   0.5    1         20    20      3.55 3.78e- 4 1.13e- 3 **          \n2 len   0.5    2         20    20      6.36 1.98e-10 5.95e-10 ****        \n3 len   1      2         20    20      2.81 4.99e- 3 1.50e- 2 *           \n\n\n\n\nFriedman æ£€éªŒï¼ˆé…å¯¹éå‚æ•°ï¼‰\n\n# æ¨¡æ‹Ÿé‡å¤æµ‹é‡æ•°æ®\nrm_data &lt;- data.frame(\n    id = rep(1:10, 3),\n    time = rep(c(\"T1\", \"T2\", \"T3\"), each = 10),\n    score = c(rnorm(10, 50, 5), rnorm(10, 55, 5), rnorm(10, 60, 5))\n)\n\n# Friedman æ£€éªŒ\nrm_data %&gt;%\n    friedman_test(score ~ time | id)\n\n# A tibble: 1 Ã— 6\n  .y.       n statistic    df       p method       \n* &lt;chr&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;        \n1 score    10       9.8     2 0.00745 Friedman test\n\n# äº‹åæ£€éªŒ\nrm_data %&gt;%\n    wilcox_test(score ~ time, paired = TRUE, p.adjust.method = \"bonferroni\")\n\n# A tibble: 3 Ã— 9\n  .y.   group1 group2    n1    n2 statistic     p p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n1 score T1     T2        10    10        20 0.492 1     ns          \n2 score T1     T3        10    10         1 0.004 0.012 *           \n3 score T2     T3        10    10         2 0.006 0.018 *",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬å…­éƒ¨åˆ†ç›¸å…³åˆ†æ",
    "href": "1045-rstatix.html#ç¬¬å…­éƒ¨åˆ†ç›¸å…³åˆ†æ",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šç›¸å…³åˆ†æ",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šç›¸å…³åˆ†æ\n\ncor_test() - ç›¸å…³æ£€éªŒ\n\n# Pearson ç›¸å…³\nmtcars %&gt;%\n    cor_test(mpg, wt, method = \"pearson\")\n\n# A tibble: 1 Ã— 8\n  var1  var2    cor statistic        p conf.low conf.high method \n  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  \n1 mpg   wt    -0.87     -9.56 1.29e-10   -0.934    -0.744 Pearson\n\n\n\n# å¤šå˜é‡ç›¸å…³\nmtcars %&gt;%\n    cor_test(mpg, disp, hp, wt, method = \"pearson\")\n\n# A tibble: 16 Ã— 8\n   var1  var2    cor    statistic         p conf.low conf.high method \n   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;  \n 1 mpg   mpg    1          Inf    0            1         1     Pearson\n 2 mpg   disp  -0.85        -8.75 9.38e- 10   -0.923    -0.708 Pearson\n 3 mpg   hp    -0.78        -6.74 1.79e-  7   -0.885    -0.586 Pearson\n 4 mpg   wt    -0.87        -9.56 1.29e- 10   -0.934    -0.744 Pearson\n 5 disp  mpg   -0.85        -8.75 9.38e- 10   -0.923    -0.708 Pearson\n 6 disp  disp   1          Inf    0            1         1     Pearson\n 7 disp  hp     0.79         7.08 7.14e-  8    0.611     0.893 Pearson\n 8 disp  wt     0.89        10.6  1.22e- 11    0.781     0.944 Pearson\n 9 hp    mpg   -0.78        -6.74 1.79e-  7   -0.885    -0.586 Pearson\n10 hp    disp   0.79         7.08 7.14e-  8    0.611     0.893 Pearson\n11 hp    hp     1          Inf    0            1         1     Pearson\n12 hp    wt     0.66         4.80 4.15e-  5    0.403     0.819 Pearson\n13 wt    mpg   -0.87        -9.56 1.29e- 10   -0.934    -0.744 Pearson\n14 wt    disp   0.89        10.6  1.22e- 11    0.781     0.944 Pearson\n15 wt    hp     0.66         4.80 4.15e-  5    0.403     0.819 Pearson\n16 wt    wt     1    367570386.   2.27e-236    1         1     Pearson\n\n\n\n\ncor_mat() - ç›¸å…³çŸ©é˜µ\n\n# ç›¸å…³çŸ©é˜µ\ncor_matrix &lt;- mtcars %&gt;%\n    select(mpg, disp, hp, wt, qsec) %&gt;%\n    cor_mat()\n\ncor_matrix\n\n# A tibble: 5 Ã— 6\n  rowname   mpg  disp    hp    wt  qsec\n* &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 mpg      1    -0.85 -0.78 -0.87  0.42\n2 disp    -0.85  1     0.79  0.89 -0.43\n3 hp      -0.78  0.79  1     0.66 -0.71\n4 wt      -0.87  0.89  0.66  1    -0.17\n5 qsec     0.42 -0.43 -0.71 -0.17  1   \n\n\n\n# æ·»åŠ æ˜¾è‘—æ€§æ ‡è®°\ncor_matrix %&gt;%\n    cor_mark_significant()\n\n  rowname       mpg     disp        hp    wt qsec\n1     mpg                                        \n2    disp -0.85****                              \n3      hp -0.78**** 0.79****                     \n4      wt -0.87**** 0.89****  0.66****           \n5    qsec     0.42*   -0.43* -0.71**** -0.17     \n\n\n\n# è·å– p å€¼çŸ©é˜µ\npval_matrix &lt;- cor_matrix %&gt;%\n    cor_get_pval()\n\n# è½¬ä¸ºæ™®é€šæ•°æ®æ¡†æ˜¾ç¤º\nas.data.frame(pval_matrix)\n\n  rowname      mpg     disp       hp        wt     qsec\n1     mpg 0.00e+00 9.38e-10 1.79e-07  1.29e-10 1.71e-02\n2    disp 9.38e-10 0.00e+00 7.14e-08  1.22e-11 1.31e-02\n3      hp 1.79e-07 7.14e-08 0.00e+00  4.15e-05 5.77e-06\n4      wt 1.29e-10 1.22e-11 4.15e-05 2.27e-236 3.39e-01\n5    qsec 1.71e-02 1.31e-02 5.77e-06  3.39e-01 0.00e+00",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬ä¸ƒéƒ¨åˆ†æ•ˆåº”é‡è®¡ç®—",
    "href": "1045-rstatix.html#ç¬¬ä¸ƒéƒ¨åˆ†æ•ˆåº”é‡è®¡ç®—",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ•ˆåº”é‡è®¡ç®—",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ•ˆåº”é‡è®¡ç®—\n\nCohenâ€™s dï¼ˆtæ£€éªŒæ•ˆåº”é‡ï¼‰\n\n# è®¡ç®— Cohen's d\ndf %&gt;%\n    cohens_d(len ~ supp)\n\n# A tibble: 1 Ã— 7\n  .y.   group1 group2 effsize    n1    n2 magnitude\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;ord&gt;    \n1 len   OJ     VC       0.495    30    30 small    \n\n\n\n\næ•ˆåº”é‡è§£é‡Š\n\n\n\næ•ˆåº”é‡\nå°\nä¸­\nå¤§\n\n\n\n\nCohenâ€™s d\n0.2\n0.5\n0.8\n\n\nÎ·Â² (eta squared)\n0.01\n0.06\n0.14\n\n\nr (Wilcoxon)\n0.1\n0.3\n0.5\n\n\n\n\n# ANOVA æ•ˆåº”é‡ï¼ˆè‡ªåŠ¨åŒ…å«åœ¨ anova_test ä¸­ï¼‰\ndf %&gt;%\n    anova_test(len ~ dose, effect.size = \"pes\") # partial eta squared\n\nANOVA Table (type II tests)\n\n  Effect DFn DFd      F        p p&lt;.05   pes\n1   dose   2  57 67.416 9.53e-16     * 0.703",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬å…«éƒ¨åˆ†ä¸-ggpubr-å¯è§†åŒ–é›†æˆ",
    "href": "1045-rstatix.html#ç¬¬å…«éƒ¨åˆ†ä¸-ggpubr-å¯è§†åŒ–é›†æˆ",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬å…«éƒ¨åˆ†ï¼šä¸ ggpubr å¯è§†åŒ–é›†æˆ",
    "text": "ç¬¬å…«éƒ¨åˆ†ï¼šä¸ ggpubr å¯è§†åŒ–é›†æˆ\n\næ·»åŠ ç»Ÿè®¡æ¯”è¾ƒåˆ°å›¾è¡¨\n\n# åŸºç¡€ç®±çº¿å›¾\np &lt;- ggboxplot(df,\n    x = \"dose\", y = \"len\", fill = \"dose\",\n    palette = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")\n)\n\n# è·å–ç»Ÿè®¡ç»“æœï¼ˆä¸¤ä¸¤æ¯”è¾ƒï¼‰\nstat_result &lt;- df %&gt;%\n    pairwise_t_test(len ~ dose) %&gt;%\n    add_significance()\n\n# æ‰‹åŠ¨è®¾ç½® y ä½ç½®\nstat_result$y.position &lt;- c(35, 38, 41)\n\n# æ·»åŠ  p å€¼æ ‡æ³¨\np + stat_pvalue_manual(stat_result, label = \"p.signif\", tip.length = 0.01)\n\n\n\n\n\n\n\n\n\n\nå¤šç»„æ¯”è¾ƒå¯è§†åŒ–\n\n# ä½¿ç”¨ compare_means ä½œä¸ºæ›¿ä»£\ncompare_result &lt;- compare_means(len ~ dose, data = df, method = \"t.test\")\ncompare_result\n\n# A tibble: 3 Ã— 8\n  .y.   group1 group2        p   p.adj p.format p.signif method\n  &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt; \n1 len   0.5    1      1.27e- 7 2.5e- 7 1.3e-07  ****     T-test\n2 len   0.5    2      4.40e-14 1.3e-13 4.4e-14  ****     T-test\n3 len   1      2      1.91e- 5 1.9e- 5 1.9e-05  ****     T-test\n\n\n\n# ä½¿ç”¨ ggpubr å†…ç½®çš„ç»Ÿè®¡æ ‡æ³¨\nggboxplot(df,\n    x = \"dose\", y = \"len\", fill = \"dose\",\n    palette = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")\n) +\n    stat_compare_means(method = \"anova\", label.y = 40) +\n    labs(title = \"å‰‚é‡å¯¹ç‰™é½¿ç”Ÿé•¿çš„å½±å“\", y = \"ç‰™é½¿é•¿åº¦\", x = \"å‰‚é‡\")\n\n\n\n\n\n\n\n\n\n\nåˆ†é¢æ¯”è¾ƒ\n\n# æŒ‰ supp åˆ†é¢æ˜¾ç¤º\nggboxplot(df,\n    x = \"dose\", y = \"len\", fill = \"dose\",\n    facet.by = \"supp\",\n    palette = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")\n) +\n    stat_compare_means(method = \"anova\", label.y = 38)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#ç¬¬ä¹éƒ¨åˆ†å®Œæ•´åˆ†ææµç¨‹",
    "href": "1045-rstatix.html#ç¬¬ä¹éƒ¨åˆ†å®Œæ•´åˆ†ææµç¨‹",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "ç¬¬ä¹éƒ¨åˆ†ï¼šå®Œæ•´åˆ†ææµç¨‹",
    "text": "ç¬¬ä¹éƒ¨åˆ†ï¼šå®Œæ•´åˆ†ææµç¨‹\n\næ¡ˆä¾‹ï¼šç»„é—´å·®å¼‚åˆ†æ\n\n# 1. æè¿°ç»Ÿè®¡\ndesc_stats &lt;- df %&gt;%\n    group_by(dose) %&gt;%\n    get_summary_stats(len, type = \"mean_sd\")\n\ndesc_stats\n\n# A tibble: 3 Ã— 5\n  dose  variable     n  mean    sd\n  &lt;fct&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 0.5   len         20  10.6  4.5 \n2 1     len         20  19.7  4.42\n3 2     len         20  26.1  3.77\n\n\n\n# 2. æ­£æ€æ€§æ£€éªŒ\nnormality &lt;- df %&gt;%\n    group_by(dose) %&gt;%\n    shapiro_test(len)\n\nnormality\n\n# A tibble: 3 Ã— 4\n  dose  variable statistic     p\n  &lt;fct&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;\n1 0.5   len          0.941 0.247\n2 1     len          0.931 0.164\n3 2     len          0.978 0.902\n\n\n\n# 3. æ–¹å·®é½æ€§æ£€éªŒ\nhomogeneity &lt;- df %&gt;%\n    levene_test(len ~ dose)\n\nhomogeneity\n\n# A tibble: 1 Ã— 4\n    df1   df2 statistic     p\n  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;\n1     2    57     0.646 0.528\n\n\n\n# 4. é€‰æ‹©åˆé€‚çš„æ£€éªŒæ–¹æ³•\n# æ­£æ€ + æ–¹å·®é½ï¼šANOVA\n# æ­£æ€ + æ–¹å·®ä¸é½ï¼šWelch ANOVA\n# éæ­£æ€ï¼šKruskal-Wallis\n\n# è¿™é‡Œå‡è®¾æ­£æ€ä¸”æ–¹å·®é½\nanova_result &lt;- df %&gt;%\n    anova_test(len ~ dose)\n\nanova_result\n\nANOVA Table (type II tests)\n\n  Effect DFn DFd      F        p p&lt;.05   ges\n1   dose   2  57 67.416 9.53e-16     * 0.703\n\n\n\n# 5. äº‹åæ¯”è¾ƒ\nposthoc &lt;- df %&gt;%\n    tukey_hsd(len ~ dose)\n\nposthoc\n\n# A tibble: 3 Ã— 9\n  term  group1 group2 null.value estimate conf.low conf.high    p.adj\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 dose  0.5    1               0     9.13     5.90     12.4  2   e- 8\n2 dose  0.5    2               0    15.5     12.3      18.7  1.12e-11\n3 dose  1      2               0     6.36     3.14      9.59 4.25e- 5\n# â„¹ 1 more variable: p.adj.signif &lt;chr&gt;\n\n\n\n# 6. æ•ˆåº”é‡\neffect_size &lt;- df %&gt;%\n    cohens_d(len ~ dose, ref.group = \"0.5\")\n\neffect_size\n\n# A tibble: 2 Ã— 7\n  .y.   group1 group2 effsize    n1    n2 magnitude\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;ord&gt;    \n1 len   0.5    1        -2.05    20    20 large    \n2 len   0.5    2        -3.73    20    20 large",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1045-rstatix.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# æè¿°ç»Ÿè®¡\ndf %&gt;% get_summary_stats(var, type = \"mean_sd\")\ndf %&gt;%\n    group_by(group) %&gt;%\n    get_summary_stats(var, type = \"full\")\n\n# å‡è®¾æ£€éªŒ\ndf %&gt;% shapiro_test(var) # æ­£æ€æ€§\ndf %&gt;% levene_test(var ~ group) # æ–¹å·®é½æ€§\n\n# t æ£€éªŒ\ndf %&gt;% t_test(var ~ group) # ç‹¬ç«‹æ ·æœ¬\ndf %&gt;% t_test(var ~ time, paired = TRUE) # é…å¯¹æ ·æœ¬\ndf %&gt;% pairwise_t_test(var ~ group) # å¤šç»„ä¸¤ä¸¤\n\n# ANOVA\ndf %&gt;% anova_test(var ~ group) # å•å› ç´ \ndf %&gt;% anova_test(var ~ A * B) # åŒå› ç´ \ndf %&gt;% tukey_hsd(var ~ group) # Tukey äº‹å\n\n# éå‚æ•°\ndf %&gt;% wilcox_test(var ~ group) # ä¸¤ç»„\ndf %&gt;% kruskal_test(var ~ group) # å¤šç»„\ndf %&gt;% dunn_test(var ~ group) # Dunn äº‹å\n\n# ç›¸å…³\ndf %&gt;% cor_test(x, y) # ä¸¤å˜é‡\ndf %&gt;% cor_mat() # ç›¸å…³çŸ©é˜µ\n\n# æ•ˆåº”é‡\ndf %&gt;% cohens_d(var ~ group) # Cohen's d\ndf %&gt;% wilcox_effsize(var ~ group) # Wilcoxon r",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#å°ç»“",
    "href": "1045-rstatix.html#å°ç»“",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "å°ç»“",
    "text": "å°ç»“\nrstatix çš„æ ¸å¿ƒä»·å€¼ï¼š\n\nç®¡é“è¯­æ³•ï¼šä¸ tidyverse æ— ç¼è¡”æ¥\næ•´æ´è¾“å‡ºï¼šç»“æœå³ data frameï¼Œä¾¿äºåç»­å¤„ç†\nä¸€ç«™å¼æ£€éªŒï¼šæ­£æ€æ€§ã€æ–¹å·®é½æ€§ã€ç»Ÿè®¡æ£€éªŒä¸€æ°”å‘µæˆ\næ•ˆåº”é‡å†…ç½®ï¼šä¸éœ€è¦é¢å¤–åŒ…è®¡ç®—æ•ˆåº”é‡\nå¯è§†åŒ–å‹å¥½ï¼šä¸ ggpubr é…åˆè¿›è¡Œç»Ÿè®¡æ ‡æ³¨\n\n\né€‚ç”¨åœºæ™¯ï¼šå½“ä½ éœ€è¦è¿›è¡Œå¸¸è§„ç»Ÿè®¡æ£€éªŒï¼Œå¹¶å¸Œæœ›ç»“æœèƒ½ç›´æ¥ç”¨äºæŠ¥å‘Šæˆ–å¯è§†åŒ–æ—¶ï¼Œrstatix æ˜¯æœ€ä½³é€‰æ‹©ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1045-rstatix.html#å‚è€ƒèµ„æº",
    "href": "1045-rstatix.html#å‚è€ƒèµ„æº",
    "title": "rstatix ç®¡é“å¼ç»Ÿè®¡åˆ†æ",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nrstatix å®˜æ–¹æ–‡æ¡£\nrstatix GitHub\nDatanovia ç»Ÿè®¡æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "rstatix - ç®¡é“å¼ç»Ÿè®¡"
    ]
  },
  {
    "objectID": "1043-broom.html",
    "href": "1043-broom.html",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "",
    "text": "broom åŒ…å°† R ä¸­å„ç§ç»Ÿè®¡æ¨¡å‹çš„è¾“å‡ºè½¬æ¢ä¸ºæ•´æ´ï¼ˆtidyï¼‰çš„æ•°æ®æ¡†æ ¼å¼ï¼Œä¾¿äºåç»­åˆ†æã€å¯è§†åŒ–å’ŒæŠ¥å‘Šã€‚å®ƒè§£å†³äº† R ä¸­ä¸åŒæ¨¡å‹è¾“å‡ºæ ¼å¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚\n\n\nä¼ ç»Ÿ R æ¨¡å‹è¾“å‡ºçš„é—®é¢˜ï¼š\n\n# ä¼ ç»Ÿçº¿æ€§å›å½’è¾“å‡º\nfit &lt;- lm(mpg ~ wt + hp, data = mtcars)\nsummary(fit) # è¾“å‡ºæ ¼å¼å¤æ‚ï¼Œéš¾ä»¥ç¼–ç¨‹å¤„ç†\n\n\nCall:\nlm(formula = mpg ~ wt + hp, data = mtcars)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-3.941 -1.600 -0.182  1.050  5.854 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***\nwt          -3.87783    0.63273  -6.129 1.12e-06 ***\nhp          -0.03177    0.00903  -3.519  0.00145 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.593 on 29 degrees of freedom\nMultiple R-squared:  0.8268,    Adjusted R-squared:  0.8148 \nF-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12\n\n\nbroom çš„è§£å†³æ–¹æ¡ˆï¼šå°†æ··ä¹±çš„è¾“å‡ºè½¬ä¸ºæ ‡å‡†æ•°æ®æ¡†ã€‚\n\n\n\n\n\n\nå‡½æ•°\nä½œç”¨\nè¾“å‡ºå†…å®¹\n\n\n\n\ntidy()\næ¨¡å‹ç³»æ•°\nç³»æ•°ã€æ ‡å‡†è¯¯ã€på€¼ç­‰\n\n\nglance()\næ¨¡å‹æ‘˜è¦\nRÂ²ã€AICã€BICç­‰\n\n\naugment()\nè§‚æµ‹çº§ä¿¡æ¯\né¢„æµ‹å€¼ã€æ®‹å·®ç­‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#broom-ç®€ä»‹",
    "href": "1043-broom.html#broom-ç®€ä»‹",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "",
    "text": "broom åŒ…å°† R ä¸­å„ç§ç»Ÿè®¡æ¨¡å‹çš„è¾“å‡ºè½¬æ¢ä¸ºæ•´æ´ï¼ˆtidyï¼‰çš„æ•°æ®æ¡†æ ¼å¼ï¼Œä¾¿äºåç»­åˆ†æã€å¯è§†åŒ–å’ŒæŠ¥å‘Šã€‚å®ƒè§£å†³äº† R ä¸­ä¸åŒæ¨¡å‹è¾“å‡ºæ ¼å¼ä¸ç»Ÿä¸€çš„é—®é¢˜ã€‚\n\n\nä¼ ç»Ÿ R æ¨¡å‹è¾“å‡ºçš„é—®é¢˜ï¼š\n\n# ä¼ ç»Ÿçº¿æ€§å›å½’è¾“å‡º\nfit &lt;- lm(mpg ~ wt + hp, data = mtcars)\nsummary(fit) # è¾“å‡ºæ ¼å¼å¤æ‚ï¼Œéš¾ä»¥ç¼–ç¨‹å¤„ç†\n\n\nCall:\nlm(formula = mpg ~ wt + hp, data = mtcars)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-3.941 -1.600 -0.182  1.050  5.854 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***\nwt          -3.87783    0.63273  -6.129 1.12e-06 ***\nhp          -0.03177    0.00903  -3.519  0.00145 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.593 on 29 degrees of freedom\nMultiple R-squared:  0.8268,    Adjusted R-squared:  0.8148 \nF-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12\n\n\nbroom çš„è§£å†³æ–¹æ¡ˆï¼šå°†æ··ä¹±çš„è¾“å‡ºè½¬ä¸ºæ ‡å‡†æ•°æ®æ¡†ã€‚\n\n\n\n\n\n\nå‡½æ•°\nä½œç”¨\nè¾“å‡ºå†…å®¹\n\n\n\n\ntidy()\næ¨¡å‹ç³»æ•°\nç³»æ•°ã€æ ‡å‡†è¯¯ã€på€¼ç­‰\n\n\nglance()\næ¨¡å‹æ‘˜è¦\nRÂ²ã€AICã€BICç­‰\n\n\naugment()\nè§‚æµ‹çº§ä¿¡æ¯\né¢„æµ‹å€¼ã€æ®‹å·®ç­‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#å®‰è£…ä¸åŠ è½½",
    "href": "1043-broom.html#å®‰è£…ä¸åŠ è½½",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…\ninstall.packages(\"broom\")\n\n# æ‰©å±•åŒ…ï¼ˆæ”¯æŒæ›´å¤šæ¨¡å‹ï¼‰\ninstall.packages(\"broom.mixed\") # æ··åˆæ•ˆåº”æ¨¡å‹\n\n\nlibrary(broom)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(purrr)\n\n# è®¾ç½®ä¸»é¢˜\ntheme_set(theme_bw(base_size = 12))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬ä¸€éƒ¨åˆ†tidy---æå–æ¨¡å‹ç³»æ•°",
    "href": "1043-broom.html#ç¬¬ä¸€éƒ¨åˆ†tidy---æå–æ¨¡å‹ç³»æ•°",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼štidy() - æå–æ¨¡å‹ç³»æ•°",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼štidy() - æå–æ¨¡å‹ç³»æ•°\n\nçº¿æ€§å›å½’\n\n# æ‹Ÿåˆçº¿æ€§æ¨¡å‹\nlm_fit &lt;- lm(mpg ~ wt + hp + cyl, data = mtcars)\n\n# ä¼ ç»Ÿè¾“å‡º\ncoef(summary(lm_fit))\n\n              Estimate Std. Error   t value     Pr(&gt;|t|)\n(Intercept) 38.7517874 1.78686403 21.687038 4.799399e-19\nwt          -3.1669731 0.74057588 -4.276365 1.994765e-04\nhp          -0.0180381 0.01187625 -1.518838 1.400152e-01\ncyl         -0.9416168 0.55091638 -1.709183 9.848010e-02\n\n\n\n# ä½¿ç”¨ tidy() æ•´ç†\ntidy(lm_fit)\n\n# A tibble: 4 Ã— 5\n  term        estimate std.error statistic  p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;\n1 (Intercept)  38.8       1.79       21.7  4.80e-19\n2 wt           -3.17      0.741      -4.28 1.99e- 4\n3 hp           -0.0180    0.0119     -1.52 1.40e- 1\n4 cyl          -0.942     0.551      -1.71 9.85e- 2\n\n\n\n# æ·»åŠ ç½®ä¿¡åŒºé—´\ntidy(lm_fit, conf.int = TRUE, conf.level = 0.95)\n\n# A tibble: 4 Ã— 7\n  term        estimate std.error statistic  p.value conf.low conf.high\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)  38.8       1.79       21.7  4.80e-19  35.1     42.4    \n2 wt           -3.17      0.741      -4.28 1.99e- 4  -4.68    -1.65   \n3 hp           -0.0180    0.0119     -1.52 1.40e- 1  -0.0424   0.00629\n4 cyl          -0.942     0.551      -1.71 9.85e- 2  -2.07     0.187  \n\n\n\n\nLogistic å›å½’\n\n# æ‹Ÿåˆlogisticå›å½’\nglm_fit &lt;- glm(am ~ wt + hp, data = mtcars, family = binomial)\n\n# æ•´ç†è¾“å‡º\ntidy(glm_fit)\n\n# A tibble: 3 Ã— 5\n  term        estimate std.error statistic p.value\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 (Intercept)  18.9       7.44        2.53 0.0113 \n2 wt           -8.08      3.07       -2.63 0.00843\n3 hp            0.0363    0.0177      2.04 0.0409 \n\n\n\n# è¾“å‡º OR å€¼ï¼ˆæŒ‡æ•°åŒ–ç³»æ•°ï¼‰\ntidy(glm_fit, exponentiate = TRUE, conf.int = TRUE)\n\n# A tibble: 3 Ã— 7\n  term        estimate std.error statistic p.value conf.low conf.high\n  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n1 (Intercept)  1.56e+8    7.44        2.53 0.0113   4.34e+3  4.08e+17\n2 wt           3.09e-4    3.07       -2.63 0.00843  3.36e-8  2.30e- 2\n3 hp           1.04e+0    0.0177      2.04 0.0409   1.01e+0  1.09e+ 0\n\n\n\n\nç”Ÿå­˜åˆ†æ\n\nlibrary(survival)\n\n# æ‹Ÿåˆ Cox æ¨¡å‹\ncox_fit &lt;- coxph(Surv(time, status) ~ age + sex, data = lung)\n\n# æ•´ç†\ntidy(cox_fit, exponentiate = TRUE, conf.int = TRUE)\n\n# A tibble: 2 Ã— 7\n  term  estimate std.error statistic p.value conf.low conf.high\n  &lt;chr&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n1 age      1.02    0.00922      1.85 0.0646     0.999     1.04 \n2 sex      0.599   0.167       -3.06 0.00218    0.431     0.831\n\n\n\n\nt æ£€éªŒ\n\n# t æ£€éªŒ\nt_result &lt;- t.test(mpg ~ am, data = mtcars)\n\n# æ•´ç†\ntidy(t_result)\n\n# A tibble: 1 Ã— 10\n  estimate estimate1 estimate2 statistic p.value parameter conf.low conf.high\n     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n1    -7.24      17.1      24.4     -3.77 0.00137      18.3    -11.3     -3.21\n# â„¹ 2 more variables: method &lt;chr&gt;, alternative &lt;chr&gt;\n\n\n\n\nç›¸å…³æ£€éªŒ\n\n# ç›¸å…³æ£€éªŒ\ncor_result &lt;- cor.test(mtcars$mpg, mtcars$wt)\n\n# æ•´ç†\ntidy(cor_result)\n\n# A tibble: 1 Ã— 8\n  estimate statistic  p.value parameter conf.low conf.high method    alternative\n     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;int&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;      \n1   -0.868     -9.56 1.29e-10        30   -0.934    -0.744 Pearson'â€¦ two.sided",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬äºŒéƒ¨åˆ†glance---æ¨¡å‹æ‘˜è¦ç»Ÿè®¡",
    "href": "1043-broom.html#ç¬¬äºŒéƒ¨åˆ†glance---æ¨¡å‹æ‘˜è¦ç»Ÿè®¡",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šglance() - æ¨¡å‹æ‘˜è¦ç»Ÿè®¡",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šglance() - æ¨¡å‹æ‘˜è¦ç»Ÿè®¡\n\nè·å–æ¨¡å‹æ‹Ÿåˆä¼˜åº¦\n\n# çº¿æ€§æ¨¡å‹æ‘˜è¦\nglance(lm_fit)\n\n# A tibble: 1 Ã— 12\n  r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC\n      &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1     0.843         0.826  2.51      50.2 2.18e-11     3  -72.7  155.  163.\n# â„¹ 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;\n\n\n\n\nå¸¸è§è¾“å‡ºæŒ‡æ ‡\n\n\n\næŒ‡æ ‡\nå«ä¹‰\n\n\n\n\nr.squared\nRÂ² å†³å®šç³»æ•°\n\n\nadj.r.squared\nè°ƒæ•´ RÂ²\n\n\nsigma\næ®‹å·®æ ‡å‡†è¯¯\n\n\nstatistic\nF ç»Ÿè®¡é‡\n\n\np.value\nF æ£€éªŒ p å€¼\n\n\nAIC\nèµ¤æ± ä¿¡æ¯å‡†åˆ™\n\n\nBIC\nè´å¶æ–¯ä¿¡æ¯å‡†åˆ™\n\n\nnobs\nè§‚æµ‹æ•°\n\n\n\n\n\næ¯”è¾ƒå¤šä¸ªæ¨¡å‹\n\n# å®šä¹‰å¤šä¸ªæ¨¡å‹\nmodel1 &lt;- lm(mpg ~ wt, data = mtcars)\nmodel2 &lt;- lm(mpg ~ wt + hp, data = mtcars)\nmodel3 &lt;- lm(mpg ~ wt + hp + cyl, data = mtcars)\n\n# æ¯”è¾ƒæ‹Ÿåˆä¼˜åº¦\nmodels &lt;- list(\n    \"Model 1\" = model1,\n    \"Model 2\" = model2,\n    \"Model 3\" = model3\n)\n\n# æ±‡æ€»æ‰€æœ‰æ¨¡å‹\nmodel_comparison &lt;- map_df(models, glance, .id = \"model\")\nmodel_comparison %&gt;%\n    select(model, r.squared, adj.r.squared, AIC, BIC)\n\n# A tibble: 3 Ã— 5\n  model   r.squared adj.r.squared   AIC   BIC\n  &lt;chr&gt;       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Model 1     0.753         0.745  166.  170.\n2 Model 2     0.827         0.815  157.  163.\n3 Model 3     0.843         0.826  155.  163.\n\n\n\n# å¯è§†åŒ–æ¯”è¾ƒ\nmodel_comparison %&gt;%\n    tidyr::pivot_longer(cols = c(AIC, BIC), names_to = \"metric\", values_to = \"value\") %&gt;%\n    ggplot(aes(x = model, y = value, fill = metric)) +\n    geom_col(position = \"dodge\", alpha = 0.8) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\")) +\n    labs(title = \"æ¨¡å‹æ¯”è¾ƒï¼šAIC ä¸ BIC\", x = \"æ¨¡å‹\", y = \"å€¼\") +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬ä¸‰éƒ¨åˆ†augment---è§‚æµ‹çº§æ•°æ®",
    "href": "1043-broom.html#ç¬¬ä¸‰éƒ¨åˆ†augment---è§‚æµ‹çº§æ•°æ®",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šaugment() - è§‚æµ‹çº§æ•°æ®",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šaugment() - è§‚æµ‹çº§æ•°æ®\n\næå–é¢„æµ‹å€¼å’Œæ®‹å·®\n\n# æ·»åŠ é¢„æµ‹å€¼å’Œæ®‹å·®\naugmented &lt;- augment(lm_fit)\nhead(augmented)\n\n# A tibble: 6 Ã— 11\n  .rownames           mpg    wt    hp   cyl .fitted .resid   .hat .sigma .cooksd\n  &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n1 Mazda RX4          21    2.62   110     6    22.8 -1.82  0.0750   2.53 1.15e-2\n2 Mazda RX4 Wag      21    2.88   110     6    22.0 -1.01  0.0582   2.55 2.67e-3\n3 Datsun 710         22.8  2.32    93     4    26.0 -3.16  0.0856   2.48 4.05e-2\n4 Hornet 4 Drive     21.4  3.22   110     6    20.9  0.464 0.0533   2.56 5.08e-4\n5 Hornet Sportabout  18.7  3.44   175     8    17.2  1.53  0.110    2.54 1.29e-2\n6 Valiant            18.1  3.46   105     6    20.3 -2.15  0.0699   2.52 1.48e-2\n# â„¹ 1 more variable: .std.resid &lt;dbl&gt;\n\n\n\n\naugment è¾“å‡ºçš„å¸¸è§åˆ—\n\n\n\nåˆ—å\nå«ä¹‰\n\n\n\n\n.fitted\né¢„æµ‹å€¼\n\n\n.resid\næ®‹å·®\n\n\n.std.resid\næ ‡å‡†åŒ–æ®‹å·®\n\n\n.hat\næ æ†å€¼\n\n\n.cooksd\nCookâ€™s è·ç¦»\n\n\n.sigma\nåˆ é™¤è¯¥è§‚æµ‹åçš„æ®‹å·®æ ‡å‡†å·®\n\n\n\n\n\næ®‹å·®è¯Šæ–­å¯è§†åŒ–\n\n# æ®‹å·® vs æ‹Ÿåˆå€¼\nggplot(augmented, aes(x = .fitted, y = .resid)) +\n    geom_point(color = \"#4f46e5\", alpha = 0.7) +\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"red\") +\n    geom_smooth(se = FALSE, color = \"#10b981\") +\n    labs(title = \"æ®‹å·® vs æ‹Ÿåˆå€¼\", x = \"æ‹Ÿåˆå€¼\", y = \"æ®‹å·®\")\n\n\n\n\n\n\n\n\n\n# QQ å›¾\nggplot(augmented, aes(sample = .std.resid)) +\n    stat_qq(color = \"#4f46e5\") +\n    stat_qq_line(color = \"red\") +\n    labs(title = \"æ ‡å‡†åŒ–æ®‹å·® Q-Q å›¾\", x = \"ç†è®ºåˆ†ä½æ•°\", y = \"æ ·æœ¬åˆ†ä½æ•°\")\n\n\n\n\n\n\n\n\n\n# Cook's è·ç¦»\nggplot(augmented, aes(x = seq_len(nrow(augmented)), y = .cooksd)) +\n    geom_col(fill = \"#4f46e5\", alpha = 0.7) +\n    geom_hline(yintercept = 4 / nrow(augmented), linetype = \"dashed\", color = \"red\") +\n    labs(title = \"Cook's è·ç¦»\", x = \"è§‚æµ‹ç¼–å·\", y = \"Cook's D\")\n\n\n\n\n\n\n\n\n\n\nåœ¨æ–°æ•°æ®ä¸Šé¢„æµ‹\n\n# æ–°æ•°æ®\nnew_data &lt;- data.frame(\n    wt = c(2.5, 3.0, 3.5),\n    hp = c(100, 150, 200),\n    cyl = c(4, 6, 8)\n)\n\n# é¢„æµ‹ï¼ˆå«åŒºé—´ï¼‰\naugment(lm_fit, newdata = new_data, interval = \"confidence\")\n\n# A tibble: 3 Ã— 6\n     wt    hp   cyl .fitted .lower .upper\n  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1   2.5   100     4    25.3   23.7   26.9\n2   3     150     6    20.9   19.9   21.9\n3   3.5   200     8    16.5   15.0   18.0",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬å››éƒ¨åˆ†æ‰¹é‡å»ºæ¨¡",
    "href": "1043-broom.html#ç¬¬å››éƒ¨åˆ†æ‰¹é‡å»ºæ¨¡",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šæ‰¹é‡å»ºæ¨¡",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šæ‰¹é‡å»ºæ¨¡\nbroom ä¸ purrr ç»“åˆï¼Œå¯ä»¥é«˜æ•ˆè¿›è¡Œåˆ†ç»„å»ºæ¨¡ã€‚\n\nåˆ†ç»„å›å½’\n\n# æŒ‰æ±½ç¼¸æ•°åˆ†ç»„å»ºæ¨¡\nby_cyl &lt;- mtcars %&gt;%\n    group_by(cyl) %&gt;%\n    nest()\n\nby_cyl\n\n# A tibble: 3 Ã— 2\n# Groups:   cyl [3]\n    cyl data              \n  &lt;dbl&gt; &lt;list&gt;            \n1     6 &lt;tibble [7 Ã— 10]&gt; \n2     4 &lt;tibble [11 Ã— 10]&gt;\n3     8 &lt;tibble [14 Ã— 10]&gt;\n\n\n\n# å¯¹æ¯ç»„æ‹Ÿåˆæ¨¡å‹\nby_cyl &lt;- by_cyl %&gt;%\n    mutate(\n        model = map(data, ~ lm(mpg ~ wt + hp, data = .x)),\n        tidied = map(model, tidy),\n        glanced = map(model, glance),\n        augmented = map(model, augment)\n    )\n\nby_cyl\n\n# A tibble: 3 Ã— 6\n# Groups:   cyl [3]\n    cyl data               model  tidied           glanced           augmented\n  &lt;dbl&gt; &lt;list&gt;             &lt;list&gt; &lt;list&gt;           &lt;list&gt;            &lt;list&gt;   \n1     6 &lt;tibble [7 Ã— 10]&gt;  &lt;lm&gt;   &lt;tibble [3 Ã— 5]&gt; &lt;tibble [1 Ã— 12]&gt; &lt;tibble&gt; \n2     4 &lt;tibble [11 Ã— 10]&gt; &lt;lm&gt;   &lt;tibble [3 Ã— 5]&gt; &lt;tibble [1 Ã— 12]&gt; &lt;tibble&gt; \n3     8 &lt;tibble [14 Ã— 10]&gt; &lt;lm&gt;   &lt;tibble [3 Ã— 5]&gt; &lt;tibble [1 Ã— 12]&gt; &lt;tibble&gt; \n\n\n\n\næå–åˆ†ç»„ç³»æ•°\n\n# å±•å¼€ç³»æ•°\nby_cyl %&gt;%\n    select(cyl, tidied) %&gt;%\n    unnest(tidied)\n\n# A tibble: 9 Ã— 6\n# Groups:   cyl [3]\n    cyl term        estimate std.error statistic   p.value\n  &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1     6 (Intercept)  32.6       5.57        5.84 0.00428  \n2     6 wt           -3.24      1.37       -2.36 0.0776   \n3     6 hp           -0.0222    0.0202     -1.10 0.333    \n4     4 (Intercept)  45.8       4.79        9.58 0.0000117\n5     4 wt           -5.12      1.60       -3.19 0.0128   \n6     4 hp           -0.0905    0.0436     -2.08 0.0715   \n7     8 (Intercept)  26.7       3.66        7.28 0.0000158\n8     8 wt           -2.18      0.721      -3.02 0.0117   \n9     8 hp           -0.0137    0.0107     -1.27 0.229    \n\n\n\n# å¯è§†åŒ–åˆ†ç»„ç³»æ•°\nby_cyl %&gt;%\n    select(cyl, tidied) %&gt;%\n    unnest(tidied) %&gt;%\n    filter(term != \"(Intercept)\") %&gt;%\n    ggplot(aes(x = factor(cyl), y = estimate, fill = term)) +\n    geom_col(position = \"dodge\", alpha = 0.8) +\n    geom_errorbar(\n        aes(ymin = estimate - std.error, ymax = estimate + std.error),\n        position = position_dodge(width = 0.9),\n        width = 0.2\n    ) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\")) +\n    labs(\n        title = \"ä¸åŒæ±½ç¼¸æ•°çš„å›å½’ç³»æ•°\",\n        x = \"æ±½ç¼¸æ•°\",\n        y = \"ç³»æ•°ä¼°è®¡å€¼\"\n    ) +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\næå–åˆ†ç»„æ‹Ÿåˆä¼˜åº¦\n\nby_cyl %&gt;%\n    select(cyl, glanced) %&gt;%\n    unnest(glanced) %&gt;%\n    select(cyl, r.squared, adj.r.squared, AIC, p.value)\n\n# A tibble: 3 Ã— 5\n# Groups:   cyl [3]\n    cyl r.squared adj.r.squared   AIC p.value\n  &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n1     6     0.589         0.383  25.8  0.169 \n2     4     0.681         0.601  58.7  0.0104\n3     8     0.497         0.406  63.4  0.0228",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬äº”éƒ¨åˆ†æ”¯æŒçš„æ¨¡å‹ç±»å‹",
    "href": "1043-broom.html#ç¬¬äº”éƒ¨åˆ†æ”¯æŒçš„æ¨¡å‹ç±»å‹",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šæ”¯æŒçš„æ¨¡å‹ç±»å‹",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šæ”¯æŒçš„æ¨¡å‹ç±»å‹\nbroom æ”¯æŒ 100+ ç§æ¨¡å‹ç±»å‹ã€‚\n\nç»Ÿè®¡æ¨¡å‹\n\n\n\n\n\nç±»å‹\nå‡½æ•°ç¤ºä¾‹\n\n\n\n\nçº¿æ€§å›å½’\nlm(), aov()\n\n\nå¹¿ä¹‰çº¿æ€§æ¨¡å‹\nglm(), betareg()\n\n\næ··åˆæ•ˆåº”æ¨¡å‹\nlme4::lmer(), nlme::lme()\n\n\nç”Ÿå­˜åˆ†æ\nsurvival::coxph(), survfit()\n\n\næ—¶é—´åºåˆ—\nforecast::Arima()\n\n\nèšç±»\nstats::kmeans(), cluster::pam()\n\n\n\n\n\n\n\næ£€æŸ¥æ˜¯å¦æ”¯æŒ\n\n# æŸ¥çœ‹æ”¯æŒçš„æ–¹æ³•\nmethods(\"tidy\")\nmethods(\"glance\")\nmethods(\"augment\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬å…­éƒ¨åˆ†ä¸-ggplot2-ç»“åˆ",
    "href": "1043-broom.html#ç¬¬å…­éƒ¨åˆ†ä¸-ggplot2-ç»“åˆ",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šä¸ ggplot2 ç»“åˆ",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šä¸ ggplot2 ç»“åˆ\n\nå¯è§†åŒ–å›å½’ç³»æ•°ï¼ˆæ£®æ—å›¾ï¼‰\n\n# æå–ç³»æ•°\ncoef_df &lt;- tidy(lm_fit, conf.int = TRUE) %&gt;%\n    filter(term != \"(Intercept)\")\n\n# æ£®æ—å›¾\nggplot(coef_df, aes(x = estimate, y = term)) +\n    geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n    geom_point(color = \"#4f46e5\", size = 3) +\n    geom_errorbarh(\n        aes(xmin = conf.low, xmax = conf.high),\n        height = 0.2,\n        color = \"#4f46e5\"\n    ) +\n    labs(\n        title = \"å›å½’ç³»æ•°åŠ95%ç½®ä¿¡åŒºé—´\",\n        x = \"ç³»æ•°ä¼°è®¡å€¼\",\n        y = \"å˜é‡\"\n    ) +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\nLogistic å›å½’ OR å€¼å¯è§†åŒ–\n\n# OR å€¼\nor_df &lt;- tidy(glm_fit, exponentiate = TRUE, conf.int = TRUE) %&gt;%\n    filter(term != \"(Intercept)\")\n\nggplot(or_df, aes(x = estimate, y = term)) +\n    geom_vline(xintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    geom_point(color = \"#ef4444\", size = 3) +\n    geom_errorbarh(\n        aes(xmin = conf.low, xmax = conf.high),\n        height = 0.2,\n        color = \"#ef4444\"\n    ) +\n    scale_x_log10() +\n    labs(\n        title = \"Logistic å›å½’ OR å€¼\",\n        x = \"OR (95% CI)\",\n        y = \"å˜é‡\"\n    ) +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#ç¬¬ä¸ƒéƒ¨åˆ†å®æˆ˜æ¡ˆä¾‹",
    "href": "1043-broom.html#ç¬¬ä¸ƒéƒ¨åˆ†å®æˆ˜æ¡ˆä¾‹",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹ï¼šå¤šå…ƒå›å½’åˆ†ææŠ¥å‘Š\n\n# å®Œæ•´åˆ†ææµç¨‹\nlibrary(knitr)\n\n# 1. æ‹Ÿåˆæ¨¡å‹\nmodel &lt;- lm(mpg ~ wt + hp + cyl + am, data = mtcars)\n\n# 2. ç³»æ•°è¡¨\ncat(\"### å›å½’ç³»æ•°\\n\")\n\n### å›å½’ç³»æ•°\n\ntidy(model, conf.int = TRUE) %&gt;%\n    mutate(across(where(is.numeric), ~ round(.x, 3))) %&gt;%\n    kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\nconf.low\nconf.high\n\n\n\n\n(Intercept)\n36.147\n3.105\n11.642\n0.000\n29.776\n42.517\n\n\nwt\n-2.606\n0.920\n-2.834\n0.009\n-4.494\n-0.719\n\n\nhp\n-0.025\n0.014\n-1.828\n0.079\n-0.053\n0.003\n\n\ncyl\n-0.745\n0.583\n-1.279\n0.212\n-1.941\n0.451\n\n\nam\n1.478\n1.441\n1.026\n0.314\n-1.479\n4.435\n\n\n\n\n\n\n# 3. æ¨¡å‹æ‘˜è¦\ncat(\"\\n### æ¨¡å‹æ‹Ÿåˆä¼˜åº¦\\n\")\n\n\n### æ¨¡å‹æ‹Ÿåˆä¼˜åº¦\n\nglance(model) %&gt;%\n    select(r.squared, adj.r.squared, sigma, statistic, p.value, AIC, BIC) %&gt;%\n    mutate(across(where(is.numeric), ~ round(.x, 3))) %&gt;%\n    kable()\n\n\n\n\nr.squared\nadj.r.squared\nsigma\nstatistic\np.value\nAIC\nBIC\n\n\n\n\n0.849\n0.827\n2.509\n37.961\n0\n156.254\n165.048\n\n\n\n\n\n\n# 4. æ®‹å·®è¯Šæ–­\naugmented_data &lt;- augment(model)\n\n# ç»„åˆè¯Šæ–­å›¾\np1 &lt;- ggplot(augmented_data, aes(x = .fitted, y = .resid)) +\n    geom_point(alpha = 0.6) +\n    geom_hline(yintercept = 0, linetype = 2, color = \"red\") +\n    labs(title = \"æ®‹å·® vs æ‹Ÿåˆå€¼\", x = \"æ‹Ÿåˆå€¼\", y = \"æ®‹å·®\")\n\np2 &lt;- ggplot(augmented_data, aes(sample = .std.resid)) +\n    stat_qq() +\n    stat_qq_line(color = \"red\") +\n    labs(title = \"Q-Q å›¾\")\n\nlibrary(patchwork)\np1 + p2",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1043-broom.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# åŸºæœ¬ç”¨æ³•\ntidy(model) # ç³»æ•°è¡¨\ntidy(model, conf.int = TRUE) # å«ç½®ä¿¡åŒºé—´\ntidy(model, exponentiate = TRUE) # OR/HR å€¼\n\nglance(model) # æ¨¡å‹æ‘˜è¦\n\naugment(model) # æ·»åŠ é¢„æµ‹å€¼/æ®‹å·®\naugment(model, newdata = new_data) # æ–°æ•°æ®é¢„æµ‹\n\n# æ‰¹é‡å»ºæ¨¡\ndata %&gt;%\n    group_by(group) %&gt;%\n    nest() %&gt;%\n    mutate(model = map(data, ~ lm(y ~ x, data = .x))) %&gt;%\n    mutate(tidied = map(model, tidy)) %&gt;%\n    unnest(tidied)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#å°ç»“",
    "href": "1043-broom.html#å°ç»“",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "å°ç»“",
    "text": "å°ç»“\nbroom çš„æ ¸å¿ƒä»·å€¼ï¼š\n\næ ‡å‡†åŒ–è¾“å‡ºï¼šç»Ÿä¸€çš„æ•°æ®æ¡†æ ¼å¼\nä¾¿äºç¼–ç¨‹ï¼šè½»æ¾è¿›è¡Œæ‰¹é‡æ“ä½œ\nå¯è§†åŒ–å‹å¥½ï¼šç›´æ¥ç”¨äº ggplot2\nè¦†ç›–å¹¿æ³›ï¼šæ”¯æŒ 100+ ç§æ¨¡å‹\nä¸ tidyverse æ— ç¼é›†æˆ\n\n\næœ€ä½³å®è·µï¼šå§‹ç»ˆä½¿ç”¨ broom æ•´ç†æ¨¡å‹è¾“å‡ºï¼Œè€Œéæ‰‹åŠ¨æå– summary() ä¸­çš„æ•°å€¼ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1043-broom.html#å‚è€ƒèµ„æº",
    "href": "1043-broom.html#å‚è€ƒèµ„æº",
    "title": "broom æ¨¡å‹ç»“æœæ•´ç†æŒ‡å—",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nbroom å®˜æ–¹æ–‡æ¡£\nbroom GitHub\nbroom.mixed - æ··åˆæ•ˆåº”æ¨¡å‹æ”¯æŒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "broom æ¨¡å‹æ•´ç†"
    ]
  },
  {
    "objectID": "1041-network-meta.html",
    "href": "1041-network-meta.html",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¼ ç»Ÿ Meta åˆ†æåªèƒ½ä¸¤ä¸¤æ¯”è¾ƒå¹²é¢„æªæ–½ï¼ˆå¦‚ A vs Bï¼‰ã€‚ä½†ä¸´åºŠå†³ç­–ä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€è¦åŒæ—¶æ¯”è¾ƒå¤šç§å¹²é¢„æªæ–½ã€‚\nç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis, NMA) é€šè¿‡æ•´åˆç›´æ¥å’Œé—´æ¥è¯æ®ï¼Œå®ç°å¤šç§å¹²é¢„çš„åŒæ—¶æ¯”è¾ƒå’Œæ’åºã€‚\næœ¬æ•™ç¨‹å°†ä»‹ç» NMA çš„åŸºæœ¬åŸç†å’Œ R è¯­è¨€ netmeta åŒ…çš„å®Œæ•´ä½¿ç”¨æµç¨‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#å‰è¨€",
    "href": "1041-network-meta.html#å‰è¨€",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¼ ç»Ÿ Meta åˆ†æåªèƒ½ä¸¤ä¸¤æ¯”è¾ƒå¹²é¢„æªæ–½ï¼ˆå¦‚ A vs Bï¼‰ã€‚ä½†ä¸´åºŠå†³ç­–ä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€è¦åŒæ—¶æ¯”è¾ƒå¤šç§å¹²é¢„æªæ–½ã€‚\nç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis, NMA) é€šè¿‡æ•´åˆç›´æ¥å’Œé—´æ¥è¯æ®ï¼Œå®ç°å¤šç§å¹²é¢„çš„åŒæ—¶æ¯”è¾ƒå’Œæ’åºã€‚\næœ¬æ•™ç¨‹å°†ä»‹ç» NMA çš„åŸºæœ¬åŸç†å’Œ R è¯­è¨€ netmeta åŒ…çš„å®Œæ•´ä½¿ç”¨æµç¨‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#ç½‘çŠ¶-meta-åˆ†æåŸºç¡€",
    "href": "1041-network-meta.html#ç½‘çŠ¶-meta-åˆ†æåŸºç¡€",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "1. ç½‘çŠ¶ Meta åˆ†æåŸºç¡€",
    "text": "1. ç½‘çŠ¶ Meta åˆ†æåŸºç¡€\n\nä»€ä¹ˆæ˜¯ç½‘çŠ¶ Metaï¼Ÿ\nè€ƒè™‘ 3 ç§é™å‹è¯çš„æ¯”è¾ƒï¼š\n\nç ”ç©¶ 1ï¼šè¯ç‰© A vs å®‰æ…°å‰‚\nç ”ç©¶ 2ï¼šè¯ç‰© B vs å®‰æ…°å‰‚\n\nç ”ç©¶ 3ï¼šè¯ç‰© A vs è¯ç‰© B\n\nä¼ ç»Ÿ Meta åˆ†æåªèƒ½åˆ†åˆ«åˆæˆæ¯å¯¹æ¯”è¾ƒã€‚è€Œ NMA å¯ä»¥ï¼š\n\nåŒæ—¶æ¯”è¾ƒæ‰€æœ‰å¹²é¢„ï¼šA vs B vs C vs å®‰æ…°å‰‚\nåˆ©ç”¨é—´æ¥è¯æ®ï¼šå³ä½¿æ²¡æœ‰ A vs C çš„ç›´æ¥ç ”ç©¶ï¼Œä¹Ÿèƒ½é€šè¿‡ A-B-C é“¾æ¡æ¨æ–­\nå¯¹å¹²é¢„è¿›è¡Œæ’åºï¼šç»™å‡ºâ€æœ€ä½³â€å¹²é¢„çš„æ¦‚ç‡\n\n\n\næ ¸å¿ƒæ¦‚å¿µ\n\n\n\næ¦‚å¿µ\nè¯´æ˜\n\n\n\n\nèŠ‚ç‚¹ (Node)\nç½‘ç»œä¸­çš„å¹²é¢„æªæ–½\n\n\nè¾¹ (Edge)\nä¸¤ç§å¹²é¢„ä¹‹é—´çš„æ¯”è¾ƒ\n\n\nç›´æ¥è¯æ®\næ¥è‡ªå¤´å¯¹å¤´æ¯”è¾ƒç ”ç©¶\n\n\né—´æ¥è¯æ®\né€šè¿‡å…±åŒæ¯”è¾ƒè€…æ¨æ–­\n\n\næ··åˆè¯æ®\nç›´æ¥ + é—´æ¥çš„åŠ æƒç»„åˆ\n\n\nä¸€è‡´æ€§\nç›´æ¥ä¸é—´æ¥è¯æ®æ˜¯å¦å»åˆ\n\n\n\n\n\nåŸºæœ¬å‡è®¾\nNMA çš„æ ¸å¿ƒå‡è®¾æ˜¯ä¸€è‡´æ€§ (Transitivity)ï¼š\n\nå¦‚æœ A vs B çš„æ•ˆåº”æ˜¯ Î´_ABï¼ŒB vs C æ˜¯ Î´_BCï¼Œ é‚£ä¹ˆ A vs C åº”è¯¥ç­‰äº Î´_AB + Î´_BC\n\nè¿™è¦æ±‚ï¼š - ç ”ç©¶é—´å…·æœ‰å¯æ¯”æ€§ï¼ˆç›¸ä¼¼çš„äººç¾¤ã€ç»“å±€å®šä¹‰ï¼‰ - ä¸å­˜åœ¨æ•ˆåº”ä¿®é¥°å› å­å¯¼è‡´çš„å¼‚è´¨æ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#netmeta-åŒ…å…¥é—¨",
    "href": "1041-network-meta.html#netmeta-åŒ…å…¥é—¨",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "2. netmeta åŒ…å…¥é—¨",
    "text": "2. netmeta åŒ…å…¥é—¨\n\nå®‰è£…ä¸åŠ è½½\n\n# install.packages(\"netmeta\")\nlibrary(netmeta)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\næ•°æ®æ ¼å¼\nnetmeta æ”¯æŒä¸¤ç§æ•°æ®æ ¼å¼ï¼š\nå¯¹æ¯”æ ¼å¼ (Pairwise)ï¼šæ¯è¡Œæ˜¯ä¸€å¯¹æ¯”è¾ƒ\n\n# ç¤ºä¾‹æ•°æ®ï¼šæŠ—æŠ‘éƒè¯æ¯”è¾ƒ\ndata(Senn2013)\nhead(Senn2013)\n\n     TE   seTE   treat1.long treat2.long treat1 treat2           studlab\n1 -1.90 0.1414     Metformin     Placebo   metf   plac      DeFronzo1995\n2 -0.82 0.0992     Metformin     Placebo   metf   plac         Lewin2007\n3 -0.20 0.3579     Metformin    Acarbose   metf   acar        Willms1999\n4 -1.34 0.1435 Rosiglitazone     Placebo   rosi   plac      Davidson2007\n5 -1.10 0.1141 Rosiglitazone     Placebo   rosi   plac Wolffenbuttel1999\n6 -1.30 0.1268  Pioglitazone     Placebo   piog   plac        Kipnes2001\n\n\nè‡‚æ ¼å¼ (Arm-based)ï¼šæ¯è¡Œæ˜¯ä¸€ä¸ªç ”ç©¶è‡‚\n\n# è½¬æ¢ç¤ºä¾‹ï¼ˆå¦‚æœæ•°æ®æ˜¯è‡‚æ ¼å¼ï¼‰\n# pairwise() å‡½æ•°å¯ä»¥è½¬æ¢\n\n\n\nåŸºç¡€ NMA æ¨¡å‹\n\n# è¿è¡Œç½‘çŠ¶ Meta åˆ†æ\nnma_result &lt;- netmeta(\n    TE = TE, # æ•ˆåº”é‡ï¼ˆlog OR, log RR, MD ç­‰ï¼‰\n    seTE = seTE, # æ•ˆåº”é‡æ ‡å‡†è¯¯\n    treat1 = treat1, # å¹²é¢„ 1\n    treat2 = treat2, # å¹²é¢„ 2\n    studlab = studlab, # ç ”ç©¶æ ‡è¯†\n    data = Senn2013,\n    sm = \"MD\", # æ•ˆåº”é‡ç±»å‹ï¼šMean Difference\n    reference.group = \"plac\", # å‚ç…§ç»„\n    common = FALSE, # ä½¿ç”¨éšæœºæ•ˆåº”æ¨¡å‹\n    random = TRUE\n)\n\n# æŸ¥çœ‹ç»“æœæ‘˜è¦\nsummary(nma_result)\n\nOriginal data (with adjusted standard errors for multi-arm studies):\n\n                   treat1 treat2      TE   seTE seTE.adj narms multiarm\nDeFronzo1995         metf   plac -1.9000 0.1414   0.3588     2         \nLewin2007            metf   plac -0.8200 0.0992   0.3443     2         \nWillms1999           acar   metf  0.2000 0.3579   0.5574     3        *\nDavidson2007         plac   rosi  1.3400 0.1435   0.3596     2         \nWolffenbuttel1999    plac   rosi  1.1000 0.1141   0.3489     2         \nKipnes2001           piog   plac -1.3000 0.1268   0.3533     2         \nKerenyi2004          plac   rosi  0.7700 0.1078   0.3469     2         \nHanefeld2004         metf   piog -0.1600 0.0849   0.3405     2         \nDerosa2004           piog   rosi  0.1000 0.1831   0.3772     2         \nBaksi2004            plac   rosi  1.3000 0.1014   0.3450     2         \nRosenstock2008       plac   rosi  1.0900 0.2263   0.3999     2         \nZhu2003              plac   rosi  1.5000 0.1624   0.3675     2         \nYang2003             metf   rosi  0.1400 0.2239   0.3986     2         \nVongthavaravat2002   rosi   sulf -1.2000 0.1436   0.3596     2         \nOyama2008            acar   sulf -0.4000 0.1549   0.3643     2         \nCosta1997            acar   plac -0.8000 0.1432   0.3595     2         \nHermansen2007        plac   sita  0.5700 0.1291   0.3541     2         \nGarber2008           plac   vild  0.7000 0.1273   0.3534     2         \nAlex1998             metf   sulf -0.3700 0.1184   0.3503     2         \nJohnston1994         migl   plac -0.7400 0.1839   0.3775     2         \nJohnston1998a        migl   plac -1.4100 0.2235   0.3983     2         \nKim2007              metf   rosi -0.0000 0.2339   0.4043     2         \nJohnston1998b        migl   plac -0.6800 0.2828   0.4344     2         \nGonzalez-Ortiz2004   metf   plac -0.4000 0.4356   0.5463     2         \nStucci1996           benf   plac -0.2300 0.3467   0.4785     2         \nMoulin2006           benf   plac -1.0100 0.1366   0.3569     2         \nWillms1999           metf   plac -1.2000 0.3758   0.5802     3        *\nWillms1999           acar   plac -1.0000 0.4669   0.8122     3        *\n\nNumber of treatment arms (by study):\n                   narms\nDeFronzo1995           2\nLewin2007              2\nWillms1999             3\nDavidson2007           2\nWolffenbuttel1999      2\nKipnes2001             2\nKerenyi2004            2\nHanefeld2004           2\nDerosa2004             2\nBaksi2004              2\nRosenstock2008         2\nZhu2003                2\nYang2003               2\nVongthavaravat2002     2\nOyama2008              2\nCosta1997              2\nHermansen2007          2\nGarber2008             2\nAlex1998               2\nJohnston1994           2\nJohnston1998a          2\nKim2007                2\nJohnston1998b          2\nGonzalez-Ortiz2004     2\nStucci1996             2\nMoulin2006             2\n\nResults (random effects model):\n\n                   treat1 treat2      MD             95%-CI\nDeFronzo1995         metf   plac -1.1268 [-1.4291; -0.8244]\nLewin2007            metf   plac -1.1268 [-1.4291; -0.8244]\nWillms1999           acar   metf  0.2850 [-0.2208;  0.7908]\nDavidson2007         plac   rosi  1.2335 [ 0.9830;  1.4839]\nWolffenbuttel1999    plac   rosi  1.2335 [ 0.9830;  1.4839]\nKipnes2001           piog   plac -1.1291 [-1.5596; -0.6986]\nKerenyi2004          plac   rosi  1.2335 [ 0.9830;  1.4839]\nHanefeld2004         metf   piog  0.0023 [-0.4398;  0.4444]\nDerosa2004           piog   rosi  0.1044 [-0.3347;  0.5435]\nBaksi2004            plac   rosi  1.2335 [ 0.9830;  1.4839]\nRosenstock2008       plac   rosi  1.2335 [ 0.9830;  1.4839]\nZhu2003              plac   rosi  1.2335 [ 0.9830;  1.4839]\nYang2003             metf   rosi  0.1067 [-0.2170;  0.4304]\nVongthavaravat2002   rosi   sulf -0.8169 [-1.2817; -0.3521]\nOyama2008            acar   sulf -0.4252 [-0.9456;  0.0951]\nCosta1997            acar   plac -0.8418 [-1.3236; -0.3600]\nHermansen2007        plac   sita  0.5700 [-0.1240;  1.2640]\nGarber2008           plac   vild  0.7000 [ 0.0073;  1.3927]\nAlex1998             metf   sulf -0.7102 [-1.1713; -0.2491]\nJohnston1994         migl   plac -0.9497 [-1.4040; -0.4955]\nJohnston1998a        migl   plac -0.9497 [-1.4040; -0.4955]\nKim2007              metf   rosi  0.1067 [-0.2170;  0.4304]\nJohnston1998b        migl   plac -0.9497 [-1.4040; -0.4955]\nGonzalez-Ortiz2004   metf   plac -1.1268 [-1.4291; -0.8244]\nStucci1996           benf   plac -0.7311 [-1.2918; -0.1705]\nMoulin2006           benf   plac -0.7311 [-1.2918; -0.1705]\nWillms1999           metf   plac -1.1268 [-1.4291; -0.8244]\nWillms1999           acar   plac -0.8418 [-1.3236; -0.3600]\n\nNumber of studies: k = 26\nNumber of pairwise comparisons: m = 28\nNumber of treatments: n = 10\nNumber of designs: d = 15\n\nRandom effects model\n\nTreatment estimate (sm = 'MD', comparison: other treatments vs 'plac'):\n          MD             95%-CI     z  p-value\nacar -0.8418 [-1.3236; -0.3600] -3.42   0.0006\nbenf -0.7311 [-1.2918; -0.1705] -2.56   0.0106\nmetf -1.1268 [-1.4291; -0.8244] -7.30 &lt; 0.0001\nmigl -0.9497 [-1.4040; -0.4955] -4.10 &lt; 0.0001\npiog -1.1291 [-1.5596; -0.6986] -5.14 &lt; 0.0001\nplac       .                  .     .        .\nrosi -1.2335 [-1.4839; -0.9830] -9.65 &lt; 0.0001\nsita -0.5700 [-1.2640;  0.1240] -1.61   0.1075\nsulf -0.4166 [-0.8887;  0.0556] -1.73   0.0838\nvild -0.7000 [-1.3927; -0.0073] -1.98   0.0476\n\nQuantifying heterogeneity / inconsistency:\ntau^2 = 0.1087; tau = 0.3297; I^2 = 81.4% [72.0%; 87.7%]\n\nTests of heterogeneity (within designs) and inconsistency (between designs):\n                    Q d.f.  p-value\nTotal           96.99   18 &lt; 0.0001\nWithin designs  74.46   11 &lt; 0.0001\nBetween designs 22.53    7   0.0021\n\nDetails of network meta-analysis methods:\n- Frequentist graph-theoretical approach\n- DerSimonian-Laird estimator for tau^2\n- Calculation of I^2 based on Q",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#ç½‘ç»œå›¾å¯è§†åŒ–",
    "href": "1041-network-meta.html#ç½‘ç»œå›¾å¯è§†åŒ–",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "3. ç½‘ç»œå›¾å¯è§†åŒ–",
    "text": "3. ç½‘ç»œå›¾å¯è§†åŒ–\n\nåŸºç¡€ç½‘ç»œå›¾\n\n# ç»˜åˆ¶ç½‘ç»œç»“æ„å›¾\nnetgraph(nma_result,\n    cex = 1.2, # èŠ‚ç‚¹æ–‡å­—å¤§å°\n    cex.points = 3, # èŠ‚ç‚¹å¤§å°\n    col = \"#4e79a7\", # èŠ‚ç‚¹é¢œè‰²\n    thickness = \"number.of.studies\", # è¾¹çš„ç²—ç»†\n    plastic = FALSE,\n    multiarm = TRUE\n)\ntitle(\"ç½‘çŠ¶ Meta åˆ†æç½‘ç»œå›¾\")\n\n\n\n\n\n\n\n\n\n\nç¾åŒ–ç½‘ç»œå›¾\n\n# æ›´ç²¾ç»†çš„ç½‘ç»œå›¾\nnetgraph(nma_result,\n    cex = 1.5,\n    cex.points = 4,\n    col = \"gray30\",\n    col.points = \"#4e79a7\",\n    thickness = \"number.of.studies\",\n    plastic = TRUE,\n    points = TRUE,\n    multiarm = TRUE,\n    number.of.studies = TRUE # æ˜¾ç¤ºç ”ç©¶æ•°é‡\n)\n\n\n\n\n\n\n\n\n\n\nggplot é£æ ¼ç½‘ç»œå›¾\n\n# æå–ç½‘ç»œä¿¡æ¯ç”¨äº ggplot\nnetwork_info &lt;- netconnection(nma_result)\n\n# è·å–èŠ‚ç‚¹å’Œè¾¹æ•°æ®\nnodes &lt;- data.frame(\n    treatment = nma_result$trts,\n    n_studies = rowSums(nma_result$A.matrix)\n)\n\n# ä½¿ç”¨ ggraph ç»‘åˆ¶ï¼ˆéœ€å®‰è£… ggraphï¼‰\n# library(ggraph)\n# library(igraph)\n\n# ç®€å•å¯è§†åŒ–\ncat(\n    \"ç½‘ç»œåŒ…å«\", nma_result$n, \"é¡¹ç ”ç©¶ï¼Œ\",\n    length(nma_result$trts), \"ç§å¹²é¢„æªæ–½\\n\"\n)\n\nç½‘ç»œåŒ…å« 10 é¡¹ç ”ç©¶ï¼Œ 10 ç§å¹²é¢„æªæ–½",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#æ•ˆåº”é‡ä¸æ’åº",
    "href": "1041-network-meta.html#æ•ˆåº”é‡ä¸æ’åº",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "4. æ•ˆåº”é‡ä¸æ’åº",
    "text": "4. æ•ˆåº”é‡ä¸æ’åº\n\næˆå¯¹æ¯”è¾ƒæ£®æ—å›¾\n\n# ç›¸å¯¹äºå‚ç…§ç»„çš„æ£®æ—å›¾\nforest(nma_result,\n    reference.group = \"plac\",\n    sortvar = TE,\n    smlab = \"Mean Difference vs Placebo\",\n    label.left = \"Favors Treatment\",\n    label.right = \"Favors Placebo\"\n)\n\n\n\n\n\n\n\n\n\n\nè”èµ›è¡¨ (League Table)\n\n# ç”Ÿæˆè”èµ›è¡¨\nleague_table &lt;- netleague(nma_result,\n    bracket = \"(\",\n    digits = 2\n)\n\n# æ˜¾ç¤ºæ•ˆåº”é‡çŸ©é˜µ\nprint(league_table$common, row.names = TRUE)\n\n                     acar                 benf                 metf\nacar                 acar                    .  0.20 (-0.50;  0.90)\nbenf  0.08 (-0.25;  0.41)                 benf                    .\nmetf  0.29 ( 0.06;  0.51)  0.21 (-0.07;  0.48)                 metf\nmigl  0.12 (-0.21;  0.44)  0.04 (-0.31;  0.39) -0.17 (-0.44;  0.10)\npiog  0.24 (-0.01;  0.49)  0.16 (-0.13;  0.45) -0.05 (-0.18;  0.09)\nplac -0.83 (-1.04; -0.61) -0.91 (-1.15; -0.66) -1.11 (-1.23; -1.00)\nrosi  0.37 ( 0.15;  0.60)  0.30 ( 0.03;  0.56)  0.09 (-0.04;  0.22)\nsita -0.26 (-0.59;  0.07) -0.34 (-0.69;  0.02) -0.54 (-0.82; -0.27)\nsulf -0.39 (-0.61; -0.17) -0.47 (-0.77; -0.16) -0.67 (-0.85; -0.50)\nvild -0.13 (-0.46;  0.20) -0.21 (-0.56;  0.15) -0.41 (-0.69; -0.14)\n                     migl                 piog                 plac\nacar                    .                    . -0.82 (-1.09; -0.55)\nbenf                    .                    . -0.91 (-1.15; -0.66)\nmetf                    . -0.16 (-0.33;  0.01) -1.15 (-1.31; -1.00)\nmigl                 migl                    . -0.94 (-1.19; -0.70)\npiog  0.12 (-0.17;  0.41)                 piog -1.30 (-1.55; -1.05)\nplac -0.94 (-1.19; -0.70) -1.07 (-1.22; -0.92)                 plac\nrosi  0.26 (-0.01;  0.52)  0.14 (-0.02;  0.30)  1.20 ( 1.11;  1.30)\nsita -0.37 (-0.73; -0.02) -0.50 (-0.79; -0.20)  0.57 ( 0.32;  0.82)\nsulf -0.50 (-0.81; -0.20) -0.63 (-0.84; -0.42)  0.44 ( 0.26;  0.62)\nvild -0.24 (-0.60;  0.11) -0.37 (-0.66; -0.08)  0.70 ( 0.45;  0.95)\n                     rosi                 sita                 sulf\nacar                    .                    . -0.40 (-0.70; -0.10)\nbenf                    .                    .                    .\nmetf  0.07 (-0.24;  0.39)                    . -0.37 (-0.60; -0.14)\nmigl                    .                    .                    .\npiog  0.10 (-0.26;  0.46)                    .                    .\nplac  1.15 ( 1.05;  1.25)  0.57 ( 0.32;  0.82)                    .\nrosi                 rosi                    . -1.20 (-1.48; -0.92)\nsita -0.63 (-0.90; -0.36)                 sita                    .\nsulf -0.76 (-0.94; -0.58) -0.13 (-0.44;  0.18)                 sulf\nvild -0.50 (-0.77; -0.24)  0.13 (-0.23;  0.49)  0.26 (-0.05;  0.57)\n                    vild\nacar                   .\nbenf                   .\nmetf                   .\nmigl                   .\npiog                   .\nplac 0.70 ( 0.45;  0.95)\nrosi                   .\nsita                   .\nsulf                   .\nvild                vild\n\n\n\n\næ’åºåˆ†æ\n\n# è®¡ç®— P-scoresï¼ˆé¢‘ç‡å­¦æ´¾æ’åºï¼‰\nnetrank_result &lt;- netrank(nma_result, small.values = \"good\")\n\n# æŸ¥çœ‹æ’åºç»“æœ\nprint(netrank_result)\n\n     P-score\nrosi  0.8934\nmetf  0.7818\npiog  0.7746\nmigl  0.6137\nacar  0.5203\nbenf  0.4358\nvild  0.4232\nsita  0.3331\nsulf  0.2103\nplac  0.0139\n\n# ç»˜åˆ¶æ’åºå›¾\nplot(netrank_result)\n\n\n\n\n\n\n\n\n\n\nSUCRA æ›²çº¿\n\n# è®¡ç®—ç´¯ç§¯æ’åºæ¦‚ç‡ï¼ˆSUCRAï¼‰\n# netmeta ä½¿ç”¨ P-scoreï¼Œä¸è´å¶æ–¯çš„ SUCRA ç±»ä¼¼\n\n# å¯è§†åŒ–æ’åº\nranking_df &lt;- data.frame(\n    Treatment = names(netrank_result$Pscore.random),\n    P_score = netrank_result$Pscore.random\n) %&gt;%\n    arrange(desc(P_score))\n\nggplot(ranking_df, aes(x = reorder(Treatment, P_score), y = P_score)) +\n    geom_col(fill = \"#4e79a7\", alpha = 0.8) +\n    geom_text(aes(label = round(P_score, 3)), hjust = -0.1, size = 3.5) +\n    coord_flip() +\n    ylim(0, 1.1) +\n    labs(\n        title = \"å¹²é¢„æªæ–½ P-score æ’åº\",\n        subtitle = \"P-score è¶Šé«˜è¡¨ç¤ºæ•ˆæœè¶Šå¥½\",\n        x = NULL,\n        y = \"P-score\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#ä¸€è‡´æ€§æ£€éªŒ",
    "href": "1041-network-meta.html#ä¸€è‡´æ€§æ£€éªŒ",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "5. ä¸€è‡´æ€§æ£€éªŒ",
    "text": "5. ä¸€è‡´æ€§æ£€éªŒ\n\nå…¨å±€ä¸€è‡´æ€§æ£€éªŒ\n\n# æ•´ä½“ä¸€è‡´æ€§æ£€éªŒï¼ˆè®¾è®¡ Ã— å¹²é¢„äº¤äº’ï¼‰\ndecomp &lt;- decomp.design(nma_result)\nprint(decomp)\n\nQ statistics to assess homogeneity / consistency\n\n                    Q df  p-value\nTotal           96.99 18 &lt; 0.0001\nWithin designs  74.46 11 &lt; 0.0001\nBetween designs 22.53  7   0.0021\n\nDesign-specific decomposition of within-designs Q statistic\n\n    Design     Q df  p-value\n plac:metf 42.16  2 &lt; 0.0001\n plac:rosi 21.27  5   0.0007\n plac:benf  4.38  1   0.0363\n plac:migl  6.45  2   0.0398\n metf:rosi  0.19  1   0.6655\n\nBetween-designs Q statistic after detaching of single designs\n(influential designs have p-value markedly different from 0.0021)\n\n Detached design     Q df p-value\n       rosi:sulf  6.77  6  0.3425\n       metf:sulf  7.51  6  0.2760\n       plac:rosi 16.29  6  0.0123\n       metf:piog 17.13  6  0.0088\n       plac:piog 17.25  6  0.0084\n       plac:metf 22.07  6  0.0012\n       plac:acar 22.44  6  0.0010\n       piog:rosi 22.48  6  0.0010\n       acar:sulf 22.52  6  0.0010\n       metf:rosi 22.52  6  0.0010\n  plac:acar:metf 22.38  5  0.0004\n\nQ statistic to assess consistency under the assumption of\na full design-by-treatment interaction random effects model\n\n                   Q df p-value tau.within tau2.within\nBetween designs 2.19  7  0.9483     0.3797      0.1442\n\n\nç»“æœè§£è¯»ï¼š - Between-designs å¼‚è´¨æ€§ï¼šä¸åŒç ”ç©¶è®¾è®¡ä¹‹é—´çš„å·®å¼‚ - p å€¼æ˜¾è‘—è¡¨ç¤ºå­˜åœ¨ä¸ä¸€è‡´æ€§\n\n\nå±€éƒ¨ä¸ä¸€è‡´æ€§ï¼šèŠ‚ç‚¹åˆ†å‰²æ³•\n\n# èŠ‚ç‚¹åˆ†å‰²æ¯”è¾ƒç›´æ¥å’Œé—´æ¥è¯æ®\nnetsplit_result &lt;- netsplit(nma_result)\n\n# æŸ¥çœ‹ç»“æœ\nprint(netsplit_result)\n\nSeparate indirect from direct evidence (SIDE) using back-calculation method\n\nRandom effects model: \n\n comparison k prop     nma  direct  indir.    Diff     z p-value\n  acar:metf 1 0.28  0.2850  0.2000  0.3182 -0.1182 -0.21  0.8368\n  acar:plac 2 0.65 -0.8418 -0.8567 -0.8138 -0.0429 -0.08  0.9338\n  acar:sulf 1 0.53 -0.4252 -0.4000 -0.4538  0.0538  0.10  0.9194\n  metf:piog 1 0.44  0.0023 -0.1600  0.1293 -0.2893 -0.64  0.5245\n  metf:plac 4 0.56 -1.1268 -1.1810 -1.0576 -0.1234 -0.40  0.6912\n  metf:rosi 2 0.34  0.1067  0.0710  0.1250 -0.0540 -0.15  0.8771\n  metf:sulf 1 0.45 -0.7102 -0.3700 -0.9896  0.6196  1.31  0.1900\n  piog:plac 1 0.39 -1.1291 -1.3000 -1.0214 -0.2786 -0.62  0.5368\n  piog:rosi 1 0.35  0.1044  0.1000  0.1067 -0.0067 -0.01  0.9885\n  rosi:plac 6 0.76 -1.2335 -1.1797 -1.4004  0.2206  0.74  0.4587\n  rosi:sulf 1 0.43 -0.8169 -1.2000 -0.5222 -0.6778 -1.42  0.1565\n\nLegend:\n comparison - Treatment comparison\n k          - Number of studies providing direct evidence\n prop       - Direct evidence proportion\n nma        - Estimated treatment effect (MD) in network meta-analysis\n direct     - Estimated treatment effect (MD) derived from direct evidence\n indir.     - Estimated treatment effect (MD) derived from indirect evidence\n Diff       - Difference between direct and indirect treatment estimates\n z          - z-value of test for disagreement (direct versus indirect)\n p-value    - p-value of test for disagreement (direct versus indirect)\n\n# å¯è§†åŒ–\nforest(netsplit_result)\n\n\n\n\n\n\n\n\n\n\nå‡€çƒ­å›¾ (Net Heat Plot)\n\n# çƒ­å›¾å±•ç¤ºä¸ä¸€è‡´æ€§\nnetheat(nma_result, random = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#äºšç»„ä¸æ•æ„Ÿæ€§åˆ†æ",
    "href": "1041-network-meta.html#äºšç»„ä¸æ•æ„Ÿæ€§åˆ†æ",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "6. äºšç»„ä¸æ•æ„Ÿæ€§åˆ†æ",
    "text": "6. äºšç»„ä¸æ•æ„Ÿæ€§åˆ†æ\n\näºšç»„åˆ†æ\n\n# æŒ‰ç ”ç©¶ç‰¹å¾åˆ†å±‚çš„äºšç»„åˆ†æ\n# éœ€è¦åœ¨æ•°æ®ä¸­æ·»åŠ äºšç»„å˜é‡\n\nnma_subgroup &lt;- netmeta(\n    TE, seTE, treat1, treat2, studlab,\n    data = subset(Senn2013, year &gt;= 2000), # åªç”¨ 2000 å¹´åçš„ç ”ç©¶\n    sm = \"MD\",\n    reference.group = \"plac\",\n    random = TRUE\n)\n\n\n\næ•æ„Ÿæ€§åˆ†æï¼šæ’é™¤é«˜é£é™©ç ”ç©¶\n\n# æ’é™¤æŸäº›ç ”ç©¶çš„æ•æ„Ÿæ€§åˆ†æ\nnma_sensitivity &lt;- netmeta(\n    TE, seTE, treat1, treat2, studlab,\n    data = subset(Senn2013, !studlab %in% c(\"Study1\", \"Study2\")),\n    sm = \"MD\",\n    reference.group = \"plac\",\n    random = TRUE\n)\n\n# æ¯”è¾ƒæ’åºå˜åŒ–\ncompare_rankings &lt;- data.frame(\n    Original = netrank(nma_result)$Pscore.random,\n    Sensitivity = netrank(nma_sensitivity)$Pscore.random\n)\n\n\n\nç•™ä¸€æ³•æ•æ„Ÿæ€§åˆ†æ\n\n# ç•™ä¸€æ³•åˆ†æ\nloo_result &lt;- nma_result # éœ€è¦æ‰‹åŠ¨å¾ªç¯å®ç°\n\n# æˆ–ä½¿ç”¨è´¡çŒ®çŸ©é˜µ\n# netcontrib(nma_result)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#å‘è¡¨åå€šè¯„ä¼°",
    "href": "1041-network-meta.html#å‘è¡¨åå€šè¯„ä¼°",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "7. å‘è¡¨åå€šè¯„ä¼°",
    "text": "7. å‘è¡¨åå€šè¯„ä¼°\n\næ¯”è¾ƒè°ƒæ•´æ¼æ–—å›¾\n\n# æ¼æ–—å›¾\nfunnel(nma_result,\n    order = nma_result$trts,\n    pch = 16,\n    col = \"#4e79a7\",\n    linreg = TRUE\n)\n\n\n\n\n\n\n\n\n\n\nEgger æ£€éªŒ\n\n# metabias éœ€è¦æˆå¯¹æ•°æ®\n# å¯ä»¥ä½¿ç”¨ netmeta çš„æ¼æ–—å›¾è¿›è¡Œè§†è§‰è¯„ä¼°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#å®Œæ•´æ¡ˆä¾‹åˆ†æ",
    "href": "1041-network-meta.html#å®Œæ•´æ¡ˆä¾‹åˆ†æ",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "8. å®Œæ•´æ¡ˆä¾‹åˆ†æ",
    "text": "8. å®Œæ•´æ¡ˆä¾‹åˆ†æ\n\næ•°æ®å‡†å¤‡\n\n# ä½¿ç”¨å†…ç½®æŠ‘éƒç—‡æ²»ç–—æ•°æ®\ndata(\"Linde2016\")\nhead(Linde2016)\n\n   id    author year           treat1             treat2\n1   1 Lecrubier 1997             SNRI            Placebo\n2   1 Lecrubier 1997              TCA            Placebo\n3   1 Lecrubier 1997              TCA               SNRI\n40  2      Smit 2006 Face-to-face CBT                 UC\n62  4   Blashki 1971              TCA            Placebo\n72  5      Bedi 2000         Ind drug Other face-to-face\n                     treat1.long                               treat2.long\n1                           SNRI                                   Placebo\n2                            TCA                                   Placebo\n3                            TCA                                      SNRI\n40              Face-to-face CBT                                        UC\n62                           TCA                                   Placebo\n72 Individualized antidepressant Other face-to-face psychosocial therapies\n        lnOR   selnOR resp1 n1 resp2 n2\n1   0.664976 0.358845    60 78    48 76\n2   0.094727 0.339731    49 75    48 76\n3  -0.570249 0.362066    49 75    60 78\n40  0.466237 0.411963    16 44    19 72\n62  0.916291 0.555278    20 35     8 23\n72  0.283880 0.411890    20 51    17 52\n\n\n\n\nè¿è¡Œåˆ†æ\n\n# å®Œæ•´çš„ NMA æµç¨‹\nnma_depression &lt;- netmeta(\n    lnOR, # log Odds Ratio\n    selnOR, # æ ‡å‡†è¯¯\n    treat1.long, treat2.long, # å¹²é¢„åç§°\n    id, # ç ”ç©¶ ID\n    data = Linde2016,\n    sm = \"OR\", # Odds Ratio\n    reference.group = \"Placebo\",\n    common = FALSE,\n    random = TRUE\n)\n\n\n\nç»“æœæ±‡æ€»\n\n# 1. ç½‘ç»œå›¾\nnetgraph(nma_depression,\n    plastic = TRUE,\n    thickness = \"number.of.studies\",\n    cex.points = 3\n)\ntitle(\"æŠ‘éƒç—‡æ²»ç–—ç½‘ç»œå›¾\")\n\n\n\n\n\n\n\n# 2. æ£®æ—å›¾\nforest(nma_depression,\n    reference.group = \"Placebo\",\n    sortvar = TE,\n    digits = 2\n)\n\n\n\n\n\n\n\n# 3. æ’åº\nrank_depression &lt;- netrank(nma_depression, small.values = \"bad\")\nprint(rank_depression)\n\n                                                P-score\nFace-to-face CBT + SSRI                          0.9983\nIndividualized antidepressant                    0.7623\nRemote therapist-lead CBT                        0.7424\nHypericum                                        0.7164\nFace-to-face CBT                                 0.7071\nSNRI                                             0.6719\nGuided self-help CBT                             0.6455\nOther face-to-face psychosocial therapies        0.6344\nLow-dose SARI                                    0.6067\nFace-to-face interpersonal psychotherapy + SSRI  0.5571\nNo/minimal contact CBT                           0.5518\nTCA                                              0.5481\nSSRI                                             0.5198\nFace-to-face psychodynamic therapy               0.4529\nFace-to-face PST + SSRI                          0.4465\nNRI                                              0.3704\nFace-to-face PST                                 0.3211\nNaSSA                                            0.2158\nUC                                               0.1728\nFace-to-face interpersonal psychotherapy         0.1475\nrMAO-A                                           0.1367\nPlacebo                                          0.0744\n\n\n\n\nä¸€è‡´æ€§æ£€éªŒ\n\n# è®¾è®¡åˆ†è§£\ndecomp_depression &lt;- decomp.design(nma_depression)\n\n# èŠ‚ç‚¹åˆ†å‰²\nsplit_depression &lt;- netsplit(nma_depression)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#æŠ¥å‘Šä¸å›¾è¡¨å¯¼å‡º",
    "href": "1041-network-meta.html#æŠ¥å‘Šä¸å›¾è¡¨å¯¼å‡º",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "9. æŠ¥å‘Šä¸å›¾è¡¨å¯¼å‡º",
    "text": "9. æŠ¥å‘Šä¸å›¾è¡¨å¯¼å‡º\n\nç»“æœè¡¨æ ¼\n\n# ç”Ÿæˆå¯å‘è¡¨çš„ç»“æœè¡¨æ ¼\nresults_table &lt;- data.frame(\n    Treatment = names(netrank(nma_result)$Pscore.random),\n    `P-score` = round(netrank(nma_result)$Pscore.random, 3),\n    `Rank` = rank(-netrank(nma_result)$Pscore.random)\n) %&gt;%\n    arrange(Rank)\n\nknitr::kable(results_table,\n    caption = \"å¹²é¢„æªæ–½æ•ˆæœæ’åº\",\n    row.names = FALSE\n)\n\n\nå¹²é¢„æªæ–½æ•ˆæœæ’åº\n\n\nTreatment\nP.score\nRank\n\n\n\n\nrosi\n0.893\n1\n\n\nmetf\n0.782\n2\n\n\npiog\n0.775\n3\n\n\nmigl\n0.614\n4\n\n\nacar\n0.520\n5\n\n\nbenf\n0.436\n6\n\n\nvild\n0.423\n7\n\n\nsita\n0.333\n8\n\n\nsulf\n0.210\n9\n\n\nplac\n0.014\n10\n\n\n\n\n\n\n\nå¯¼å‡ºé«˜è´¨é‡å›¾è¡¨\n\n# å¯¼å‡ºç½‘ç»œå›¾\npdf(\"network_graph.pdf\", width = 8, height = 8)\nnetgraph(nma_result, plastic = TRUE, thickness = \"number.of.studies\")\ndev.off()\n\n# å¯¼å‡ºæ£®æ—å›¾\npdf(\"forest_plot.pdf\", width = 10, height = 12)\nforest(nma_result, reference.group = \"plac\")\ndev.off()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#é«˜çº§ä¸»é¢˜",
    "href": "1041-network-meta.html#é«˜çº§ä¸»é¢˜",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "10. é«˜çº§ä¸»é¢˜",
    "text": "10. é«˜çº§ä¸»é¢˜\n\nè´å¶æ–¯ NMA (gemtc)\n\n# è´å¶æ–¯æ–¹æ³•ä½¿ç”¨ gemtc åŒ…\n# install.packages(\"gemtc\")\nlibrary(gemtc)\n\n# éœ€è¦ JAGS è½¯ä»¶\n# æä¾›æ›´çµæ´»çš„å»ºæ¨¡å’Œå®Œæ•´çš„åéªŒåˆ†å¸ƒ\n\n\n\nå¤šæˆåˆ†å¹²é¢„ NMA\n\n# å¯¹äºç»„åˆå¹²é¢„ï¼ˆå¦‚ A+B vs A vs Bï¼‰\n# ä½¿ç”¨ netmeta çš„å¤šæˆåˆ†åˆ†æåŠŸèƒ½\n# nma_additive &lt;- netmeta(..., , additive = TRUE)\n\n\n\nè´¨é‡è¯„ä¼° CINeMA\n\n# ä½¿ç”¨ CINeMA æ¡†æ¶è¯„ä¼° NMA è¯æ®è´¨é‡\n# è€ƒè™‘ï¼šç ”ç©¶å†…åå€šã€æŠ¥å‘Šåå€šã€é—´æ¥æ€§ã€ä¸ç²¾ç¡®æ€§ã€å¼‚è´¨æ€§ã€ä¸ä¸€è‡´æ€§\n\nquality_table &lt;- data.frame(\n    Domain = c(\n        \"Within-study bias\", \"Reporting bias\", \"Indirectness\",\n        \"Imprecision\", \"Heterogeneity\", \"Incoherence\"\n    ),\n    Assessment = c(\n        \"Some concerns\", \"Low\", \"Low\",\n        \"Some concerns\", \"Low\", \"Low\"\n    ),\n    Notes = c(\n        \"éƒ¨åˆ†ç ”ç©¶è´¨é‡ä¸­ç­‰\", \"æ¼æ–—å›¾å¯¹ç§°\",\n        \"äººç¾¤å’Œå¹²é¢„ç›¸ä¼¼\", \"æ ·æœ¬é‡æœ‰é™\",\n        \"IÂ²ä¸­ç­‰\", \"ä¸€è‡´æ€§æ£€éªŒä¸æ˜¾è‘—\"\n    )\n)\n\nknitr::kable(quality_table, caption = \"CINeMA è¯æ®è´¨é‡è¯„ä¼°\")\n\n\nCINeMA è¯æ®è´¨é‡è¯„ä¼°\n\n\nDomain\nAssessment\nNotes\n\n\n\n\nWithin-study bias\nSome concerns\néƒ¨åˆ†ç ”ç©¶è´¨é‡ä¸­ç­‰\n\n\nReporting bias\nLow\næ¼æ–—å›¾å¯¹ç§°\n\n\nIndirectness\nLow\näººç¾¤å’Œå¹²é¢„ç›¸ä¼¼\n\n\nImprecision\nSome concerns\næ ·æœ¬é‡æœ‰é™\n\n\nHeterogeneity\nLow\nIÂ²ä¸­ç­‰\n\n\nIncoherence\nLow\nä¸€è‡´æ€§æ£€éªŒä¸æ˜¾è‘—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "href": "1041-network-meta.html#æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "text": "æ³¨æ„äº‹é¡¹ä¸å»ºè®®\n\n[!WARNING] NMA çš„å…³é”®å‡è®¾æ£€éªŒï¼š 1. ä¸€è‡´æ€§å‡è®¾å¿…é¡»é€šè¿‡æ£€éªŒéªŒè¯ 2. ç½‘ç»œå¿…é¡»æ˜¯è¿é€šçš„ï¼ˆæ‰€æœ‰å¹²é¢„éœ€ç›¸è¿ï¼‰ 3. ç ”ç©¶é—´å¼‚è´¨æ€§éœ€è¦æ§åˆ¶åœ¨åˆç†èŒƒå›´\n\n\n[!TIP] å®è·µå»ºè®®ï¼š - å…ˆç»˜åˆ¶ç½‘ç»œå›¾ï¼Œäº†è§£è¯æ®ç»“æ„ - ä½¿ç”¨éšæœºæ•ˆåº”æ¨¡å‹å¤„ç†å¼‚è´¨æ€§ - åŒæ—¶æŠ¥å‘Š P-score å’Œ 95% CI - è¿›è¡Œæ•æ„Ÿæ€§åˆ†æéªŒè¯ç»“æœç¨³å¥æ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1041-network-meta.html#å‚è€ƒæ–‡çŒ®",
    "href": "1041-network-meta.html#å‚è€ƒæ–‡çŒ®",
    "title": "ç½‘çŠ¶ Meta åˆ†æ (Network Meta-Analysis) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nRÃ¼cker, G., & Schwarzer, G. (2015). Ranking treatments in frequentist network meta-analysis works without resampling methods. BMC Medical Research Methodology, 15(1), 58.\nSalanti, G. (2012). Indirect and mixed-treatment comparison, network, or multiple-treatments meta-analysis: many names, many benefits, many concerns for the next generation evidence synthesis tool. Research Synthesis Methods, 3(2), 80-97.\nChaimani, A., et al.Â (2013). Graphical tools for network meta-analysis in STATA. PLoS ONE, 8(10), e76654.\nNikolakopoulou, A., et al.Â (2020). CINeMA: An approach for assessing confidence in the results of a network meta-analysis. PLoS Medicine, 17(4), e1003082.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç½‘çŠ¶ Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1039-pca.html",
    "href": "1039-pca.html",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¸»æˆåˆ†åˆ†æ (Principal Component Analysis, PCA) æ˜¯ä¸€ç§å¸¸ç”¨çš„é™ç»´å’Œæ•°æ®æ¢ç´¢æŠ€æœ¯ï¼Œé€šè¿‡çº¿æ€§å˜æ¢å°†åŸå§‹å˜é‡è½¬æ¢ä¸ºä¸€ç»„ä¸ç›¸å…³çš„æ–°å˜é‡ï¼ˆä¸»æˆåˆ†ï¼‰ï¼ŒæŒ‰æ–¹å·®è§£é‡Šé‡æ’åºã€‚\n\n\n\né™ç»´ï¼šå‡å°‘å˜é‡æ•°é‡ï¼Œä¿ç•™ä¸»è¦ä¿¡æ¯\nå¯è§†åŒ–ï¼šé«˜ç»´æ•°æ®çš„äºŒç»´/ä¸‰ç»´å¯è§†åŒ–\nå»é™¤å¤šé‡å…±çº¿æ€§ï¼šå°†ç›¸å…³å˜é‡è½¬æ¢ä¸ºæ­£äº¤æˆåˆ†\nç‰¹å¾æå–ï¼šè¯†åˆ«æ•°æ®çš„ä¸»è¦å˜å¼‚æ¨¡å¼\né¢„å¤„ç†ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹çš„è¾“å…¥ç‰¹å¾é™ç»´\n\n\n\n\n\n\n\nç‰¹æ€§\nPCA\nå› å­åˆ†æ\n\n\n\n\nç›®æ ‡\nè§£é‡Šæ–¹å·®\nè§£é‡Šç›¸å…³\n\n\nå‡è®¾\næ— æ½œå˜é‡å‡è®¾\nå‡è®¾å­˜åœ¨æ½œå˜é‡\n\n\næˆåˆ†/å› å­\nè§‚æµ‹å˜é‡çš„çº¿æ€§ç»„åˆ\næ½œå˜é‡\n\n\né€‚ç”¨\né™ç»´ã€æ¢ç´¢\né‡è¡¨å¼€å‘ã€ç»“æ„å‘ç°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#ç®€ä»‹",
    "href": "1039-pca.html#ç®€ä»‹",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¸»æˆåˆ†åˆ†æ (Principal Component Analysis, PCA) æ˜¯ä¸€ç§å¸¸ç”¨çš„é™ç»´å’Œæ•°æ®æ¢ç´¢æŠ€æœ¯ï¼Œé€šè¿‡çº¿æ€§å˜æ¢å°†åŸå§‹å˜é‡è½¬æ¢ä¸ºä¸€ç»„ä¸ç›¸å…³çš„æ–°å˜é‡ï¼ˆä¸»æˆåˆ†ï¼‰ï¼ŒæŒ‰æ–¹å·®è§£é‡Šé‡æ’åºã€‚\n\n\n\né™ç»´ï¼šå‡å°‘å˜é‡æ•°é‡ï¼Œä¿ç•™ä¸»è¦ä¿¡æ¯\nå¯è§†åŒ–ï¼šé«˜ç»´æ•°æ®çš„äºŒç»´/ä¸‰ç»´å¯è§†åŒ–\nå»é™¤å¤šé‡å…±çº¿æ€§ï¼šå°†ç›¸å…³å˜é‡è½¬æ¢ä¸ºæ­£äº¤æˆåˆ†\nç‰¹å¾æå–ï¼šè¯†åˆ«æ•°æ®çš„ä¸»è¦å˜å¼‚æ¨¡å¼\né¢„å¤„ç†ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹çš„è¾“å…¥ç‰¹å¾é™ç»´\n\n\n\n\n\n\n\nç‰¹æ€§\nPCA\nå› å­åˆ†æ\n\n\n\n\nç›®æ ‡\nè§£é‡Šæ–¹å·®\nè§£é‡Šç›¸å…³\n\n\nå‡è®¾\næ— æ½œå˜é‡å‡è®¾\nå‡è®¾å­˜åœ¨æ½œå˜é‡\n\n\næˆåˆ†/å› å­\nè§‚æµ‹å˜é‡çš„çº¿æ€§ç»„åˆ\næ½œå˜é‡\n\n\né€‚ç”¨\né™ç»´ã€æ¢ç´¢\né‡è¡¨å¼€å‘ã€ç»“æ„å‘ç°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#å®‰è£…ä¸åŠ è½½",
    "href": "1039-pca.html#å®‰è£…ä¸åŠ è½½",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# install.packages(\"FactoMineR\")   # é«˜çº§PCA\n# install.packages(\"factoextra\")   # PCAå¯è§†åŒ–\n# install.packages(\"ggfortify\")    # ggplot2 æ‰©å±•\n\nlibrary(FactoMineR)\nlibrary(factoextra)\nlibrary(ggplot2)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#ç¤ºä¾‹æ•°æ®",
    "href": "1039-pca.html#ç¤ºä¾‹æ•°æ®",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "ç¤ºä¾‹æ•°æ®",
    "text": "ç¤ºä¾‹æ•°æ®\nä½¿ç”¨ decathlon2 æ•°æ®é›†ï¼ˆåé¡¹å…¨èƒ½è¿åŠ¨å‘˜æˆç»©ï¼‰ã€‚\n\ndata(\"decathlon2\")\nhead(decathlon2)\n\n          X100m Long.jump Shot.put High.jump X400m X110m.hurdle Discus\nSEBRLE    11.04      7.58    14.83      2.07 49.81        14.69  43.75\nCLAY      10.76      7.40    14.26      1.86 49.37        14.05  50.72\nBERNARD   11.02      7.23    14.25      1.92 48.93        14.99  40.87\nYURKOV    11.34      7.09    15.19      2.10 50.42        15.31  46.26\nZSIVOCZKY 11.13      7.30    13.48      2.01 48.62        14.17  45.67\nMcMULLEN  10.83      7.31    13.76      2.13 49.91        14.38  44.41\n          Pole.vault Javeline X1500m Rank Points Competition\nSEBRLE          5.02    63.19  291.7    1   8217    Decastar\nCLAY            4.92    60.15  301.5    2   8122    Decastar\nBERNARD         5.32    62.77  280.1    4   8067    Decastar\nYURKOV          4.72    63.44  276.4    5   8036    Decastar\nZSIVOCZKY       4.42    55.37  268.0    7   8004    Decastar\nMcMULLEN        4.42    56.37  285.1    8   7995    Decastar\n\n\nå˜é‡è¯´æ˜ï¼š - 10ä¸ªè¿åŠ¨é¡¹ç›®æˆç»© + æ€»åˆ†æ’å + æ¯”èµ›ç±»å‹\n\n# æå–æ´»åŠ¨å˜é‡ï¼ˆ10ä¸ªè¿åŠ¨é¡¹ç›®ï¼‰\nactive_vars &lt;- decathlon2[, 1:10]\nhead(active_vars)\n\n          X100m Long.jump Shot.put High.jump X400m X110m.hurdle Discus\nSEBRLE    11.04      7.58    14.83      2.07 49.81        14.69  43.75\nCLAY      10.76      7.40    14.26      1.86 49.37        14.05  50.72\nBERNARD   11.02      7.23    14.25      1.92 48.93        14.99  40.87\nYURKOV    11.34      7.09    15.19      2.10 50.42        15.31  46.26\nZSIVOCZKY 11.13      7.30    13.48      2.01 48.62        14.17  45.67\nMcMULLEN  10.83      7.31    13.76      2.13 49.91        14.38  44.41\n          Pole.vault Javeline X1500m\nSEBRLE          5.02    63.19  291.7\nCLAY            4.92    60.15  301.5\nBERNARD         5.32    62.77  280.1\nYURKOV          4.72    63.44  276.4\nZSIVOCZKY       4.42    55.37  268.0\nMcMULLEN        4.42    56.37  285.1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#æ•°æ®é¢„å¤„ç†",
    "href": "1039-pca.html#æ•°æ®é¢„å¤„ç†",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®é¢„å¤„ç†",
    "text": "æ•°æ®é¢„å¤„ç†\n\næ£€æŸ¥æ•°æ®\n\n# æè¿°ç»Ÿè®¡\nsummary(active_vars)\n\n     X100m         Long.jump        Shot.put       High.jump    \n Min.   :10.44   Min.   :6.800   Min.   :12.68   Min.   :1.860  \n 1st Qu.:10.84   1st Qu.:7.210   1st Qu.:14.17   1st Qu.:1.930  \n Median :10.97   Median :7.310   Median :14.57   Median :1.980  \n Mean   :10.99   Mean   :7.365   Mean   :14.54   Mean   :1.998  \n 3rd Qu.:11.13   3rd Qu.:7.545   3rd Qu.:15.01   3rd Qu.:2.080  \n Max.   :11.64   Max.   :7.960   Max.   :16.36   Max.   :2.150  \n     X400m        X110m.hurdle       Discus        Pole.vault   \n Min.   :46.81   Min.   :13.97   Min.   :37.92   Min.   :4.400  \n 1st Qu.:48.70   1st Qu.:14.15   1st Qu.:42.27   1st Qu.:4.660  \n Median :49.20   Median :14.34   Median :44.72   Median :4.900  \n Mean   :49.31   Mean   :14.50   Mean   :44.85   Mean   :4.836  \n 3rd Qu.:49.86   3rd Qu.:14.87   3rd Qu.:46.93   3rd Qu.:5.000  \n Max.   :51.16   Max.   :15.67   Max.   :51.65   Max.   :5.400  \n    Javeline         X1500m     \n Min.   :50.31   Min.   :262.1  \n 1st Qu.:55.32   1st Qu.:271.6  \n Median :57.19   Median :278.1  \n Mean   :58.32   Mean   :278.5  \n 3rd Qu.:62.05   3rd Qu.:283.6  \n Max.   :70.52   Max.   :301.5  \n\n# æ£€æŸ¥ç¼ºå¤±å€¼\nsum(is.na(active_vars))\n\n[1] 0\n\n\n\n\næ ‡å‡†åŒ–\nPCA å¯¹æ•°æ®å°ºåº¦æ•æ„Ÿï¼Œä¸åŒé‡çº²çš„å˜é‡éœ€è¦æ ‡å‡†åŒ–ã€‚\n\n# æ‰‹åŠ¨æ ‡å‡†åŒ–\nscaled_data &lt;- scale(active_vars)\n\n# æˆ–åœ¨ PCA å‡½æ•°ä¸­è®¾ç½® scale = TRUE",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#åŸºç¡€-pca-prcomp",
    "href": "1039-pca.html#åŸºç¡€-pca-prcomp",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ PCA (prcomp)",
    "text": "åŸºç¡€ PCA (prcomp)\n\næ‰§è¡Œ PCA\n\n# ä½¿ç”¨ prcomp è¿›è¡Œ PCA\npca_result &lt;- prcomp(active_vars, scale. = TRUE)\n\n# æŸ¥çœ‹ç»“æœç»“æ„\nnames(pca_result)\n\n[1] \"sdev\"     \"rotation\" \"center\"   \"scale\"    \"x\"       \n\n\nè¾“å‡ºè§£é‡Šï¼š - sdev: å„ä¸»æˆåˆ†çš„æ ‡å‡†å·® - rotation: è½½è·çŸ©é˜µï¼ˆå˜é‡ä¸ä¸»æˆåˆ†çš„å…³ç³»ï¼‰ - x: ä¸»æˆåˆ†å¾—åˆ†ï¼ˆä¸ªä½“åœ¨å„ä¸»æˆåˆ†ä¸Šçš„å€¼ï¼‰ - center: ä¸­å¿ƒåŒ–å€¼ - scale: æ ‡å‡†åŒ–å€¼\n\n\næ–¹å·®è§£é‡Š\n\n# æ–¹å·®å’Œæ–¹å·®æ¯”ä¾‹\nsummary(pca_result)\n\nImportance of components:\n                         PC1    PC2    PC3    PC4     PC5     PC6     PC7\nStandard deviation     1.936 1.3210 1.2320 1.0160 0.78603 0.65444 0.57089\nProportion of Variance 0.375 0.1745 0.1518 0.1032 0.06178 0.04283 0.03259\nCumulative Proportion  0.375 0.5495 0.7013 0.8045 0.86630 0.90913 0.94172\n                           PC8     PC9    PC10\nStandard deviation     0.52857 0.43716 0.33511\nProportion of Variance 0.02794 0.01911 0.01123\nCumulative Proportion  0.96966 0.98877 1.00000\n\n\n\n\næå–æ–¹å·®ä¿¡æ¯\n\n# è®¡ç®—æ–¹å·®è§£é‡Š\nvar_explained &lt;- pca_result$sdev^2\nvar_percent &lt;- var_explained / sum(var_explained) * 100\ncumsum_percent &lt;- cumsum(var_percent)\n\ndata.frame(\n    PC = paste0(\"PC\", 1:length(var_explained)),\n    Variance = round(var_explained, 3),\n    Percent = round(var_percent, 2),\n    Cumulative = round(cumsum_percent, 2)\n)\n\n     PC Variance Percent Cumulative\n1   PC1    3.750   37.50      37.50\n2   PC2    1.745   17.45      54.95\n3   PC3    1.518   15.18      70.13\n4   PC4    1.032   10.32      80.45\n5   PC5    0.618    6.18      86.63\n6   PC6    0.428    4.28      90.91\n7   PC7    0.326    3.26      94.17\n8   PC8    0.279    2.79      96.97\n9   PC9    0.191    1.91      98.88\n10 PC10    0.112    1.12     100.00",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#ç¡®å®šä¸»æˆåˆ†æ•°é‡",
    "href": "1039-pca.html#ç¡®å®šä¸»æˆåˆ†æ•°é‡",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "ç¡®å®šä¸»æˆåˆ†æ•°é‡",
    "text": "ç¡®å®šä¸»æˆåˆ†æ•°é‡\n\næ–¹æ³•1ï¼šç¢çŸ³å›¾ (Scree Plot)\n\n# ä½¿ç”¨ factoextra ç»‘åˆ¶\nfviz_screeplot(pca_result, addlabels = TRUE) +\n    labs(title = \"ç¢çŸ³å›¾\", x = \"ä¸»æˆåˆ†\", y = \"æ–¹å·®è§£é‡Šç™¾åˆ†æ¯”\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\nè§£é‡Šï¼šæ‰¾åˆ°æ›²çº¿çš„â€æ‹ç‚¹â€ï¼Œé€šå¸¸é€‰æ‹©æ‹ç‚¹ä¹‹å‰çš„æˆåˆ†ã€‚\n\n\næ–¹æ³•2ï¼šç´¯ç§¯è§£é‡Š &gt; 80%\n\n# ç´¯ç§¯æ–¹å·®è¾¾åˆ° 80% çš„æˆåˆ†æ•°\nwhich(cumsum_percent &gt;= 80)[1]\n\n[1] 4\n\n\n\n\næ–¹æ³•3ï¼šç‰¹å¾å€¼ &gt; 1 (Kaiser å‡†åˆ™)\n\n# ç‰¹å¾å€¼ &gt; 1\nsum(var_explained &gt; 1)\n\n[1] 4\n\n\n\n\næ–¹æ³•4ï¼šå¹³è¡Œåˆ†æ\n\nlibrary(psych)\nfa.parallel(active_vars, fa = \"pc\", n.iter = 100)\n\n\n\n\n\n\n\n\nParallel analysis suggests that the number of factors =  NA  and the number of components =  1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#è½½è·è§£è¯»",
    "href": "1039-pca.html#è½½è·è§£è¯»",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "è½½è·è§£è¯»",
    "text": "è½½è·è§£è¯»\n\nè½½è·çŸ©é˜µ\n\n# æŸ¥çœ‹è½½è·\nloadings &lt;- pca_result$rotation\nprint(round(loadings[, 1:4], 3))\n\n                PC1    PC2    PC3    PC4\nX100m        -0.423 -0.259  0.082  0.100\nLong.jump     0.392  0.289 -0.005 -0.183\nShot.put      0.369 -0.214  0.385  0.036\nHigh.jump     0.314 -0.463  0.004  0.070\nX400m        -0.332 -0.112  0.419  0.266\nX110m.hurdle -0.370 -0.225  0.338 -0.157\nDiscus        0.370 -0.155  0.219  0.391\nPole.vault   -0.114  0.558  0.327 -0.248\nJaveline      0.183 -0.075  0.564 -0.478\nX1500m        0.036  0.430  0.286  0.642\n\n\nè§£é‡Šï¼š - è½½è·è¡¨ç¤ºåŸå§‹å˜é‡ä¸ä¸»æˆåˆ†çš„ç›¸å…³ç¨‹åº¦ - è½½è·çš„ç¬¦å·è¡¨ç¤ºæ–¹å‘ - è½½è·çš„ç»å¯¹å€¼è¶Šå¤§ï¼Œå˜é‡å¯¹è¯¥æˆåˆ†çš„è´¡çŒ®è¶Šå¤§\n\n\nè½½è·å¯è§†åŒ–\n\n# ä½¿ç”¨ factoextra\nfviz_pca_var(pca_result,\n    col.var = \"contrib\", # æŒ‰è´¡çŒ®åº¦ç€è‰²\n    gradient.cols = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n    repel = TRUE\n) +\n    labs(title = \"å˜é‡è½½è·å›¾ (PC1 vs PC2)\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nå˜é‡è´¡çŒ®åº¦\n\n# å„å˜é‡å¯¹ PC1 å’Œ PC2 çš„è´¡çŒ®\nfviz_contrib(pca_result, choice = \"var\", axes = 1, top = 10) +\n    labs(title = \"å¯¹ PC1 çš„è´¡çŒ®åº¦\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\nfviz_contrib(pca_result, choice = \"var\", axes = 2, top = 10) +\n    labs(title = \"å¯¹ PC2 çš„è´¡çŒ®åº¦\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#å¾—åˆ†è§£è¯»",
    "href": "1039-pca.html#å¾—åˆ†è§£è¯»",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "å¾—åˆ†è§£è¯»",
    "text": "å¾—åˆ†è§£è¯»\n\nä¸ªä½“å¾—åˆ†\n\n# æŸ¥çœ‹ä¸»æˆåˆ†å¾—åˆ†\nscores &lt;- pca_result$x\nhead(scores[, 1:4])\n\n                 PC1        PC2        PC3         PC4\nSEBRLE     0.2727622  0.5264068  1.5556058  0.10384438\nCLAY       0.8879389  2.0551314  0.8249697  1.81612193\nBERNARD   -1.3466138  1.3229149  0.9439501 -1.46516144\nYURKOV    -0.9108536 -2.2390912  1.9063730  0.09501304\nZSIVOCZKY -0.1018764 -1.0694498 -2.0596722  0.07056229\nMcMULLEN   0.2353742 -0.9215376 -0.8028425  1.17942532\n\n\n\n\nå¾—åˆ†å¯è§†åŒ–\n\n# ä½¿ç”¨ factoextra\nfviz_pca_ind(pca_result,\n    col.ind = \"cos2\", # æŒ‰è¡¨ç¤ºè´¨é‡ç€è‰²\n    gradient.cols = c(\"#00AFBB\", \"#E7B800\", \"#FC4E07\"),\n    repel = TRUE\n) +\n    labs(title = \"ä¸ªä½“å¾—åˆ†å›¾ (PC1 vs PC2)\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næŒ‰ç»„åˆ«ç€è‰²\n\n# æ·»åŠ æ¯”èµ›ç±»å‹ä½œä¸ºåˆ†ç»„\nfviz_pca_ind(pca_result,\n    geom.ind = \"point\",\n    col.ind = decathlon2$Competition,\n    palette = c(\"#00AFBB\", \"#FC4E07\"),\n    addEllipses = TRUE,\n    ellipse.type = \"confidence\",\n    legend.title = \"æ¯”èµ›\"\n) +\n    labs(title = \"æŒ‰æ¯”èµ›ç±»å‹åˆ†ç»„\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#åŒæ ‡å›¾-biplot",
    "href": "1039-pca.html#åŒæ ‡å›¾-biplot",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "åŒæ ‡å›¾ (Biplot)",
    "text": "åŒæ ‡å›¾ (Biplot)\nåŒæ ‡å›¾åŒæ—¶å±•ç¤ºå˜é‡å’Œä¸ªä½“ã€‚\n\nfviz_pca_biplot(pca_result,\n    col.var = \"#2E9FDF\", # å˜é‡é¢œè‰²\n    col.ind = \"#696969\", # ä¸ªä½“é¢œè‰²\n    repel = TRUE\n) +\n    labs(title = \"PCA åŒæ ‡å›¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\nåˆ†ç»„åŒæ ‡å›¾\n\nfviz_pca_biplot(pca_result,\n    col.ind = decathlon2$Competition,\n    palette = c(\"#00AFBB\", \"#FC4E07\"),\n    addEllipses = TRUE,\n    label = \"var\",\n    col.var = \"black\",\n    repel = TRUE,\n    legend.title = \"æ¯”èµ›\"\n) +\n    labs(title = \"åˆ†ç»„åŒæ ‡å›¾\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#é«˜çº§-pca-factominer",
    "href": "1039-pca.html#é«˜çº§-pca-factominer",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "é«˜çº§ PCA (FactoMineR)",
    "text": "é«˜çº§ PCA (FactoMineR)\nFactoMineR æä¾›æ›´ä¸°å¯Œçš„ PCA åŠŸèƒ½ã€‚\n\n# ä½¿ç”¨ PCA å‡½æ•°\npca_fm &lt;- PCA(decathlon2,\n    quanti.sup = 11:12, # è¡¥å……å®šé‡å˜é‡\n    quali.sup = 13, # è¡¥å……å®šæ€§å˜é‡\n    graph = FALSE\n)\n\n# æŸ¥çœ‹ç»“æœ\nsummary(pca_fm)\n\n\nCall:\nPCA(X = decathlon2, quanti.sup = 11:12, quali.sup = 13, graph = FALSE) \n\n\nEigenvalues\n                       Dim.1   Dim.2   Dim.3   Dim.4   Dim.5   Dim.6   Dim.7\nVariance               3.750   1.745   1.518   1.032   0.618   0.428   0.326\n% of var.             37.500  17.452  15.178  10.322   6.178   4.283   3.259\nCumulative % of var.  37.500  54.951  70.130  80.452  86.630  90.913  94.172\n                       Dim.8   Dim.9  Dim.10\nVariance               0.279   0.191   0.112\n% of var.              2.794   1.911   1.123\nCumulative % of var.  96.966  98.877 100.000\n\nIndividuals (the 10 first)\n                 Dist    Dim.1    ctr   cos2    Dim.2    ctr   cos2    Dim.3\nSEBRLE       |  2.236 |  0.278  0.076  0.015 | -0.536  0.611  0.058 |  1.585\nCLAY         |  3.534 |  0.905  0.809  0.066 | -2.094  9.308  0.351 |  0.841\nBERNARD      |  2.848 | -1.372  1.860  0.232 | -1.348  3.857  0.224 |  0.962\nYURKOV       |  3.187 | -0.928  0.851  0.085 |  2.282 11.049  0.513 |  1.943\nZSIVOCZKY    |  2.673 | -0.104  0.011  0.002 |  1.090  2.521  0.166 | -2.099\nMcMULLEN     |  2.638 |  0.240  0.057  0.008 |  0.939  1.872  0.127 | -0.818\nMARTINEAU    |  3.988 | -2.537  6.358  0.405 |  1.801  6.884  0.204 |  0.052\nHERNU        |  3.160 | -1.903  3.576  0.363 | -0.330  0.232  0.011 |  1.289\nBARRAS       |  2.297 | -1.806  3.220  0.618 |  0.303  0.194  0.017 | -0.593\nNOOL         |  4.018 | -2.882  8.202  0.514 |  0.864  1.584  0.046 | -1.402\n                ctr   cos2  \nSEBRLE        6.132  0.502 |\nCLAY          1.725  0.057 |\nBERNARD       2.258  0.114 |\nYURKOV        9.209  0.372 |\nZSIVOCZKY    10.750  0.617 |\nMcMULLEN      1.633  0.096 |\nMARTINEAU     0.007  0.000 |\nHERNU         4.052  0.166 |\nBARRAS        0.858  0.067 |\nNOOL          4.799  0.122 |\n\nVariables\n                Dim.1    ctr   cos2    Dim.2    ctr   cos2    Dim.3    ctr\nX100m        | -0.819 17.885  0.671 |  0.343  6.733  0.117 |  0.101  0.670\nLong.jump    |  0.759 15.358  0.576 | -0.381  8.339  0.146 | -0.006  0.003\nShot.put     |  0.715 13.636  0.511 |  0.282  4.561  0.080 |  0.474 14.793\nHigh.jump    |  0.608  9.874  0.370 |  0.611 21.417  0.374 |  0.005  0.001\nX400m        | -0.644 11.054  0.415 |  0.148  1.262  0.022 |  0.516 17.526\nX110m.hurdle | -0.716 13.687  0.513 |  0.298  5.073  0.089 |  0.416 11.426\nDiscus       |  0.717 13.705  0.514 |  0.204  2.394  0.042 |  0.270  4.814\nPole.vault   | -0.221  1.307  0.049 | -0.738 31.170  0.544 |  0.403 10.705\nJaveline     |  0.355  3.364  0.126 |  0.099  0.556  0.010 |  0.695 31.863\nX1500m       |  0.070  0.130  0.005 | -0.568 18.494  0.323 |  0.353  8.198\n               cos2  \nX100m         0.010 |\nLong.jump     0.000 |\nShot.put      0.225 |\nHigh.jump     0.000 |\nX400m         0.266 |\nX110m.hurdle  0.173 |\nDiscus        0.073 |\nPole.vault    0.162 |\nJaveline      0.484 |\nX1500m        0.124 |\n\nSupplementary continuous variables\n                Dim.1   cos2    Dim.2   cos2    Dim.3   cos2  \nRank         | -0.646  0.417 | -0.024  0.001 | -0.364  0.132 |\nPoints       |  0.947  0.897 | -0.014  0.000 |  0.156  0.024 |\n\nSupplementary categories\n                 Dist    Dim.1   cos2 v.test    Dim.2   cos2 v.test    Dim.3\nDecastar     |  1.207 | -1.071  0.788 -2.718 |  0.044  0.001  0.165 |  0.082\nOlympicG     |  1.120 |  0.995  0.788  2.718 | -0.041  0.001 -0.165 | -0.076\n               cos2 v.test  \nDecastar      0.005  0.328 |\nOlympicG      0.005 -0.328 |\n\n\n\nå˜é‡ç»“æœ\n\n# å˜é‡åæ ‡ã€è´¡çŒ®ã€è¡¨ç¤ºè´¨é‡\nvar_result &lt;- get_pca_var(pca_fm)\nprint(var_result$coord[, 1:3]) # åæ ‡\n\n                   Dim.1      Dim.2        Dim.3\nX100m        -0.81895206  0.3427787  0.100864539\nLong.jump     0.75889854 -0.3814931 -0.006261254\nShot.put      0.71507829  0.2821167  0.473854591\nHigh.jump     0.60849326  0.6113542  0.004605966\nX400m        -0.64384815  0.1484225  0.515759382\nX110m.hurdle -0.71642027  0.2975519  0.416451017\nDiscus        0.71688812  0.2043979  0.270322202\nPole.vault   -0.22141731 -0.7375479  0.403083623\nJaveline      0.35517566  0.0985309  0.695433666\nX1500m        0.06971223 -0.5681197  0.352757755\n\n\n\n# è¡¨ç¤ºè´¨é‡ (cos2)\nprint(round(var_result$cos2[, 1:3], 3))\n\n             Dim.1 Dim.2 Dim.3\nX100m        0.671 0.117 0.010\nLong.jump    0.576 0.146 0.000\nShot.put     0.511 0.080 0.225\nHigh.jump    0.370 0.374 0.000\nX400m        0.415 0.022 0.266\nX110m.hurdle 0.513 0.089 0.173\nDiscus       0.514 0.042 0.073\nPole.vault   0.049 0.544 0.162\nJaveline     0.126 0.010 0.484\nX1500m       0.005 0.323 0.124\n\n\n\n\nä¸ªä½“ç»“æœ\n\n# ä¸ªä½“åæ ‡å’Œè´¡çŒ®\nind_result &lt;- get_pca_ind(pca_fm)\nhead(ind_result$coord[, 1:3])\n\n               Dim.1      Dim.2      Dim.3\nSEBRLE     0.2779582 -0.5364345  1.5852390\nCLAY       0.9048536 -2.0942803  0.8406848\nBERNARD   -1.3722659 -1.3481155  0.9619317\nYURKOV    -0.9282048  2.2817444  1.9426881\nZSIVOCZKY -0.1038171  1.0898221 -2.0989076\nMcMULLEN   0.2398580  0.9390923 -0.8181362",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#d-pca-å¯è§†åŒ–",
    "href": "1039-pca.html#d-pca-å¯è§†åŒ–",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "3D PCA å¯è§†åŒ–",
    "text": "3D PCA å¯è§†åŒ–\n\n# ä½¿ç”¨ plotly è¿›è¡Œ 3D å¯è§†åŒ–\n# install.packages(\"plotly\")\nlibrary(plotly)\n\n# å‡†å¤‡æ•°æ®\nplot_data &lt;- data.frame(\n    PC1 = pca_result$x[, 1],\n    PC2 = pca_result$x[, 2],\n    PC3 = pca_result$x[, 3],\n    Name = rownames(pca_result$x),\n    Competition = decathlon2$Competition\n)\n\n# 3D æ•£ç‚¹å›¾\nplot_ly(plot_data,\n    x = ~PC1, y = ~PC2, z = ~PC3,\n    color = ~Competition,\n    text = ~Name,\n    type = \"scatter3d\",\n    mode = \"markers\"\n) %&gt;%\n    layout(title = \"3D PCA å¯è§†åŒ–\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#pca-ç”¨äºé™ç»´",
    "href": "1039-pca.html#pca-ç”¨äºé™ç»´",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "PCA ç”¨äºé™ç»´",
    "text": "PCA ç”¨äºé™ç»´\n\nç”¨äºå›å½’\n\n# ä½¿ç”¨å‰å‡ ä¸ªä¸»æˆåˆ†ä½œä¸ºé¢„æµ‹å˜é‡\n# ç¤ºä¾‹ï¼šé¢„æµ‹æ€»åˆ†\ndecathlon2$Points &lt;- as.numeric(decathlon2$Points)\n\n# æ·»åŠ  PC å¾—åˆ†\npca_scores &lt;- as.data.frame(pca_result$x)\ndata_with_pc &lt;- cbind(pca_scores, Points = decathlon2$Points)\n\n# ä½¿ç”¨å‰ 4 ä¸ª PC è¿›è¡Œå›å½’\nmodel_pc &lt;- lm(Points ~ PC1 + PC2 + PC3 + PC4, data = data_with_pc)\nsummary(model_pc)\n\n\nCall:\nlm(formula = Points ~ PC1 + PC2 + PC3 + PC4, data = data_with_pc)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-66.026 -29.952  -0.934  20.908 135.163 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 8118.963      9.208 881.764  &lt; 2e-16 ***\nPC1          167.444      4.845  34.557  &lt; 2e-16 ***\nPC2            3.705      7.103   0.522    0.607    \nPC3           43.293      7.616   5.684 1.02e-05 ***\nPC4          -84.054      9.236  -9.101 6.51e-09 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 47.84 on 22 degrees of freedom\nMultiple R-squared:  0.9835,    Adjusted R-squared:  0.9805 \nF-statistic: 327.4 on 4 and 22 DF,  p-value: &lt; 2.2e-16\n\n\n\n\nç”¨äºèšç±»\n\n# ä½¿ç”¨ PC å¾—åˆ†è¿›è¡Œèšç±»\nset.seed(42)\nclusters &lt;- kmeans(pca_result$x[, 1:2], centers = 3)\n\n# å¯è§†åŒ–\nfviz_cluster(list(data = pca_result$x[, 1:2], cluster = clusters$cluster),\n    geom = \"point\",\n    ellipse.type = \"convex\",\n    palette = \"jco\"\n) +\n    labs(title = \"åŸºäº PCA çš„èšç±»ç»“æœ\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#ç‰¹æ®Šæƒ…å†µå¤„ç†",
    "href": "1039-pca.html#ç‰¹æ®Šæƒ…å†µå¤„ç†",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "ç‰¹æ®Šæƒ…å†µå¤„ç†",
    "text": "ç‰¹æ®Šæƒ…å†µå¤„ç†\n\nç¼ºå¤±å€¼å¤„ç†\n\n# ä½¿ç”¨ missMDA åŒ…å¤„ç†ç¼ºå¤±å€¼\n# install.packages(\"missMDA\")\n# library(missMDA)\n\n# ä¼°è®¡ç¼ºå¤±å€¼\n# completed_data &lt;- imputePCA(data_with_na, ncp = 2)$completeObs\n\n\n\nç¨€ç– PCA\nå¯¹äºé«˜ç»´æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ç¨€ç– PCAã€‚\n\n# install.packages(\"elasticnet\")\n# library(elasticnet)\n#\n# sparse_pca &lt;- spca(scale(active_vars), K = 4, type = \"predictor\",\n#                    sparse = \"varnum\", para = c(5, 5, 5, 5))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#ç»“æœæŠ¥å‘Š",
    "href": "1039-pca.html#ç»“æœæŠ¥å‘Š",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœæŠ¥å‘Š",
    "text": "ç»“æœæŠ¥å‘Š\n\nå­¦æœ¯æŠ¥å‘Šæ¨¡æ¿\n\n\n\n## PCA ç»“æœ\n\nå¯¹ 10 ä¸ªè¿åŠ¨é¡¹ç›®æˆç»©è¿›è¡Œä¸»æˆåˆ†åˆ†æã€‚ç»“æœæ˜¾ç¤ºï¼Œ\nå‰ 4 ä¸ªä¸»æˆåˆ†è§£é‡Šäº†æ€»æ–¹å·®çš„  80.5 %ã€‚\n\n### ä¸»æˆåˆ†è§£é‡Š\n\n- PC1 ( 37.5 %): ä¸»è¦åæ˜ æ•´ä½“è¿åŠ¨èƒ½åŠ›\n- PC2 ( 17.5 %): åŒºåˆ†é€Ÿåº¦å‹å’ŒåŠ›é‡å‹è¿åŠ¨å‘˜\n- PC3 ( 15.2 %): ...\n- PC4 ( 10.3 %): ...\n\n### å˜é‡è½½è·\n\nå„å˜é‡åœ¨ä¸»æˆåˆ†ä¸Šçš„è½½è·è§è¡¨ Xã€‚\n\n\n\n\nå¯¼å‡ºç»“æœ\n\n# å¯¼å‡ºè½½è·çŸ©é˜µ\nwrite.csv(pca_result$rotation, \"pca_loadings.csv\")\n\n# å¯¼å‡ºå¾—åˆ†\nwrite.csv(pca_result$x, \"pca_scores.csv\")\n\n# ä¿å­˜å›¾ç‰‡\np &lt;- fviz_pca_biplot(pca_result, repel = TRUE)\nggsave(\"pca_biplot.pdf\", p, width = 10, height = 8)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#æœ€ä½³å®è·µ",
    "href": "1039-pca.html#æœ€ä½³å®è·µ",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "æœ€ä½³å®è·µ",
    "text": "æœ€ä½³å®è·µ\n\næ£€æŸ¥æ¸…å•\n\næ•°æ®æ˜¯å¦æ ‡å‡†åŒ–ï¼ˆä¸åŒé‡çº²æ—¶å¿…é¡»ï¼‰\næ ·æœ¬é‡æ˜¯å¦è¶³å¤Ÿï¼ˆn &gt; p æˆ–è‡³å°‘ n &gt; 5pï¼‰\nKMO æ£€éªŒ &gt; 0.6\nç»¼åˆå¤šç§æ–¹æ³•ç¡®å®šæˆåˆ†æ•°\næ£€æŸ¥è½½è·çš„å¯è§£é‡Šæ€§\néªŒè¯ç»“æœçš„ç¨³å®šæ€§\n\n\n\nå¸¸è§é”™è¯¯\n\n\n\né”™è¯¯\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\næœªæ ‡å‡†åŒ–\nè®¾ç½® scale = TRUE\n\n\næˆåˆ†æ•°é€‰æ‹©ä¸å½“\nä½¿ç”¨å¤šç§å‡†åˆ™ç»¼åˆåˆ¤æ–­\n\n\nè¿‡åº¦è§£é‡Š\nåªè§£é‡Šè½½è· &gt; 0.4 çš„å˜é‡\n\n\nå¿½ç•¥è¡¨ç¤ºè´¨é‡\næ£€æŸ¥ cos2 å€¼",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#æ€»ç»“",
    "href": "1039-pca.html#æ€»ç»“",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nä»»åŠ¡\næ¨èå·¥å…·\n\n\n\n\nå¿«é€Ÿ PCA\nprcomp()\n\n\nä¸°å¯Œè¾“å‡º\nFactoMineR::PCA()\n\n\nå¯è§†åŒ–\nfactoextra\n\n\n3D å±•ç¤º\nplotly\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. æ ‡å‡†åŒ–æ•°æ®åå†è¿›è¡Œ PCA 2. ç»¼åˆå¤šç§æ–¹æ³•ç¡®å®šä¸»æˆåˆ†æ•° 3. è§£é‡Šä¸»æˆåˆ†æ—¶å…³æ³¨é«˜è½½è·å˜é‡ 4. ä½¿ç”¨åŒæ ‡å›¾å±•ç¤ºå˜é‡å’Œä¸ªä½“å…³ç³»",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1039-pca.html#å‚è€ƒæ–‡çŒ®",
    "href": "1039-pca.html#å‚è€ƒæ–‡çŒ®",
    "title": "ä¸»æˆåˆ†åˆ†æ (PCA) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nJolliffe, I. T. (2002). Principal Component Analysis (2nd ed.). Springer.\nHusson, F., LÃª, S., & PagÃ¨s, J. (2017). Exploratory Multivariate Analysis by Example Using R. CRC Press.\nKassambara, A. (2017). Practical Guide to Principal Component Methods in R. STHDA.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸»æˆåˆ†åˆ†æ (PCA)"
    ]
  },
  {
    "objectID": "1037-plspm.html",
    "href": "1037-plspm.html",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹ (PLS-PM, Partial Least Squares Path Modeling) æ˜¯ä¸€ç§åŸºäºæ–¹å·®çš„ç»“æ„æ–¹ç¨‹å»ºæ¨¡æŠ€æœ¯ï¼Œä¸ä¼ ç»Ÿçš„åŸºäºåæ–¹å·®çš„ SEMï¼ˆå¦‚ lavaanï¼‰ç›¸æ¯”ï¼Œå…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚\n\n\n\n\n\nç‰¹æ€§\nPLS-PM\nCB-SEM (lavaan)\n\n\n\n\næ ·æœ¬é‡è¦æ±‚\nå°æ ·æœ¬å³å¯ (n â‰¥ 30)\néœ€è¦è¾ƒå¤§æ ·æœ¬ (n â‰¥ 200)\n\n\nåˆ†å¸ƒå‡è®¾\næ— éœ€æ­£æ€å‡è®¾\né€šå¸¸å‡è®¾å¤šå…ƒæ­£æ€\n\n\næ¨¡å‹ç›®æ ‡\né¢„æµ‹å¯¼å‘\nç†è®ºéªŒè¯\n\n\nå½¢æˆæ€§æŒ‡æ ‡\nå¤©ç„¶æ”¯æŒ\néœ€è¦ç‰¹æ®Šå¤„ç†\n\n\nå¤æ‚æ¨¡å‹\nå¤„ç†æ›´å¥½\nå¯èƒ½ä¸æ”¶æ•›\n\n\né€‚ç”¨åœºæ™¯\næ¢ç´¢æ€§ç ”ç©¶\néªŒè¯æ€§ç ”ç©¶\n\n\n\n\n\n\n\næ ·æœ¬é‡å°ï¼šä¸´åºŠç ”ç©¶ã€é—®å·è°ƒæŸ¥ç­‰éš¾ä»¥è·å¾—å¤§æ ·æœ¬\næ¢ç´¢æ€§ç ”ç©¶ï¼šç†è®ºå°šæœªæˆç†Ÿï¼Œéœ€è¦æ¢ç´¢å˜é‡å…³ç³»\nå½¢æˆæ€§æŒ‡æ ‡ï¼šæŒ‡æ ‡æ„æˆæ½œå˜é‡è€Œéåæ˜ æ½œå˜é‡\né¢„æµ‹ä¸ºä¸»ï¼šå…³æ³¨é¢„æµ‹èƒ½åŠ›è€Œéæ¨¡å‹æ‹Ÿåˆ\nå¤æ‚æ¨¡å‹ï¼šå¤§é‡æ½œå˜é‡å’ŒæŒ‡æ ‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#ç®€ä»‹",
    "href": "1037-plspm.html#ç®€ä»‹",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹ (PLS-PM, Partial Least Squares Path Modeling) æ˜¯ä¸€ç§åŸºäºæ–¹å·®çš„ç»“æ„æ–¹ç¨‹å»ºæ¨¡æŠ€æœ¯ï¼Œä¸ä¼ ç»Ÿçš„åŸºäºåæ–¹å·®çš„ SEMï¼ˆå¦‚ lavaanï¼‰ç›¸æ¯”ï¼Œå…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚\n\n\n\n\n\nç‰¹æ€§\nPLS-PM\nCB-SEM (lavaan)\n\n\n\n\næ ·æœ¬é‡è¦æ±‚\nå°æ ·æœ¬å³å¯ (n â‰¥ 30)\néœ€è¦è¾ƒå¤§æ ·æœ¬ (n â‰¥ 200)\n\n\nåˆ†å¸ƒå‡è®¾\næ— éœ€æ­£æ€å‡è®¾\né€šå¸¸å‡è®¾å¤šå…ƒæ­£æ€\n\n\næ¨¡å‹ç›®æ ‡\né¢„æµ‹å¯¼å‘\nç†è®ºéªŒè¯\n\n\nå½¢æˆæ€§æŒ‡æ ‡\nå¤©ç„¶æ”¯æŒ\néœ€è¦ç‰¹æ®Šå¤„ç†\n\n\nå¤æ‚æ¨¡å‹\nå¤„ç†æ›´å¥½\nå¯èƒ½ä¸æ”¶æ•›\n\n\né€‚ç”¨åœºæ™¯\næ¢ç´¢æ€§ç ”ç©¶\néªŒè¯æ€§ç ”ç©¶\n\n\n\n\n\n\n\næ ·æœ¬é‡å°ï¼šä¸´åºŠç ”ç©¶ã€é—®å·è°ƒæŸ¥ç­‰éš¾ä»¥è·å¾—å¤§æ ·æœ¬\næ¢ç´¢æ€§ç ”ç©¶ï¼šç†è®ºå°šæœªæˆç†Ÿï¼Œéœ€è¦æ¢ç´¢å˜é‡å…³ç³»\nå½¢æˆæ€§æŒ‡æ ‡ï¼šæŒ‡æ ‡æ„æˆæ½œå˜é‡è€Œéåæ˜ æ½œå˜é‡\né¢„æµ‹ä¸ºä¸»ï¼šå…³æ³¨é¢„æµ‹èƒ½åŠ›è€Œéæ¨¡å‹æ‹Ÿåˆ\nå¤æ‚æ¨¡å‹ï¼šå¤§é‡æ½œå˜é‡å’ŒæŒ‡æ ‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#å®‰è£…ä¸åŠ è½½",
    "href": "1037-plspm.html#å®‰è£…ä¸åŠ è½½",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…ï¼ˆå¦‚æœªå®‰è£…ï¼‰\n# install.packages(\"seminr\")\n\nlibrary(seminr)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#æ ¸å¿ƒæ¦‚å¿µ",
    "href": "1037-plspm.html#æ ¸å¿ƒæ¦‚å¿µ",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ ¸å¿ƒæ¦‚å¿µ",
    "text": "æ ¸å¿ƒæ¦‚å¿µ\n\næµ‹é‡æ¨¡å‹ç±»å‹\nPLS-PM åŒºåˆ†ä¸¤ç§æµ‹é‡æ¨¡å‹ï¼š\nåæ˜ æ€§æŒ‡æ ‡ (Reflective)ï¼š - æ½œå˜é‡ â†’ æŒ‡æ ‡ï¼ˆæ½œå˜é‡â€åæ˜ â€ä¸ºæŒ‡æ ‡ï¼‰ - æŒ‡æ ‡é—´é«˜ç›¸å…³ï¼Œå¯äº’æ¢ - ä¾‹å¦‚ï¼šæ»¡æ„åº¦é‡è¡¨çš„å„é¢˜ç›®\nå½¢æˆæ€§æŒ‡æ ‡ (Formative)ï¼š - æŒ‡æ ‡ â†’ æ½œå˜é‡ï¼ˆæŒ‡æ ‡â€å½¢æˆâ€æ½œå˜é‡ï¼‰ - æŒ‡æ ‡é—´ä¸ä¸€å®šç›¸å…³ - ä¾‹å¦‚ï¼šç¤¾ä¼šç»æµåœ°ä½ï¼ˆç”±æ”¶å…¥ã€æ•™è‚²ã€èŒä¸šç»„æˆï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#ç¤ºä¾‹æ•°æ®",
    "href": "1037-plspm.html#ç¤ºä¾‹æ•°æ®",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "ç¤ºä¾‹æ•°æ®",
    "text": "ç¤ºä¾‹æ•°æ®\næˆ‘ä»¬ä½¿ç”¨ seminr è‡ªå¸¦çš„ mobi æ•°æ®é›†ï¼Œè¯¥æ•°æ®åŒ…å«ç§»åŠ¨ç”µè¯æœåŠ¡æ»¡æ„åº¦è°ƒæŸ¥æ•°æ®ã€‚\n\n# åŠ è½½æ•°æ®\ndata(mobi)\nhead(mobi)\n\n  CUEX1 CUEX2 CUEX3 CUSA1 CUSA2 CUSA3 CUSCO CUSL1 CUSL2 CUSL3 IMAG1 IMAG2 IMAG3\n1     7     7     6     6     4     7     7     6     5     6     7     5     5\n2    10    10     9    10    10     8    10    10     2    10    10     9    10\n3     7     7     7     8     7     7     6     6     2     7     8     7     6\n4     7    10     5    10    10    10     5    10     4    10    10    10     5\n5     8     7    10    10     8     8     5    10     3     8    10    10     5\n6    10     9     7     8     7     7     8    10     3    10     8     9    10\n  IMAG4 IMAG5 PERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 PERV1 PERV2\n1     5     4     7     6     4     7     6     5     5     2     3\n2    10     9    10     9    10    10     9    10    10    10    10\n3     4     7     7     8     5     7     8     7     7     7     7\n4     5    10     8    10    10     8     4     5     8     5     5\n5     8     9    10     9     8    10     9     9     8     6     6\n6     8     9     9    10     9    10     8     9     9    10    10\n\n\nå˜é‡è¯´æ˜ï¼š\n\n\n\næ½œå˜é‡\næŒ‡æ ‡\næè¿°\n\n\n\n\næœŸæœ› (EXPE)\nCUEX1-3\nå®¢æˆ·æœŸæœ›\n\n\nè´¨é‡ (QUAL)\nPERQ1-7\næ„ŸçŸ¥è´¨é‡\n\n\nä»·å€¼ (VAL)\nPERV1-2\næ„ŸçŸ¥ä»·å€¼\n\n\næ»¡æ„åº¦ (SAT)\nCUSA1-3\nå®¢æˆ·æ»¡æ„åº¦\n\n\næŠ±æ€¨ (COMP)\nCUSCO\nå®¢æˆ·æŠ±æ€¨\n\n\nå¿ è¯š (LOY)\nCUSL1-3\nå®¢æˆ·å¿ è¯šåº¦",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#æ¨¡å‹è®¾å®š",
    "href": "1037-plspm.html#æ¨¡å‹è®¾å®š",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è®¾å®š",
    "text": "æ¨¡å‹è®¾å®š\n\n1. å®šä¹‰æµ‹é‡æ¨¡å‹\n\n# å®šä¹‰æµ‹é‡æ¨¡å‹ï¼ˆåæ˜ æ€§æŒ‡æ ‡ï¼‰\nmeasurements &lt;- constructs(\n    # åæ˜ æ€§æ„å¿µï¼šä½¿ç”¨ reflective()\n    reflective(\"æœŸæœ›\", multi_items(\"CUEX\", 1:3)),\n    reflective(\"è´¨é‡\", multi_items(\"PERQ\", 1:7)),\n    reflective(\"ä»·å€¼\", multi_items(\"PERV\", 1:2)),\n    reflective(\"æ»¡æ„åº¦\", multi_items(\"CUSA\", 1:3)),\n    reflective(\"å¿ è¯š\", multi_items(\"CUSL\", 1:3)),\n\n    # å•æŒ‡æ ‡æ„å¿µ\n    reflective(\"æŠ±æ€¨\", single_item(\"CUSCO\"))\n)\n\n\n\n2. å®šä¹‰ç»“æ„æ¨¡å‹\n\n# å®šä¹‰ç»“æ„æ¨¡å‹ï¼ˆè·¯å¾„å…³ç³»ï¼‰\nstructure &lt;- relationships(\n    paths(from = \"æœŸæœ›\", to = c(\"è´¨é‡\", \"ä»·å€¼\", \"æ»¡æ„åº¦\")),\n    paths(from = \"è´¨é‡\", to = c(\"ä»·å€¼\", \"æ»¡æ„åº¦\")),\n    paths(from = \"ä»·å€¼\", to = \"æ»¡æ„åº¦\"),\n    paths(from = \"æ»¡æ„åº¦\", to = c(\"æŠ±æ€¨\", \"å¿ è¯š\")),\n    paths(from = \"æŠ±æ€¨\", to = \"å¿ è¯š\")\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#æ¨¡å‹ä¼°è®¡",
    "href": "1037-plspm.html#æ¨¡å‹ä¼°è®¡",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹ä¼°è®¡",
    "text": "æ¨¡å‹ä¼°è®¡\n\n# ä¼°è®¡ PLS-PM æ¨¡å‹\npls_model &lt;- estimate_pls(\n    data = mobi,\n    measurement_model = measurements,\n    structural_model = structure,\n    inner_weights = path_weighting # è·¯å¾„åŠ æƒæ–¹æ¡ˆ\n)\n\n# æŸ¥çœ‹æ¨¡å‹æ‘˜è¦\nsummary(pls_model)\n\n\nResults from  package seminr (2.3.7)\n\nPath Coefficients:\n        è´¨é‡   ä»·å€¼ æ»¡æ„åº¦  æŠ±æ€¨   å¿ è¯š\nR^2    0.762  0.455  0.924 0.353  0.722\nAdjR^2 0.762  0.450  0.923 0.351  0.720\næœŸæœ›   0.873 -0.040  0.044     .      .\nè´¨é‡       .  0.709  0.790     .      .\nä»·å€¼       .      .  0.183     .      .\næ»¡æ„åº¦     .      .      . 0.594  0.872\næŠ±æ€¨       .      .      .     . -0.039\n\nReliability:\n       alpha  rhoC   AVE  rhoA\næœŸæœ›   0.452 0.459 0.221 0.462\nè´¨é‡   0.877 0.877 0.507 0.884\nä»·å€¼   0.824 0.835 0.719 0.855\næ»¡æ„åº¦ 0.779 0.780 0.544 0.789\næŠ±æ€¨   1.000 1.000 1.000 1.000\nå¿ è¯š   0.472 0.591 0.386 0.761\n\nAlpha, rhoC, and rhoA should exceed 0.7 while AVE should exceed 0.5",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#bootstrap-æ£€éªŒ",
    "href": "1037-plspm.html#bootstrap-æ£€éªŒ",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "Bootstrap æ£€éªŒ",
    "text": "Bootstrap æ£€éªŒ\nPLS-PM ä½¿ç”¨ Bootstrap æ–¹æ³•è¿›è¡Œæ˜¾è‘—æ€§æ£€éªŒã€‚\n\n# Bootstrap ä¼°è®¡ï¼ˆé€šå¸¸ 5000 æ¬¡ï¼Œè¿™é‡Œä¸ºæ¼”ç¤ºç”¨ 500 æ¬¡ï¼‰\nset.seed(123)\nboot_model &lt;- bootstrap_model(\n    seminr_model = pls_model,\n    nboot = 500,\n    cores = 1 # å¹¶è¡Œæ ¸å¿ƒæ•°\n)\n\n# æŸ¥çœ‹ Bootstrap ç»“æœ\nsummary(boot_model)\n\n\nResults from Bootstrap resamples:  500\n\nBootstrapped Structural Paths:\n                 Original Est. Bootstrap Mean Bootstrap SD T Stat. 2.5% CI\næœŸæœ›  -&gt;  è´¨é‡           0.873          0.872        0.090   9.682   0.701\næœŸæœ›  -&gt;  ä»·å€¼          -0.040          0.418        6.425  -0.006  -1.925\næœŸæœ›  -&gt;  æ»¡æ„åº¦         0.044         -0.016        1.922   0.023  -2.541\nè´¨é‡  -&gt;  ä»·å€¼           0.709          0.251        6.424   0.110  -1.717\nè´¨é‡  -&gt;  æ»¡æ„åº¦         0.790          0.860        1.837   0.430  -0.767\nä»·å€¼  -&gt;  æ»¡æ„åº¦         0.183          0.169        0.291   0.627  -0.132\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨         0.594          0.598        0.056  10.656   0.489\næ»¡æ„åº¦  -&gt;  å¿ è¯š         0.872          0.881        0.092   9.522   0.688\næŠ±æ€¨  -&gt;  å¿ è¯š          -0.039         -0.041        0.069  -0.558  -0.173\n                 97.5% CI\næœŸæœ›  -&gt;  è´¨é‡      1.071\næœŸæœ›  -&gt;  ä»·å€¼      2.405\næœŸæœ›  -&gt;  æ»¡æ„åº¦    1.431\nè´¨é‡  -&gt;  ä»·å€¼      2.568\nè´¨é‡  -&gt;  æ»¡æ„åº¦    3.523\nä»·å€¼  -&gt;  æ»¡æ„åº¦    0.432\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨    0.703\næ»¡æ„åº¦  -&gt;  å¿ è¯š    1.040\næŠ±æ€¨  -&gt;  å¿ è¯š      0.087\n\nBootstrapped Weights:\n                  Original Est. Bootstrap Mean Bootstrap SD T Stat. 2.5% CI\nCUEX1  -&gt;  æœŸæœ›           0.535          0.527        0.060   8.968   0.418\nCUEX2  -&gt;  æœŸæœ›           0.441          0.448        0.080   5.483   0.290\nCUEX3  -&gt;  æœŸæœ›           0.464          0.450        0.068   6.824   0.320\nPERQ1  -&gt;  è´¨é‡           0.214          0.213        0.014  15.598   0.189\nPERQ2  -&gt;  è´¨é‡           0.145          0.143        0.014  10.397   0.114\nPERQ3  -&gt;  è´¨é‡           0.200          0.200        0.013  15.725   0.177\nPERQ4  -&gt;  è´¨é‡           0.179          0.179        0.011  16.499   0.158\nPERQ5  -&gt;  è´¨é‡           0.179          0.178        0.013  13.814   0.150\nPERQ6  -&gt;  è´¨é‡           0.179          0.179        0.015  11.744   0.150\nPERQ7  -&gt;  è´¨é‡           0.216          0.217        0.015  14.321   0.192\nPERV1  -&gt;  ä»·å€¼           0.479          0.478        0.020  24.395   0.434\nPERV2  -&gt;  ä»·å€¼           0.604          0.606        0.027  22.577   0.557\nCUSA1  -&gt;  æ»¡æ„åº¦         0.363          0.364        0.018  20.410   0.330\nCUSA2  -&gt;  æ»¡æ„åº¦         0.386          0.385        0.016  24.510   0.354\nCUSA3  -&gt;  æ»¡æ„åº¦         0.449          0.449        0.020  22.176   0.412\nCUSL1  -&gt;  å¿ è¯š           0.447          0.444        0.029  15.177   0.381\nCUSL2  -&gt;  å¿ è¯š           0.115          0.112        0.060   1.909   0.005\nCUSL3  -&gt;  å¿ è¯š           0.666          0.665        0.042  16.018   0.596\nCUSCO  -&gt;  æŠ±æ€¨           1.000          1.000        0.000       .   1.000\n                  97.5% CI\nCUEX1  -&gt;  æœŸæœ›      0.642\nCUEX2  -&gt;  æœŸæœ›      0.596\nCUEX3  -&gt;  æœŸæœ›      0.585\nPERQ1  -&gt;  è´¨é‡      0.242\nPERQ2  -&gt;  è´¨é‡      0.170\nPERQ3  -&gt;  è´¨é‡      0.225\nPERQ4  -&gt;  è´¨é‡      0.200\nPERQ5  -&gt;  è´¨é‡      0.202\nPERQ6  -&gt;  è´¨é‡      0.207\nPERQ7  -&gt;  è´¨é‡      0.251\nPERV1  -&gt;  ä»·å€¼      0.515\nPERV2  -&gt;  ä»·å€¼      0.662\nCUSA1  -&gt;  æ»¡æ„åº¦    0.398\nCUSA2  -&gt;  æ»¡æ„åº¦    0.415\nCUSA3  -&gt;  æ»¡æ„åº¦    0.493\nCUSL1  -&gt;  å¿ è¯š      0.499\nCUSL2  -&gt;  å¿ è¯š      0.226\nCUSL3  -&gt;  å¿ è¯š      0.752\nCUSCO  -&gt;  æŠ±æ€¨      1.000\n\nBootstrapped Loadings:\n                  Original Est. Bootstrap Mean Bootstrap SD T Stat. 2.5% CI\nCUEX1  -&gt;  æœŸæœ›           0.522          0.527        0.081   6.423   0.371\nCUEX2  -&gt;  æœŸæœ›           0.431          0.450        0.101   4.248   0.263\nCUEX3  -&gt;  æœŸæœ›           0.453          0.448        0.070   6.512   0.314\nPERQ1  -&gt;  è´¨é‡           0.807          0.802        0.037  21.901   0.731\nPERQ2  -&gt;  è´¨é‡           0.547          0.540        0.060   9.070   0.409\nPERQ3  -&gt;  è´¨é‡           0.755          0.754        0.043  17.489   0.659\nPERQ4  -&gt;  è´¨é‡           0.676          0.677        0.059  11.531   0.552\nPERQ5  -&gt;  è´¨é‡           0.674          0.673        0.061  11.006   0.537\nPERQ6  -&gt;  è´¨é‡           0.676          0.677        0.070   9.608   0.533\nPERQ7  -&gt;  è´¨é‡           0.814          0.818        0.034  23.611   0.745\nPERV1  -&gt;  ä»·å€¼           0.745          0.743        0.048  15.477   0.643\nPERV2  -&gt;  ä»·å€¼           0.939          0.941        0.033  28.298   0.874\nCUSA1  -&gt;  æ»¡æ„åº¦         0.668          0.671        0.043  15.517   0.582\nCUSA2  -&gt;  æ»¡æ„åº¦         0.710          0.710        0.041  17.504   0.628\nCUSA3  -&gt;  æ»¡æ„åº¦         0.826          0.828        0.034  24.610   0.755\nCUSL1  -&gt;  å¿ è¯š           0.594          0.591        0.067   8.930   0.456\nCUSL2  -&gt;  å¿ è¯š           0.153          0.149        0.080   1.911   0.007\nCUSL3  -&gt;  å¿ è¯š           0.884          0.881        0.042  20.851   0.794\nCUSCO  -&gt;  æŠ±æ€¨           1.000          1.000        0.000       .   1.000\n                  97.5% CI\nCUEX1  -&gt;  æœŸæœ›      0.685\nCUEX2  -&gt;  æœŸæœ›      0.658\nCUEX3  -&gt;  æœŸæœ›      0.581\nPERQ1  -&gt;  è´¨é‡      0.872\nPERQ2  -&gt;  è´¨é‡      0.647\nPERQ3  -&gt;  è´¨é‡      0.830\nPERQ4  -&gt;  è´¨é‡      0.780\nPERQ5  -&gt;  è´¨é‡      0.774\nPERQ6  -&gt;  è´¨é‡      0.798\nPERQ7  -&gt;  è´¨é‡      0.883\nPERV1  -&gt;  ä»·å€¼      0.833\nPERV2  -&gt;  ä»·å€¼      1.010\nCUSA1  -&gt;  æ»¡æ„åº¦    0.749\nCUSA2  -&gt;  æ»¡æ„åº¦    0.784\nCUSA3  -&gt;  æ»¡æ„åº¦    0.889\nCUSL1  -&gt;  å¿ è¯š      0.714\nCUSL2  -&gt;  å¿ è¯š      0.302\nCUSL3  -&gt;  å¿ è¯š      0.964\nCUSCO  -&gt;  æŠ±æ€¨      1.000\n\nBootstrapped HTMT:\n                 Original Est. Bootstrap Mean Bootstrap SD 2.5% CI 97.5% CI\næœŸæœ›  -&gt;  è´¨é‡           0.878          0.878        0.090   0.710    1.070\næœŸæœ›  -&gt;  ä»·å€¼           0.589          0.593        0.114   0.371    0.807\næœŸæœ›  -&gt;  æ»¡æ„åº¦         0.865          0.868        0.097   0.698    1.091\næœŸæœ›  -&gt;  æŠ±æ€¨           0.383          0.393        0.096   0.206    0.568\næœŸæœ›  -&gt;  å¿ è¯š           0.770          0.793        0.116   0.595    1.020\nè´¨é‡  -&gt;  ä»·å€¼           0.673          0.669        0.067   0.529    0.789\nè´¨é‡  -&gt;  æ»¡æ„åº¦         0.954          0.955        0.030   0.896    1.012\nè´¨é‡  -&gt;  æŠ±æ€¨           0.564          0.568        0.055   0.459    0.670\nè´¨é‡  -&gt;  å¿ è¯š           0.759          0.772        0.089   0.612    0.955\nä»·å€¼  -&gt;  æ»¡æ„åº¦         0.741          0.741        0.070   0.600    0.869\nä»·å€¼  -&gt;  æŠ±æ€¨           0.387          0.389        0.079   0.233    0.529\nä»·å€¼  -&gt;  å¿ è¯š           0.797          0.797        0.090   0.624    0.963\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨         0.588          0.592        0.057   0.473    0.698\næ»¡æ„åº¦  -&gt;  å¿ è¯š         0.957          0.959        0.092   0.776    1.136\næŠ±æ€¨  -&gt;  å¿ è¯š           0.561          0.560        0.088   0.376    0.721\n\nBootstrapped Total Paths:\n                 Original Est. Bootstrap Mean Bootstrap SD 2.5% CI 97.5% CI\næœŸæœ›  -&gt;  è´¨é‡           0.873          0.872        0.090   0.701    1.071\næœŸæœ›  -&gt;  ä»·å€¼           0.579          0.583        0.113   0.358    0.803\næœŸæœ›  -&gt;  æ»¡æ„åº¦         0.840          0.842        0.095   0.672    1.053\næœŸæœ›  -&gt;  æŠ±æ€¨           0.499          0.503        0.066   0.375    0.635\næœŸæœ›  -&gt;  å¿ è¯š           0.713          0.720        0.102   0.532    0.951\nè´¨é‡  -&gt;  ä»·å€¼           0.709          0.251        6.424  -1.717    2.568\nè´¨é‡  -&gt;  æ»¡æ„åº¦         0.920          0.826        5.174  -0.217    3.005\nè´¨é‡  -&gt;  æŠ±æ€¨           0.547          0.490        3.028  -0.123    1.780\nè´¨é‡  -&gt;  å¿ è¯š           0.781          0.696        4.654  -0.181    2.479\nä»·å€¼  -&gt;  æ»¡æ„åº¦         0.183          0.169        0.291  -0.132    0.432\nä»·å€¼  -&gt;  æŠ±æ€¨           0.109          0.101        0.165  -0.075    0.256\nä»·å€¼  -&gt;  å¿ è¯š           0.155          0.147        0.267  -0.111    0.386\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨         0.594          0.598        0.056   0.489    0.703\næ»¡æ„åº¦  -&gt;  å¿ è¯š         0.849          0.856        0.077   0.691    0.996\næŠ±æ€¨  -&gt;  å¿ è¯š          -0.039         -0.041        0.069  -0.173    0.087",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#ç»“æœè§£è¯»",
    "href": "1037-plspm.html#ç»“æœè§£è¯»",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "ç»“æœè§£è¯»",
    "text": "ç»“æœè§£è¯»\n\næµ‹é‡æ¨¡å‹è¯„ä¼°\n\n1. æŒ‡æ ‡è½½è·\n\n# æŸ¥çœ‹æŒ‡æ ‡è½½è·\npls_model$outer_loadings\n\n           æœŸæœ›      è´¨é‡      ä»·å€¼    æ»¡æ„åº¦ æŠ±æ€¨      å¿ è¯š\nCUEX1 0.5223333 0.0000000 0.0000000 0.0000000    0 0.0000000\nCUEX2 0.4308613 0.0000000 0.0000000 0.0000000    0 0.0000000\nCUEX3 0.4533521 0.0000000 0.0000000 0.0000000    0 0.0000000\nPERQ1 0.0000000 0.8065942 0.0000000 0.0000000    0 0.0000000\nPERQ2 0.0000000 0.5468900 0.0000000 0.0000000    0 0.0000000\nPERQ3 0.0000000 0.7552731 0.0000000 0.0000000    0 0.0000000\nPERQ4 0.0000000 0.6761444 0.0000000 0.0000000    0 0.0000000\nPERQ5 0.0000000 0.6740449 0.0000000 0.0000000    0 0.0000000\nPERQ6 0.0000000 0.6756726 0.0000000 0.0000000    0 0.0000000\nPERQ7 0.0000000 0.8140902 0.0000000 0.0000000    0 0.0000000\nPERV1 0.0000000 0.0000000 0.7454342 0.0000000    0 0.0000000\nPERV2 0.0000000 0.0000000 0.9392489 0.0000000    0 0.0000000\nCUSA1 0.0000000 0.0000000 0.0000000 0.6682438    0 0.0000000\nCUSA2 0.0000000 0.0000000 0.0000000 0.7100752    0 0.0000000\nCUSA3 0.0000000 0.0000000 0.0000000 0.8258661    0 0.0000000\nCUSL1 0.0000000 0.0000000 0.0000000 0.0000000    0 0.5939083\nCUSL2 0.0000000 0.0000000 0.0000000 0.0000000    0 0.1530756\nCUSL3 0.0000000 0.0000000 0.0000000 0.0000000    0 0.8843865\nCUSCO 0.0000000 0.0000000 0.0000000 0.0000000    1 0.0000000\n\n\nè¯„ä¼°æ ‡å‡†ï¼š - è½½è· &gt; 0.708ï¼ˆæˆ– &gt; 0.7ï¼‰è¡¨ç¤ºæŒ‡æ ‡å¯é  - è‹¥è½½è·åœ¨ 0.4-0.7 ä¹‹é—´ï¼Œéœ€æ£€æŸ¥åˆ é™¤åå¯¹ AVE çš„å½±å“ - è½½è· &lt; 0.4 åº”è€ƒè™‘åˆ é™¤\n\n\n2. ä¿¡åº¦æ£€éªŒ\n\n# æå–ä¿¡åº¦æŒ‡æ ‡\nsummary(pls_model)$reliability\n\n       alpha  rhoC   AVE  rhoA\næœŸæœ›   0.452 0.459 0.221 0.462\nè´¨é‡   0.877 0.877 0.507 0.884\nä»·å€¼   0.824 0.835 0.719 0.855\næ»¡æ„åº¦ 0.779 0.780 0.544 0.789\næŠ±æ€¨   1.000 1.000 1.000 1.000\nå¿ è¯š   0.472 0.591 0.386 0.761\n\nAlpha, rhoC, and rhoA should exceed 0.7 while AVE should exceed 0.5\n\n\nè¯„ä¼°æ ‡å‡†ï¼š\n\n\n\næŒ‡æ ‡\né˜ˆå€¼\nè¯´æ˜\n\n\n\n\nCronbachâ€™s Î±\n&gt; 0.7\nä¼ ç»Ÿä¿¡åº¦æŒ‡æ ‡\n\n\nrho_A\n&gt; 0.7\næ›´ç¨³å¥çš„ä¿¡åº¦ä¼°è®¡\n\n\nç»„åˆä¿¡åº¦ (CR)\n&gt; 0.7\næ¨èä½¿ç”¨\n\n\nAVE\n&gt; 0.5\næ”¶æ•›æ•ˆåº¦\n\n\n\n\n\n3. åŒºåˆ†æ•ˆåº¦\n\n# Fornell-Larcker å‡†åˆ™\nsummary(pls_model)$validity$fl_criteria\n\n        æœŸæœ›  è´¨é‡  ä»·å€¼ æ»¡æ„åº¦  æŠ±æ€¨  å¿ è¯š\næœŸæœ›   0.470     .     .      .     .     .\nè´¨é‡   0.558 0.712     .      .     .     .\nä»·å€¼   0.364 0.586 0.848      .     .     .\næ»¡æ„åº¦ 0.507 0.795 0.608  0.738     .     .\næŠ±æ€¨   0.255 0.532 0.355  0.528 1.000     .\nå¿ è¯š   0.377 0.539 0.530  0.658 0.419 0.621\n\nFL Criteria table reports square root of AVE on the diagonal and construct correlations on the lower triangle.\n\n\nFornell-Larcker å‡†åˆ™ï¼šæ¯ä¸ªæ„å¿µçš„ AVE å¹³æ–¹æ ¹ï¼ˆå¯¹è§’çº¿ï¼‰åº”å¤§äºå…¶ä¸å…¶ä»–æ„å¿µçš„ç›¸å…³ï¼ˆéå¯¹è§’çº¿ï¼‰ã€‚\n\n# HTMT æ¯”ç‡ï¼ˆæ›´ä¸¥æ ¼çš„åŒºåˆ†æ•ˆåº¦æ£€éªŒï¼‰\nsummary(pls_model)$validity$htmt\n\n        æœŸæœ›  è´¨é‡  ä»·å€¼ æ»¡æ„åº¦  æŠ±æ€¨ å¿ è¯š\næœŸæœ›       .     .     .      .     .    .\nè´¨é‡   0.878     .     .      .     .    .\nä»·å€¼   0.589 0.673     .      .     .    .\næ»¡æ„åº¦ 0.865 0.954 0.741      .     .    .\næŠ±æ€¨   0.383 0.564 0.387  0.588     .    .\nå¿ è¯š   0.770 0.759 0.797  0.957 0.561    .\n\n\nHTMT é˜ˆå€¼ï¼š - ä¿å®ˆå€¼ï¼š&lt; 0.85 - å®½æ¾å€¼ï¼š&lt; 0.90\n\n\n\nç»“æ„æ¨¡å‹è¯„ä¼°\n\n1. è·¯å¾„ç³»æ•°\n\n# æŸ¥çœ‹è·¯å¾„ç³»æ•°\npls_model$path_coef\n\n       æœŸæœ›      è´¨é‡       ä»·å€¼     æ»¡æ„åº¦      æŠ±æ€¨        å¿ è¯š\næœŸæœ›      0 0.8731993 -0.0399274 0.04419321 0.0000000  0.00000000\nè´¨é‡      0 0.0000000  0.7090024 0.79004568 0.0000000  0.00000000\nä»·å€¼      0 0.0000000  0.0000000 0.18259505 0.0000000  0.00000000\næ»¡æ„åº¦    0 0.0000000  0.0000000 0.00000000 0.5944203  0.87228929\næŠ±æ€¨      0 0.0000000  0.0000000 0.00000000 0.0000000 -0.03872188\nå¿ è¯š      0 0.0000000  0.0000000 0.00000000 0.0000000  0.00000000\n\n\n\n\n2. æ˜¾è‘—æ€§æ£€éªŒ\n\n# Bootstrap ç½®ä¿¡åŒºé—´\nsummary(boot_model)$bootstrapped_paths\n\n                 Original Est. Bootstrap Mean Bootstrap SD T Stat. 2.5% CI\næœŸæœ›  -&gt;  è´¨é‡           0.873          0.872        0.090   9.682   0.701\næœŸæœ›  -&gt;  ä»·å€¼          -0.040          0.418        6.425  -0.006  -1.925\næœŸæœ›  -&gt;  æ»¡æ„åº¦         0.044         -0.016        1.922   0.023  -2.541\nè´¨é‡  -&gt;  ä»·å€¼           0.709          0.251        6.424   0.110  -1.717\nè´¨é‡  -&gt;  æ»¡æ„åº¦         0.790          0.860        1.837   0.430  -0.767\nä»·å€¼  -&gt;  æ»¡æ„åº¦         0.183          0.169        0.291   0.627  -0.132\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨         0.594          0.598        0.056  10.656   0.489\næ»¡æ„åº¦  -&gt;  å¿ è¯š         0.872          0.881        0.092   9.522   0.688\næŠ±æ€¨  -&gt;  å¿ è¯š          -0.039         -0.041        0.069  -0.558  -0.173\n                 97.5% CI\næœŸæœ›  -&gt;  è´¨é‡      1.071\næœŸæœ›  -&gt;  ä»·å€¼      2.405\næœŸæœ›  -&gt;  æ»¡æ„åº¦    1.431\nè´¨é‡  -&gt;  ä»·å€¼      2.568\nè´¨é‡  -&gt;  æ»¡æ„åº¦    3.523\nä»·å€¼  -&gt;  æ»¡æ„åº¦    0.432\næ»¡æ„åº¦  -&gt;  æŠ±æ€¨    0.703\næ»¡æ„åº¦  -&gt;  å¿ è¯š    1.040\næŠ±æ€¨  -&gt;  å¿ è¯š      0.087\n\n\nè§£é‡Šï¼š - è‹¥ 95% CI ä¸åŒ…å« 0ï¼Œåˆ™è·¯å¾„æ˜¾è‘— - T å€¼ &gt; 1.96 (p &lt; 0.05) è¡¨ç¤ºæ˜¾è‘—\n\n\n3. RÂ² è§£é‡ŠåŠ›\n\n# æŸ¥çœ‹ RÂ²\npls_model$rSquared\n\n            è´¨é‡      ä»·å€¼    æ»¡æ„åº¦      æŠ±æ€¨      å¿ è¯š\nRsq    0.7624771 0.4548405 0.9242884 0.3533355 0.7222329\nAdjRsq 0.7615193 0.4504262 0.9233651 0.3507280 0.7199838\n\n\nRÂ² æ ‡å‡†ï¼ˆCohen, 1988ï¼‰ï¼š - 0.75ï¼šå¼º - 0.50ï¼šä¸­ç­‰ - 0.25ï¼šå¼±\n\n\n4. æ•ˆåº”é‡ fÂ²\n\n# è®¡ç®— fÂ²\nsummary(pls_model)$fSquare\n\n        æœŸæœ›  è´¨é‡  ä»·å€¼ æ»¡æ„åº¦  æŠ±æ€¨   å¿ è¯š\næœŸæœ›   0.000 3.210 0.001  0.017 0.000  0.000\nè´¨é‡   0.000 0.000 0.215  1.677 0.000  0.000\nä»·å€¼   0.000 0.000 0.000  0.201 0.000  0.000\næ»¡æ„åº¦ 0.000 0.000 0.000  0.000 0.546  1.755\næŠ±æ€¨   0.000 0.000 0.000  0.000 0.000 -0.004\nå¿ è¯š   0.000 0.000 0.000  0.000 0.000  0.000\n\n\nfÂ² æ ‡å‡†ï¼š - 0.02ï¼šå¼±æ•ˆåº” - 0.15ï¼šä¸­ç­‰æ•ˆåº” - 0.35ï¼šå¼ºæ•ˆåº”",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#è·¯å¾„å›¾å¯è§†åŒ–",
    "href": "1037-plspm.html#è·¯å¾„å›¾å¯è§†åŒ–",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "è·¯å¾„å›¾å¯è§†åŒ–",
    "text": "è·¯å¾„å›¾å¯è§†åŒ–\n\n# ä½¿ç”¨ seminr å†…ç½®ç»‘å›¾\nplot(pls_model)\n\n\n\n\n\n\nè‡ªå®šä¹‰å¯è§†åŒ–\n\n# æå–è·¯å¾„ç³»æ•°ç”¨äºè‡ªå®šä¹‰ç»˜å›¾\npath_coefs &lt;- as.data.frame(pls_model$path_coef)\npath_coefs$from &lt;- rownames(path_coefs)\n\n# è½¬ä¸ºé•¿æ ¼å¼\nlibrary(tidyr)\npaths_long &lt;- path_coefs %&gt;%\n    pivot_longer(-from, names_to = \"to\", values_to = \"coef\") %&gt;%\n    filter(coef != 0)\n\nprint(paths_long)\n\n# A tibble: 9 Ã— 3\n  from   to        coef\n  &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;\n1 æœŸæœ›   è´¨é‡    0.873 \n2 æœŸæœ›   ä»·å€¼   -0.0399\n3 æœŸæœ›   æ»¡æ„åº¦  0.0442\n4 è´¨é‡   ä»·å€¼    0.709 \n5 è´¨é‡   æ»¡æ„åº¦  0.790 \n6 ä»·å€¼   æ»¡æ„åº¦  0.183 \n7 æ»¡æ„åº¦ æŠ±æ€¨    0.594 \n8 æ»¡æ„åº¦ å¿ è¯š    0.872 \n9 æŠ±æ€¨   å¿ è¯š   -0.0387",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#ä¸­ä»‹æ•ˆåº”åˆ†æ",
    "href": "1037-plspm.html#ä¸­ä»‹æ•ˆåº”åˆ†æ",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "ä¸­ä»‹æ•ˆåº”åˆ†æ",
    "text": "ä¸­ä»‹æ•ˆåº”åˆ†æ\n\nè®¡ç®—é—´æ¥æ•ˆåº”\n\n# å®šä¹‰ç‰¹å®šé—´æ¥æ•ˆåº”\nspecific_effects &lt;- specific_effect_significance(\n    boot_model,\n    from = \"è´¨é‡\",\n    through = \"æ»¡æ„åº¦\",\n    to = \"å¿ è¯š\",\n    alpha = 0.05\n)\nprint(specific_effects)\n\n Original Est. Bootstrap Mean   Bootstrap SD        T Stat.        2.5% CI \n     0.6891484      0.7535812      1.7705532      0.3892277     -0.6057253 \n      97.5% CI \n     2.8793108 \n\n\n\n\næ€»æ•ˆåº”åˆ†æ\n\n# ä» summary ä¸­æå–æ€»æ•ˆåº”ä¿¡æ¯\n# æ€»æ•ˆåº” = ç›´æ¥æ•ˆåº” + é—´æ¥æ•ˆåº”\n# å¯ä»¥é€šè¿‡è·¯å¾„ç³»æ•°çŸ©é˜µè®¡ç®—\npath_coef_mat &lt;- pls_model$path_coef\n\n# ç›´æ¥æŸ¥çœ‹è·¯å¾„ç³»æ•°å³ä¸ºç›´æ¥æ•ˆåº”\nprint(path_coef_mat)\n\n       æœŸæœ›      è´¨é‡       ä»·å€¼     æ»¡æ„åº¦      æŠ±æ€¨        å¿ è¯š\næœŸæœ›      0 0.8731993 -0.0399274 0.04419321 0.0000000  0.00000000\nè´¨é‡      0 0.0000000  0.7090024 0.79004568 0.0000000  0.00000000\nä»·å€¼      0 0.0000000  0.0000000 0.18259505 0.0000000  0.00000000\næ»¡æ„åº¦    0 0.0000000  0.0000000 0.00000000 0.5944203  0.87228929\næŠ±æ€¨      0 0.0000000  0.0000000 0.00000000 0.0000000 -0.03872188\nå¿ è¯š      0 0.0000000  0.0000000 0.00000000 0.0000000  0.00000000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#é¢„æµ‹èƒ½åŠ›è¯„ä¼°",
    "href": "1037-plspm.html#é¢„æµ‹èƒ½åŠ›è¯„ä¼°",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "é¢„æµ‹èƒ½åŠ›è¯„ä¼°",
    "text": "é¢„æµ‹èƒ½åŠ›è¯„ä¼°\n\nQÂ² é¢„æµ‹ç›¸å…³æ€§\n\n# ä½¿ç”¨ PLSpredict è¿›è¡Œé¢„æµ‹è¯„ä¼°\npredict_result &lt;- predict_pls(\n    model = pls_model,\n    technique = predict_DA, # ç›´æ¥æ³•\n    noFolds = 10 # 10æŠ˜äº¤å‰éªŒè¯\n)\n\n# æŸ¥çœ‹ QÂ² å€¼\nsummary(predict_result)\n\n\nPLS in-sample metrics:\n     PERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 PERV1 PERV2 CUSA1 CUSA2 CUSA3\nRMSE 1.241 1.810 1.684 1.552 1.337 1.475 1.754 1.924 1.483 0.938 1.286 1.238\nMAE  0.919 1.392 1.251 1.093 0.969 1.027 1.249 1.471 1.084 0.731 0.952 0.923\n     CUSCO CUSL1 CUSL2 CUSL3\nRMSE 1.932 2.362 2.816 1.677\nMAE  1.440 1.767 2.385 1.179\n\nPLS out-of-sample metrics:\n     PERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 PERV1 PERV2 CUSA1 CUSA2 CUSA3\nRMSE 1.259 1.832 1.717 1.581 1.362 1.487 1.775 1.973 1.530 0.998 1.346 1.324\nMAE  0.925 1.406 1.277 1.117 0.982 1.037 1.257 1.496 1.111 0.767 0.994 0.975\n     CUSCO CUSL1 CUSL2 CUSL3\nRMSE 1.951 2.400 2.845 1.704\nMAE  1.455 1.796 2.403 1.195\n\nLM in-sample metrics:\n     PERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 PERV1 PERV2 CUSA1 CUSA2 CUSA3\nRMSE 1.185 1.775 1.630 1.508 1.311 1.449 1.664 1.846 1.435 0.879 1.233 1.133\nMAE  0.896 1.351 1.236 1.097 0.974 1.031 1.211 1.421 1.060 0.690 0.925 0.842\n     CUSCO CUSL1 CUSL2 CUSL3\nRMSE 1.876 2.345 2.797 1.608\nMAE  1.395 1.762 2.378 1.109\n\nLM out-of-sample metrics:\n     PERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 PERV1 PERV2 CUSA1 CUSA2 CUSA3\nRMSE 1.208 1.826 1.666 1.555 1.349 1.490 1.695 1.983 1.527 0.952 1.353 1.230\nMAE  0.910 1.396 1.264 1.122 0.993 1.056 1.226 1.525 1.128 0.748 1.013 0.901\n     CUSCO CUSL1 CUSL2 CUSL3\nRMSE 1.919 2.402 2.852 1.647\nMAE  1.423 1.799 2.418 1.132\n\nConstruct Level metrics:\n          è´¨é‡   ä»·å€¼ æ»¡æ„åº¦    æŠ±æ€¨   å¿ è¯š\nIS_MSE  0.7817 0.6678  0.348 0.72240 0.6065\nIS_MAE  0.6535 0.6081  0.439 0.63365 0.5498\nOOS_MSE 0.8159 0.7188  0.441 0.72671 0.6322\nOOS_MAE 0.6642 0.6250  0.482 0.63584 0.5612\noverfit 0.0438 0.0763  0.268 0.00596 0.0424\n\n\nQÂ² è§£é‡Šï¼š - QÂ² &gt; 0ï¼šæ¨¡å‹æœ‰é¢„æµ‹ç›¸å…³æ€§ - QÂ² &lt; 0ï¼šæ¨¡å‹é¢„æµ‹èƒ½åŠ›ä¸å¦‚å‡å€¼",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#å½¢æˆæ€§æŒ‡æ ‡æ¨¡å‹",
    "href": "1037-plspm.html#å½¢æˆæ€§æŒ‡æ ‡æ¨¡å‹",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å½¢æˆæ€§æŒ‡æ ‡æ¨¡å‹",
    "text": "å½¢æˆæ€§æŒ‡æ ‡æ¨¡å‹\n\nå®šä¹‰å½¢æˆæ€§æµ‹é‡\n\n# å‡è®¾ \"ä»·å€¼\" ç”±å½¢æˆæ€§æŒ‡æ ‡ç»„æˆ\nmeasurements_formative &lt;- constructs(\n    reflective(\"æœŸæœ›\", multi_items(\"CUEX\", 1:3)),\n    reflective(\"è´¨é‡\", multi_items(\"PERQ\", 1:7)),\n\n    # å½¢æˆæ€§æ„å¿µï¼šä½¿ç”¨ composite()\n    composite(\"ä»·å€¼\", multi_items(\"PERV\", 1:2), weights = mode_B),\n    reflective(\"æ»¡æ„åº¦\", multi_items(\"CUSA\", 1:3)),\n    reflective(\"å¿ è¯š\", multi_items(\"CUSL\", 1:3)),\n    reflective(\"æŠ±æ€¨\", single_item(\"CUSCO\"))\n)\n\n# ä¼°è®¡æ¨¡å‹\npls_formative &lt;- estimate_pls(\n    data = mobi,\n    measurement_model = measurements_formative,\n    structural_model = structure\n)\n\n\n\nå½¢æˆæ€§æŒ‡æ ‡è¯„ä¼°\n\n# æŸ¥çœ‹æƒé‡ï¼ˆè€Œéè½½è·ï¼‰\npls_formative$outer_weights\n\n           æœŸæœ›      è´¨é‡      ä»·å€¼    æ»¡æ„åº¦ æŠ±æ€¨      å¿ è¯š\nCUEX1 0.5328296 0.0000000 0.0000000 0.0000000    0 0.0000000\nCUEX2 0.4447268 0.0000000 0.0000000 0.0000000    0 0.0000000\nCUEX3 0.4629400 0.0000000 0.0000000 0.0000000    0 0.0000000\nPERQ1 0.0000000 0.2154190 0.0000000 0.0000000    0 0.0000000\nPERQ2 0.0000000 0.1469019 0.0000000 0.0000000    0 0.0000000\nPERQ3 0.0000000 0.1991590 0.0000000 0.0000000    0 0.0000000\nPERQ4 0.0000000 0.1780498 0.0000000 0.0000000    0 0.0000000\nPERQ5 0.0000000 0.1789501 0.0000000 0.0000000    0 0.0000000\nPERQ6 0.0000000 0.1779952 0.0000000 0.0000000    0 0.0000000\nPERQ7 0.0000000 0.2143895 0.0000000 0.0000000    0 0.0000000\nPERV1 0.0000000 0.0000000 0.1799806 0.0000000    0 0.0000000\nPERV2 0.0000000 0.0000000 0.8656957 0.0000000    0 0.0000000\nCUSA1 0.0000000 0.0000000 0.0000000 0.3631324    0 0.0000000\nCUSA2 0.0000000 0.0000000 0.0000000 0.3863694    0 0.0000000\nCUSA3 0.0000000 0.0000000 0.0000000 0.4493828    0 0.0000000\nCUSL1 0.0000000 0.0000000 0.0000000 0.0000000    0 0.4472679\nCUSL2 0.0000000 0.0000000 0.0000000 0.0000000    0 0.1152926\nCUSL3 0.0000000 0.0000000 0.0000000 0.0000000    0 0.6660098\nCUSCO 0.0000000 0.0000000 0.0000000 0.0000000    1 0.0000000\n\n# æ£€æŸ¥ VIFï¼ˆå…±çº¿æ€§ï¼‰\nsummary(pls_formative)$validity$vif_items\n\næœŸæœ› :\nCUEX1 CUEX2 CUEX3 \n1.161 1.121 1.050 \n\nè´¨é‡ :\nPERQ1 PERQ2 PERQ3 PERQ4 PERQ5 PERQ6 PERQ7 \n2.027 1.491 2.105 2.013 1.823 2.003 2.006 \n\nä»·å€¼ :\nPERV1 PERV2 \n1.962 1.962 \n\næ»¡æ„åº¦ :\nCUSA1 CUSA2 CUSA3 \n1.505 1.762 1.644 \n\næŠ±æ€¨ :\nCUSCO \n    1 \n\nå¿ è¯š :\nCUSL1 CUSL2 CUSL3 \n1.415 1.010 1.427 \n\n\nVIF æ ‡å‡†ï¼š - VIF &lt; 3ï¼šå¯æ¥å— - VIF &lt; 5ï¼šéœ€å…³æ³¨ - VIF &gt; 5ï¼šå­˜åœ¨ä¸¥é‡å…±çº¿æ€§é—®é¢˜",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#å¤šç»„åˆ†æ",
    "href": "1037-plspm.html#å¤šç»„åˆ†æ",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å¤šç»„åˆ†æ",
    "text": "å¤šç»„åˆ†æ\n\n# å‡è®¾æŒ‰æŸå˜é‡åˆ†ç»„ï¼ˆæ­¤å¤„åˆ›å»ºæ¨¡æ‹Ÿåˆ†ç»„ï¼‰\nmobi_grouped &lt;- mobi %&gt;%\n    mutate(group = ifelse(row_number() &lt;= 125, \"Group_A\", \"Group_B\"))\n\n# åˆ†åˆ«ä¼°è®¡ä¸¤ç»„\npls_a &lt;- estimate_pls(\n    data = mobi_grouped %&gt;% filter(group == \"Group_A\"),\n    measurement_model = measurements,\n    structural_model = structure\n)\n\npls_b &lt;- estimate_pls(\n    data = mobi_grouped %&gt;% filter(group == \"Group_B\"),\n    measurement_model = measurements,\n    structural_model = structure\n)\n\n# æ¯”è¾ƒè·¯å¾„ç³»æ•°\ncat(\"Group A è·¯å¾„ç³»æ•°:\\n\")\n\nGroup A è·¯å¾„ç³»æ•°:\n\nprint(pls_a$path_coef)\n\n       æœŸæœ›      è´¨é‡      ä»·å€¼     æ»¡æ„åº¦      æŠ±æ€¨        å¿ è¯š\næœŸæœ›      0 0.7598999 0.1773740 -0.1580355 0.0000000  0.00000000\nè´¨é‡      0 0.0000000 0.4443922  0.8995486 0.0000000  0.00000000\nä»·å€¼      0 0.0000000 0.0000000  0.2781417 0.0000000  0.00000000\næ»¡æ„åº¦    0 0.0000000 0.0000000  0.0000000 0.7122758  0.94622912\næŠ±æ€¨      0 0.0000000 0.0000000  0.0000000 0.0000000 -0.09360398\nå¿ è¯š      0 0.0000000 0.0000000  0.0000000 0.0000000  0.00000000\n\ncat(\"\\nGroup B è·¯å¾„ç³»æ•°:\\n\")\n\n\nGroup B è·¯å¾„ç³»æ•°:\n\nprint(pls_b$path_coef)\n\n       æœŸæœ›     è´¨é‡       ä»·å€¼    æ»¡æ„åº¦     æŠ±æ€¨         å¿ è¯š\næœŸæœ›      0 0.934697 -0.6023185 0.7794344 0.000000  0.000000000\nè´¨é‡      0 0.000000  1.3209437 0.1019837 0.000000  0.000000000\nä»·å€¼      0 0.000000  0.0000000 0.1923303 0.000000  0.000000000\næ»¡æ„åº¦    0 0.000000  0.0000000 0.0000000 0.486464  0.798338431\næŠ±æ€¨      0 0.000000  0.0000000 0.0000000 0.000000 -0.001896912\nå¿ è¯š      0 0.000000  0.0000000 0.0000000 0.000000  0.000000000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#æŠ¥å‘Šæ¨¡æ¿",
    "href": "1037-plspm.html#æŠ¥å‘Šæ¨¡æ¿",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æŠ¥å‘Šæ¨¡æ¿",
    "text": "æŠ¥å‘Šæ¨¡æ¿\n\nå­¦æœ¯è®ºæ–‡æŠ¥å‘Šæ ¼å¼\n\n\n\n## æµ‹é‡æ¨¡å‹è¯„ä¼°\n\næ‰€æœ‰æ„å¿µçš„ç»„åˆä¿¡åº¦ (CR) å‡å¤§äº 0.7ï¼Œå¹³å‡æ–¹å·®èƒå–é‡ (AVE) å‡å¤§äº 0.5ï¼Œ\nè¡¨æ˜æµ‹é‡æ¨¡å‹å…·æœ‰è‰¯å¥½çš„ä¿¡åº¦å’Œæ”¶æ•›æ•ˆåº¦ã€‚\n\n## ç»“æ„æ¨¡å‹è¯„ä¼°\n\næ¨¡å‹è§£é‡ŠåŠ›ï¼š\n- æ»¡æ„åº¦ RÂ² =  NA \n- å¿ è¯š RÂ² =  NA \n\nBootstrap æ£€éªŒï¼ˆn = 500ï¼‰æ˜¾ç¤ºå…³é”®è·¯å¾„å‡è¾¾åˆ°ç»Ÿè®¡æ˜¾è‘—ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#å¸¸è§é—®é¢˜",
    "href": "1037-plspm.html#å¸¸è§é—®é¢˜",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n\n\né—®é¢˜\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\nè½½è·è¿‡ä½\næ£€æŸ¥æŒ‡æ ‡æ˜¯å¦å±äºè¯¥æ„å¿µï¼Œè€ƒè™‘åˆ é™¤\n\n\nAVE &lt; 0.5\nåˆ é™¤è½½è·æœ€ä½çš„æŒ‡æ ‡\n\n\nHTMT &gt; 0.9\nè€ƒè™‘åˆå¹¶æ„å¿µæˆ–é‡æ–°å®šä¹‰\n\n\nRÂ² è¿‡ä½\næ£€æŸ¥æ˜¯å¦é—æ¼é‡è¦å‰å› å˜é‡\n\n\nVIF è¿‡é«˜\nåˆ é™¤å…±çº¿æ€§æŒ‡æ ‡æˆ–ä½¿ç”¨é™ç»´",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#å‚è€ƒæ–‡çŒ®",
    "href": "1037-plspm.html#å‚è€ƒæ–‡çŒ®",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nHair, J. F., Hult, G. T. M., Ringle, C. M., & Sarstedt, M. (2022). A Primer on Partial Least Squares Structural Equation Modeling (PLS-SEM) (3rd ed.). Sage.\nHenseler, J., Ringle, C. M., & Sarstedt, M. (2015). A new criterion for assessing discriminant validity in variance-based structural equation modeling. Journal of the Academy of Marketing Science, 43(1), 115-135.\nRay, S., Danks, N., & Calero Valdez, A. (2022). SEMinR: Domain-Specific Language for Building and Estimating Structural Equation Models. R package.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1037-plspm.html#é™„å½•å®Œæ•´ä»£ç ",
    "href": "1037-plspm.html#é™„å½•å®Œæ•´ä»£ç ",
    "title": "PLS-PM åæœ€å°äºŒä¹˜è·¯å¾„æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "é™„å½•ï¼šå®Œæ•´ä»£ç ",
    "text": "é™„å½•ï¼šå®Œæ•´ä»£ç \n\n# å®Œæ•´åˆ†ææµç¨‹\nlibrary(seminr)\n\n# 1. åŠ è½½æ•°æ®\ndata(mobi)\n\n# 2. å®šä¹‰æµ‹é‡æ¨¡å‹\nmeasurements &lt;- constructs(\n    reflective(\"æœŸæœ›\", multi_items(\"CUEX\", 1:3)),\n    reflective(\"è´¨é‡\", multi_items(\"PERQ\", 1:7)),\n    reflective(\"ä»·å€¼\", multi_items(\"PERV\", 1:2)),\n    reflective(\"æ»¡æ„åº¦\", multi_items(\"CUSA\", 1:3)),\n    reflective(\"å¿ è¯š\", multi_items(\"CUSL\", 1:3)),\n    reflective(\"æŠ±æ€¨\", single_item(\"CUSCO\"))\n)\n\n# 3. å®šä¹‰ç»“æ„æ¨¡å‹\nstructure &lt;- relationships(\n    paths(from = \"æœŸæœ›\", to = c(\"è´¨é‡\", \"ä»·å€¼\", \"æ»¡æ„åº¦\")),\n    paths(from = \"è´¨é‡\", to = c(\"ä»·å€¼\", \"æ»¡æ„åº¦\")),\n    paths(from = \"ä»·å€¼\", to = \"æ»¡æ„åº¦\"),\n    paths(from = \"æ»¡æ„åº¦\", to = c(\"æŠ±æ€¨\", \"å¿ è¯š\")),\n    paths(from = \"æŠ±æ€¨\", to = \"å¿ è¯š\")\n)\n\n# 4. ä¼°è®¡æ¨¡å‹\npls_model &lt;- estimate_pls(data = mobi, measurements, structure)\n\n# 5. Bootstrap æ£€éªŒ\nboot_model &lt;- bootstrap_model(pls_model, nboot = 5000)\n\n# 6. æŸ¥çœ‹ç»“æœ\nsummary(pls_model)\nsummary(boot_model)\n\n# 7. å¯è§†åŒ–\nplot(pls_model)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "PLS-PM è·¯å¾„æ¨¡å‹"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html",
    "href": "1035-fft-nvmd-gmm.html",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨å¤æ‚ä¿¡å·åˆ†æä¸­ï¼Œå•ä¸€ç®—æ³•å¾€å¾€éš¾ä»¥å¥æ•ˆã€‚æœ¬æ–‡ä»‹ç»ä¸€ç§ç»å…¸çš„ç»„åˆåˆ†ææ¡†æ¶ï¼š\nåŸå§‹ä¿¡å· â†’ FFTåˆ†æ â†’ ç¡®å®šKå€¼ â†’ VMDåˆ†è§£ â†’ ç‰¹å¾æå– â†’ GMMèšç±» â†’ çŠ¶æ€è¯†åˆ«\nè¿™ä¸ªæ¡†æ¶å°†é¢‘åŸŸåˆ†æã€ä¿¡å·åˆ†è§£ã€æœºå™¨å­¦ä¹ ä¸‰å¤§æŠ€æœ¯æœ‰æœºç»“åˆï¼Œå¯åº”ç”¨äºæ•…éšœè¯Šæ–­ã€ç”Ÿç‰©åŒ»å­¦ä¿¡å·åˆ†æã€é‡‘èçŠ¶æ€è¯†åˆ«ç­‰ä¼—å¤šé¢†åŸŸã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#å‰è¨€",
    "href": "1035-fft-nvmd-gmm.html#å‰è¨€",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨å¤æ‚ä¿¡å·åˆ†æä¸­ï¼Œå•ä¸€ç®—æ³•å¾€å¾€éš¾ä»¥å¥æ•ˆã€‚æœ¬æ–‡ä»‹ç»ä¸€ç§ç»å…¸çš„ç»„åˆåˆ†ææ¡†æ¶ï¼š\nåŸå§‹ä¿¡å· â†’ FFTåˆ†æ â†’ ç¡®å®šKå€¼ â†’ VMDåˆ†è§£ â†’ ç‰¹å¾æå– â†’ GMMèšç±» â†’ çŠ¶æ€è¯†åˆ«\nè¿™ä¸ªæ¡†æ¶å°†é¢‘åŸŸåˆ†æã€ä¿¡å·åˆ†è§£ã€æœºå™¨å­¦ä¹ ä¸‰å¤§æŠ€æœ¯æœ‰æœºç»“åˆï¼Œå¯åº”ç”¨äºæ•…éšœè¯Šæ–­ã€ç”Ÿç‰©åŒ»å­¦ä¿¡å·åˆ†æã€é‡‘èçŠ¶æ€è¯†åˆ«ç­‰ä¼—å¤šé¢†åŸŸã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#å‚…é‡Œå¶å˜æ¢-fft-åŸºç¡€",
    "href": "1035-fft-nvmd-gmm.html#å‚…é‡Œå¶å˜æ¢-fft-åŸºç¡€",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å‚…é‡Œå¶å˜æ¢ (FFT) åŸºç¡€",
    "text": "å‚…é‡Œå¶å˜æ¢ (FFT) åŸºç¡€\n\nä»€ä¹ˆæ˜¯å‚…é‡Œå¶å˜æ¢ï¼Ÿ\nå‚…é‡Œå¶å˜æ¢æ˜¯å°†æ—¶åŸŸä¿¡å·è½¬æ¢åˆ°é¢‘åŸŸçš„æ•°å­¦å·¥å…·ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š\n\nä»»ä½•å‘¨æœŸä¿¡å·éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸åŒé¢‘ç‡æ­£å¼¦æ³¢çš„å åŠ \n\nå¯¹äºè¿ç»­ä¿¡å· \\(f(t)\\)ï¼Œå‚…é‡Œå¶å˜æ¢å®šä¹‰ä¸ºï¼š\n\\[F(\\omega) = \\int_{-\\infty}^{\\infty} f(t) e^{-j\\omega t} dt\\]\nå¯¹äºç¦»æ•£ä¿¡å·ï¼ˆè®¡ç®—æœºä¸­ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¦»æ•£å‚…é‡Œå¶å˜æ¢ (DFT)ï¼š\n\\[X[k] = \\sum_{n=0}^{N-1} x[n] \\cdot e^{-j2\\pi kn/N}\\]\nå¿«é€Ÿå‚…é‡Œå¶å˜æ¢ (FFT) æ˜¯ DFT çš„é«˜æ•ˆç®—æ³•å®ç°ï¼Œå°†è®¡ç®—å¤æ‚åº¦ä» \\(O(N^2)\\) é™åˆ° \\(O(N \\log N)\\)ã€‚\n\n\né¢‘è°±çš„æ„ä¹‰\n\n\n\næ¦‚å¿µ\nè¯´æ˜\nè®¡ç®—æ–¹æ³•\n\n\n\n\nå¹…åº¦è°±\nå„é¢‘ç‡æˆåˆ†çš„å¼ºåº¦\n\\(|X[k]|\\)\n\n\nç›¸ä½è°±\nå„é¢‘ç‡æˆåˆ†çš„ç›¸ä½\n\\(\\arg(X[k])\\)\n\n\nåŠŸç‡è°±\nèƒ½é‡åœ¨é¢‘ç‡ä¸Šçš„åˆ†å¸ƒ\n\\(|X[k]|^2\\)\n\n\nåŠŸç‡è°±å¯†åº¦ (PSD)\nå•ä½é¢‘ç‡çš„åŠŸç‡\n\\(|X[k]|^2 / N\\)\n\n\n\n\n\nR è¯­è¨€ FFT å®ç°\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(VMDecomp)\nlibrary(mclust)\n\n# è®¾ç½®åŸºæœ¬å‚æ•°\nfs &lt;- 1000 # é‡‡æ ·é¢‘ç‡ (Hz)\nt &lt;- seq(0, 2, 1 / fs) # 2ç§’æ—¶é•¿\n\n# ç”Ÿæˆæµ‹è¯•ä¿¡å·ï¼šéå¹³ç¨³ä¿¡å·ï¼ˆé¢‘ç‡åœ¨ t=1s å¤„å˜åŒ–ï¼‰\nset.seed(123)\nsig &lt;- c(\n    sin(2 * pi * 10 * t[t &lt;= 1]) + 0.5 * sin(2 * pi * 30 * t[t &lt;= 1]), # å‰åŠæ®µ: 10Hz + 30Hz\n    sin(2 * pi * 50 * t[t &gt; 1]) + 0.3 * sin(2 * pi * 80 * t[t &gt; 1]) # ååŠæ®µ: 50Hz + 80Hz\n) + rnorm(length(t), 0, 0.2) # æ·»åŠ å™ªå£°\n\n# ç»˜åˆ¶æ—¶åŸŸä¿¡å·\nplot(t, sig,\n    type = \"l\", col = \"gray40\",\n    main = \"éå¹³ç¨³ä¿¡å·ï¼ˆé¢‘ç‡éšæ—¶é—´å˜åŒ–ï¼‰\",\n    xlab = \"Time (s)\", ylab = \"Amplitude\"\n)\nabline(v = 1, col = \"red\", lty = 2)\ntext(0.5, max(sig) * 0.8, \"10Hz + 30Hz\", col = \"blue\")\ntext(1.5, max(sig) * 0.8, \"50Hz + 80Hz\", col = \"blue\")\n\n\n\n\n\n\n\n\n\n\né¢‘è°±åˆ†æå‡½æ•°\n\n# è‡ªå®šä¹‰å•è¾¹é¢‘è°±è®¡ç®—å‡½æ•°\ncompute_spectrum &lt;- function(signal, fs) {\n    N &lt;- length(signal)\n    sig_fft &lt;- fft(signal)\n\n    # è®¡ç®—åŒè¾¹é¢‘è°±\n    P2 &lt;- abs(sig_fft / N)\n\n    # è½¬æ¢ä¸ºå•è¾¹é¢‘è°±\n    P1 &lt;- P2[1:(N / 2 + 1)]\n    P1[2:(length(P1) - 1)] &lt;- 2 * P1[2:(length(P1) - 1)]\n\n    # é¢‘ç‡è½´\n    f &lt;- fs * (0:(N / 2)) / N\n\n    return(data.frame(frequency = f, amplitude = P1))\n}\n\n# è®¡ç®—å¹¶ç»˜åˆ¶é¢‘è°±\nspectrum_df &lt;- compute_spectrum(sig, fs)\n\nggplot(spectrum_df, aes(x = frequency, y = amplitude)) +\n    geom_line(color = \"#4e79a7\", linewidth = 0.8) +\n    xlim(0, 100) +\n    labs(\n        title = \"å…¨å±€ FFT é¢‘è°±ï¼ˆä¿¡æ¯æ··æ‚ï¼‰\",\n        subtitle = \"æ— æ³•åŒºåˆ†å‰åæ—¶æ®µçš„é¢‘ç‡å·®å¼‚\",\n        x = \"Frequency (Hz)\",\n        y = \"Amplitude\"\n    ) +\n    theme_minimal(base_size = 14) +\n    geom_vline(xintercept = c(10, 30, 50, 80), linetype = \"dashed\", color = \"red\", alpha = 0.6)\n\n\n\n\n\n\n\n\n\n\nçŸ­æ—¶å‚…é‡Œå¶å˜æ¢ (STFT)\nå¯¹äºéå¹³ç¨³ä¿¡å·ï¼Œå…¨å±€ FFT ä¼šå°†æ‰€æœ‰æ—¶æ®µçš„é¢‘ç‡ä¿¡æ¯æ··åˆã€‚çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ (STFT) é€šè¿‡æ»‘åŠ¨çª—å£è§£å†³è¿™ä¸ªé—®é¢˜ï¼š\n\n# ç®€æ˜“ STFT å®ç°\ncompute_stft &lt;- function(signal, fs, window_size = 256, hop_size = 128) {\n    N &lt;- length(signal)\n    n_windows &lt;- floor((N - window_size) / hop_size) + 1\n\n    # å­˜å‚¨ç»“æœ\n    stft_matrix &lt;- matrix(0, nrow = window_size / 2 + 1, ncol = n_windows)\n    time_points &lt;- numeric(n_windows)\n\n    for (i in 1:n_windows) {\n        start_idx &lt;- (i - 1) * hop_size + 1\n        end_idx &lt;- start_idx + window_size - 1\n\n        window &lt;- signal[start_idx:end_idx] * hann_window(window_size)\n        spectrum &lt;- compute_spectrum(window, fs)\n        stft_matrix[, i] &lt;- spectrum$amplitude\n        time_points[i] &lt;- t[start_idx + window_size / 2]\n    }\n\n    freq_axis &lt;- compute_spectrum(rep(0, window_size), fs)$frequency\n\n    return(list(\n        matrix = stft_matrix,\n        time = time_points,\n        freq = freq_axis\n    ))\n}\n\n# æ±‰å®çª—å‡½æ•°\nhann_window &lt;- function(N) {\n    0.5 * (1 - cos(2 * pi * (0:(N - 1)) / (N - 1)))\n}\n\n# è®¡ç®— STFT\nstft_result &lt;- compute_stft(sig, fs, window_size = 256, hop_size = 64)\n\n# ç»˜åˆ¶æ—¶é¢‘å›¾ (Spectrogram)\nstft_df &lt;- expand.grid(\n    Time = stft_result$time,\n    Frequency = stft_result$freq\n)\nstft_df$Amplitude &lt;- as.vector(t(stft_result$matrix))\n\nggplot(stft_df %&gt;% filter(Frequency &lt; 100), aes(x = Time, y = Frequency, fill = Amplitude)) +\n    geom_tile() +\n    scale_fill_viridis_c(option = \"magma\") +\n    labs(\n        title = \"çŸ­æ—¶å‚…é‡Œå¶å˜æ¢ (STFT) æ—¶é¢‘å›¾\",\n        subtitle = \"å¯ä»¥çœ‹åˆ° t=1s å¤„é¢‘ç‡å‘ç”Ÿå˜åŒ–\",\n        x = \"Time (s)\",\n        y = \"Frequency (Hz)\"\n    ) +\n    theme_minimal(base_size = 14)\n\n\n\n\n\n\n\n\n\n[!TIP] FFT åœ¨ VMD å·¥ä½œæµä¸­çš„ä½œç”¨ï¼š 1. è¯†åˆ«ä¿¡å·ä¸­æœ‰å¤šå°‘ä¸ªæ˜æ˜¾çš„é¢‘ç‡æˆåˆ† 2. æ®æ­¤ç¡®å®š VMD çš„æ¨¡æ€æ•° K 3. éªŒè¯ VMD åˆ†è§£ç»“æœçš„æ­£ç¡®æ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#vmd-åˆ†è§£",
    "href": "1035-fft-nvmd-gmm.html#vmd-åˆ†è§£",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "VMD åˆ†è§£",
    "text": "VMD åˆ†è§£\n\nä¸ºä»€ä¹ˆç”¨ VMD è€Œä¸æ˜¯ç›´æ¥ç”¨ FFTï¼Ÿ\n\n\n\né—®é¢˜\nFFT çš„å±€é™\nVMD çš„è§£å†³æ–¹æ¡ˆ\n\n\n\n\néå¹³ç¨³ä¿¡å·\nå‡è®¾ä¿¡å·å¹³ç¨³\nè‡ªé€‚åº”åˆ†è§£\n\n\næ¨¡æ€æ··å \næ— æ³•åˆ†ç¦»ç›¸è¿‘é¢‘ç‡\nå¸¦å®½çº¦æŸåˆ†ç¦»\n\n\nå™ªå£°æ•æ„Ÿ\nå™ªå£°æ±¡æŸ“é¢‘è°±\nå†…ç½®å»å™ª\n\n\næ—¶å˜ç‰¹æ€§\næ— æ³•ä½“ç°æ—¶é—´ä¿¡æ¯\nä¿ç•™æ—¶åŸŸç»“æ„\n\n\n\n\n\nä½¿ç”¨ FFT ç¡®å®š K å€¼\n\n# åˆ†æ®µ FFT åˆ†æä»¥ç¡®å®š K å€¼\npar(mfrow = c(1, 2))\n\n# å‰åŠæ®µé¢‘è°±\nspectrum_first &lt;- compute_spectrum(sig[1:(length(sig) / 2)], fs)\nplot(spectrum_first$frequency, spectrum_first$amplitude,\n    type = \"l\", xlim = c(0, 100),\n    main = \"å‰åŠæ®µé¢‘è°± (t &lt; 1s)\",\n    xlab = \"Frequency (Hz)\", ylab = \"Amplitude\"\n)\n\n# ååŠæ®µé¢‘è°±\nspectrum_second &lt;- compute_spectrum(sig[(length(sig) / 2 + 1):length(sig)], fs)\nplot(spectrum_second$frequency, spectrum_second$amplitude,\n    type = \"l\", xlim = c(0, 100),\n    main = \"ååŠæ®µé¢‘è°± (t &gt; 1s)\",\n    xlab = \"Frequency (Hz)\", ylab = \"Amplitude\"\n)\n\n\n\n\n\n\n\n\nè§‚å¯Ÿï¼š - å‰åŠæ®µæœ‰ 2 ä¸ªå³°å€¼ï¼ˆ10Hz, 30Hzï¼‰ - ååŠæ®µæœ‰ 2 ä¸ªå³°å€¼ï¼ˆ50Hz, 80Hzï¼‰ - å…¨ä¿¡å·åˆ†è§£å»ºè®® K = 4\n\n\næ‰§è¡Œ VMD åˆ†è§£\n\n# VMD åˆ†è§£\nK &lt;- 4\nalpha &lt;- 2000\nvmd_result &lt;- VMDecomp::vmd(sig, alpha = alpha, tau = 0, K = K, DC = FALSE, init = 1, tol = 1e-6)\n\n# æå– IMF\nimfs &lt;- vmd_result$u\n\n# ç»˜åˆ¶å„æ¨¡æ€\npar(mfrow = c(K + 1, 1), mar = c(2, 4, 2, 1))\n\nplot(t, sig, type = \"l\", col = \"gray\", main = \"åŸå§‹ä¿¡å·\", ylab = \"Amp\")\n\ncolors &lt;- c(\"#e41a1c\", \"#377eb8\", \"#4daf4a\", \"#984ea3\")\nfor (i in 1:K) {\n    plot(t, imfs[, i],\n        type = \"l\", col = colors[i],\n        main = paste(\"IMF\", i), ylab = \"Amp\"\n    )\n}\n\n\n\n\n\n\n\n\n\n\né¢‘è°±éªŒè¯\n\npar(mfrow = c(2, 2), mar = c(4, 4, 2, 1))\n\nfor (i in 1:K) {\n    imf_spectrum &lt;- compute_spectrum(imfs[, i], fs)\n\n    plot(imf_spectrum$frequency, imf_spectrum$amplitude,\n        type = \"l\", xlim = c(0, 100), col = colors[i], lwd = 2,\n        main = paste(\"IMF\", i, \"é¢‘è°±\"),\n        xlab = \"Frequency (Hz)\", ylab = \"Amplitude\"\n    )\n\n    # æ ‡æ³¨å³°å€¼\n    peak_idx &lt;- which.max(imf_spectrum$amplitude[imf_spectrum$frequency &lt; 100 & imf_spectrum$frequency &gt; 3])\n    peak_freq &lt;- imf_spectrum$frequency[imf_spectrum$frequency &lt; 100 & imf_spectrum$frequency &gt; 3][peak_idx]\n    abline(v = peak_freq, lty = 2, col = \"red\")\n    text(peak_freq + 5, max(imf_spectrum$amplitude) * 0.8, paste0(round(peak_freq, 1), \" Hz\"))\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#ç‰¹å¾æå–",
    "href": "1035-fft-nvmd-gmm.html#ç‰¹å¾æå–",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ç‰¹å¾æå–",
    "text": "ç‰¹å¾æå–\n\nä¸ºä»€ä¹ˆéœ€è¦ç‰¹å¾æå–ï¼Ÿ\næœºå™¨å­¦ä¹ æ¨¡å‹éœ€è¦å›ºå®šé•¿åº¦çš„ç‰¹å¾å‘é‡ä½œä¸ºè¾“å…¥ï¼Œè€ŒåŸå§‹ IMF æ˜¯å˜é•¿æ—¶é—´åºåˆ—ã€‚ç‰¹å¾æå–å°†æ—¶åºæ•°æ®å‹ç¼©ä¸ºæœ‰æ„ä¹‰çš„ç»Ÿè®¡é‡ã€‚\n\n\nå¸¸ç”¨ç‰¹å¾ç±»å‹\n\næ—¶åŸŸç‰¹å¾\n\n\n\n\n\n\n\n\nç‰¹å¾\nå…¬å¼\nç‰©ç†æ„ä¹‰\n\n\n\n\nèƒ½é‡\n\\(E = \\sum x_i^2\\)\nä¿¡å·å¼ºåº¦\n\n\nå‡å€¼\n\\(\\bar{x} = \\frac{1}{N}\\sum x_i\\)\nç›´æµåˆ†é‡\n\n\næ ‡å‡†å·®\n\\(\\sigma = \\sqrt{\\frac{1}{N}\\sum(x_i-\\bar{x})^2}\\)\næ³¢åŠ¨å¹…åº¦\n\n\nå³°åº¦\n\\(Kurt = \\frac{E[(x-\\mu)^4]}{\\sigma^4}\\)\nå°–é”ç¨‹åº¦\n\n\nååº¦\n\\(Skew = \\frac{E[(x-\\mu)^3]}{\\sigma^3}\\)\nå¯¹ç§°æ€§\n\n\nå³°å€¼å› å­\n\\(CF = \\frac{\\max|x|}{RMS}\\)\nå†²å‡»ç¨‹åº¦\n\n\næ³¢å½¢å› å­\n\\(SF = \\frac{RMS}{\\bar{|x|}}\\)\næ³¢å½¢ç‰¹å¾\n\n\n\n\n\né¢‘åŸŸç‰¹å¾\n\n\n\n\n\n\n\n\nç‰¹å¾\nè®¡ç®—æ–¹æ³•\nç‰©ç†æ„ä¹‰\n\n\n\n\nä¸»é¢‘\n\\(f_{peak} = \\arg\\max(FFT)\\)\nä¸»è¦æŒ¯åŠ¨é¢‘ç‡\n\n\nå‡å€¼é¢‘ç‡\n\\(\\bar{f} = \\frac{\\sum f \\cdot P(f)}{\\sum P(f)}\\)\né¢‘ç‡åŠ æƒä¸­å¿ƒ\n\n\nè°±ç†µ\n\\(H = -\\sum p \\log p\\)\né¢‘ç‡åˆ†å¸ƒå¤æ‚åº¦\n\n\né¢‘å¸¦èƒ½é‡æ¯”\nå„é¢‘æ®µèƒ½é‡å æ¯”\nèƒ½é‡åˆ†å¸ƒ\n\n\n\n\n\n\nç‰¹å¾æå–å®ç°\n\n# ç»¼åˆç‰¹å¾æå–å‡½æ•°\nextract_features &lt;- function(signal, fs = 1000) {\n    N &lt;- length(signal)\n\n    # ====== æ—¶åŸŸç‰¹å¾ ======\n    energy &lt;- sum(signal^2)\n    mean_val &lt;- mean(signal)\n    std_val &lt;- sd(signal)\n    rms &lt;- sqrt(mean(signal^2))\n\n    # å³°åº¦ (excess kurtosis)\n    kurtosis &lt;- mean((signal - mean_val)^4) / std_val^4 - 3\n\n    # ååº¦\n    skewness &lt;- mean((signal - mean_val)^3) / std_val^3\n\n    # å³°å€¼å› å­\n    crest_factor &lt;- max(abs(signal)) / rms\n\n    # æ³¢å½¢å› å­\n    shape_factor &lt;- rms / mean(abs(signal))\n\n    # ====== é¢‘åŸŸç‰¹å¾ ======\n    spectrum &lt;- compute_spectrum(signal, fs)\n    freq &lt;- spectrum$frequency\n    amp &lt;- spectrum$amplitude\n\n    # å½’ä¸€åŒ–ä¸ºæ¦‚ç‡åˆ†å¸ƒ\n    p &lt;- amp^2 / sum(amp^2)\n\n    # ä¸»é¢‘\n    peak_freq &lt;- freq[which.max(amp)]\n\n    # å‡å€¼é¢‘ç‡\n    mean_freq &lt;- sum(freq * p)\n\n    # è°±ç†µ\n    p_nonzero &lt;- p[p &gt; 0]\n    spectral_entropy &lt;- -sum(p_nonzero * log(p_nonzero))\n\n    return(c(\n        energy = energy,\n        mean = mean_val,\n        std = std_val,\n        rms = rms,\n        kurtosis = kurtosis,\n        skewness = skewness,\n        crest_factor = crest_factor,\n        shape_factor = shape_factor,\n        peak_freq = peak_freq,\n        mean_freq = mean_freq,\n        spectral_entropy = spectral_entropy\n    ))\n}\n\n# æµ‹è¯•\ntest_features &lt;- extract_features(imfs[, 1], fs)\nprint(round(test_features, 4))\n\n          energy             mean              std              rms \n        511.0578           0.0045           0.5055           0.5054 \n        kurtosis         skewness     crest_factor     shape_factor \n         -0.5073          -0.0254           1.8736           1.4294 \n       peak_freq        mean_freq spectral_entropy \n          9.9950          10.9408           1.6179 \n\n\n\n\næ»‘åŠ¨çª—å£ç‰¹å¾æå–\nå¯¹äºçŠ¶æ€è¯†åˆ«ä»»åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¿¡å·è¿›è¡Œåˆ†çª—å¤„ç†ï¼š\n\n# æ»‘åŠ¨çª—å£ç‰¹å¾æå–\nextract_windowed_features &lt;- function(signal, fs, window_size = 200, hop_size = 100) {\n    N &lt;- length(signal)\n    n_windows &lt;- floor((N - window_size) / hop_size) + 1\n\n    # åˆ›å»ºç»“æœçŸ©é˜µ\n    feature_names &lt;- names(extract_features(rep(0, window_size), fs))\n    features_matrix &lt;- matrix(0, nrow = n_windows, ncol = length(feature_names))\n    colnames(features_matrix) &lt;- feature_names\n\n    for (i in 1:n_windows) {\n        start_idx &lt;- (i - 1) * hop_size + 1\n        end_idx &lt;- start_idx + window_size - 1\n\n        window &lt;- signal[start_idx:end_idx]\n        features_matrix[i, ] &lt;- extract_features(window, fs)\n    }\n\n    return(as.data.frame(features_matrix))\n}\n\n# å¯¹å„ IMF æå–ç‰¹å¾\nwindow_size &lt;- 200\nhop_size &lt;- 50\n\n# åˆå¹¶æ‰€æœ‰ IMF çš„ç‰¹å¾\nall_features &lt;- data.frame()\n\nfor (k in 1:K) {\n    imf_features &lt;- extract_windowed_features(imfs[, k], fs, window_size, hop_size)\n    colnames(imf_features) &lt;- paste0(\"IMF\", k, \"_\", colnames(imf_features))\n\n    if (nrow(all_features) == 0) {\n        all_features &lt;- imf_features\n    } else {\n        all_features &lt;- cbind(all_features, imf_features)\n    }\n}\n\n# æ·»åŠ æ—¶é—´æ ‡è®°\nall_features$time_center &lt;- seq(window_size / 2, length(sig) - window_size / 2, by = hop_size)[1:nrow(all_features)] / fs\n\ncat(\"ç‰¹å¾çŸ©é˜µç»´åº¦:\", nrow(all_features), \"çª—å£ Ã—\", ncol(all_features), \"ç‰¹å¾\\n\")\n\nç‰¹å¾çŸ©é˜µç»´åº¦: 37 çª—å£ Ã— 45 ç‰¹å¾\n\nhead(all_features[, 1:8])\n\n  IMF1_energy    IMF1_mean  IMF1_std  IMF1_rms IMF1_kurtosis IMF1_skewness\n1    95.91241 -0.008986550 0.6941835 0.6925042     -1.781182 -0.0496853067\n2    97.78674 -0.008553458 0.7009402 0.6992379     -1.750559 -0.0051914563\n3    95.86975 -0.002196664 0.6940841 0.6923502     -1.751934  0.0005472744\n4    99.64436  0.010403110 0.7075427 0.7058483     -1.751202  0.0105093115\n5   101.46643  0.003455328 0.7140515 0.7122725     -1.753510  0.0104493683\n6   102.84331  0.005958152 0.7188636 0.7170889     -1.746364  0.0250877436\n  IMF1_crest_factor IMF1_shape_factor\n1          1.278486          1.057038\n2          1.266174          1.066611\n3          1.260690          1.066445\n4          1.268955          1.066610\n5          1.264428          1.065135\n6          1.255935          1.067441",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#gmm-é«˜æ–¯æ··åˆæ¨¡å‹èšç±»",
    "href": "1035-fft-nvmd-gmm.html#gmm-é«˜æ–¯æ··åˆæ¨¡å‹èšç±»",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "GMM é«˜æ–¯æ··åˆæ¨¡å‹èšç±»",
    "text": "GMM é«˜æ–¯æ··åˆæ¨¡å‹èšç±»\n\nGMM åŸç†\né«˜æ–¯æ··åˆæ¨¡å‹ (Gaussian Mixture Model) å‡è®¾æ•°æ®ç”± \\(G\\) ä¸ªé«˜æ–¯åˆ†å¸ƒæ··åˆç”Ÿæˆï¼š\n\\[p(x) = \\sum_{g=1}^{G} \\pi_g \\cdot \\mathcal{N}(x | \\mu_g, \\Sigma_g)\\]\nå…¶ä¸­ï¼š - \\(\\pi_g\\)ï¼šç¬¬ \\(g\\) ä¸ªæˆåˆ†çš„æ··åˆæƒé‡ - \\(\\mu_g\\)ï¼šç¬¬ \\(g\\) ä¸ªæˆåˆ†çš„å‡å€¼å‘é‡ - \\(\\Sigma_g\\)ï¼šç¬¬ \\(g\\) ä¸ªæˆåˆ†çš„åæ–¹å·®çŸ©é˜µ\n\n\nGMM vs K-means\n\n\n\nç‰¹æ€§\nGMM\nK-means\n\n\n\n\nèšç±»æ–¹å¼\nè½¯èšç±»ï¼ˆæ¦‚ç‡ï¼‰\nç¡¬èšç±»ï¼ˆç¡®å®šï¼‰\n\n\nç°‡å½¢çŠ¶\næ¤­çƒå½¢ï¼ˆçµæ´»ï¼‰\nçƒå½¢\n\n\nè¾“å‡º\nç±»åˆ«æ¦‚ç‡\nç±»åˆ«æ ‡ç­¾\n\n\næ¨¡å‹é€‰æ‹©\nBIC/AIC è‡ªåŠ¨\néœ€æ‰‹åŠ¨æŒ‡å®š K\n\n\nåæ–¹å·®\nå¤šç§ç±»å‹å¯é€‰\næ— \n\n\n\n\n\nmclust åŒ…ä½¿ç”¨\n\n# é€‰æ‹©å…³é”®ç‰¹å¾è¿›è¡Œèšç±»ï¼ˆé¿å…ç»´åº¦è¿‡é«˜ï¼‰\nkey_features &lt;- all_features %&gt;%\n    select(\n        IMF1_energy, IMF2_energy, IMF3_energy, IMF4_energy,\n        IMF1_peak_freq, IMF2_peak_freq, IMF3_peak_freq, IMF4_peak_freq\n    )\n\n# æ•°æ®æ ‡å‡†åŒ–\nkey_features_scaled &lt;- scale(key_features)\n\n# GMM èšç±»\n# Mclust ä¼šè‡ªåŠ¨å°è¯•ä¸åŒçš„ G å€¼å’Œåæ–¹å·®ç±»å‹\ngmm_fit &lt;- Mclust(key_features_scaled)\n\n# æ¨¡å‹æ‘˜è¦\nsummary(gmm_fit)\n\n---------------------------------------------------- \nGaussian finite mixture model fitted by EM algorithm \n---------------------------------------------------- \n\nMclust VEV (ellipsoidal, equal shape) model with 5 components: \n\n log-likelihood  n  df       BIC       ICL\n       98.11498 37 196 -511.5099 -511.5099\n\nClustering table:\n 1  2  3  4  5 \n16 10  5  3  3 \n\n\n\n\næ¨¡å‹é€‰æ‹©ï¼ˆBIC å‡†åˆ™ï¼‰\n\n# ç»˜åˆ¶ BIC æ›²çº¿\nplot(gmm_fit, what = \"BIC\")\ntitle(\"BIC æ¨¡å‹é€‰æ‹©æ›²çº¿\")\n\n\n\n\n\n\n\n\n\n[!NOTE] BIC (è´å¶æ–¯ä¿¡æ¯å‡†åˆ™)ï¼šå€¼è¶Šå¤§è¡¨ç¤ºæ¨¡å‹è¶Šå¥½ã€‚mclust ä¼šè‡ªåŠ¨åœ¨ä¸åŒçš„æˆåˆ†æ•° G å’Œåæ–¹å·®ç»“æ„ä¸­é€‰æ‹©æœ€ä¼˜æ¨¡å‹ã€‚\n\n\n\nèšç±»ç»“æœå¯è§†åŒ–\n\n# æ·»åŠ èšç±»æ ‡ç­¾\nall_features$cluster &lt;- gmm_fit$classification\n\n# æ—¶é—´-çŠ¶æ€å›¾\npar(mfrow = c(2, 1), mar = c(4, 4, 2, 1))\n\n# åŸå§‹ä¿¡å·ç€è‰²\nplot(t, sig,\n    type = \"l\", col = \"gray\",\n    main = \"åŸå§‹ä¿¡å·ä¸è¯†åˆ«çš„çŠ¶æ€\", xlab = \"Time (s)\", ylab = \"Amplitude\"\n)\n\n# çŠ¶æ€åºåˆ—\nplot(all_features$time_center, all_features$cluster,\n    type = \"s\", col = all_features$cluster, lwd = 2,\n    main = \"è¯†åˆ«çš„çŠ¶æ€åºåˆ—\", xlab = \"Time (s)\", ylab = \"State\",\n    ylim = c(0.5, max(all_features$cluster) + 0.5)\n)\npoints(all_features$time_center, all_features$cluster,\n    col = all_features$cluster, pch = 19, cex = 0.8\n)\nabline(v = 1, lty = 2, col = \"red\")\ntext(1, max(all_features$cluster) + 0.3, \"é¢‘ç‡åˆ‡æ¢ç‚¹\", col = \"red\")\n\n\n\n\n\n\n\n\n\n\nèšç±»æ¦‚ç‡å¯è§†åŒ–\n\n# è·å–å„ç±»åˆ«çš„æ¦‚ç‡\ncluster_probs &lt;- gmm_fit$z\ncolnames(cluster_probs) &lt;- paste0(\"State_\", 1:ncol(cluster_probs))\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼\nprobs_df &lt;- as.data.frame(cluster_probs)\nprobs_df$time &lt;- all_features$time_center\nprobs_long &lt;- pivot_longer(probs_df,\n    cols = starts_with(\"State\"),\n    names_to = \"State\", values_to = \"Probability\"\n)\n\n# ç»˜åˆ¶æ¦‚ç‡çƒ­å›¾\nggplot(probs_long, aes(x = time, y = State, fill = Probability)) +\n    geom_tile() +\n    scale_fill_viridis_c(option = \"plasma\") +\n    labs(\n        title = \"å„æ—¶åˆ»å±äºä¸åŒçŠ¶æ€çš„æ¦‚ç‡\",\n        subtitle = \"GMM è½¯èšç±»ç»“æœ\",\n        x = \"Time (s)\",\n        y = \"State\"\n    ) +\n    theme_minimal(base_size = 14) +\n    geom_vline(xintercept = 1, linetype = \"dashed\", color = \"white\", linewidth = 1)\n\n\n\n\n\n\n\n\n\n\nç‰¹å¾ç©ºé—´å¯è§†åŒ–\n\n# ä½¿ç”¨ PCA é™ç»´å¯è§†åŒ–\npca_result &lt;- prcomp(key_features_scaled)\n\n# å‡†å¤‡ç»‘å›¾æ•°æ®\npca_df &lt;- data.frame(\n    PC1 = pca_result$x[, 1],\n    PC2 = pca_result$x[, 2],\n    Cluster = factor(all_features$cluster),\n    Time = all_features$time_center\n)\n\n# ç»‘å›¾\nggplot(pca_df, aes(x = PC1, y = PC2, color = Cluster)) +\n    geom_point(aes(size = Time), alpha = 0.7) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(\n        title = \"ç‰¹å¾ç©ºé—´èšç±»ç»“æœ (PCA é™ç»´)\",\n        subtitle = \"ç‚¹å¤§å°è¡¨ç¤ºæ—¶é—´ï¼Œé¢œè‰²è¡¨ç¤ºèšç±»\",\n        x = paste0(\"PC1 (\", round(summary(pca_result)$importance[2, 1] * 100, 1), \"%)\"),\n        y = paste0(\"PC2 (\", round(summary(pca_result)$importance[2, 2] * 100, 1), \"%)\")\n    ) +\n    theme_minimal(base_size = 14)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#å®Œæ•´æµç¨‹å°è£…",
    "href": "1035-fft-nvmd-gmm.html#å®Œæ•´æµç¨‹å°è£…",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´æµç¨‹å°è£…",
    "text": "å®Œæ•´æµç¨‹å°è£…\n\nç«¯åˆ°ç«¯åˆ†æå‡½æ•°\n\n# å°è£…å®Œæ•´çš„ FFT-VMD-GMM æµç¨‹\nanalyze_signal &lt;- function(signal, fs, K = NULL, alpha = 2000, window_size = 200, hop_size = 50) {\n    # Step 1: å¦‚æœ K æœªæŒ‡å®šï¼Œä½¿ç”¨ FFT ä¼°è®¡\n    if (is.null(K)) {\n        spectrum &lt;- compute_spectrum(signal, fs)\n        # ç®€å•çš„å³°å€¼æ£€æµ‹\n        threshold &lt;- max(spectrum$amplitude) * 0.1\n        peaks &lt;- which(\n            spectrum$amplitude &gt; threshold &\n                spectrum$frequency &gt; 5 &\n                spectrum$frequency &lt; fs / 2 - 10\n        )\n        K &lt;- min(length(peaks), 6) # æœ€å¤š 6 ä¸ªæ¨¡æ€\n        K &lt;- max(K, 2) # æœ€å°‘ 2 ä¸ªæ¨¡æ€\n        cat(\"FFT ä¼°è®¡ K =\", K, \"\\n\")\n    }\n\n    # Step 2: VMD åˆ†è§£\n    vmd_result &lt;- VMDecomp::vmd(signal,\n        alpha = alpha, tau = 0, K = K,\n        DC = FALSE, init = 1, tol = 1e-6\n    )\n    imfs &lt;- vmd_result$u\n\n    # Step 3: ç‰¹å¾æå–\n    all_features &lt;- data.frame()\n    for (k in 1:K) {\n        imf_features &lt;- extract_windowed_features(imfs[, k], fs, window_size, hop_size)\n        colnames(imf_features) &lt;- paste0(\"IMF\", k, \"_\", colnames(imf_features))\n\n        if (nrow(all_features) == 0) {\n            all_features &lt;- imf_features\n        } else {\n            all_features &lt;- cbind(all_features, imf_features)\n        }\n    }\n\n    # Step 4: GMM èšç±»\n    # é€‰æ‹©èƒ½é‡å’Œä¸»é¢‘ç‰¹å¾\n    energy_cols &lt;- grep(\"energy\", colnames(all_features), value = TRUE)\n    freq_cols &lt;- grep(\"peak_freq\", colnames(all_features), value = TRUE)\n    key_features &lt;- all_features[, c(energy_cols, freq_cols)]\n\n    key_features_scaled &lt;- scale(key_features)\n    gmm_fit &lt;- Mclust(key_features_scaled, G = 1:5)\n\n    # è¿”å›ç»“æœ\n    return(list(\n        imfs = imfs,\n        features = all_features,\n        gmm = gmm_fit,\n        clusters = gmm_fit$classification,\n        K = K\n    ))\n}\n\n\n\nåº”ç”¨ç¤ºä¾‹\n\n# åˆ†ææˆ‘ä»¬çš„æµ‹è¯•ä¿¡å·\nresult &lt;- analyze_signal(sig, fs, K = 4, window_size = 200, hop_size = 50)\n\ncat(\"åˆ†è§£æ¨¡æ€æ•°:\", result$K, \"\\n\")\n\nåˆ†è§£æ¨¡æ€æ•°: 4 \n\ncat(\"è¯†åˆ«çŠ¶æ€æ•°:\", result$gmm$G, \"\\n\")\n\nè¯†åˆ«çŠ¶æ€æ•°: 5 \n\ncat(\"å„çŠ¶æ€æ ·æœ¬æ•°:\", table(result$clusters), \"\\n\")\n\nå„çŠ¶æ€æ ·æœ¬æ•°: 16 10 5 3 3",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#å®é™…åº”ç”¨æ¡ˆä¾‹",
    "href": "1035-fft-nvmd-gmm.html#å®é™…åº”ç”¨æ¡ˆä¾‹",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®é™…åº”ç”¨æ¡ˆä¾‹",
    "text": "å®é™…åº”ç”¨æ¡ˆä¾‹\n\nåº”ç”¨åœºæ™¯ä¸€è§ˆ\n\n\n\n\n\n\n\n\n\n\né¢†åŸŸ\nä¿¡å·æ¥æº\nFFT ä½œç”¨\nVMD ä½œç”¨\nGMM ä½œç”¨\n\n\n\n\næœºæ¢°æ•…éšœè¯Šæ–­\næŒ¯åŠ¨ä¼ æ„Ÿå™¨\nè¯†åˆ«ç‰¹å¾é¢‘ç‡\nåˆ†ç¦»æ•…éšœæ¨¡æ€\næ•…éšœç±»å‹åˆ†ç±»\n\n\nå¿ƒç”µåˆ†æ\nECG ç”µæ\né¢‘å¸¦åˆ†æ\nåˆ†ç¦»å¿ƒç‡æˆåˆ†\nå¿ƒå¾‹å¼‚å¸¸åˆ†ç±»\n\n\nè„‘ç”µåˆ†æ\nEEG ç”µæ\nè¯†åˆ«è„‘æ³¢èŠ‚å¾‹\nåˆ†ç¦» Î±/Î²/Î¸/Î´ æ³¢\nç¡çœ åˆ†æœŸ\n\n\né‡‘èåˆ†æ\nè‚¡ä»·åºåˆ—\nè¯†åˆ«å‘¨æœŸ\nè¶‹åŠ¿åˆ†ç¦»\nå¸‚åœºçŠ¶æ€è¯†åˆ«\n\n\nè¯­éŸ³å¤„ç†\néº¦å…‹é£\né¢‘è°±åˆ†æ\nå…±æŒ¯å³°åˆ†ç¦»\nè¯­éŸ³åˆ†ç±»\n\n\n\n\n\næ•…éšœè¯Šæ–­ç¤ºä¾‹æ¡†æ¶\n\n# æœºæ¢°æ•…éšœè¯Šæ–­æ¡†æ¶ï¼ˆæ¦‚å¿µä»£ç ï¼‰\n\n# 1. æ•°æ®é‡‡é›†\nvibration_data &lt;- read_sensor_data(\"bearing_vibration.csv\")\n\n# 2. é¢„å¤„ç†\nsignal &lt;- vibration_data$amplitude\nfs &lt;- 12800 # å…¸å‹æŒ¯åŠ¨é‡‡æ ·ç‡\n\n# 3. FFT åˆ†æè¯†åˆ«ç‰¹å¾é¢‘ç‡\n#    - æ»šåŠ¨ä½“é€šè¿‡é¢‘ç‡ (BPFO)\n#    - å†…åœˆé€šè¿‡é¢‘ç‡ (BPFI)\n#    - ä¿æŒæ¶é¢‘ç‡ (FTF)\n\n# 4. VMD åˆ†è§£\nresult &lt;- analyze_signal(signal, fs, K = 5)\n\n# 5. GMM èšç±»è¯†åˆ«æ•…éšœæ¨¡å¼\n#    - æ­£å¸¸è¿è¡Œ\n#    - æ—©æœŸæ•…éšœ\n#    - å‘å±•æœŸæ•…éšœ\n#    - ä¸¥é‡æ•…éšœ\n\n# 6. è¾“å‡ºè¯Šæ–­ç»“æœ\ndiagnosis &lt;- classify_fault_state(result$clusters)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#è¿›é˜¶æŠ€å·§",
    "href": "1035-fft-nvmd-gmm.html#è¿›é˜¶æŠ€å·§",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "è¿›é˜¶æŠ€å·§",
    "text": "è¿›é˜¶æŠ€å·§\n\nè‡ªåŠ¨ K å€¼é€‰æ‹©\n\n# åŸºäºæ®‹å·®èƒ½é‡çš„ K å€¼è‡ªåŠ¨é€‰æ‹©\nauto_select_K &lt;- function(signal, alpha = 2000, K_max = 8) {\n    residual_energy &lt;- numeric(K_max)\n\n    for (K in 2:K_max) {\n        vmd_result &lt;- VMDecomp::vmd(signal,\n            alpha = alpha, tau = 0, K = K,\n            DC = FALSE, init = 1, tol = 1e-6\n        )\n        reconstructed &lt;- rowSums(vmd_result$u)\n        residual_energy[K] &lt;- sum((signal - reconstructed)^2) / sum(signal^2)\n    }\n\n    # æ‰¾åˆ°æ‹ç‚¹ï¼ˆæ®‹å·®å˜åŒ–ç‡å°äºé˜ˆå€¼ï¼‰\n    energy_diff &lt;- -diff(residual_energy[2:K_max])\n    optimal_K &lt;- which(energy_diff &lt; 0.01)[1] + 1\n    if (is.na(optimal_K)) optimal_K &lt;- which.min(residual_energy[2:K_max]) + 1\n\n    return(list(\n        optimal_K = optimal_K,\n        residual_energy = residual_energy\n    ))\n}\n\n\n\nç‰¹å¾é‡è¦æ€§åˆ†æ\n\n# ä½¿ç”¨éšæœºæ£®æ—è¯„ä¼°ç‰¹å¾é‡è¦æ€§\n# library(randomForest)\n\n# åˆ›å»ºç›‘ç£å­¦ä¹ åœºæ™¯ï¼ˆå¦‚æœæœ‰æ ‡ç­¾ï¼‰\n# rf_model &lt;- randomForest(cluster ~ ., data = all_features)\n# importance(rf_model)\n\n\n[!IMPORTANT] æµç¨‹ä¼˜åŒ–å»ºè®®ï¼š 1. å…ˆç”¨å°‘é‡æ ·æœ¬è°ƒè¯•å‚æ•° 2. ç‰¹å¾æ ‡å‡†åŒ–éå¸¸é‡è¦ 3. è€ƒè™‘ä½¿ç”¨äº¤å‰éªŒè¯è¯„ä¼°èšç±»ç¨³å®šæ€§ 4. å¯¹äºæ—¶åºæ•°æ®ï¼Œæ³¨æ„ä¿æŒæ—¶é—´é¡ºåº",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#æ€»ç»“",
    "href": "1035-fft-nvmd-gmm.html#æ€»ç»“",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nFFT â†’ VMD â†’ Feature Engineering â†’ GMM æ˜¯ä¸€ä¸ªé€šç”¨ä¸”å¼ºå¤§çš„ä¿¡å·åˆ†ææ¡†æ¶ï¼š\nflowchart LR\n    A[ä¿¡å·] --&gt; B[FFT]\n    B --&gt;|ç¡®å®š K| C[VMD]\n    C --&gt;|IMFs| D[ç‰¹å¾æå–]\n    D --&gt;|ç‰¹å¾å‘é‡| E[GMM]\n    E --&gt;|æ¦‚ç‡èšç±»| F[çŠ¶æ€è¯†åˆ«]\nå„æ­¥éª¤ä»·å€¼ï¼š 1. FFTï¼šæä¾›å…ˆéªŒçŸ¥è¯†ï¼ŒæŒ‡å¯¼å‚æ•°é€‰æ‹© 2. VMDï¼šé™å™ªä¸æˆåˆ†åˆ†ç¦»ï¼Œæå–æœ‰æ„ä¹‰çš„æ¨¡æ€ 3. ç‰¹å¾å·¥ç¨‹ï¼šå°†æ—¶åºæ•°æ®è½¬æ¢ä¸ºå¯åˆ†æçš„ç‰¹å¾å‘é‡ 4. GMMï¼šå®ç°è‡ªåŠ¨åŒ–çŠ¶æ€è¯†åˆ«ï¼Œæä¾›æ¦‚ç‡æ€§åˆ†ç±»ç»“æœ\n\n[!TIP] æ¡†æ¶æ‰©å±•æ€§ï¼š - å¯ç”¨ EMD/EEMD/CEEMDAN æ›¿ä»£ VMD - å¯ç”¨ K-means/DBSCAN/è°±èšç±»æ›¿ä»£ GMM - å¯åŠ å…¥ç›‘ç£å­¦ä¹ ï¼ˆSVMã€ç¥ç»ç½‘ç»œï¼‰è¿›è¡Œåˆ†ç±»",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1035-fft-nvmd-gmm.html#å‚è€ƒæ–‡çŒ®",
    "href": "1035-fft-nvmd-gmm.html#å‚è€ƒæ–‡çŒ®",
    "title": "ç»„åˆç®—æ³•: FFT + VMD + GMM ä¿¡å·åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nDragomiretskiy, K., & Zosso, D. (2014). Variational Mode Decomposition. IEEE Transactions on Signal Processing, 62(3), 531-544.\nFraley, C., & Raftery, A. E. (2002). Model-based clustering, discriminant analysis, and density estimation. JASA, 97(458), 611-631.\nCooley, J. W., & Tukey, J. W. (1965). An algorithm for the machine calculation of complex Fourier series. Mathematics of computation, 19(90), 297-301.\nScrucca, L., et al.Â (2016). mclust 5: Clustering, Classification and Density Estimation Using Gaussian Finite Mixture Models. The R Journal, 8(1), 289-317.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "FFT + VMD + GMM"
    ]
  },
  {
    "objectID": "1033-dlnm.html",
    "href": "1033-dlnm.html",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨ç¯å¢ƒå¥åº·ç ”ç©¶ä¸­ï¼Œæš´éœ²ï¼ˆå¦‚é«˜æ¸©ï¼‰å¯¹å¥åº·ï¼ˆå¦‚æ­»äº¡ï¼‰çš„å½±å“å¾€å¾€å…·æœ‰ä¸¤ä¸ªç‰¹å¾ï¼š 1. éçº¿æ€§ (Non-linear)ï¼šé«˜æ¸©æœ‰å®³ï¼Œä½æ¸©ä¹Ÿæœ‰å®³ï¼ˆUå‹æˆ–Jå‹æ›²çº¿ï¼‰ã€‚ 2. æ»åæ€§ (Lagged)ï¼šä»Šå¤©çš„é«˜æ¸©å¯èƒ½å¯¼è‡´3å¤©åçš„æ­»äº¡ã€‚\nDLNM (Distributed Lag Non-linear Models) æ­£æ˜¯ä¸ºè§£å†³è¿™ä¸¤ä¸ªé—®é¢˜è€Œç”Ÿã€‚å®ƒå¼•å…¥äº†â€œäº¤å‰åŸº (Cross-Basis)â€çš„æ¦‚å¿µï¼Œæ„å»ºäº†ä¸€ä¸ªæš´éœ²-æ»å-ååº”çš„ä¸‰ç»´è¡¨é¢ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#ä¸ºä»€ä¹ˆéœ€è¦-dlnm",
    "href": "1033-dlnm.html#ä¸ºä»€ä¹ˆéœ€è¦-dlnm",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨ç¯å¢ƒå¥åº·ç ”ç©¶ä¸­ï¼Œæš´éœ²ï¼ˆå¦‚é«˜æ¸©ï¼‰å¯¹å¥åº·ï¼ˆå¦‚æ­»äº¡ï¼‰çš„å½±å“å¾€å¾€å…·æœ‰ä¸¤ä¸ªç‰¹å¾ï¼š 1. éçº¿æ€§ (Non-linear)ï¼šé«˜æ¸©æœ‰å®³ï¼Œä½æ¸©ä¹Ÿæœ‰å®³ï¼ˆUå‹æˆ–Jå‹æ›²çº¿ï¼‰ã€‚ 2. æ»åæ€§ (Lagged)ï¼šä»Šå¤©çš„é«˜æ¸©å¯èƒ½å¯¼è‡´3å¤©åçš„æ­»äº¡ã€‚\nDLNM (Distributed Lag Non-linear Models) æ­£æ˜¯ä¸ºè§£å†³è¿™ä¸¤ä¸ªé—®é¢˜è€Œç”Ÿã€‚å®ƒå¼•å…¥äº†â€œäº¤å‰åŸº (Cross-Basis)â€çš„æ¦‚å¿µï¼Œæ„å»ºäº†ä¸€ä¸ªæš´éœ²-æ»å-ååº”çš„ä¸‰ç»´è¡¨é¢ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#å®‰è£…ä¸åŠ è½½",
    "href": "1033-dlnm.html#å®‰è£…ä¸åŠ è½½",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"dlnm\")\ninstall.packages(\"splines\")\n\n\nlibrary(dlnm)\nlibrary(splines) # å¿…é¡»åŠ è½½ï¼Œç”¨äºæ ·æ¡å‡½æ•° ns()\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#æ•°æ®æ¢ç´¢",
    "href": "1033-dlnm.html#æ•°æ®æ¢ç´¢",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®æ¢ç´¢",
    "text": "æ•°æ®æ¢ç´¢\næˆ‘ä»¬ä½¿ç”¨ç»å…¸çš„èŠåŠ å“¥ NMMAPS æ•°æ®é›† (chicagoNMMAPS)ã€‚\n\ndata(chicagoNMMAPS)\nhead(chicagoNMMAPS[, c(\"date\", \"death\", \"temp\", \"pm10\")])\n\n        date death       temp     pm10\n1 1987-01-01   130 -0.2777778 26.95607\n2 1987-01-02   150  0.5555556       NA\n3 1987-01-03   101  0.5555556 32.83869\n4 1987-01-04   135 -1.6666667 39.95607\n5 1987-01-05   126  0.0000000       NA\n6 1987-01-06   130  4.4444444 40.95607",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#æ„å»ºäº¤å‰åŸº-cross-basis",
    "href": "1033-dlnm.html#æ„å»ºäº¤å‰åŸº-cross-basis",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "æ„å»ºäº¤å‰åŸº (Cross-Basis)",
    "text": "æ„å»ºäº¤å‰åŸº (Cross-Basis)\nè¿™æ˜¯æœ€éš¾ç†è§£ä½†æœ€æ ¸å¿ƒçš„ä¸€æ­¥ã€‚æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤ä¸ªç»´åº¦çš„åŸºå‡½æ•°ï¼š - argvar: æš´éœ²ç»´åº¦çš„å½¢çŠ¶ï¼ˆä¾‹å¦‚ï¼Œæ¸©åº¦å¯¹æ­»äº¡çš„å½±å“å½¢çŠ¶ï¼‰ã€‚æˆ‘ä»¬é€šå¸¸ç”¨â€œè‡ªç„¶æ ·æ¡ (Natural Cubic Spline)â€å…è®¸æ›²çº¿å¼¯æ›²ã€‚ - arglag: æ»åç»´åº¦çš„å½¢çŠ¶ï¼ˆä¾‹å¦‚ï¼Œå½±å“éšæ—¶é—´è¡°å‡çš„å½¢çŠ¶ï¼‰ã€‚\n\n# è®¾å®šäº¤å‰åŸº\n# 1. æš´éœ²ç»´åº¦ï¼šæ¸©åº¦ï¼Œä½¿ç”¨äºŒæ¬¡ B æ ·æ¡ï¼ŒèŠ‚ç‚¹è®¾åœ¨åˆ†ä½æ•°å¤„\n# 2. æ»åç»´åº¦ï¼šæœ€å¤§æ»å 30 å¤©ï¼Œä½¿ç”¨ 4 ä¸ªè‡ªç”±åº¦çš„è‡ªç„¶æ ·æ¡\ncb &lt;- crossbasis(\n    chicagoNMMAPS$temp,\n    lag = 30,\n    argvar = list(fun = \"ns\", knots = quantile(chicagoNMMAPS$temp, c(0.1, 0.75, 0.9))),\n    arglag = list(fun = \"ns\", df = 4)\n)\n\nsummary(cb)\n\nCROSSBASIS FUNCTIONS\nobservations: 5114 \nrange: -26.66667 to 33.33333 \nlag period: 0 30 \ntotal df:  16 \n\nBASIS FOR VAR:\nfun: ns \nknots: -3.888889 19.44444 23.88889 \nintercept: FALSE \nBoundary.knots: -26.66667 33.33333 \n\nBASIS FOR LAG:\nfun: ns \nknots: 10 20 \nintercept: TRUE \nBoundary.knots: 0 30",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#æ‹Ÿåˆ-glm-æ¨¡å‹",
    "href": "1033-dlnm.html#æ‹Ÿåˆ-glm-æ¨¡å‹",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "æ‹Ÿåˆ GLM æ¨¡å‹",
    "text": "æ‹Ÿåˆ GLM æ¨¡å‹\nå°†äº¤å‰åŸºçŸ©é˜µ cb ä½œä¸ºä¸€ä¸ªé¢„æµ‹é¡¹æ”¾å…¥å‡†æ³Šæ¾å›å½’æ¨¡å‹ä¸­ã€‚åŒæ—¶æˆ‘ä»¬è¦æ§åˆ¶æ··æ‚å› ç´ ï¼š - é•¿æœŸè¶‹åŠ¿ä¸å­£èŠ‚æ€§: ns(time, 7*14) (æ¯å¹´ 7 ä¸ªè‡ªç”±åº¦æ˜¯æƒ¯ä¾‹)ã€‚ - æ˜ŸæœŸå‡ æ•ˆåº”: dowã€‚\n\n# æ‹Ÿåˆæ¨¡å‹\nmodel &lt;- glm(\n    death ~ cb + ns(time, 7 * 14) + dow,\n    family = quasipoisson(),\n    data = chicagoNMMAPS\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#é¢„æµ‹ä¸æ•ˆåº”ä¼°è®¡",
    "href": "1033-dlnm.html#é¢„æµ‹ä¸æ•ˆåº”ä¼°è®¡",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "é¢„æµ‹ä¸æ•ˆåº”ä¼°è®¡",
    "text": "é¢„æµ‹ä¸æ•ˆåº”ä¼°è®¡\nä½¿ç”¨ crosspred() è¿›è¡Œé¢„æµ‹ã€‚å¿…é¡»é€‰å®šä¸€ä¸ªå‚è€ƒå€¼ (Centering Value)ã€‚å¯¹äºæ¸©åº¦ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹©â€œæœ€é€‚å®œæ¸©åº¦â€æˆ–ä¸­ä½æ•°ã€‚RR å€¼æ˜¯ç›¸å¯¹äºè¿™ä¸ªå‚è€ƒå€¼çš„é£é™©æ¯”ã€‚\n\n# ä»¥ 21 åº¦ (å‡è®¾çš„èˆ’é€‚æ¸©åº¦) ä¸ºå‚è€ƒ\npred &lt;- crosspred(cb, model, cen = 21, by = 1)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#ç»“æœå¯è§†åŒ–",
    "href": "1033-dlnm.html#ç»“æœå¯è§†åŒ–",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœå¯è§†åŒ–",
    "text": "ç»“æœå¯è§†åŒ–\nå›¾ç¤ºæ˜¯ DLNM çš„çµé­‚ã€‚\n\n(1) 3D æš´éœ²-æ»å-ååº”æ›²é¢\nè¿™å¼ å›¾å±•ç¤ºäº†å…¨è²Œï¼š - Xè½´ï¼šæ¸©åº¦ - Yè½´ï¼šæ»åå¤©æ•° - Zè½´ï¼šç›¸å¯¹é£é™© (RR)\n\nplot(pred, \"3d\",\n    xlab = \"Temperature (C)\", ylab = \"Lag (Days)\", zlab = \"RR\",\n    main = \"3D View of Temperature-Death Association\",\n    theta = 40, phi = 30, ltheta = -120 # è°ƒæ•´è§†è§’\n)\n\n\n\n\n\n\n\n\n\n\n(2) æ€»ä½“ç´¯ç§¯æ•ˆåº” (Overall Cumulative Effect)\nè¿™æ˜¯æœ€å¸¸æ±‡æŠ¥çš„ç»“æœã€‚å®ƒæŠŠæ‰€æœ‰æ»åå¤©æ•°çš„æ•ˆåº”åŠ æ€»ï¼Œå›ç­”â€œæŸå¤©æš´éœ²äºæŸæ¸©åº¦ï¼Œæœªæ¥30å¤©çš„æ€»é£é™©æ˜¯å¤šå°‘ï¼Ÿâ€\n\nplot(pred, \"overall\",\n    xlab = \"Temperature (C)\", ylab = \"RR\",\n    main = \"Overall Cumulative Effect (30 days)\",\n    lwd = 2, col = \"red\"\n)\nabline(v = 21, lty = 2) # å‚è€ƒçº¿\n\n\n\n\n\n\n\n\n\n\n(3) åˆ‡ç‰‡å›¾ (Slices): ç‰¹å®šç»´åº¦æ•ˆåº”\næˆ‘ä»¬å¯ä»¥åˆ‡ç‰‡çœ‹ç‰¹å®šæ¸©åº¦çš„æ»åå½¢æ€ã€‚ä¾‹å¦‚ï¼Œçœ‹ 30Â°C (é«˜æ¸©) å’Œ -10Â°C (ä½æ¸©) çš„é£é™©éšæ—¶é—´çš„å˜åŒ–ã€‚\n\n# ç»˜åˆ¶ç‰¹å®šæ¸©åº¦çš„æ»åæ›²çº¿\nplot(pred, \"slices\",\n    var = c(-10, 30),\n    col = c(\"blue\", \"red\"),\n    type = \"b\", pch = 19,\n    main = \"Lag-Response at Low (-10) vs High (30) Temp\",\n    ylab = \"RR\", xlab = \"Lag Days\"\n)\nlegend(\"topright\", legend = c(\"-10 C\", \"30 C\"), col = c(\"blue\", \"red\"), lty = 1, pch = 19)\n\n\n\n\n\n\n\n\nè§£è¯»ï¼š - é«˜æ¸© (30Â°C, çº¢è‰²)ï¼šæ•ˆåº”å‡ºç°å¾—éå¸¸å¿«ï¼ˆå½“å¤©æˆ–ç¬¬1å¤©ï¼‰ï¼Œä½†ä¹Ÿæ¶ˆå¤±å¾—å¿«ï¼ˆâ€œæ”¶è·æ•ˆåº”â€, Harvesting Effectï¼‰ã€‚ - ä½æ¸© (-10Â°C, è“è‰²)ï¼šæ•ˆåº”å‡ºç°å¾—æ™šï¼Œä½†æŒç»­æ—¶é—´é•¿ï¼ˆå¯èƒ½æŒç»­2-3å‘¨ï¼‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1033-dlnm.html#å‚è€ƒæ–‡çŒ®",
    "href": "1033-dlnm.html#å‚è€ƒæ–‡çŒ®",
    "title": "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nGasparrini, A. (2011). Distributed Lag Linear and Non-Linear Models in R: The Package dlnm. Journal of Statistical Software.\nGasparrini, A., et al.Â (2010). Time-series analysis on the health effects of temperature: advancements and limitations.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åˆ†å¸ƒæ»åéçº¿æ€§æ¨¡å‹ (DLNM)"
    ]
  },
  {
    "objectID": "1031-lca.html",
    "href": "1031-lca.html",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis, LCA) æ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨äºè¯†åˆ«è§‚æµ‹æ•°æ®ä¸­æœªè§‚å¯Ÿåˆ°çš„å­ç¾¤ä½“ï¼ˆæ½œç±»åˆ«ï¼‰ã€‚å®ƒé€šå¸¸ç”¨äºåˆ†ç±»å˜é‡ï¼ˆå¦‚é—®å·è°ƒæŸ¥ä¸­çš„æ˜¯éé¢˜æˆ–æå…‹ç‰¹é‡è¡¨ï¼‰ï¼Œæ—¨åœ¨å°†å…·æœ‰ç›¸ä¼¼å“åº”æ¨¡å¼çš„ä¸ªä½“å½’ä¸ºä¸€ç±»ã€‚\nåœ¨ R ä¸­ï¼ŒpoLCA æ˜¯æœ€å¸¸ç”¨çš„è¿›è¡Œ LCA åˆ†æçš„åŒ…ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#ç®€ä»‹",
    "href": "1031-lca.html#ç®€ä»‹",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis, LCA) æ˜¯ä¸€ç§ç»Ÿè®¡æ–¹æ³•ï¼Œç”¨äºè¯†åˆ«è§‚æµ‹æ•°æ®ä¸­æœªè§‚å¯Ÿåˆ°çš„å­ç¾¤ä½“ï¼ˆæ½œç±»åˆ«ï¼‰ã€‚å®ƒé€šå¸¸ç”¨äºåˆ†ç±»å˜é‡ï¼ˆå¦‚é—®å·è°ƒæŸ¥ä¸­çš„æ˜¯éé¢˜æˆ–æå…‹ç‰¹é‡è¡¨ï¼‰ï¼Œæ—¨åœ¨å°†å…·æœ‰ç›¸ä¼¼å“åº”æ¨¡å¼çš„ä¸ªä½“å½’ä¸ºä¸€ç±»ã€‚\nåœ¨ R ä¸­ï¼ŒpoLCA æ˜¯æœ€å¸¸ç”¨çš„è¿›è¡Œ LCA åˆ†æçš„åŒ…ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#åº”ç”¨åœºæ™¯",
    "href": "1031-lca.html#åº”ç”¨åœºæ™¯",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "åº”ç”¨åœºæ™¯",
    "text": "åº”ç”¨åœºæ™¯\nLCA åœ¨å¤šä¸ªé¢†åŸŸéƒ½æœ‰å¹¿æ³›åº”ç”¨ï¼š\n\n1. åŒ»å­¦ä¸å…¬å…±å«ç”Ÿ\n\nç–¾ç—…äºšå‹è¯†åˆ«ï¼šæ ¹æ®ç—‡çŠ¶ç»„åˆè¯†åˆ«ä¸åŒçš„ç–¾ç—…è¡¨å‹ï¼ˆå¦‚æŠ‘éƒç—‡äºšå‹ï¼‰\nå¥åº·è¡Œä¸ºåˆ†ç±»ï¼šå°†äººç¾¤æŒ‰å¥åº·è¡Œä¸ºæ¨¡å¼åˆ†ç±»ï¼ˆå¦‚å¸çƒŸ+é¥®é…’+è¿åŠ¨çš„ç»„åˆï¼‰\næ‚£è€…åˆ†å±‚ï¼šè¯†åˆ«å…·æœ‰ä¸åŒæ²»ç–—ååº”çš„æ‚£è€…ç¾¤ä½“\n\n\n\n2. å¿ƒç†å­¦ä¸æ•™è‚²\n\nå­¦ä¹ é£æ ¼åˆ†å‹ï¼šè¯†åˆ«ä¸åŒçš„å­¦ä¹ è€…ç±»å‹\näººæ ¼ç±»å‹ç ”ç©¶ï¼šåŸºäºé—®å·å›ç­”è¯†åˆ«äººæ ¼ç±»å‹\n\n\n\n3. å¸‚åœºè¥é”€\n\næ¶ˆè´¹è€…ç»†åˆ†ï¼šæ ¹æ®è´­ä¹°è¡Œä¸ºå’Œåå¥½ç»†åˆ†å¸‚åœº\nç”¨æˆ·ç”»åƒï¼šè¯†åˆ«å…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„ç”¨æˆ·ç¾¤ä½“\n\n\n[!NOTE] LCA ä¸èšç±»åˆ†æçš„åŒºåˆ«ï¼šLCA åŸºäºæ¦‚ç‡æ¨¡å‹ï¼ˆå‡è®¾æ•°æ®æ¥è‡ªæ··åˆåˆ†å¸ƒï¼‰ï¼Œè€Œ K-means ç­‰èšç±»æ–¹æ³•åŸºäºè·ç¦»åº¦é‡ã€‚LCA æ›´é€‚åˆåˆ†ç±»å˜é‡ï¼Œä¸”èƒ½æä¾›å½’ç±»çš„æ¦‚ç‡ä¼°è®¡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#å®‰è£…",
    "href": "1031-lca.html#å®‰è£…",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…",
    "text": "å®‰è£…\n\ninstall.packages(\"poLCA\")\n\n\nlibrary(poLCA)\nlibrary(dplyr)\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#å®ä¾‹æ•°æ®",
    "href": "1031-lca.html#å®ä¾‹æ•°æ®",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "å®ä¾‹æ•°æ®",
    "text": "å®ä¾‹æ•°æ®\næˆ‘ä»¬å°†ä½¿ç”¨ poLCA åŒ…è‡ªå¸¦çš„ values æ•°æ®é›†ã€‚è¯¥æ•°æ®é›†åŒ…å«äº† 216 åå—è®¿è€…å¯¹ 4 ä¸ªäºŒåˆ†å˜é‡ï¼ˆè¶‹å‘æ™®ä¸–ä¸»ä¹‰æˆ–ç‰¹å®šä¸»ä¹‰ï¼‰çš„å›ç­”ã€‚\n\ndata(values)\nhead(values)\n\n  A B C D\n1 2 2 2 2\n2 2 2 2 2\n3 2 2 2 2\n4 2 2 2 2\n5 2 2 2 2\n6 2 2 2 2\n\n# å˜é‡è¯´æ˜ï¼š\n# A, B, C, D éƒ½æ˜¯äºŒåˆ†ç±»å˜é‡ (1, 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#æ¨¡å‹æ„å»º",
    "href": "1031-lca.html#æ¨¡å‹æ„å»º",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ„å»º",
    "text": "æ¨¡å‹æ„å»º\nLCA çš„å…³é”®æ­¥éª¤æ˜¯ç¡®å®šæœ€ä½³çš„æ½œç±»åˆ«æ•°é‡ (k)ã€‚é€šå¸¸æˆ‘ä»¬éœ€è¦æ¯”è¾ƒä¸åŒ k å€¼æ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦æŒ‡æ ‡ã€‚\n\næ¨¡å‹é€‰æ‹©æ ‡å‡†è¯¦è§£\n\n\n\næŒ‡æ ‡\nè¯´æ˜\né€‰æ‹©æ ‡å‡†\n\n\n\n\nBIC\nè´å¶æ–¯ä¿¡æ¯å‡†åˆ™\nè¶Šå°è¶Šå¥½ï¼Œå¯¹æ¨¡å‹å¤æ‚åº¦æƒ©ç½šè¾ƒå¤§\n\n\nAIC\nèµ¤æ± ä¿¡æ¯å‡†åˆ™\nè¶Šå°è¶Šå¥½ï¼Œæ¯”BICå€¾å‘äºé€‰æ‹©æ›´å¤šç±»åˆ«\n\n\nç†µ (Entropy)\nåˆ†ç±»å‡†ç¡®æ€§\nè¶Šæ¥è¿‘1è¶Šå¥½ï¼Œ&gt;0.8è¡¨ç¤ºåˆ†ç±»æ¸…æ™°\n\n\nBLRT\nBootstrapä¼¼ç„¶æ¯”æ£€éªŒ\np&lt;0.05è¡¨ç¤ºkç±»ä¼˜äºk-1ç±»\n\n\nLo-Mendell-Rubin\nLRTå˜ä½“\np&lt;0.05è¡¨ç¤ºkç±»ä¼˜äºk-1ç±»\n\n\n\n\n[!TIP] å®è·µå»ºè®®ï¼šé¦–é€‰ BIC æœ€å°çš„æ¨¡å‹ï¼Œä½†åŒæ—¶è€ƒè™‘ç†µå€¼ï¼ˆ&gt;0.7ï¼‰å’Œå„ç±»åˆ«æ ·æœ¬é‡æ˜¯å¦è¶³å¤Ÿï¼ˆé€šå¸¸è¦æ±‚æ¯ä¸ªç±»åˆ« &gt;5%ï¼‰ã€‚\n\n\n\n1. å¯»æ‰¾æœ€ä½³ç±»åˆ«æ•°\næˆ‘ä»¬å¾ªç¯è¿è¡Œ k=2 åˆ° k=5 çš„æ¨¡å‹ï¼Œå¹¶æ¯”è¾ƒå…¶ BIC å€¼ã€‚BIC è¶Šå°ï¼Œæ¨¡å‹æ‹Ÿåˆè¶Šå¥½ä¸”è¶Šç®€æ´ã€‚\n\n# å®šä¹‰å…¬å¼\nf &lt;- cbind(A, B, C, D) ~ 1\n\n# å­˜å‚¨ç»“æœ\nresults &lt;- list()\nbic_values &lt;- c()\n\nset.seed(123)\nfor (k in 2:5) {\n    res &lt;- poLCA(f, values, nclass = k, verbose = FALSE, nrep = 5)\n    results[[k]] &lt;- res\n    bic_values[k] &lt;- res$bic\n    cat(\"k =\", k, \": BIC =\", res$bic, \"\\n\")\n}\n\nk = 2 : BIC = 1057.313 \nk = 3 : BIC = 1081.856 \nk = 4 : BIC = 1108.346 \nk = 5 : BIC = 1135.222 \n\n# ç»˜åˆ¶ BIC å˜åŒ–å›¾\nplot(2:5, bic_values[2:5], type = \"b\", xlab = \"Number of Classes (k)\", ylab = \"BIC\", main = \"BIC Plot\")\n\n\n\n\n\n\n\n\nå‡è®¾æ ¹æ® BICï¼Œk=2 æˆ– k=3 æ˜¯è¾ƒå¥½çš„é€‰æ‹©ï¼ˆè¿™é‡Œå‡è®¾é€‰æ‹© k=2 è¿›è¡Œæ¼”ç¤ºï¼‰ã€‚\n\n\n2. æ‹Ÿåˆæœ€ç»ˆæ¨¡å‹\n\n# è¿è¡Œ k=2 çš„æ¨¡å‹\nbest_model &lt;- poLCA(f, values, nclass = 2, verbose = FALSE, graphs = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#ç»“æœè§£è¯»",
    "href": "1031-lca.html#ç»“æœè§£è¯»",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœè§£è¯»",
    "text": "ç»“æœè§£è¯»\n\nç±»åˆ«æ¦‚ç‡ (Class Proportions)\næŸ¥çœ‹æ¯ä¸ªæ½œç±»åˆ«åœ¨æ€»æ ·æœ¬ä¸­çš„å æ¯”ã€‚\n\nbest_model$P\n\n[1] 0.2792475 0.7207525\n\n\n\n\næ¡ä»¶æ¦‚ç‡ (Item Response Probabilities)\næŸ¥çœ‹æ¯ä¸ªç±»åˆ«åœ¨å„ä¸ªè§‚æµ‹å˜é‡ä¸Šçš„å›ç­”æ¦‚ç‡ã€‚è¿™æ˜¯å®šä¹‰æ¯ä¸ªç±»åˆ«ç‰¹å¾çš„å…³é”®ã€‚\n\nbest_model$probs\n\n$A\n                Pr(1)     Pr(2)\nclass 1:  0.006807065 0.9931929\nclass 2:  0.286412439 0.7135876\n\n$B\n               Pr(1)     Pr(2)\nclass 1:  0.06023677 0.9397632\nclass 2:  0.67038136 0.3296186\n\n$C\n               Pr(1)     Pr(2)\nclass 1:  0.07347022 0.9265298\nclass 2:  0.64598422 0.3540158\n\n$D\n              Pr(1)     Pr(2)\nclass 1:  0.2308695 0.7691305\nclass 2:  0.8676281 0.1323719\n\n\nä¾‹å¦‚ï¼Œå¦‚æœåœ¨å˜é‡ A ä¸Šï¼ŒClass 1 é€‰æ‹© â€œ1â€ çš„æ¦‚ç‡å¾ˆé«˜ï¼Œè€Œ Class 2 é€‰æ‹© â€œ2â€ çš„æ¦‚ç‡å¾ˆé«˜ï¼Œè¿™å°±æ˜¯è¿™ä¸¤ä¸ªç±»åˆ«çš„åŒºåˆ†ç‰¹å¾ã€‚\n\n\nç†µå€¼è®¡ç®—\nç†µå€¼æ˜¯è¯„ä¼°åˆ†ç±»è´¨é‡çš„é‡è¦æŒ‡æ ‡ï¼š\n\n# è®¡ç®—ç†µ\nentropy &lt;- function(p) sum(-p * log(p + 1e-10), na.rm = TRUE)\nclass_entropy &lt;- apply(best_model$posterior, 1, entropy)\nrelative_entropy &lt;- 1 - mean(class_entropy) / log(ncol(best_model$posterior))\ncat(\"Relative Entropy:\", round(relative_entropy, 3), \"\\n\")\n\nRelative Entropy: 0.719 \n\n\n\n[!IMPORTANT] ç†µå€¼ &gt; 0.8 è¡¨ç¤ºåˆ†ç±»éå¸¸æ¸…æ™°ï¼›0.6-0.8 ä¸ºå¯æ¥å—ï¼›&lt; 0.6 è¡¨ç¤ºç±»åˆ«ä¹‹é—´ç•Œé™æ¨¡ç³Šï¼Œéœ€è¦é‡æ–°è€ƒè™‘æ¨¡å‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#å¯è§†åŒ–",
    "href": "1031-lca.html#å¯è§†åŒ–",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "å¯è§†åŒ–",
    "text": "å¯è§†åŒ–\né™¤äº† poLCA è‡ªå¸¦çš„å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ggplot2 è‡ªå®šä¹‰æ¡ä»¶æ¦‚ç‡å›¾ï¼Œæ›´æ¸…æ™°åœ°å±•ç¤ºç±»åˆ«ç‰¹å¾ã€‚\n\n# æ•°æ®æ•´ç†\nprobs_df &lt;- data.frame()\nfor (var in names(best_model$probs)) {\n    tmp &lt;- as.data.frame(best_model$probs[[var]])\n    tmp$class &lt;- 1:nrow(tmp)\n    tmp$variable &lt;- var\n    # å–å‡ºå›ç­”ä¸º 1 (æˆ–æŸä¸ªç‰¹å®šé€‰é¡¹) çš„æ¦‚ç‡\n    tmp$prob &lt;- tmp[, 1]\n    probs_df &lt;- rbind(probs_df, tmp[, c(\"class\", \"variable\", \"prob\")])\n}\n\n# ç»˜å›¾\nggplot(probs_df, aes(x = variable, y = prob, group = class, color = factor(class))) +\n    geom_line(size = 1) +\n    geom_point(size = 3) +\n    labs(\n        title = \"æ½œç±»åˆ«ç‰¹å¾å›¾ (Profile Plot)\",\n        y = \"Probability of Response Category 1\",\n        color = \"Latent Class\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#åˆ†é…ç±»åˆ«",
    "href": "1031-lca.html#åˆ†é…ç±»åˆ«",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "åˆ†é…ç±»åˆ«",
    "text": "åˆ†é…ç±»åˆ«\næˆ‘ä»¬å¯ä»¥æå–æ¯ä¸ªæ ·æœ¬å±äºå„ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡ï¼Œå¹¶è¿›è¡Œåˆ†ç±»ã€‚\n\n# åéªŒæ¦‚ç‡\nhead(best_model$posterior)\n\n          [,1]       [,2]\n[1,] 0.9589821 0.04101786\n[2,] 0.9589821 0.04101786\n[3,] 0.9589821 0.04101786\n[4,] 0.9589821 0.04101786\n[5,] 0.9589821 0.04101786\n[6,] 0.9589821 0.04101786\n\n# é¢„æµ‹çš„ç±»åˆ«\nhead(best_model$predclass)\n\n[1] 1 1 1 1 1 1\n\n# å°†é¢„æµ‹ç±»åˆ«åˆå¹¶å›åŸæ•°æ®\nvalues$class &lt;- best_model$predclass\nhead(values)\n\n  A B C D class\n1 2 2 2 2     1\n2 2 2 2 2     1\n3 2 2 2 2     1\n4 2 2 2 2     1\n5 2 2 2 2     1\n6 2 2 2 2     1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#ç±»åˆ«å‘½åä¸è§£è¯»æŒ‡å—",
    "href": "1031-lca.html#ç±»åˆ«å‘½åä¸è§£è¯»æŒ‡å—",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "ç±»åˆ«å‘½åä¸è§£è¯»æŒ‡å—",
    "text": "ç±»åˆ«å‘½åä¸è§£è¯»æŒ‡å—\nè¯†åˆ«å‡ºæ½œç±»åˆ«åï¼Œå¦‚ä½•ç»™å®ƒä»¬å‘½åæ˜¯ç ”ç©¶çš„å…³é”®ï¼š\n\nå‘½ååŸåˆ™\n\nåŸºäºæœ€æ˜¾è‘—ç‰¹å¾ï¼šæ‰¾å‡ºæ¯ä¸ªç±»åˆ«åœ¨å“ªäº›å˜é‡ä¸Šæœ‰æç«¯æ¦‚ç‡ï¼ˆ&gt;0.8 æˆ– &lt;0.2ï¼‰\nä½¿ç”¨æè¿°æ€§æ ‡ç­¾ï¼šå¦‚â€é«˜é£é™©è¡Œä¸ºç»„â€ã€â€œå¥åº·ç”Ÿæ´»æ–¹å¼ç»„â€\né¿å…ä»·å€¼åˆ¤æ–­ï¼šä½¿ç”¨ä¸­æ€§è¯æ±‡ï¼Œå¦‚â€ç±»å‹Aâ€è€Œéâ€é—®é¢˜ç»„â€\n\n\n\næŠ¥å‘Šç¤ºä¾‹\n\næœ¬ç ”ç©¶è¯†åˆ«å‡ºä¸¤ä¸ªæ½œç±»åˆ«ï¼š - ç±»åˆ« 1 (æ™®ä¸–ä¸»ä¹‰å‹, n=XX, XX%)ï¼šåœ¨æ‰€æœ‰ä»·å€¼è§‚é—®é¢˜ä¸Šå€¾å‘äºé€‰æ‹©æ™®ä¸–ä¸»ä¹‰ç«‹åœºï¼ˆæ¦‚ç‡ &gt; 0.7ï¼‰ - ç±»åˆ« 2 (ç‰¹æ®Šä¸»ä¹‰å‹, n=XX, XX%)ï¼šåœ¨å…³ç³»å¯¼å‘é—®é¢˜ä¸Šå€¾å‘äºç‰¹æ®Šä¸»ä¹‰ç«‹åœºï¼ˆæ¦‚ç‡ &gt; 0.8ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "href": "1031-lca.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "text": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n\n\n\né—®é¢˜\nå¯èƒ½åŸå› \nè§£å†³æ–¹æ¡ˆ\n\n\n\n\næ¨¡å‹ä¸æ”¶æ•›\nèµ·å§‹å€¼ä¸ä½³\nå¢åŠ  nrep å‚æ•°ï¼ˆå¦‚è®¾ä¸º10-20ï¼‰\n\n\næŸç±»åˆ«æ ·æœ¬è¿‡å°‘\nç±»åˆ«æ•°è¿‡å¤š\nå‡å°‘ k å€¼æˆ–æ£€æŸ¥æ•°æ®è´¨é‡\n\n\nç†µå€¼è¿‡ä½\nç±»åˆ«ç•Œé™ä¸æ¸…\nè€ƒè™‘å‡å°‘ç±»åˆ«æ•°æˆ–é‡æ–°é€‰æ‹©å˜é‡\n\n\nå±€éƒ¨æœ€ä¼˜\nå•æ¬¡è¿è¡Œé™·å…¥å±€éƒ¨è§£\nå¢åŠ  nrep å¹¶æ¯”è¾ƒå¤šæ¬¡è¿è¡Œç»“æœ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1031-lca.html#å‚è€ƒæ–‡çŒ®",
    "href": "1031-lca.html#å‚è€ƒæ–‡çŒ®",
    "title": "æ½œç±»åˆ«åˆ†æ (Latent Class Analysis) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nLinzer, D. A., & Lewis, J. B. (2011). poLCA: An R Package for Polytomous Variable Latent Class Analysis. Journal of Statistical Software, 42(10), 1-29.\nNylund, K. L., et al.Â (2007). Deciding on the number of classes in latent class analysis and growth mixture modeling. Structural Equation Modeling, 14(4), 535-569.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ½œç±»åˆ«åˆ†æ (LCA)"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html",
    "href": "1029-umbrella-review.html",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¼çŠ¶ç»¼è¿° (Umbrella Review)ï¼Œä¹Ÿç§°ä¸ºç³»ç»Ÿè¯„ä»·çš„ç³»ç»Ÿè¯„ä»· (Review of Reviews)ï¼Œå¤„äºå¾ªè¯åŒ»å­¦è¯æ®é‡‘å­—å¡”çš„é¡¶ç«¯ã€‚\nä¼ ç»Ÿçš„ Meta åˆ†æ æ•´åˆäº†å¤šä¸ªç‹¬ç«‹ç ”ç©¶çš„ç»“æœï¼Œè€Œ ä¼çŠ¶ç»¼è¿° åˆ™æ•´åˆäº†é’ˆå¯¹åŒä¸€ä¸»é¢˜ï¼ˆæˆ–å¹¿æ³›ä¸»é¢˜ï¼‰çš„å¤šä¸ª Meta åˆ†æç»“æœã€‚\n\n\n\nè§£å†³çŸ›ç›¾ï¼šå½“ä¸åŒçš„ Meta åˆ†æå¾—å‡ºä¸ä¸€è‡´çš„ç»“è®ºæ—¶ã€‚\nå…¨é¢æ¦‚è§ˆï¼šæä¾›æ¯”å•ä¸€ Meta åˆ†ææ›´å¹¿é˜”çš„è§†é‡ï¼ˆä¾‹å¦‚ï¼Œâ€œä½“è‚²é”»ç‚¼å¯¹æ‰€æœ‰å¥åº·ç»“å±€çš„å½±å“â€ï¼‰ã€‚\nè¯æ®åˆ†çº§ï¼šä¸ä»…å…³æ³¨æ˜¯å¦æ˜¾è‘—ï¼Œæ›´å…³æ³¨è¯æ®çš„å¯ä¿¡åº¦å’Œå¼ºåº¦ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#ä»€ä¹ˆæ˜¯ä¼çŠ¶ç»¼è¿°",
    "href": "1029-umbrella-review.html#ä»€ä¹ˆæ˜¯ä¼çŠ¶ç»¼è¿°",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¼çŠ¶ç»¼è¿° (Umbrella Review)ï¼Œä¹Ÿç§°ä¸ºç³»ç»Ÿè¯„ä»·çš„ç³»ç»Ÿè¯„ä»· (Review of Reviews)ï¼Œå¤„äºå¾ªè¯åŒ»å­¦è¯æ®é‡‘å­—å¡”çš„é¡¶ç«¯ã€‚\nä¼ ç»Ÿçš„ Meta åˆ†æ æ•´åˆäº†å¤šä¸ªç‹¬ç«‹ç ”ç©¶çš„ç»“æœï¼Œè€Œ ä¼çŠ¶ç»¼è¿° åˆ™æ•´åˆäº†é’ˆå¯¹åŒä¸€ä¸»é¢˜ï¼ˆæˆ–å¹¿æ³›ä¸»é¢˜ï¼‰çš„å¤šä¸ª Meta åˆ†æç»“æœã€‚\n\n\n\nè§£å†³çŸ›ç›¾ï¼šå½“ä¸åŒçš„ Meta åˆ†æå¾—å‡ºä¸ä¸€è‡´çš„ç»“è®ºæ—¶ã€‚\nå…¨é¢æ¦‚è§ˆï¼šæä¾›æ¯”å•ä¸€ Meta åˆ†ææ›´å¹¿é˜”çš„è§†é‡ï¼ˆä¾‹å¦‚ï¼Œâ€œä½“è‚²é”»ç‚¼å¯¹æ‰€æœ‰å¥åº·ç»“å±€çš„å½±å“â€ï¼‰ã€‚\nè¯æ®åˆ†çº§ï¼šä¸ä»…å…³æ³¨æ˜¯å¦æ˜¾è‘—ï¼Œæ›´å…³æ³¨è¯æ®çš„å¯ä¿¡åº¦å’Œå¼ºåº¦ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#å·¥å…·ä»‹ç»metaumbrella",
    "href": "1029-umbrella-review.html#å·¥å…·ä»‹ç»metaumbrella",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "å·¥å…·ä»‹ç»ï¼šmetaumbrella",
    "text": "å·¥å…·ä»‹ç»ï¼šmetaumbrella\nåœ¨ R è¯­è¨€ä¸­ï¼Œmetaumbrella æ˜¯ç›®å‰æœ€å…¨é¢çš„ä¼çŠ¶ç»¼è¿°è‡ªåŠ¨åŒ–å·¥å…·ã€‚å®ƒèƒ½å¤Ÿï¼š - è‡ªåŠ¨è®¡ç®—æ•ˆåº”é‡ï¼ˆOR, RR, HR, Mean Difference ç­‰ï¼‰ã€‚ - è¿›è¡Œå¼‚è´¨æ€§æ£€éªŒ (I2)ã€‚ - æ£€æµ‹å°æ ·æœ¬æ•ˆåº” (Eggerâ€™s test)ã€‚ - è®¡ç®—è¶…é¢æ˜¾è‘—æ€§åå·® (Excess Significance Bias)ã€‚ - åŸºäº Ioannidis ç­‰æ ‡å‡†è‡ªåŠ¨è¿›è¡Œè¯æ®åˆ†çº§ã€‚\n\nå®‰è£…\n\ninstall.packages(\"metaumbrella\")\ninstall.packages(\"ggplot2\")\n\n\nlibrary(metaumbrella)\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#æ•°æ®å‡†å¤‡",
    "href": "1029-umbrella-review.html#æ•°æ®å‡†å¤‡",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "3. æ•°æ®å‡†å¤‡",
    "text": "3. æ•°æ®å‡†å¤‡\nè¿›è¡Œä¼çŠ¶ç»¼è¿°ï¼Œæ•°æ®é€šå¸¸æ¥æºäºå·²å‘è¡¨çš„ Meta åˆ†ææ–‡ç« ã€‚æˆ‘ä»¬éœ€è¦æ•´ç†å‡ºä¸€ä¸ªæ ‡å‡†çš„æ•°æ®æ¡†ã€‚\næˆ‘ä»¬ä½¿ç”¨åŒ…ä¸­è‡ªå¸¦çš„æ•°æ®é›† df.OR ä½œä¸ºç¤ºä¾‹ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºåŸºå› å¤šæ€æ€§ä¸ç–¾ç—…é£é™©çš„ Meta åˆ†æé›†åˆã€‚\n\ndata(\"df.OR\")\n# æŸ¥çœ‹æ•°æ®ç»“æ„çš„å‰å‡ è¡Œ\nhead(df.OR)\n\n  meta_review factor   author year measure    value     ci_lo    ci_up n_cases\n1     Dalager   ADHD   Burris 1995      OR 2.647059 1.3884096 5.046724     117\n2     Dalager   ADHD  Talbott 2016      OR 1.127907 0.6032607 2.108830     111\n3     Dalager   ADHD al-Mussa 1989      OR 2.229465 1.2235551 4.062356      95\n4     Dalager   ADHD  al-Rauf 2011      OR 1.102941 0.5622246 2.163689      93\n5     Dalager   ADHD     Rand 2015      OR 0.937500 0.5154349 1.705174     100\n6     Dalager   ADHD    Prawl 1999      OR 1.177885 0.6400561 2.167641      90\n  n_controls n_exp n_nexp n_cases_exp n_cases_nexp n_controls_exp\n1        107    56    168          39           78             17\n2        122    50    183          25           86             25\n3        121    62    154          36           59             26\n4         84    46    131          25           68             21\n5        102    62    140          30           70             32\n6        130    57    163          25           65             32\n  n_controls_nexp\n1              90\n2              97\n3              95\n4              63\n5              70\n6              98\n\n\n\næ•°æ®å­—æ®µè¯´æ˜\né€šå¸¸éœ€è¦ä»¥ä¸‹å…³é”®åˆ—ï¼š - meta_review: æ‰€å±çš„ Meta åˆ†ææˆ–å› ç´ åç§°ï¼ˆå¦‚ â€œGene A vs Diseaseâ€ï¼‰ã€‚ - author: çº³å…¥çš„åŸå§‹ç ”ç©¶ç¬¬ä¸€ä½œè€…ã€‚ - year: å‘è¡¨å¹´ä»½ã€‚ - n_cases_exp, n_cases_nexp: ç—…ä¾‹ç»„çš„æš´éœ²/éæš´éœ²äººæ•°ã€‚ - n_controls_exp, n_controls_nexp: å¯¹ç…§ç»„çš„æš´éœ²/éæš´éœ²äººæ•°ã€‚\n\n[!TIP] å¦‚æœä½ çš„æ•°æ®æ˜¯è¿ç»­å˜é‡ï¼ˆå‡å€¼å·®ï¼‰ï¼Œåˆ™éœ€è¦ n_group1, mean_group1, sd_group1 ç­‰åˆ—ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#æ ¸å¿ƒåˆ†æumbrella",
    "href": "1029-umbrella-review.html#æ ¸å¿ƒåˆ†æumbrella",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "æ ¸å¿ƒåˆ†æï¼šumbrella()",
    "text": "æ ¸å¿ƒåˆ†æï¼šumbrella()\numbrella() å‡½æ•°æ˜¯è¯¥åŒ…çš„æ ¸å¿ƒï¼Œå®ƒä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰ç»Ÿè®¡å·¥ä½œã€‚\n\n# æ‰§è¡Œä¼çŠ¶ç»¼è¿°åˆ†æ\n# method.var = \"REML\" æ¨èä½¿ç”¨é™åˆ¶æ€§æå¤§ä¼¼ç„¶æ³•ä¼°è®¡å¼‚è´¨æ€§\numb.results &lt;- umbrella(df.OR, method.var = \"REML\")\n\nAnalyzing factor: ADHD \nAnalyzing factor: ASD \nAnalyzing factor: dyslexia \nAnalyzing factor: ID \n\n\nè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¤§é‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¯ä¸ªå› ç´ çš„æ±‡æ€»æ•ˆåº”é‡ã€95% ç½®ä¿¡åŒºé—´ã€p å€¼ã€I2 ç»Ÿè®¡é‡ã€Egger æ£€éªŒç»“æœç­‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#è¯æ®åˆ†çº§-evidence-stratification",
    "href": "1029-umbrella-review.html#è¯æ®åˆ†çº§-evidence-stratification",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "è¯æ®åˆ†çº§ (Evidence Stratification)",
    "text": "è¯æ®åˆ†çº§ (Evidence Stratification)\nè¿™æ˜¯ä¼çŠ¶ç»¼è¿°æœ€å…³é”®çš„ä¸€æ­¥ã€‚æˆ‘ä»¬ä¸ä»…ä»…çœ‹ P å€¼æ˜¯å¦å°äº 0.05ï¼Œè¿˜è¦çœ‹è¯æ®æ˜¯å¦â€œç¨³å¥â€ã€‚é€šå¸¸ä½¿ç”¨ Ioannidis (2011) çš„æ ‡å‡†ã€‚\nIoannidis åˆ†çº§æ ‡å‡†é€šå¸¸åŒ…æ‹¬ï¼š - Class I (Convincing): P &lt; 10-6, I2 &lt; 50%, æ— å°æ ·æœ¬æ•ˆåº”, æ ·æœ¬é‡å……è¶³ (&gt;1000ä¾‹æˆ–&gt;10%ç ”ç©¶), 95%é¢„æµ‹åŒºé—´ä¸åŒ…å«æ— æ•ˆå€¼ã€‚ - Class II (Highly Suggestive): P &lt; 10-6, æœ€å¤§ç ”ç©¶æ˜¾è‘—, ä½†å¯èƒ½å­˜åœ¨ä¸€å®šå¼‚è´¨æ€§ã€‚ - Class III (Suggestive): P &lt; 10-3. - Class IV (Weak): P &lt; 0.05. - ns: P &gt; 0.05.\n\n# ä¾æ® \"Ioannidis\" æ ‡å‡†è¿›è¡Œåˆ†çº§\nevid.res &lt;- add.evidence(umb.results, criteria = \"Ioannidis\")\n\n# æŸ¥çœ‹é’ˆå¯¹æ¯ä¸ªå› ç´ çš„åˆ†çº§ç»“æœ\nsummary(evid.res)\n\n    Factor  Criteria Class measure value       value_CI    eG           eG_CI\n1     ADHD Ioannidis    IV      OR 1.526 [1.043, 2.231] 0.233  [0.023, 0.443]\n3 dyslexia Ioannidis    IV      OR 1.498 [1.004, 2.236] 0.223  [0.002, 0.444]\n4       ID Ioannidis    IV      OR 1.355 [1.078, 1.703] 0.167  [0.041, 0.293]\n2      ASD Ioannidis    ns      OR 1.020 [0.778, 1.339] 0.011 [-0.139, 0.161]\n    eOR         eOR_CI  p_value n_studies n_cases n_controls           PI_eG\n1 1.526 [1.043, 2.231] 2.94e-02        10     987       1120 [-0.456, 0.922]\n3 1.498 [1.004, 2.236] 4.80e-02         7     626        656 [-0.409, 0.855]\n4 1.355 [1.078, 1.703] 9.21e-03        25    2586       2653 [-0.393, 0.727]\n2 1.020 [0.778, 1.339] 8.84e-01        18    1967       1872 [-0.572, 0.594]\n          PI_eOR PI_sign     I2  egger_p egger_sign    ESB_p ESB_sign\n1 [0.437, 5.327]    null 70.886 4.84e-01         ns 3.75e-01       ns\n3 [0.476, 4.714]    null 60.556 2.29e-01         ns 5.47e-01       ns\n4 [0.491, 3.741]    null 67.231 6.00e-01         ns 4.61e-01       ns\n2 [0.354, 2.939]    null 67.742 5.06e-01         ns 1.68e-01       ns\n    largest_CI_eG largest_CI_eOR largest_sign\n1 [-0.354, 0.376] [0.527, 1.978]         null\n3   [0.026, 0.72] [1.048, 3.692]      notnull\n4  [-0.06, 0.597] [0.897, 2.952]         null\n2 [-0.569, 0.198] [0.356, 1.433]         null",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#ç»“æœå¯è§†åŒ–",
    "href": "1029-umbrella-review.html#ç»“æœå¯è§†åŒ–",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœå¯è§†åŒ–",
    "text": "ç»“æœå¯è§†åŒ–\nä¸€å¼ æ¸…æ™°çš„æ£®æ—å›¾å¯ä»¥å±•ç¤ºæ‰€æœ‰å› ç´ çš„è¯æ®ç­‰çº§ã€‚\n\n# ç»˜åˆ¶åˆ†å±‚è¯æ®å›¾\n# print_score = TRUE æ˜¾ç¤ºå…·ä½“è¯æ®å¾—åˆ†ï¼ˆå¯é€‰ï¼‰\nchart &lt;- forest(evid.res,\n    print_score = FALSE,\n    layout = \"JAMA\"\n) # ä½¿ç”¨ JAMA é£æ ¼å¸ƒå±€\n\n\n\n\n\n\n\n\nå›¾å½¢è§£è¯»ï¼š - çºµè½´åˆ—å‡ºäº†æ‰€æœ‰åˆ†æçš„å› ç´ ã€‚ - ç‚¹çš„é¢œè‰²æˆ–å½¢çŠ¶ä»£è¡¨äº†è¯æ®ç­‰çº§ï¼ˆClass I - IVï¼‰ã€‚ - æ¨ªè½´é€šå¸¸æ˜¯æ•ˆåº”é‡ï¼ˆå¦‚ OR å€¼ï¼‰ã€‚ - ä½ å¯ä»¥ä¸€çœ¼çœ‹å‡ºå“ªäº›å› ç´ å…·æœ‰ç¡®å‡¿ (Convincing) çš„è¯æ®æ”¯æŒã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#å¯¼å‡ºç»“æœ",
    "href": "1029-umbrella-review.html#å¯¼å‡ºç»“æœ",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "å¯¼å‡ºç»“æœ",
    "text": "å¯¼å‡ºç»“æœ\nåˆ†æå®Œæˆåï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å°†è¯¦ç»†çš„ç»Ÿè®¡æŒ‡æ ‡å¯¼å‡ºåˆ° Excel æˆ– CSV ä¸­åˆ¶ä½œè¡¨æ ¼ã€‚\n\n# æå–æ±‡æ€»è¡¨\nresults_table &lt;- summary(evid.res)\n\n# ä»…å±•ç¤ºå‰å‡ åˆ—é‡è¦ä¿¡æ¯\nknitr::kable(head(results_table[, c(\"Factor\", \"Class\", \"eOR\", \"p_value\", \"egger_p\", \"I2\")]))\n\n\n\n\n\nFactor\nClass\neOR\np_value\negger_p\nI2\n\n\n\n\n1\nADHD\nIV\n1.526\n2.94e-02\n4.84e-01\n70.886\n\n\n3\ndyslexia\nIV\n1.498\n4.80e-02\n2.29e-01\n60.556\n\n\n4\nID\nIV\n1.355\n9.21e-03\n6.00e-01\n67.231\n\n\n2\nASD\nns\n1.020\n8.84e-01\n5.06e-01\n67.742",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#æ€»ç»“",
    "href": "1029-umbrella-review.html#æ€»ç»“",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\né€šè¿‡ metaumbrellaï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®Œæˆå¤æ‚çš„è¯æ®æ•´åˆå·¥ä½œã€‚ä¸€ä¸ªé«˜è´¨é‡çš„ä¼çŠ¶ç»¼è¿°åº”è¯¥ï¼š 1. å…¨é¢æ£€ç´¢ï¼šç¡®ä¿æ²¡æœ‰é—æ¼é‡è¦çš„ Meta åˆ†æã€‚ 2. ä¸¥æ ¼æ¸…æ´—ï¼šæ•°æ®æå–å¿…é¡»å‡†ç¡®ã€‚ 3. å¤šç»´è¯„ä¼°ï¼šä¸ä»…çœ‹æ•ˆåº”é‡ï¼Œæ›´è¦çœ‹å¼‚è´¨æ€§å’Œå‘è¡¨åå€šã€‚ 4. æ¸…æ™°å‘ˆç°ï¼šä½¿ç”¨åˆ†çº§å›¾å±•ç¤ºè¯æ®å¼ºåº¦ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1029-umbrella-review.html#å‚è€ƒæ–‡çŒ®",
    "href": "1029-umbrella-review.html#å‚è€ƒæ–‡çŒ®",
    "title": "ä¼çŠ¶ç»¼è¿° (Umbrella Review) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nIoannidis, J. P. (2009). Integration of evidence from multiple meta-analyses: a primer on umbrella reviews, treatment networks and multiple treatments meta-analyses. CMAJ.\nBalduzzi, S., et al.Â (2023). metaumbrella: An R Package for Conducting Umbrella Reviews.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¼çŠ¶ç»¼è¿°"
    ]
  },
  {
    "objectID": "1027-rcs.html",
    "href": "1027-rcs.html",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ï¼ˆRestricted Cubic Spline, RCSï¼‰ æ˜¯ä¸€ç§çµæ´»çš„éçº¿æ€§å»ºæ¨¡æ–¹æ³•ï¼Œç”¨äºæ¢ç´¢è¿ç»­å˜é‡ä¸ç»“å±€ä¹‹é—´çš„éçº¿æ€§å…³ç³»ï¼ŒåŒæ—¶ä¿æŒæ›²çº¿åœ¨è¾¹ç•Œå¤„çš„å¹³æ»‘æ€§ã€‚\n\n\n\n\n\næ–¹æ³•\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nçº¿æ€§é¡¹\nç®€å•ï¼Œæ˜“è§£é‡Š\nå¯èƒ½é—æ¼éçº¿æ€§\n\n\nå¤šé¡¹å¼\nçµæ´»\nè¾¹ç•Œä¸ç¨³å®šï¼Œéš¾ä»¥è§£é‡Š\n\n\nåˆ†ç±»å˜é‡\nç®€å•\nä¸¢å¤±ä¿¡æ¯ï¼Œåˆ‡ç‚¹ä¸»è§‚\n\n\nRCS\nçµæ´»ï¼Œè¾¹ç•Œå¹³æ»‘\néœ€è¦é€‰æ‹©èŠ‚ç‚¹æ•°\n\n\n\n\n\n\n\nåˆ†æ®µç«‹æ–¹å¤šé¡¹å¼ï¼šåœ¨èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ä¸‰æ¬¡å¤šé¡¹å¼æ‹Ÿåˆ\nè¿ç»­æ€§çº¦æŸï¼šå‡½æ•°åŠå…¶ä¸€é˜¶ã€äºŒé˜¶å¯¼æ•°åœ¨èŠ‚ç‚¹å¤„è¿ç»­\nè¾¹ç•Œçº¦æŸï¼šåœ¨æœ€å¤–ä¾§èŠ‚ç‚¹ä¹‹å¤–å¼ºåˆ¶ä¸ºçº¿æ€§ï¼ˆé™åˆ¶æ€§ï¼‰\n\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nå‰‚é‡-ååº”å…³ç³»\nè¯ç‰©å‰‚é‡ä¸ç–—æ•ˆ\n\n\néçº¿æ€§é£é™©\nå¹´é¾„ä¸æ­»äº¡ç‡çš„ J å‹å…³ç³»\n\n\né˜ˆå€¼æ•ˆåº”\nBMI ä¸ç–¾ç—…é£é™©\n\n\næ‹ç‚¹è¯†åˆ«\næœ€ä½³å¹²é¢„åˆ‡ç‚¹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#ä»€ä¹ˆæ˜¯é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡",
    "href": "1027-rcs.html#ä»€ä¹ˆæ˜¯é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ï¼ˆRestricted Cubic Spline, RCSï¼‰ æ˜¯ä¸€ç§çµæ´»çš„éçº¿æ€§å»ºæ¨¡æ–¹æ³•ï¼Œç”¨äºæ¢ç´¢è¿ç»­å˜é‡ä¸ç»“å±€ä¹‹é—´çš„éçº¿æ€§å…³ç³»ï¼ŒåŒæ—¶ä¿æŒæ›²çº¿åœ¨è¾¹ç•Œå¤„çš„å¹³æ»‘æ€§ã€‚\n\n\n\n\n\næ–¹æ³•\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nçº¿æ€§é¡¹\nç®€å•ï¼Œæ˜“è§£é‡Š\nå¯èƒ½é—æ¼éçº¿æ€§\n\n\nå¤šé¡¹å¼\nçµæ´»\nè¾¹ç•Œä¸ç¨³å®šï¼Œéš¾ä»¥è§£é‡Š\n\n\nåˆ†ç±»å˜é‡\nç®€å•\nä¸¢å¤±ä¿¡æ¯ï¼Œåˆ‡ç‚¹ä¸»è§‚\n\n\nRCS\nçµæ´»ï¼Œè¾¹ç•Œå¹³æ»‘\néœ€è¦é€‰æ‹©èŠ‚ç‚¹æ•°\n\n\n\n\n\n\n\nåˆ†æ®µç«‹æ–¹å¤šé¡¹å¼ï¼šåœ¨èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ä¸‰æ¬¡å¤šé¡¹å¼æ‹Ÿåˆ\nè¿ç»­æ€§çº¦æŸï¼šå‡½æ•°åŠå…¶ä¸€é˜¶ã€äºŒé˜¶å¯¼æ•°åœ¨èŠ‚ç‚¹å¤„è¿ç»­\nè¾¹ç•Œçº¦æŸï¼šåœ¨æœ€å¤–ä¾§èŠ‚ç‚¹ä¹‹å¤–å¼ºåˆ¶ä¸ºçº¿æ€§ï¼ˆé™åˆ¶æ€§ï¼‰\n\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nå‰‚é‡-ååº”å…³ç³»\nè¯ç‰©å‰‚é‡ä¸ç–—æ•ˆ\n\n\néçº¿æ€§é£é™©\nå¹´é¾„ä¸æ­»äº¡ç‡çš„ J å‹å…³ç³»\n\n\né˜ˆå€¼æ•ˆåº”\nBMI ä¸ç–¾ç—…é£é™©\n\n\næ‹ç‚¹è¯†åˆ«\næœ€ä½³å¹²é¢„åˆ‡ç‚¹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1027-rcs.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(rms) # RCS ä¸»åŠ›åŒ…\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(ggplot2) # å¯è§†åŒ–\nlibrary(survival) # ç”Ÿå­˜åˆ†æ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#æ•°æ®å‡†å¤‡",
    "href": "1027-rcs.html#æ•°æ®å‡†å¤‡",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿçš„ BMI ä¸ç³–å°¿ç—…æ•°æ®ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®\nset.seed(2024)\nn &lt;- 1000\n\ndiabetes_data &lt;- tibble(\n    id = 1:n,\n    age = round(runif(n, 30, 70)),\n    sex = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE)),\n    bmi = round(rnorm(n, 26, 5), 1),\n    exercise = round(pmax(0, rnorm(n, 150, 60))),\n    family_history = rbinom(n, 1, 0.25)\n) |&gt;\n    mutate(\n        # éçº¿æ€§ BMI æ•ˆåº”ï¼ˆJ å‹æ›²çº¿ï¼‰\n        bmi_effect = case_when(\n            bmi &lt; 18.5 ~ 0.5, # è¿‡è½»\n            bmi &lt; 24 ~ -0.3, # æ­£å¸¸ï¼ˆå‚ç…§ï¼‰\n            bmi &lt; 28 ~ 0.2, # è¶…é‡\n            bmi &lt; 32 ~ 0.8, # è‚¥èƒ–\n            TRUE ~ 1.5 # é‡åº¦è‚¥èƒ–\n        ) + 0.03 * (bmi - 24)^2 / 10, # é¢å¤–éçº¿æ€§\n\n        # ç³–å°¿ç—…é£é™©\n        logit_p = -3 +\n            bmi_effect +\n            0.04 * (age - 50) -\n            0.003 * pmax(exercise - 150, 0) +\n            0.5 * family_history,\n        p = plogis(logit_p),\n        diabetes = rbinom(n, 1, p)\n    )\n\n# é™åˆ¶ BMI èŒƒå›´\ndiabetes_data &lt;- diabetes_data |&gt;\n    filter(bmi &gt;= 15 & bmi &lt;= 45)\n\nglimpse(diabetes_data)\n\nRows: 988\nColumns: 10\n$ id             &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, â€¦\n$ age            &lt;dbl&gt; 63, 43, 57, 58, 48, 58, 47, 42, 65, 35, 66, 68, 58, 51,â€¦\n$ sex            &lt;fct&gt; å¥³, å¥³, ç”·, å¥³, å¥³, ç”·, ç”·, ç”·, å¥³, å¥³, å¥³, å¥³, å¥³, å¥³, ç”·, ç”·, ç”·, å¥³, ç”·â€¦\n$ bmi            &lt;dbl&gt; 25.7, 23.5, 21.5, 24.1, 25.1, 22.3, 21.6, 19.0, 28.0, 2â€¦\n$ exercise       &lt;dbl&gt; 211, 73, 115, 8, 127, 28, 209, 217, 73, 93, 72, 108, 23â€¦\n$ family_history &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0â€¦\n$ bmi_effect     &lt;dbl&gt; 0.20867, -0.29925, -0.28125, 0.20003, 0.20363, -0.29133â€¦\n$ logit_p        &lt;dbl&gt; -2.45433, -3.57925, -3.00125, -2.47997, -2.87637, -2.97â€¦\n$ p              &lt;dbl&gt; 0.07912248, 0.02713951, 0.04736943, 0.07727434, 0.05333â€¦\n$ diabetes       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0â€¦\n\n# äº‹ä»¶ç‡\nmean(diabetes_data$diabetes)\n\n[1] 0.09109312\n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# BMI ä¸ç³–å°¿ç—…çš„å…³ç³»ï¼ˆåˆæ­¥æ¢ç´¢ï¼‰\nggplot(diabetes_data, aes(x = bmi, y = diabetes)) +\n    geom_jitter(alpha = 0.2, height = 0.1, color = \"#4f46e5\") +\n    geom_smooth(method = \"loess\", color = \"#ef4444\") +\n    labs(\n        title = \"BMI ä¸ç³–å°¿ç—…é£é™©çš„å…³ç³»\",\n        subtitle = \"LOESS å¹³æ»‘æ›²çº¿æç¤ºéçº¿æ€§å…³ç³»\",\n        x = \"BMI (kg/mÂ²)\",\n        y = \"ç³–å°¿ç—…ï¼ˆ0/1ï¼‰\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#è®¾ç½®æ•°æ®åˆ†å¸ƒ",
    "href": "1027-rcs.html#è®¾ç½®æ•°æ®åˆ†å¸ƒ",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "è®¾ç½®æ•°æ®åˆ†å¸ƒ",
    "text": "è®¾ç½®æ•°æ®åˆ†å¸ƒ\nrms åŒ…éœ€è¦å…ˆè®¾ç½®æ•°æ®åˆ†å¸ƒä¿¡æ¯ï¼š\n\n# è®¾ç½®æ•°æ®åˆ†å¸ƒï¼ˆé‡è¦ï¼ï¼‰\ndd &lt;- datadist(diabetes_data)\noptions(datadist = \"dd\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#åŸºç¡€-rcs-æ¨¡å‹",
    "href": "1027-rcs.html#åŸºç¡€-rcs-æ¨¡å‹",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ RCS æ¨¡å‹",
    "text": "åŸºç¡€ RCS æ¨¡å‹\n\nèŠ‚ç‚¹æ•°é€‰æ‹©\nèŠ‚ç‚¹æ•°ï¼ˆknotsï¼‰çš„æ¨èï¼š\n\n\n\næ ·æœ¬é‡\næ¨èèŠ‚ç‚¹æ•°\nè‡ªç”±åº¦\n\n\n\n\n&lt; 100\n3\n2\n\n\n100-500\n4\n3\n\n\n&gt; 500\n5\n4\n\n\n\n\n# 4 èŠ‚ç‚¹ RCS Logistic å›å½’\nrcs_model &lt;- lrm(\n    diabetes ~ rcs(bmi, 4) + age + sex + exercise + family_history,\n    data = diabetes_data,\n    x = TRUE, y = TRUE # ä¿ç•™æ•°æ®ç”¨äºåç»­åˆ†æ\n)\n\nprint(rcs_model)\n\nLogistic Regression Model\n\nlrm(formula = diabetes ~ rcs(bmi, 4) + age + sex + exercise + \n    family_history, data = diabetes_data, x = TRUE, y = TRUE)\n\n                       Model Likelihood      Discrimination    Rank Discrim.    \n                             Ratio Test             Indexes          Indexes    \nObs           988    LR chi2      51.03      R2       0.110    C       0.716    \n 0            898    d.f.             7      R2(7,988)0.044    Dxy     0.433    \n 1             90    Pr(&gt; chi2) &lt;0.0001    R2(7,245.4)0.164    gamma   0.433    \nmax |deriv| 2e-10                            Brier    0.078    tau-a   0.072    \n\n               Coef    S.E.   Wald Z Pr(&gt;|Z|)\nIntercept      -1.5828 2.1699 -0.73  0.4657  \nbmi            -0.1417 0.0980 -1.45  0.1483  \nbmi'            0.6742 0.3188  2.11  0.0345  \nbmi''          -2.0604 1.1134 -1.85  0.0642  \nage             0.0412 0.0105  3.92  &lt;0.0001 \nsex=å¥³          0.1248 0.2295  0.54  0.5865  \nexercise       -0.0052 0.0020 -2.61  0.0091  \nfamily_history  0.5879 0.2446  2.40  0.0162  \n\n\n\n\nè§£è¯»è¾“å‡º\n\nWald Ï‡Â² å’Œ Pï¼šæ•´ä½“éçº¿æ€§æ£€éªŒ\nANOVA è¡¨ï¼šåˆ†è§£çº¿æ€§å’Œéçº¿æ€§æ•ˆåº”\n\n\n# ANOVA æ£€éªŒï¼ˆå…³é”®ï¼ï¼‰\nanova(rcs_model)\n\n                Wald Statistics          Response: diabetes \n\n Factor         Chi-Square d.f. P     \n bmi            25.00      3    &lt;.0001\n  Nonlinear      6.44      2    0.0400\n age            15.36      1    0.0001\n sex             0.30      1    0.5865\n exercise        6.80      1    0.0091\n family_history  5.78      1    0.0162\n TOTAL          46.60      7    &lt;.0001\n\n\nè§£è¯»ï¼š - bmi è¡Œçš„ P å€¼ï¼šBMI çš„æ•´ä½“æ•ˆåº” - Nonlinear è¡Œçš„ P å€¼ï¼šéçº¿æ€§æ˜¯å¦æ˜¾è‘— - å¦‚æœ Nonlinear P &lt; 0.05ï¼Œè¯´æ˜éœ€è¦ä½¿ç”¨ RCS è€Œéçº¿æ€§é¡¹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#å¯è§†åŒ–éçº¿æ€§æ•ˆåº”",
    "href": "1027-rcs.html#å¯è§†åŒ–éçº¿æ€§æ•ˆåº”",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "å¯è§†åŒ–éçº¿æ€§æ•ˆåº”",
    "text": "å¯è§†åŒ–éçº¿æ€§æ•ˆåº”\n\nåŸºç¡€å¯è§†åŒ–\n\n# ä½¿ç”¨ rms::Predict å‡½æ•°\npred_bmi &lt;- Predict(rcs_model, bmi, ref.zero = TRUE)\n\n# ç»‘åˆ¶æ•ˆåº”å›¾\nplot(pred_bmi,\n    xlab = \"BMI (kg/mÂ²)\",\n    ylab = \"log(OR)\",\n    main = \"BMI ä¸ç³–å°¿ç—…é£é™©çš„éçº¿æ€§å…³ç³»\"\n)\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ ggplot2 å¯è§†åŒ–\n\n# æå–é¢„æµ‹æ•°æ®\npred_data &lt;- Predict(rcs_model, bmi, ref.zero = TRUE) |&gt;\n    as.data.frame()\n\n# è®¡ç®— OR\npred_data &lt;- pred_data |&gt;\n    mutate(\n        OR = exp(yhat),\n        OR_lower = exp(lower),\n        OR_upper = exp(upper)\n    )\n\n# é«˜è´¨é‡å¯è§†åŒ–\nggplot(pred_data, aes(x = bmi)) +\n    # ç½®ä¿¡åŒºé—´\n    geom_ribbon(aes(ymin = OR_lower, ymax = OR_upper),\n        fill = \"#4f46e5\", alpha = 0.2\n    ) +\n    # ä¸»æ›²çº¿\n    geom_line(aes(y = OR), color = \"#4f46e5\", linewidth = 1.2) +\n    # å‚ç…§çº¿\n    geom_hline(yintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    # æ·»åŠ åœ°æ¯¯å›¾æ˜¾ç¤ºæ•°æ®åˆ†å¸ƒ\n    geom_rug(\n        data = diabetes_data, aes(x = bmi),\n        inherit.aes = FALSE, alpha = 0.3, sides = \"b\"\n    ) +\n    scale_y_log10(breaks = c(0.5, 1, 2, 4, 8)) +\n    labs(\n        title = \"BMI ä¸ç³–å°¿ç—…é£é™©çš„å‰‚é‡-ååº”å…³ç³»\",\n        subtitle = \"ä½¿ç”¨ 4 èŠ‚ç‚¹é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ï¼Œå‚ç…§ç‚¹: BMI = 24\",\n        x = \"BMI (kg/mÂ²)\",\n        y = \"æ¯”å€¼æ¯” (OR)\",\n        caption = \"é˜´å½±åŒºåŸŸ: 95% ç½®ä¿¡åŒºé—´\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        plot.title = element_text(face = \"bold\"),\n        panel.grid.minor = element_blank()\n    )\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®ä¸åŒå‚ç…§ç‚¹\n\n# ä»¥ BMI = 22ï¼ˆæ­£å¸¸ä¸­å€¼ï¼‰ä¸ºå‚ç…§\npred_22 &lt;- Predict(rcs_model, bmi,\n    ref.zero = TRUE,\n    fun = exp\n) # ç›´æ¥è¾“å‡º OR\n\n# æ›´æ–° datadist çš„å‚ç…§å€¼\ndd$limits$bmi[2] &lt;- 22 # è®¾ç½®å‚ç…§å€¼ä¸º22\noptions(datadist = \"dd\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#èŠ‚ç‚¹æ•°é€‰æ‹©-1",
    "href": "1027-rcs.html#èŠ‚ç‚¹æ•°é€‰æ‹©-1",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "èŠ‚ç‚¹æ•°é€‰æ‹©",
    "text": "èŠ‚ç‚¹æ•°é€‰æ‹©\n\næ¯”è¾ƒä¸åŒèŠ‚ç‚¹æ•°\n\n# æ‹Ÿåˆä¸åŒèŠ‚ç‚¹æ•°çš„æ¨¡å‹\nrcs3 &lt;- lrm(diabetes ~ rcs(bmi, 3) + age + sex, data = diabetes_data)\nrcs4 &lt;- lrm(diabetes ~ rcs(bmi, 4) + age + sex, data = diabetes_data)\nrcs5 &lt;- lrm(diabetes ~ rcs(bmi, 5) + age + sex, data = diabetes_data)\n\n# AIC æ¯”è¾ƒ\ndata.frame(\n    èŠ‚ç‚¹æ•° = 3:5,\n    è‡ªç”±åº¦ = c(2, 3, 4),\n    AIC = c(AIC(rcs3), AIC(rcs4), AIC(rcs5))\n)\n\n  èŠ‚ç‚¹æ•° è‡ªç”±åº¦      AIC\n1      3      2 576.3089\n2      4      3 575.6357\n3      5      4 577.0487\n\n\n\n# å¯è§†åŒ–æ¯”è¾ƒ\npred3 &lt;- Predict(rcs3, bmi, ref.zero = TRUE) |&gt;\n    as.data.frame() |&gt;\n    mutate(knots = \"3 èŠ‚ç‚¹\")\npred4 &lt;- Predict(rcs4, bmi, ref.zero = TRUE) |&gt;\n    as.data.frame() |&gt;\n    mutate(knots = \"4 èŠ‚ç‚¹\")\npred5 &lt;- Predict(rcs5, bmi, ref.zero = TRUE) |&gt;\n    as.data.frame() |&gt;\n    mutate(knots = \"5 èŠ‚ç‚¹\")\n\ncompare_data &lt;- bind_rows(pred3, pred4, pred5)\n\nggplot(compare_data, aes(x = bmi, y = exp(yhat), color = knots)) +\n    geom_line(linewidth = 1) +\n    geom_hline(yintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    scale_color_manual(values = c(\"#22c55e\", \"#4f46e5\", \"#ef4444\")) +\n    scale_y_log10() +\n    labs(\n        title = \"ä¸åŒèŠ‚ç‚¹æ•°çš„ RCS æ›²çº¿æ¯”è¾ƒ\",\n        x = \"BMI\",\n        y = \"OR\",\n        color = \"èŠ‚ç‚¹æ•°\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰èŠ‚ç‚¹ä½ç½®\n\n# é»˜è®¤èŠ‚ç‚¹ä½ç½®ï¼ˆåˆ†ä½æ•°ï¼‰\ndefault_knots &lt;- rcspline.eval(diabetes_data$bmi, nk = 4, knots.only = TRUE)\ncat(\"é»˜è®¤èŠ‚ç‚¹ä½ç½®:\", default_knots, \"\\n\")\n\né»˜è®¤èŠ‚ç‚¹ä½ç½®: 18.9 24.3 27.9 34.5 \n\n# è‡ªå®šä¹‰èŠ‚ç‚¹ä½ç½®\ncustom_knots &lt;- c(18.5, 24, 28, 32) # åŸºäº WHO åˆ†ç±»\n\nrcs_custom &lt;- lrm(\n    diabetes ~ rcs(bmi, custom_knots) + age + sex + family_history,\n    data = diabetes_data\n)\n\nanova(rcs_custom)\n\n                Wald Statistics          Response: diabetes \n\n Factor         Chi-Square d.f. P     \n bmi            23.87      3    &lt;.0001\n  Nonlinear      6.30      2    0.0429\n age            15.22      1    0.0001\n sex             0.35      1    0.5536\n family_history  5.13      1    0.0235\n TOTAL          41.75      6    &lt;.0001",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#é˜ˆå€¼æ•ˆåº”ä¸æ‹ç‚¹åˆ†æ",
    "href": "1027-rcs.html#é˜ˆå€¼æ•ˆåº”ä¸æ‹ç‚¹åˆ†æ",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "é˜ˆå€¼æ•ˆåº”ä¸æ‹ç‚¹åˆ†æ",
    "text": "é˜ˆå€¼æ•ˆåº”ä¸æ‹ç‚¹åˆ†æ\n\nè§†è§‰è¯†åˆ«æ‹ç‚¹\n\n# ä»æ›²çº¿è¯†åˆ«æ½œåœ¨æ‹ç‚¹\npred_detailed &lt;- Predict(rcs_model, bmi = seq(15, 45, 0.5), ref.zero = TRUE) |&gt;\n    as.data.frame() |&gt;\n    mutate(OR = exp(yhat))\n\n# æ‰¾åˆ° OR = 1 çš„äº¤ç‚¹ï¼ˆå³é£é™©å¼€å§‹å¢åŠ çš„é˜ˆå€¼ï¼‰\nthreshold_idx &lt;- which.min(abs(pred_detailed$OR - 1))\nthreshold_bmi &lt;- pred_detailed$bmi[threshold_idx]\n\ncat(\"é£é™©å¼€å§‹å¢åŠ çš„ BMI é˜ˆå€¼çº¦:\", round(threshold_bmi, 1), \"\\n\")\n\né£é™©å¼€å§‹å¢åŠ çš„ BMI é˜ˆå€¼çº¦: 26 \n\n\n\n\næœ€ä¼˜åˆ‡ç‚¹åˆ†æ\n\n# è®¡ç®—å„ BMI æ°´å¹³ç›¸å¯¹äºä¸åŒå‚ç…§çš„ OR\n# è¿™æœ‰åŠ©äºè¯†åˆ«ä¸´åºŠæœ‰æ„ä¹‰çš„åˆ‡ç‚¹\n\n# åˆ›å»ºé¢„æµ‹æ•°æ®æ¡†\npred_grid &lt;- expand.grid(\n    bmi = seq(18, 40, 2),\n    age = median(diabetes_data$age),\n    sex = \"ç”·\",\n    exercise = median(diabetes_data$exercise),\n    family_history = 0\n)\n\n# é¢„æµ‹é£é™©\npred_grid$prob &lt;- predict(rcs_model, newdata = pred_grid, type = \"fitted\")\n\n# å¯è§†åŒ–é£é™©æ›²çº¿\nggplot(pred_grid, aes(x = bmi, y = prob)) +\n    geom_line(color = \"#4f46e5\", linewidth = 1.2) +\n    geom_point(color = \"#4f46e5\", size = 2) +\n    scale_y_continuous(labels = scales::percent_format()) +\n    labs(\n        title = \"BMI ä¸é¢„æµ‹ç³–å°¿ç—…é£é™©\",\n        subtitle = \"æ§åˆ¶å¹´é¾„ã€æ€§åˆ«ã€è¿åŠ¨é‡å’Œå®¶æ—å²\",\n        x = \"BMI (kg/mÂ²)\",\n        y = \"é¢„æµ‹é£é™©\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#ä¸ç”Ÿå­˜åˆ†æç»“åˆ",
    "href": "1027-rcs.html#ä¸ç”Ÿå­˜åˆ†æç»“åˆ",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "ä¸ç”Ÿå­˜åˆ†æç»“åˆ",
    "text": "ä¸ç”Ÿå­˜åˆ†æç»“åˆ\n\nCox å›å½’ä¸­çš„ RCS\n\n# æ¨¡æ‹Ÿç”Ÿå­˜æ•°æ®\nset.seed(42)\nsurvival_data &lt;- diabetes_data |&gt;\n    mutate(\n        # ç”Ÿå­˜æ—¶é—´\n        time = rexp(n(), rate = 0.05 + 0.02 * diabetes),\n        time = pmin(time, 10), # æœ€é•¿éšè®¿10å¹´\n        # åˆ å¤±\n        censor_time = runif(n(), 3, 10),\n        surv_time = pmin(time, censor_time),\n        status = as.integer(time &lt;= censor_time)\n    )\n\n# è®¾ç½® datadist\ndd &lt;- datadist(survival_data)\noptions(datadist = \"dd\")\n\n# Cox å›å½’ with RCS\ncox_rcs &lt;- cph(\n    Surv(surv_time, status) ~ rcs(bmi, 4) + age + sex,\n    data = survival_data,\n    x = TRUE, y = TRUE\n)\n\nprint(cox_rcs)\n\nCox Proportional Hazards Model\n\ncph(formula = Surv(surv_time, status) ~ rcs(bmi, 4) + age + sex, \n    data = survival_data, x = TRUE, y = TRUE)\n\n                        Model Tests    Discrimination    \n                                              Indexes    \nObs        988    LR chi2      4.27    R2       0.004    \nEvents     249    d.f.            5    R2(5,988)0.000    \nCenter -1.3206    Pr(&gt; chi2) 0.5108    R2(5,249)0.000    \n                  Score chi2   4.45    Dxy      0.079    \n                  Pr(&gt; chi2) 0.4861                      \n\n       Coef    S.E.   Wald Z Pr(&gt;|Z|)\nbmi    -0.0807 0.0500 -1.61  0.1066  \nbmi'    0.2451 0.1683  1.46  0.1452  \nbmi''  -0.8160 0.6133 -1.33  0.1834  \nage     0.0071 0.0056  1.27  0.2026  \nsex=å¥³  0.0417 0.1272  0.33  0.7429  \n\nanova(cox_rcs)\n\n                Wald Statistics          Response: Surv(surv_time, status) \n\n Factor     Chi-Square d.f. P     \n bmi        2.61       3    0.4554\n  Nonlinear 2.37       2    0.3063\n age        1.62       1    0.2026\n sex        0.11       1    0.7429\n TOTAL      4.45       5    0.4860\n\n\n\n# å¯è§†åŒ– HR æ›²çº¿\npred_cox &lt;- Predict(cox_rcs, bmi, ref.zero = TRUE, fun = exp)\n\nggplot(as.data.frame(pred_cox), aes(x = bmi)) +\n    geom_ribbon(aes(ymin = lower, ymax = upper), fill = \"#ef4444\", alpha = 0.2) +\n    geom_line(aes(y = yhat), color = \"#ef4444\", linewidth = 1.2) +\n    geom_hline(yintercept = 1, linetype = \"dashed\") +\n    scale_y_log10() +\n    labs(\n        title = \"BMI ä¸æ­»äº¡é£é™©ï¼ˆCox å›å½’ + RCSï¼‰\",\n        x = \"BMI (kg/mÂ²)\",\n        y = \"é£é™©æ¯” (HR)\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#å¤šå˜é‡éçº¿æ€§æ¨¡å‹",
    "href": "1027-rcs.html#å¤šå˜é‡éçº¿æ€§æ¨¡å‹",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "å¤šå˜é‡éçº¿æ€§æ¨¡å‹",
    "text": "å¤šå˜é‡éçº¿æ€§æ¨¡å‹\n\n# å¤šä¸ªå˜é‡ä½¿ç”¨ RCS\nmulti_rcs &lt;- lrm(\n    diabetes ~ rcs(bmi, 4) + rcs(age, 3) + rcs(exercise, 3) + sex + family_history,\n    data = diabetes_data\n)\n\nanova(multi_rcs)\n\n                Wald Statistics          Response: diabetes \n\n Factor          Chi-Square d.f. P     \n bmi             24.86      3    &lt;.0001\n  Nonlinear       6.24      2    0.0441\n age             19.78      2    0.0001\n  Nonlinear       2.64      1    0.1042\n exercise        11.93      2    0.0026\n  Nonlinear       3.96      1    0.0466\n sex              0.22      1    0.6376\n family_history   4.97      1    0.0257\n TOTAL NONLINEAR 12.33      4    0.0150\n TOTAL           52.46      9    &lt;.0001\n\n\n\n# å¯è§†åŒ–æ‰€æœ‰éçº¿æ€§æ•ˆåº”\nplot(Predict(multi_rcs), layout = c(2, 3))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#äº¤äº’ä½œç”¨",
    "href": "1027-rcs.html#äº¤äº’ä½œç”¨",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’ä½œç”¨",
    "text": "äº¤äº’ä½œç”¨\n\nRCS Ã— åˆ†ç±»å˜é‡\n\n# BMI æ•ˆåº”æ˜¯å¦å› æ€§åˆ«è€Œå¼‚\nrcs_interact &lt;- lrm(\n    diabetes ~ rcs(bmi, 4) * sex + age + family_history,\n    data = diabetes_data\n)\n\nanova(rcs_interact)\n\n                Wald Statistics          Response: diabetes \n\n Factor                                   Chi-Square d.f. P     \n bmi  (Factor+Higher Order Factors)       28.20      6    0.0001\n  All Interactions                         4.74      3    0.1918\n  Nonlinear (Factor+Higher Order Factors) 11.50      4    0.0215\n sex  (Factor+Higher Order Factors)        5.10      4    0.2774\n  All Interactions                         4.74      3    0.1918\n age                                      15.49      1    0.0001\n family_history                            5.03      1    0.0249\n bmi * sex  (Factor+Higher Order Factors)  4.74      3    0.1918\n  Nonlinear                                4.61      2    0.0996\n  Nonlinear Interaction : f(A,B) vs. AB    4.61      2    0.0996\n TOTAL NONLINEAR                          11.50      4    0.0215\n TOTAL NONLINEAR + INTERACTION            11.51      5    0.0422\n TOTAL                                    45.38      9    &lt;.0001\n\n\n\n# æŒ‰æ€§åˆ«åˆ†å±‚å¯è§†åŒ–\npred_sex &lt;- Predict(rcs_interact, bmi, sex, ref.zero = TRUE)\n\nggplot(as.data.frame(pred_sex), aes(\n    x = bmi, y = exp(yhat),\n    color = sex, fill = sex\n)) +\n    geom_ribbon(aes(ymin = exp(lower), ymax = exp(upper)), alpha = 0.2, color = NA) +\n    geom_line(linewidth = 1.2) +\n    geom_hline(yintercept = 1, linetype = \"dashed\") +\n    scale_color_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    scale_y_log10() +\n    labs(\n        title = \"BMI ä¸ç³–å°¿ç—…é£é™©çš„æ€§åˆ«å·®å¼‚\",\n        x = \"BMI (kg/mÂ²)\",\n        y = \"OR\",\n        color = \"æ€§åˆ«\",\n        fill = \"æ€§åˆ«\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#æ¨¡å‹è¯Šæ–­ä¸éªŒè¯",
    "href": "1027-rcs.html#æ¨¡å‹è¯Šæ–­ä¸éªŒè¯",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­ä¸éªŒè¯",
    "text": "æ¨¡å‹è¯Šæ–­ä¸éªŒè¯\n\næ ¡å‡†æ›²çº¿\n\n# å†…éƒ¨éªŒè¯\ncal &lt;- calibrate(rcs_model, B = 200) # 200 æ¬¡ Bootstrap\nplot(cal, main = \"æ ¡å‡†æ›²çº¿\")\n\n\n\n\n\n\n\n\n\nn=988   Mean absolute error=0.009   Mean squared error=0.00012\n0.9 Quantile of absolute error=0.017\n\n\n\n\nåŒºåˆ†åº¦\n\n# C ç»Ÿè®¡é‡\ncat(\"C ç»Ÿè®¡é‡ (AUC):\", rcs_model$stats[\"C\"], \"\\n\")\n\nC ç»Ÿè®¡é‡ (AUC): 0.7164192 \n\n\n\n\nBootstrap éªŒè¯\n\n# è¿‡æ‹Ÿåˆæ ¡æ­£\nvalidate(rcs_model, B = 200)\n\n          index.orig training    test optimism index.corrected   Lower  Upper\nDxy           0.4328   0.4517  0.4087   0.0431          0.3898  0.2816 0.5064\nR2            0.1102   0.1244  0.0979   0.0265          0.0838  0.0227 0.1423\nIntercept     0.0000   0.0000 -0.2105   0.2105         -0.2105 -0.8082 0.7148\nSlope         1.0000   1.0000  0.8965   0.1035          0.8965  0.6111 1.2971\nEmax          0.0000   0.0000  0.1001  -0.1001          0.1001 -0.0383 0.2673\nD             0.0506   0.0576  0.0447   0.0129          0.0378  0.0065 0.0665\nU            -0.0020  -0.0020  0.0008  -0.0029          0.0008 -0.0037 0.0098\nQ             0.0527   0.0596  0.0439   0.0157          0.0369 -0.0009 0.0680\nB             0.0777   0.0768  0.0786  -0.0018          0.0795  0.0654 0.0917\ng             0.9112   0.9662  0.8492   0.1170          0.7941  0.5244 1.0690\ngp            0.0712   0.0747  0.0671   0.0076          0.0636  0.0413 0.0845\n            n\nDxy       200\nR2        200\nIntercept 200\nSlope     200\nEmax      200\nD         200\nU         200\nQ         200\nB         200\ng         200\ngp        200",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#ç»“æœæŠ¥å‘Š",
    "href": "1027-rcs.html#ç»“æœæŠ¥å‘Š",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœæŠ¥å‘Š",
    "text": "ç»“æœæŠ¥å‘Š\n\næ ‡å‡†æ ¼å¼\n\n# æå–ç‰¹å®š BMI å€¼çš„ OR\nspecific_bmi &lt;- c(18.5, 22, 25, 28, 30, 35)\nref_bmi &lt;- 22 # å‚ç…§å€¼\n\n# é‡æ–°è®¾ç½®å‚ç…§\ndd$limits$bmi[2] &lt;- ref_bmi\noptions(datadist = \"dd\")\n\n# é¢„æµ‹\npred_specific &lt;- Predict(rcs_model, bmi = specific_bmi, ref.zero = TRUE)\npred_table &lt;- as.data.frame(pred_specific) |&gt;\n    mutate(\n        OR = round(exp(yhat), 2),\n        CI_lower = round(exp(lower), 2),\n        CI_upper = round(exp(upper), 2),\n        OR_CI = paste0(OR, \" (\", CI_lower, \"-\", CI_upper, \")\")\n    ) |&gt;\n    select(bmi, OR_CI)\n\npred_table\n\n   bmi            OR_CI\n1 18.5 1.12 (0.54-2.33)\n2 22.0 0.74 (0.53-1.03)\n3 25.0 0.83 (0.72-0.96)\n4 28.0 1.53 (1.15-2.03)\n5 30.0 2.15 (1.43-3.23)\n6 35.0 3.68 (2.07-6.56)\n\n\n\n\næ£®æ—å›¾é£æ ¼å±•ç¤º\n\n# å‡†å¤‡æ•°æ®\nforest_data &lt;- as.data.frame(pred_specific) |&gt;\n    mutate(\n        OR = exp(yhat),\n        lower = exp(lower),\n        upper = exp(upper),\n        label = paste0(\"BMI = \", bmi)\n    )\n\nggplot(forest_data, aes(x = OR, y = reorder(label, bmi))) +\n    geom_vline(xintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    geom_errorbarh(aes(xmin = lower, xmax = upper), height = 0.2, color = \"#4f46e5\") +\n    geom_point(size = 3, color = \"#4f46e5\") +\n    scale_x_log10(breaks = c(0.5, 1, 2, 4)) +\n    labs(\n        title = \"ä¸åŒ BMI æ°´å¹³çš„ç³–å°¿ç—…é£é™©\",\n        subtitle = \"å‚ç…§: BMI = 22 kg/mÂ²\",\n        x = \"æ¯”å€¼æ¯” (OR)\",\n        y = NULL\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1027-rcs.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. èŠ‚ç‚¹æ•°é€‰æ‹©\n# - èŠ‚ç‚¹è¿‡å°‘ï¼šå¯èƒ½é—æ¼çœŸå®éçº¿æ€§\n# - èŠ‚ç‚¹è¿‡å¤šï¼šå¯èƒ½è¿‡æ‹Ÿåˆ\n# - æ¨èï¼šä½¿ç”¨ AIC/BIC é€‰æ‹©ï¼Œæˆ–éµå¾ªæ ·æœ¬é‡è§„åˆ™\n\n\n2. è¾¹ç•Œä¸ç¨³å®š\n# RCS å¼ºåˆ¶è¾¹ç•Œçº¿æ€§ï¼Œä½†æ•°æ®ç¨€ç–åŒºåŸŸä»å¯èƒ½ä¸ç¨³å®š\n# è§£å†³æ–¹æ¡ˆï¼š\n# - æ£€æŸ¥è¾¹ç•Œæ•°æ®é‡\n# - è€ƒè™‘æ’é™¤æç«¯å€¼\n# - å¢åŠ  Bootstrap éªŒè¯\n\n\n3. å› æœæ¨æ–­å±€é™\n# RCS æ¢ç´¢çš„æ˜¯å…³è”ï¼Œä¸æ˜¯å› æœ\n# éçº¿æ€§å…³ç³»å¯èƒ½ç”±æ··æ‚å¯¼è‡´\n# å› æœæ¨æ–­éœ€è¦é¢å¤–æ–¹æ³•ï¼ˆDAG, å·¥å…·å˜é‡ç­‰ï¼‰\n\n\n4. å‚ç…§ç‚¹é€‰æ‹©\n# ä¸åŒå‚ç…§ç‚¹ä¸å½±å“éçº¿æ€§æ£€éªŒï¼Œä½†å½±å“ OR è§£è¯»\n# æ¨èä½¿ç”¨ä¸´åºŠæœ‰æ„ä¹‰çš„å‚ç…§ç‚¹ï¼ˆå¦‚ BMI = 22 æˆ– 24ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1027-rcs.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== RCS åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(rms)\n\n# 1. è®¾ç½®æ•°æ®åˆ†å¸ƒ\ndd &lt;- datadist(data)\noptions(datadist = \"dd\")\n\n# 2. æ‹Ÿåˆæ¨¡å‹\nmodel &lt;- lrm(y ~ rcs(x, 4) + covariates, data = data)\n\n# 3. æ£€éªŒéçº¿æ€§\nanova(model)\n\n# 4. å¯è§†åŒ–\nPredict(model, x, ref.zero = TRUE) |&gt; plot()\n\n# 5. æŠ¥å‘Šç‰¹å®šå€¼çš„ OR\nPredict(model, x = c(value1, value2, value3), ref.zero = TRUE)\n\n# 6. æ¨¡å‹éªŒè¯\nvalidate(model, B = 200)\ncalibrate(model, B = 200)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1027-rcs.html#æ€»ç»“",
    "href": "1027-rcs.html#æ€»ç»“",
    "title": "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ­¥éª¤\nå‡½æ•°\nç›®çš„\n\n\n\n\nè®¾ç½®åˆ†å¸ƒ\ndatadist()\nå®šä¹‰å˜é‡çš„å‚ç…§å€¼å’ŒèŒƒå›´\n\n\nå»ºç«‹ RCS\nrcs(x, k)\nç”Ÿæˆæ ·æ¡åŸºå‡½æ•°\n\n\néçº¿æ€§æ£€éªŒ\nanova()\nåˆ¤æ–­æ˜¯å¦éœ€è¦éçº¿æ€§é¡¹\n\n\nå¯è§†åŒ–\nPredict() + plot()\nå±•ç¤ºå‰‚é‡-ååº”å…³ç³»\n\n\néªŒè¯\nvalidate(), calibrate()\nå†…éƒ¨éªŒè¯\n\n\n\n\næŠ¥å‘Š RCS åˆ†æçš„ Checklist\n\nè¯´æ˜ä½¿ç”¨ RCS çš„ç†ç”±ï¼ˆé¢„æœŸéçº¿æ€§ï¼‰\næŠ¥å‘ŠèŠ‚ç‚¹æ•°å’Œä½ç½®\næŠ¥å‘Šéçº¿æ€§æ£€éªŒ P å€¼\næä¾›å‰‚é‡-ååº”æ›²çº¿å›¾\næŠ¥å‘Šç‰¹å®šæ°´å¹³çš„æ•ˆåº”ä¼°è®¡\næ˜ç¡®å‚ç…§ç‚¹\nè¿›è¡Œæ¨¡å‹éªŒè¯\n\n\n\næ¨èé˜…è¯»\n\nHarrell FE. Regression Modeling Strategies\nDesquilbet L, Mariotti F (2010). Dose-response analyses using restricted cubic spline functions. Stata Journal\nrms åŒ…æ–‡æ¡£",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "é™åˆ¶æ€§ç«‹æ–¹æ ·æ¡ (RCS)"
    ]
  },
  {
    "objectID": "1025-gam.html",
    "href": "1025-gam.html",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ï¼ˆGeneralized Additive Model, GAMï¼‰ æ˜¯ä¸€ç§çµæ´»çš„åŠå‚æ•°å›å½’æ–¹æ³•ï¼Œå…è®¸é¢„æµ‹å˜é‡å¯¹ç»“å±€å˜é‡äº§ç”Ÿéçº¿æ€§å½±å“ã€‚\n\n\n\n\n\næ¨¡å‹\nå…¬å¼\nç‰¹ç‚¹\n\n\n\n\nçº¿æ€§å›å½’\n\\(Y = \\beta_0 + \\beta_1 X\\)\nä¸¥æ ¼çº¿æ€§å…³ç³»\n\n\nå¤šé¡¹å¼å›å½’\n\\(Y = \\beta_0 + \\beta_1 X + \\beta_2 X^2\\)\nå…¨å±€å¤šé¡¹å¼\n\n\nGAM\n\\(Y = \\beta_0 + f(X)\\)\næ•°æ®é©±åŠ¨çš„çµæ´»æ›²çº¿\n\n\n\n\n\n\n\\[g(E[Y]) = \\beta_0 + f_1(X_1) + f_2(X_2) + \\cdots + f_p(X_p)\\]\nå…¶ä¸­ï¼š - \\(g(\\cdot)\\) æ˜¯è¿æ¥å‡½æ•° - \\(f_i(\\cdot)\\) æ˜¯å¹³æ»‘å‡½æ•°ï¼ˆé€šå¸¸æ˜¯æ ·æ¡å‡½æ•°ï¼‰\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\néçº¿æ€§å…³ç³»\nå¹´é¾„ä¸ç–¾ç—…é£é™©çš„ U å‹å…³ç³»\n\n\nç¯å¢ƒæµè¡Œç—…å­¦\næ°”æ¸©ä¸æ­»äº¡ç‡çš„éçº¿æ€§å…³è”\n\n\næ—¶é—´è¶‹åŠ¿\nå­£èŠ‚æ€§æ³¢åŠ¨çš„é•¿æœŸè¶‹åŠ¿\n\n\nå‰‚é‡-ååº”\nè¯ç‰©å‰‚é‡ä¸ç–—æ•ˆçš„éçº¿æ€§æ›²çº¿",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#ä»€ä¹ˆæ˜¯å¹¿ä¹‰åŠ æ€§æ¨¡å‹",
    "href": "1025-gam.html#ä»€ä¹ˆæ˜¯å¹¿ä¹‰åŠ æ€§æ¨¡å‹",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ï¼ˆGeneralized Additive Model, GAMï¼‰ æ˜¯ä¸€ç§çµæ´»çš„åŠå‚æ•°å›å½’æ–¹æ³•ï¼Œå…è®¸é¢„æµ‹å˜é‡å¯¹ç»“å±€å˜é‡äº§ç”Ÿéçº¿æ€§å½±å“ã€‚\n\n\n\n\n\næ¨¡å‹\nå…¬å¼\nç‰¹ç‚¹\n\n\n\n\nçº¿æ€§å›å½’\n\\(Y = \\beta_0 + \\beta_1 X\\)\nä¸¥æ ¼çº¿æ€§å…³ç³»\n\n\nå¤šé¡¹å¼å›å½’\n\\(Y = \\beta_0 + \\beta_1 X + \\beta_2 X^2\\)\nå…¨å±€å¤šé¡¹å¼\n\n\nGAM\n\\(Y = \\beta_0 + f(X)\\)\næ•°æ®é©±åŠ¨çš„çµæ´»æ›²çº¿\n\n\n\n\n\n\n\\[g(E[Y]) = \\beta_0 + f_1(X_1) + f_2(X_2) + \\cdots + f_p(X_p)\\]\nå…¶ä¸­ï¼š - \\(g(\\cdot)\\) æ˜¯è¿æ¥å‡½æ•° - \\(f_i(\\cdot)\\) æ˜¯å¹³æ»‘å‡½æ•°ï¼ˆé€šå¸¸æ˜¯æ ·æ¡å‡½æ•°ï¼‰\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\néçº¿æ€§å…³ç³»\nå¹´é¾„ä¸ç–¾ç—…é£é™©çš„ U å‹å…³ç³»\n\n\nç¯å¢ƒæµè¡Œç—…å­¦\næ°”æ¸©ä¸æ­»äº¡ç‡çš„éçº¿æ€§å…³è”\n\n\næ—¶é—´è¶‹åŠ¿\nå­£èŠ‚æ€§æ³¢åŠ¨çš„é•¿æœŸè¶‹åŠ¿\n\n\nå‰‚é‡-ååº”\nè¯ç‰©å‰‚é‡ä¸ç–—æ•ˆçš„éçº¿æ€§æ›²çº¿",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1025-gam.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(mgcv) # GAM ä¸»åŠ›åŒ…\nlibrary(gratia) # GAM å¯è§†åŒ–\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(broom) # æ¨¡å‹æ•´ç†",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ•°æ®å‡†å¤‡",
    "href": "1025-gam.html#æ•°æ®å‡†å¤‡",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼šç©ºæ°”æ±¡æŸ“ä¸å¥åº·æ•ˆåº”\n\n# æ¨¡æ‹Ÿæ•°æ®\nset.seed(2024)\nn &lt;- 500\n\nhealth_data &lt;- tibble(\n    date = seq.Date(\n        from = as.Date(\"2020-01-01\"),\n        by = \"day\", length.out = n\n    ),\n    # ç¯å¢ƒå˜é‡\n    temperature = 15 + 12 * sin(2 * pi * (1:n) / 365) + rnorm(n, 0, 3),\n    pm25 = pmax(0, 30 + 20 * sin(2 * pi * (1:n) / 365 + 1) + rnorm(n, 0, 15)),\n    humidity = pmin(100, pmax(20, 60 + 15 * sin(2 * pi * (1:n) / 365 + 0.5) + rnorm(n, 0, 10)))\n) |&gt;\n    mutate(\n        # éçº¿æ€§æ•ˆåº”ï¼šUå‹æ¸©åº¦-æ­»äº¡å…³ç³»\n        temp_effect = 0.5 * (temperature - 20)^2 / 100,\n        # PM2.5 æ•ˆåº”ï¼ˆå¯¹æ•°å½¢å¼ï¼‰\n        pm_effect = 3 * log(pm25 + 1),\n        # æ€»æ­»äº¡æ•°ï¼ˆPoissonï¼‰\n        baseline = 50,\n        deaths = rpois(n, lambda = baseline + temp_effect + pm_effect +\n            0.1 * (humidity - 60))\n    )\n\n# æ·»åŠ æ—¶é—´å˜é‡\nhealth_data &lt;- health_data |&gt;\n    mutate(\n        day_of_year = yday(date),\n        month = month(date),\n        year = year(date),\n        time = row_number()\n    )\n\nglimpse(health_data)\n\nRows: 500\nColumns: 12\n$ date        &lt;date&gt; 2020-01-01, 2020-01-02, 2020-01-03, 2020-01-04, 2020-01-0â€¦\n$ temperature &lt;dbl&gt; 18.152469, 16.819204, 15.295522, 15.186995, 19.505873, 20.â€¦\n$ pm25        &lt;dbl&gt; 58.64173, 36.22359, 59.35035, 47.77105, 81.19869, 35.43337â€¦\n$ humidity    &lt;dbl&gt; 66.89995, 62.64636, 58.83599, 64.36041, 66.41205, 61.14408â€¦\n$ temp_effect &lt;dbl&gt; 1.706686e-02, 5.058730e-02, 1.106606e-01, 1.158251e-01, 1.â€¦\n$ pm_effect   &lt;dbl&gt; 12.265066, 10.850828, 12.300500, 11.661411, 13.227418, 10.â€¦\n$ baseline    &lt;dbl&gt; 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50â€¦\n$ deaths      &lt;int&gt; 83, 59, 78, 64, 62, 48, 56, 64, 49, 71, 62, 58, 56, 77, 56â€¦\n$ day_of_year &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,â€¦\n$ month       &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦\n$ year        &lt;dbl&gt; 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020â€¦\n$ time        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,â€¦\n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# æŸ¥çœ‹éçº¿æ€§å…³ç³»\nhealth_data |&gt;\n    select(deaths, temperature, pm25, humidity) |&gt;\n    pivot_longer(-deaths, names_to = \"variable\", values_to = \"value\") |&gt;\n    ggplot(aes(x = value, y = deaths)) +\n    geom_point(alpha = 0.3, color = \"#4f46e5\") +\n    geom_smooth(method = \"loess\", color = \"#ef4444\") +\n    facet_wrap(~variable, scales = \"free_x\") +\n    labs(title = \"æ­»äº¡æ•°ä¸å„ç¯å¢ƒå› ç´ çš„å…³ç³»\") +\n    theme_minimal(base_size = 11)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#åŸºç¡€-gam-æ¨¡å‹",
    "href": "1025-gam.html#åŸºç¡€-gam-æ¨¡å‹",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ GAM æ¨¡å‹",
    "text": "åŸºç¡€ GAM æ¨¡å‹\n\nå•å˜é‡å¹³æ»‘\n\n# åŸºç¡€ GAMï¼šæ¸©åº¦çš„éçº¿æ€§æ•ˆåº”\ngam1 &lt;- gam(deaths ~ s(temperature),\n    data = health_data,\n    family = poisson\n)\n\nsummary(gam1)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ s(temperature)\n\nParametric coefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 4.096982   0.005766   710.5   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                 edf Ref.df Chi.sq p-value   \ns(temperature) 1.156  1.296  12.29 0.00163 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.0167   Deviance explained = 1.89%\nUBRE = 0.23926  Scale est. = 1         n = 500\n\n\n\n\nè§£è¯»è¾“å‡º\n\nedf (æœ‰æ•ˆè‡ªç”±åº¦)ï¼šè¡¡é‡æ›²çº¿çš„å¤æ‚åº¦ï¼Œedf â‰ˆ 1 è¡¨ç¤ºè¿‘ä¼¼çº¿æ€§\np å€¼ï¼šæ£€éªŒå¹³æ»‘é¡¹æ˜¯å¦æ˜¾è‘—\nGCV/UBREï¼šç”¨äºé€‰æ‹©å¹³æ»‘åº¦çš„äº¤å‰éªŒè¯åˆ†æ•°\n\n\n# å¯è§†åŒ–å¹³æ»‘æ•ˆåº”\nplot(gam1,\n    shade = TRUE, shade.col = \"#4f46e565\",\n    main = \"æ¸©åº¦çš„éçº¿æ€§æ•ˆåº”\"\n)\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ gratia å¯è§†åŒ–ï¼ˆæ¨èï¼‰\n\n# ä½¿ç”¨ gratia åŒ…ç»‘åˆ¶æ›´ç¾è§‚çš„å›¾\ndraw(gam1) +\n    labs(title = \"æ¸©åº¦çš„å¹³æ»‘æ•ˆåº”\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#å¤šå˜é‡-gam",
    "href": "1025-gam.html#å¤šå˜é‡-gam",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "å¤šå˜é‡ GAM",
    "text": "å¤šå˜é‡ GAM\n\n# å¤šå˜é‡æ¨¡å‹\ngam_full &lt;- gam(\n    deaths ~ s(temperature) + s(pm25) + s(humidity) + s(time, bs = \"cr\"),\n    data = health_data,\n    family = poisson,\n    method = \"REML\" # æ¨èçš„å¹³æ»‘åº¦é€‰æ‹©æ–¹æ³•\n)\n\nsummary(gam_full)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ s(temperature) + s(pm25) + s(humidity) + s(time, bs = \"cr\")\n\nParametric coefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 4.095210   0.005777   708.9   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                 edf Ref.df Chi.sq  p-value    \ns(temperature) 1.000  1.000  4.853   0.0276 *  \ns(pm25)        4.161  5.143 60.140  &lt; 2e-16 ***\ns(humidity)    1.000  1.001 15.966 6.46e-05 ***\ns(time)        1.001  1.002  0.042   0.8395    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.182   Deviance explained = 19.5%\n-REML = 1758.9  Scale est. = 1         n = 500\n\n\n\n# æ‰€æœ‰å¹³æ»‘é¡¹çš„å¯è§†åŒ–\ndraw(gam_full, residuals = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ ·æ¡ç±»å‹",
    "href": "1025-gam.html#æ ·æ¡ç±»å‹",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ ·æ¡ç±»å‹",
    "text": "æ ·æ¡ç±»å‹\nmgcv æä¾›å¤šç§æ ·æ¡åŸºå‡½æ•°ï¼š\n\n\n\nå‚æ•°\nç±»å‹\né€‚ç”¨åœºæ™¯\n\n\n\n\nbs = \"tp\"\nè–„æ¿æ ·æ¡ï¼ˆé»˜è®¤ï¼‰\né€šç”¨ï¼Œè‡ªåŠ¨é€‰æ‹©å¤æ‚åº¦\n\n\nbs = \"cr\"\nä¸‰æ¬¡å›å½’æ ·æ¡\nè®¡ç®—æ•ˆç‡é«˜\n\n\nbs = \"cc\"\nå¾ªç¯æ ·æ¡\nå‘¨æœŸæ€§æ•°æ®ï¼ˆå¦‚å­£èŠ‚ï¼‰\n\n\nbs = \"ps\"\nP æ ·æ¡\næƒ©ç½šæ ·æ¡\n\n\nbs = \"re\"\néšæœºæ•ˆåº”\nåˆ†ç±»å˜é‡çš„éšæœºæ•ˆåº”\n\n\n\n\nå‘¨æœŸæ€§æ ·æ¡\n\n# ä½¿ç”¨å¾ªç¯æ ·æ¡å¤„ç†å­£èŠ‚æ€§\ngam_seasonal &lt;- gam(\n    deaths ~ s(day_of_year, bs = \"cc\", k = 12) + # å­£èŠ‚æ€§ï¼ˆå¾ªç¯ï¼‰\n        s(temperature) +\n        s(pm25),\n    data = health_data,\n    family = poisson,\n    method = \"REML\"\n)\n\nsummary(gam_seasonal)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ s(day_of_year, bs = \"cc\", k = 12) + s(temperature) + \n    s(pm25)\n\nParametric coefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 4.095448   0.005775   709.1   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                 edf Ref.df Chi.sq p-value    \ns(day_of_year) 0.847 10.000  1.551   0.128    \ns(temperature) 1.002  1.003  0.029   0.869    \ns(pm25)        4.555  5.598 62.775  &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.163   Deviance explained = 17.6%\n-REML = 1759.7  Scale est. = 1         n = 500\n\n\n\n# å¯è§†åŒ–å­£èŠ‚æ•ˆåº”\ndraw(gam_seasonal, select = 1) +\n    labs(title = \"å­£èŠ‚æ•ˆåº”ï¼ˆå¾ªç¯æ ·æ¡ï¼‰\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ§åˆ¶å¹³æ»‘åº¦",
    "href": "1025-gam.html#æ§åˆ¶å¹³æ»‘åº¦",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ§åˆ¶å¹³æ»‘åº¦",
    "text": "æ§åˆ¶å¹³æ»‘åº¦\n\nèŠ‚ç‚¹æ•° (k)\n\n# k æ§åˆ¶æœ€å¤§å¤æ‚åº¦\ngam_k5 &lt;- gam(deaths ~ s(temperature, k = 5), data = health_data, family = poisson)\ngam_k20 &lt;- gam(deaths ~ s(temperature, k = 20), data = health_data, family = poisson)\n\n# æ¯”è¾ƒ\npar(mfrow = c(1, 2))\nplot(gam_k5, main = \"k = 5\")\nplot(gam_k20, main = \"k = 20\")\n\n\n\n\n\n\n\npar(mfrow = c(1, 1))\n\n\n\næ£€éªŒ k æ˜¯å¦è¶³å¤Ÿ\n\n# k æ£€éªŒ\nk.check(gam_full)\n\n               k'      edf   k-index p-value\ns(temperature)  9 1.000178 0.9168486  0.0325\ns(pm25)         9 4.160586 0.9495498  0.1325\ns(humidity)     9 1.000394 1.0194301  0.6500\ns(time)         9 1.000861 1.0466397  0.8600\n\n# p å€¼å¾ˆå°è¡¨ç¤º k å¯èƒ½ä¸å¤Ÿ\n\n\n\nå›ºå®šè‡ªç”±åº¦\n\n# ä½¿ç”¨ fx = TRUE å›ºå®šè‡ªç”±åº¦\ngam_fixed &lt;- gam(\n    deaths ~ s(temperature, k = 5, fx = TRUE), # å›ºå®š 4 df\n    data = health_data,\n    family = poisson\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#äº¤äº’æ•ˆåº”",
    "href": "1025-gam.html#äº¤äº’æ•ˆåº”",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’æ•ˆåº”",
    "text": "äº¤äº’æ•ˆåº”\n\nå¼ é‡ç§¯å¹³æ»‘\n\n# æ¸©åº¦å’Œ PM2.5 çš„äº¤äº’æ•ˆåº”\ngam_interact &lt;- gam(\n    deaths ~ te(temperature, pm25), # å¼ é‡ç§¯äº¤äº’\n    data = health_data,\n    family = poisson,\n    method = \"REML\"\n)\n\nsummary(gam_interact)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ te(temperature, pm25)\n\nParametric coefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 4.095414   0.005775   709.1   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                       edf Ref.df Chi.sq p-value    \nte(temperature,pm25) 7.438  8.319  106.5  &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.165   Deviance explained =   18%\n-REML = 1757.2  Scale est. = 1         n = 500\n\n\n\n# 3D å¯è§†åŒ–\nvis.gam(gam_interact,\n    view = c(\"temperature\", \"pm25\"),\n    theta = 45, phi = 20,\n    main = \"æ¸©åº¦ä¸PM2.5çš„äº¤äº’æ•ˆåº”\",\n    color = \"topo\"\n)\n\n\n\n\n\n\n\n\n\n# ç­‰é«˜çº¿å›¾\nvis.gam(gam_interact,\n    view = c(\"temperature\", \"pm25\"),\n    plot.type = \"contour\",\n    main = \"ç­‰é«˜çº¿å›¾ï¼šæ¸©åº¦ Ã— PM2.5\"\n)\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ ti() åˆ†ç¦»ä¸»æ•ˆåº”å’Œäº¤äº’\n\n# åˆ†ç¦»ä¸»æ•ˆåº”å’Œçº¯äº¤äº’\ngam_ti &lt;- gam(\n    deaths ~ s(temperature) + s(pm25) + ti(temperature, pm25),\n    data = health_data,\n    family = poisson,\n    method = \"REML\"\n)\n\nsummary(gam_ti)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ s(temperature) + s(pm25) + ti(temperature, pm25)\n\nParametric coefficients:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 4.093176   0.006266   653.3   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                       edf Ref.df Chi.sq p-value    \ns(temperature)       1.002  1.004  0.039   0.847    \ns(pm25)              4.474  5.508 79.823  &lt;2e-16 ***\nti(temperature,pm25) 3.453  4.895  4.600   0.531    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.166   Deviance explained = 18.3%\n-REML = 1761.1  Scale est. = 1         n = 500",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#çº¿æ€§é¡¹ä¸å¹³æ»‘é¡¹æ··åˆ",
    "href": "1025-gam.html#çº¿æ€§é¡¹ä¸å¹³æ»‘é¡¹æ··åˆ",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "çº¿æ€§é¡¹ä¸å¹³æ»‘é¡¹æ··åˆ",
    "text": "çº¿æ€§é¡¹ä¸å¹³æ»‘é¡¹æ··åˆ\n\n# éƒ¨åˆ†å˜é‡ä½¿ç”¨çº¿æ€§æ•ˆåº”\ngam_mixed &lt;- gam(\n    deaths ~ humidity + # çº¿æ€§æ•ˆåº”\n        s(temperature) + # å¹³æ»‘æ•ˆåº”\n        s(pm25, k = 8) +\n        s(time, bs = \"cr\"),\n    data = health_data,\n    family = poisson,\n    method = \"REML\"\n)\n\nsummary(gam_mixed)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ humidity + s(temperature) + s(pm25, k = 8) + s(time, \n    bs = \"cr\")\n\nParametric coefficients:\n             Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) 3.9541043  0.0359491 109.992  &lt; 2e-16 ***\nhumidity    0.0022191  0.0005559   3.992 6.55e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n                 edf Ref.df Chi.sq p-value    \ns(temperature) 1.000  1.000  4.842  0.0278 *  \ns(pm25)        4.102  4.990 60.228  &lt;2e-16 ***\ns(time)        1.001  1.002  0.043  0.8382    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.182   Deviance explained = 19.5%\n-REML = 1761.5  Scale est. = 1         n = 500",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ¨¡å‹è¯Šæ–­",
    "href": "1025-gam.html#æ¨¡å‹è¯Šæ–­",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\næ®‹å·®æ£€æŸ¥\n\n# ä½¿ç”¨ gam.check\ngam.check(gam_full)\n\n\n\n\n\n\n\n\n\nMethod: REML   Optimizer: outer newton\nfull convergence after 8 iterations.\nGradient range [-0.0003035987,-1.600375e-05]\n(score 1758.905 & scale 1).\nHessian positive definite, eigenvalue range [7.733389e-05,0.8189276].\nModel rank =  37 / 37 \n\nBasis dimension (k) checking results. Low p-value (k-index&lt;1) may\nindicate that k is too low, especially if edf is close to k'.\n\n                 k'  edf k-index p-value  \ns(temperature) 9.00 1.00    0.92   0.035 *\ns(pm25)        9.00 4.16    0.95   0.095 .\ns(humidity)    9.00 1.00    1.02   0.675  \ns(time)        9.00 1.00    1.05   0.815  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n# ä½¿ç”¨ gratia è¿›è¡Œè¯Šæ–­\nappraise(gam_full)\n\n\n\n\n\n\n\n\n\n\nè¿‡æ‹Ÿåˆæ£€éªŒ\n\n# æ¯”è¾ƒ AIC/BIC\nAIC(gam1, gam_full, gam_seasonal)\n\n                   df      AIC\ngam1         2.155981 3583.242\ngam_full     9.145836 3486.659\ngam_seasonal 9.032102 3498.394\n\n\n\n\nåå·®è§£é‡Š\n\n# è§£é‡Šçš„åå·®ï¼ˆç±»ä¼¼ RÂ²ï¼‰\ncat(\"åå·®è§£é‡Šç‡:\", round(summary(gam_full)$dev.expl * 100, 1), \"%\\n\")\n\nåå·®è§£é‡Šç‡: 19.5 %",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ¨¡å‹é¢„æµ‹",
    "href": "1025-gam.html#æ¨¡å‹é¢„æµ‹",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹é¢„æµ‹",
    "text": "æ¨¡å‹é¢„æµ‹\n\nè¾¹é™…æ•ˆåº”\n\n# é¢„æµ‹ç‰¹å®šå€¼\nnew_data &lt;- data.frame(\n    temperature = seq(5, 35, length.out = 100),\n    pm25 = mean(health_data$pm25),\n    humidity = mean(health_data$humidity),\n    time = median(health_data$time)\n)\n\npred &lt;- predict(gam_full, newdata = new_data, type = \"response\", se.fit = TRUE)\n\n# ç»‘åˆ¶é¢„æµ‹æ›²çº¿\npred_df &lt;- new_data |&gt;\n    mutate(\n        fit = pred$fit,\n        lower = pred$fit - 1.96 * pred$se.fit,\n        upper = pred$fit + 1.96 * pred$se.fit\n    )\n\nggplot(pred_df, aes(x = temperature, y = fit)) +\n    geom_ribbon(aes(ymin = lower, ymax = upper), fill = \"#4f46e5\", alpha = 0.3) +\n    geom_line(color = \"#4f46e5\", linewidth = 1.2) +\n    labs(\n        title = \"æ¸©åº¦ä¸é¢„æµ‹æ­»äº¡æ•°çš„å…³ç³»\",\n        subtitle = \"æ§åˆ¶ PM2.5 å’Œæ¹¿åº¦åœ¨å‡å€¼æ°´å¹³\",\n        x = \"æ¸©åº¦ (Â°C)\",\n        y = \"é¢„æµ‹æ­»äº¡æ•°\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nåæ•ˆåº”å¯è§†åŒ–\n\n# æ‰€æœ‰å˜é‡çš„åæ•ˆåº”å›¾\ndraw(gam_full, ncol = 2) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#ä¸-glm-æ¯”è¾ƒ",
    "href": "1025-gam.html#ä¸-glm-æ¯”è¾ƒ",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "ä¸ GLM æ¯”è¾ƒ",
    "text": "ä¸ GLM æ¯”è¾ƒ\n\n# çº¿æ€§æ¨¡å‹\nglm_linear &lt;- glm(\n    deaths ~ temperature + pm25 + humidity,\n    data = health_data,\n    family = poisson\n)\n\n# å¤šé¡¹å¼æ¨¡å‹\nglm_poly &lt;- glm(\n    deaths ~ poly(temperature, 3) + pm25 + humidity,\n    data = health_data,\n    family = poisson\n)\n\n# æ¯”è¾ƒ\nAIC(glm_linear, glm_poly, gam_full)\n\n                 df      AIC\nglm_linear 4.000000 3495.638\nglm_poly   6.000000 3498.900\ngam_full   9.145836 3486.659\n\nBIC(glm_linear, glm_poly, gam_full)\n\n                 df      BIC\nglm_linear 4.000000 3512.496\nglm_poly   6.000000 3524.188\ngam_full   9.145836 3525.206\n\n\n\n# å¯è§†åŒ–æ¯”è¾ƒ\npred_linear &lt;- predict(glm_linear, newdata = new_data, type = \"response\")\npred_poly &lt;- predict(glm_poly, newdata = new_data, type = \"response\")\npred_gam &lt;- predict(gam_full, newdata = new_data, type = \"response\")\n\ncompare_df &lt;- new_data |&gt;\n    mutate(\n        Linear = pred_linear,\n        Polynomial = pred_poly,\n        GAM = pred_gam\n    ) |&gt;\n    pivot_longer(c(Linear, Polynomial, GAM), names_to = \"Model\", values_to = \"Predicted\")\n\nggplot(compare_df, aes(x = temperature, y = Predicted, color = Model)) +\n    geom_line(linewidth = 1.2) +\n    scale_color_manual(values = c(\"#ef4444\", \"#f59e0b\", \"#4f46e5\")) +\n    labs(\n        title = \"ä¸åŒæ¨¡å‹çš„æ‹Ÿåˆæ¯”è¾ƒ\",\n        x = \"æ¸©åº¦\",\n        y = \"é¢„æµ‹æ­»äº¡æ•°\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#åˆ†å¸ƒæ»åæ¨¡å‹-dlnm",
    "href": "1025-gam.html#åˆ†å¸ƒæ»åæ¨¡å‹-dlnm",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "åˆ†å¸ƒæ»åæ¨¡å‹ (DLNM)",
    "text": "åˆ†å¸ƒæ»åæ¨¡å‹ (DLNM)\næµè¡Œç—…å­¦ä¸­å¸¸ç”¨ GAM ä¸åˆ†å¸ƒæ»åç»“åˆï¼š\n\nlibrary(dlnm)\n\n# åˆ›å»ºäº¤å‰åŸºï¼ˆtemperature çš„æ»åæ•ˆåº”ï¼‰\ncb_temp &lt;- crossbasis(\n    health_data$temperature,\n    lag = 7, # æ»å 0-7 å¤©\n    argvar = list(fun = \"ns\", df = 4), # æš´éœ²-ååº”ï¼šè‡ªç„¶æ ·æ¡\n    arglag = list(fun = \"ns\", df = 3) # æ»å-ååº”ï¼šè‡ªç„¶æ ·æ¡\n)\n\n# GAM with DLNM\ngam_dlnm &lt;- gam(\n    deaths ~ cb_temp + s(pm25) + s(humidity) + s(time, bs = \"cr\"),\n    data = health_data,\n    family = poisson\n)\n\nsummary(gam_dlnm)\n\n\nFamily: poisson \nLink function: log \n\nFormula:\ndeaths ~ cb_temp + s(pm25) + s(humidity) + s(time, bs = \"cr\")\n\nParametric coefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   4.262170   0.082541  51.637   &lt;2e-16 ***\ncb_tempv1.l1 -0.018929   0.079568  -0.238    0.812    \ncb_tempv1.l2 -0.026225   0.028698  -0.914    0.361    \ncb_tempv1.l3  0.043453   0.068328   0.636    0.525    \ncb_tempv2.l1 -0.036496   0.072062  -0.506    0.613    \ncb_tempv2.l2 -0.042854   0.027504  -1.558    0.119    \ncb_tempv2.l3 -0.016169   0.062282  -0.260    0.795    \ncb_tempv3.l1 -0.053865   0.148862  -0.362    0.717    \ncb_tempv3.l2 -0.099057   0.068386  -1.449    0.147    \ncb_tempv3.l3  0.153740   0.123628   1.244    0.214    \ncb_tempv4.l1  0.037974   0.078706   0.482    0.629    \ncb_tempv4.l2  0.010650   0.032440   0.328    0.743    \ncb_tempv4.l3 -0.005921   0.067222  -0.088    0.930    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nApproximate significance of smooth terms:\n              edf Ref.df Chi.sq  p-value    \ns(pm25)     4.368  5.386 48.641  &lt; 2e-16 ***\ns(humidity) 1.000  1.000 17.681 2.67e-05 ***\ns(time)     1.000  1.000  0.278    0.598    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nR-sq.(adj) =  0.178   Deviance explained =   21%\nUBRE = 0.057787  Scale est. = 1         n = 493\n\n\n\n# 3D æ»åæ•ˆåº”å›¾\npred_dlnm &lt;- crosspred(cb_temp, gam_dlnm, at = seq(0, 35, 2), bylag = 0.5)\n\nplot(pred_dlnm,\n    xlab = \"æ¸©åº¦\", ylab = \"æ»åå¤©æ•°\", zlab = \"log(RR)\",\n    theta = 210, phi = 25, main = \"æ¸©åº¦çš„åˆ†å¸ƒæ»åæ•ˆåº”\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1025-gam.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. k å€¼é€‰æ‹©\n# è§„åˆ™ï¼šk åº”è¶³å¤Ÿå¤§ï¼Œè®©æ•°æ®å†³å®šå¹³æ»‘åº¦\n# é»˜è®¤ k = 10 æ˜¯åˆç†èµ·ç‚¹\n# ä½¿ç”¨ k.check() éªŒè¯\n\n\n2. è¿‡æ‹Ÿåˆ\n# è§£å†³æ–¹æ¡ˆï¼š\n# 1. ä½¿ç”¨ method = \"REML\"ï¼ˆæ¨èï¼‰\n# 2. å‡å° k å€¼\n# 3. æ·»åŠ é¢å¤–æƒ©ç½šï¼šgamma å‚æ•°\ngam(..., gamma = 1.4)  # å¢åŠ æƒ©ç½š\n\n\n3. æ¨æ–­å±€é™\n# p å€¼è§£è¯»éœ€è°¨æ…\n# ç½®ä¿¡åŒºé—´å¯èƒ½è¿‡çª„ï¼ˆæœªè€ƒè™‘å¹³æ»‘åº¦é€‰æ‹©çš„ä¸ç¡®å®šæ€§ï¼‰\n\n\n4. å¤–æ¨é£é™©\n# æ ·æ¡åœ¨æ•°æ®èŒƒå›´å¤–çš„å¤–æ¨ä¸å¯é \n# è¾¹ç•Œæ•ˆåº”å¯èƒ½å¯¼è‡´æç«¯æ³¢åŠ¨",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1025-gam.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== GAM åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(mgcv)\nlibrary(gratia)\n\n# 1. æ¢ç´¢éçº¿æ€§å…³ç³»\nggplot(data, aes(x = x, y = y)) +\n    geom_smooth()\n\n# 2. æ‹Ÿåˆåˆå§‹æ¨¡å‹\ngam1 &lt;- gam(y ~ s(x1) + s(x2), data = data, method = \"REML\")\n\n# 3. æ£€æŸ¥ k å€¼\nk.check(gam1)\n\n# 4. æ¨¡å‹è¯Šæ–­\nappraise(gam1)\ngam.check(gam1)\n\n# 5. æ¨¡å‹æ¯”è¾ƒ\nAIC(gam1, gam2)\n\n# 6. å¯è§†åŒ–\ndraw(gam1)\n\n# 7. é¢„æµ‹\npredict(gam1, newdata = new_data, type = \"response\", se.fit = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1025-gam.html#æ€»ç»“",
    "href": "1025-gam.html#æ€»ç»“",
    "title": "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåŠŸèƒ½\nå‡½æ•°/å‚æ•°\nè¯´æ˜\n\n\n\n\nå•å˜é‡å¹³æ»‘\ns(x)\né»˜è®¤è–„æ¿æ ·æ¡\n\n\nå¾ªç¯æ ·æ¡\ns(x, bs = \"cc\")\nå‘¨æœŸæ€§æ•°æ®\n\n\näº¤äº’æ•ˆåº”\nte(x1, x2)\nå¼ é‡ç§¯å¹³æ»‘\n\n\nçº¯äº¤äº’\nti(x1, x2)\nä»…äº¤äº’é¡¹\n\n\nèŠ‚ç‚¹æ•°\nk = 10\næ§åˆ¶æœ€å¤§å¤æ‚åº¦\n\n\nä¼°è®¡æ–¹æ³•\nmethod = \"REML\"\næ¨èä½¿ç”¨\n\n\næ¨¡å‹è¯Šæ–­\ngam.check(), appraise()\næ®‹å·®æ£€éªŒ\n\n\n\n\næŠ¥å‘Š GAM çš„ Checklist\n\nè¯´æ˜ä½¿ç”¨ GAM çš„ç†ç”±ï¼ˆéçº¿æ€§æ¢ç´¢ï¼‰\næŠ¥å‘Šæ ·æ¡ç±»å‹å’Œ k å€¼\næŠ¥å‘Š edf å’Œæ˜¾è‘—æ€§\næä¾›å¹³æ»‘æ•ˆåº”å¯è§†åŒ–\næŠ¥å‘Šåå·®è§£é‡Šç‡\næ£€éªŒ k æ˜¯å¦è¶³å¤Ÿ\nè¿›è¡Œæ¨¡å‹è¯Šæ–­\n\n\n\næ¨èé˜…è¯»\n\nWood SN. Generalized Additive Models: An Introduction with R (2nd ed.)\nmgcv åŒ…æ–‡æ¡£\ngratia å¯è§†åŒ–æŒ‡å—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¹¿ä¹‰åŠ æ€§æ¨¡å‹ (GAM)"
    ]
  },
  {
    "objectID": "1023-mediation.html",
    "href": "1023-mediation.html",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¸­ä»‹æ•ˆåº”ï¼ˆMediation Effectï¼‰ åˆ†æç”¨äºæ¢ç´¢è‡ªå˜é‡ X å¦‚ä½•é€šè¿‡ä¸­ä»‹å˜é‡ M å½±å“å› å˜é‡ Y çš„æœºåˆ¶ã€‚å®ƒå›ç­”çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šâ€œæ•ˆåº”æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿâ€\n\n\n        a           b\n    X ----â†’ M ----â†’ Y\n        \\         â†—\n         \\-------/\n            c'\n\n\n\nè·¯å¾„\nåç§°\nå«ä¹‰\n\n\n\n\na\nX â†’ M è·¯å¾„\nè‡ªå˜é‡å¯¹ä¸­ä»‹å˜é‡çš„æ•ˆåº”\n\n\nb\nM â†’ Y è·¯å¾„\næ§åˆ¶ X åï¼Œä¸­ä»‹å˜é‡å¯¹å› å˜é‡çš„æ•ˆåº”\n\n\nc\næ€»æ•ˆåº”\nX å¯¹ Y çš„æ€»æ•ˆåº”\n\n\ncâ€™\nç›´æ¥æ•ˆåº”\næ§åˆ¶ M åï¼ŒX å¯¹ Y çš„ç›´æ¥æ•ˆåº”\n\n\naÃ—b\né—´æ¥æ•ˆåº”\né€šè¿‡ M ä¼ é€’çš„æ•ˆåº”\n\n\n\n\n\n\n\\[\\text{æ€»æ•ˆåº” (c)} = \\text{ç›´æ¥æ•ˆåº” (c')} + \\text{é—´æ¥æ•ˆåº” (aÃ—b)}\\]\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nè¡Œä¸ºæœºåˆ¶ç ”ç©¶\né”»ç‚¼å¦‚ä½•é€šè¿‡è‡ªæˆ‘æ•ˆèƒ½æ„Ÿå½±å“å¥åº·\n\n\nå¹²é¢„æœºåˆ¶\nåŸ¹è®­å¦‚ä½•é€šè¿‡æŠ€èƒ½æå‡å½±å“ç»©æ•ˆ\n\n\næµè¡Œç—…å­¦\nç¤¾ä¼šç»æµåœ°ä½å¦‚ä½•é€šè¿‡ç”Ÿæ´»æ–¹å¼å½±å“ç–¾ç—…\n\n\nå¿ƒç†å­¦ç ”ç©¶\nä¾æ‹é£æ ¼å¦‚ä½•é€šè¿‡æƒ…ç»ªè°ƒèŠ‚å½±å“å¿ƒç†å¥åº·",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#ä»€ä¹ˆæ˜¯ä¸­ä»‹æ•ˆåº”",
    "href": "1023-mediation.html#ä»€ä¹ˆæ˜¯ä¸­ä»‹æ•ˆåº”",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ä¸­ä»‹æ•ˆåº”ï¼ˆMediation Effectï¼‰ åˆ†æç”¨äºæ¢ç´¢è‡ªå˜é‡ X å¦‚ä½•é€šè¿‡ä¸­ä»‹å˜é‡ M å½±å“å› å˜é‡ Y çš„æœºåˆ¶ã€‚å®ƒå›ç­”çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šâ€œæ•ˆåº”æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿâ€\n\n\n        a           b\n    X ----â†’ M ----â†’ Y\n        \\         â†—\n         \\-------/\n            c'\n\n\n\nè·¯å¾„\nåç§°\nå«ä¹‰\n\n\n\n\na\nX â†’ M è·¯å¾„\nè‡ªå˜é‡å¯¹ä¸­ä»‹å˜é‡çš„æ•ˆåº”\n\n\nb\nM â†’ Y è·¯å¾„\næ§åˆ¶ X åï¼Œä¸­ä»‹å˜é‡å¯¹å› å˜é‡çš„æ•ˆåº”\n\n\nc\næ€»æ•ˆåº”\nX å¯¹ Y çš„æ€»æ•ˆåº”\n\n\ncâ€™\nç›´æ¥æ•ˆåº”\næ§åˆ¶ M åï¼ŒX å¯¹ Y çš„ç›´æ¥æ•ˆåº”\n\n\naÃ—b\né—´æ¥æ•ˆåº”\né€šè¿‡ M ä¼ é€’çš„æ•ˆåº”\n\n\n\n\n\n\n\\[\\text{æ€»æ•ˆåº” (c)} = \\text{ç›´æ¥æ•ˆåº” (c')} + \\text{é—´æ¥æ•ˆåº” (aÃ—b)}\\]\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nè¡Œä¸ºæœºåˆ¶ç ”ç©¶\né”»ç‚¼å¦‚ä½•é€šè¿‡è‡ªæˆ‘æ•ˆèƒ½æ„Ÿå½±å“å¥åº·\n\n\nå¹²é¢„æœºåˆ¶\nåŸ¹è®­å¦‚ä½•é€šè¿‡æŠ€èƒ½æå‡å½±å“ç»©æ•ˆ\n\n\næµè¡Œç—…å­¦\nç¤¾ä¼šç»æµåœ°ä½å¦‚ä½•é€šè¿‡ç”Ÿæ´»æ–¹å¼å½±å“ç–¾ç—…\n\n\nå¿ƒç†å­¦ç ”ç©¶\nä¾æ‹é£æ ¼å¦‚ä½•é€šè¿‡æƒ…ç»ªè°ƒèŠ‚å½±å“å¿ƒç†å¥åº·",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1023-mediation.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(mediation) # ç»å…¸ä¸­ä»‹åˆ†æ\nlibrary(lavaan) # ç»“æ„æ–¹ç¨‹æ¨¡å‹\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(broom) # æ¨¡å‹æ•´ç†\n\n# å¯é€‰ï¼šbruceR å’Œ processR éœ€è¦é¢å¤–å®‰è£…\n# library(bruceR)       # ä¸­ä»‹åˆ†æè¾…åŠ©\n# library(processR)     # PROCESS å®çš„ R å®ç°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#æ•°æ®å‡†å¤‡",
    "href": "1023-mediation.html#æ•°æ®å‡†å¤‡",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼šå·¥ä½œå‹åŠ› â†’ å·¥ä½œå€¦æ€  â†’ ç¦»èŒæ„å‘\n\n# æ¨¡æ‹Ÿæ•°æ®\nset.seed(2024)\nn &lt;- 400\n\nwork_data &lt;- tibble(\n  id = 1:n,\n  # æ§åˆ¶å˜é‡\n  age = round(rnorm(n, 35, 8)),\n  gender = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE)),\n  tenure = round(pmax(1, rnorm(n, 5, 3))),\n\n  # è‡ªå˜é‡ï¼šå·¥ä½œå‹åŠ› (1-7 é‡è¡¨)\n  stress = round(pmin(7, pmax(1, rnorm(n, 4, 1.2))), 1)\n) |&gt;\n  mutate(\n    # ä¸­ä»‹å˜é‡ï¼šå·¥ä½œå€¦æ€  (å—å‹åŠ›å½±å“)\n    burnout = round(pmin(7, pmax(\n      1,\n      1.5 + 0.8 * stress + 0.02 * age + rnorm(n, 0, 0.8)\n    )), 1),\n\n    # å› å˜é‡ï¼šç¦»èŒæ„å‘ (å—å‹åŠ›å’Œå€¦æ€ å½±å“)\n    turnover = round(pmin(7, pmax(\n      1,\n      0.5 + 0.3 * stress + 0.6 * burnout - 0.05 * tenure + rnorm(n, 0, 0.7)\n    )), 1)\n  )\n\n# æŸ¥çœ‹æ•°æ®\nglimpse(work_data)\n\nRows: 400\nColumns: 7\n$ id       &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18â€¦\n$ age      &lt;dbl&gt; 43, 39, 34, 33, 44, 45, 39, 34, 25, 26, 22, 39, 42, 37, 9, 34â€¦\n$ gender   &lt;fct&gt; ç”·, ç”·, ç”·, ç”·, å¥³, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, ç”·, ç”·, ç”·, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, ç”·â€¦\n$ tenure   &lt;dbl&gt; 1, 9, 7, 5, 6, 2, 5, 1, 5, 4, 1, 9, 3, 10, 6, 2, 8, 12, 5, 5,â€¦\n$ stress   &lt;dbl&gt; 3.9, 3.4, 2.9, 3.6, 3.8, 3.1, 2.9, 2.3, 4.5, 3.2, 4.6, 4.8, 2â€¦\n$ burnout  &lt;dbl&gt; 5.3, 5.8, 4.0, 3.1, 6.2, 6.2, 3.7, 2.8, 5.3, 4.0, 7.0, 6.3, 4â€¦\n$ turnover &lt;dbl&gt; 4.0, 5.4, 3.3, 3.8, 5.0, 4.7, 3.6, 2.4, 4.0, 4.0, 7.0, 4.3, 3â€¦\n\n# æè¿°ç»Ÿè®¡\nwork_data |&gt;\n  select(stress, burnout, turnover) |&gt;\n  psych::describe() |&gt;\n  select(mean, sd, min, max)\n\n         mean   sd min max\nstress   4.03 1.15 1.0   7\nburnout  5.38 1.10 2.3   7\nturnover 4.71 1.16 1.4   7\n\n\n\nç›¸å…³åˆ†æ\n\n# è®¡ç®—ç›¸å…³çŸ©é˜µ\ncor_matrix &lt;- work_data |&gt;\n  select(stress, burnout, turnover) |&gt;\n  cor()\n\nround(cor_matrix, 3)\n\n         stress burnout turnover\nstress    1.000   0.737    0.678\nburnout   0.737   1.000    0.792\nturnover  0.678   0.792    1.000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#æ–¹æ³•ä¸€baron-kenny-é€æ­¥æ³•",
    "href": "1023-mediation.html#æ–¹æ³•ä¸€baron-kenny-é€æ­¥æ³•",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ–¹æ³•ä¸€ï¼šBaron-Kenny é€æ­¥æ³•",
    "text": "æ–¹æ³•ä¸€ï¼šBaron-Kenny é€æ­¥æ³•\nä¼ ç»Ÿçš„ Baron-Kenny æ–¹æ³•é€šè¿‡ä¸‰æ­¥å›å½’æ£€éªŒä¸­ä»‹æ•ˆåº”ã€‚\n\næ­¥éª¤ 1ï¼šæ£€éªŒæ€»æ•ˆåº” (c è·¯å¾„)\n\n# X â†’ Yï¼ˆä¸æ§åˆ¶ Mï¼‰\nstep1 &lt;- lm(turnover ~ stress, data = work_data)\nsummary(step1)\n\n\nCall:\nlm(formula = turnover ~ stress, data = work_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.60645 -0.54598  0.05998  0.63239  2.16969 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  1.94682    0.15649   12.44   &lt;2e-16 ***\nstress       0.68654    0.03736   18.38   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.8561 on 398 degrees of freedom\nMultiple R-squared:  0.4591,    Adjusted R-squared:  0.4577 \nF-statistic: 337.8 on 1 and 398 DF,  p-value: &lt; 2.2e-16\n\n# æå–æ€»æ•ˆåº”\nc_total &lt;- coef(step1)[\"stress\"]\ncat(\"æ€»æ•ˆåº” c =\", round(c_total, 4), \"\\n\")\n\næ€»æ•ˆåº” c = 0.6865 \n\n\n\n\næ­¥éª¤ 2ï¼šæ£€éªŒ a è·¯å¾„\n\n# X â†’ M\nstep2 &lt;- lm(burnout ~ stress, data = work_data)\nsummary(step2)\n\n\nCall:\nlm(formula = burnout ~ stress, data = work_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.13847 -0.49068  0.00519  0.46937  1.84885 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   2.5280     0.1366   18.51   &lt;2e-16 ***\nstress        0.7089     0.0326   21.75   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.7472 on 398 degrees of freedom\nMultiple R-squared:  0.543, Adjusted R-squared:  0.5418 \nF-statistic: 472.8 on 1 and 398 DF,  p-value: &lt; 2.2e-16\n\n# æå– a è·¯å¾„\na_path &lt;- coef(step2)[\"stress\"]\ncat(\"a è·¯å¾„ =\", round(a_path, 4), \"\\n\")\n\na è·¯å¾„ = 0.7089 \n\n\n\n\næ­¥éª¤ 3ï¼šæ£€éªŒ b è·¯å¾„å’Œç›´æ¥æ•ˆåº” (câ€™)\n\n# X + M â†’ Y\nstep3 &lt;- lm(turnover ~ stress + burnout, data = work_data)\nsummary(step3)\n\n\nCall:\nlm(formula = turnover ~ stress + burnout, data = work_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.05513 -0.43848 -0.01737  0.50172  1.86216 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  0.24194    0.17280    1.40    0.162    \nstress       0.20844    0.04473    4.66 4.32e-06 ***\nburnout      0.67439    0.04649   14.51  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.693 on 397 degrees of freedom\nMultiple R-squared:  0.6465,    Adjusted R-squared:  0.6447 \nF-statistic:   363 on 2 and 397 DF,  p-value: &lt; 2.2e-16\n\n# æå– b è·¯å¾„å’Œç›´æ¥æ•ˆåº”\nb_path &lt;- coef(step3)[\"burnout\"]\nc_prime &lt;- coef(step3)[\"stress\"]\n\ncat(\"b è·¯å¾„ =\", round(b_path, 4), \"\\n\")\n\nb è·¯å¾„ = 0.6744 \n\ncat(\"ç›´æ¥æ•ˆåº” c' =\", round(c_prime, 4), \"\\n\")\n\nç›´æ¥æ•ˆåº” c' = 0.2084 \n\n\n\n\nè®¡ç®—é—´æ¥æ•ˆåº”\n\n# é—´æ¥æ•ˆåº” = a Ã— b\nindirect_effect &lt;- a_path * b_path\ncat(\"é—´æ¥æ•ˆåº” aÃ—b =\", round(indirect_effect, 4), \"\\n\")\n\né—´æ¥æ•ˆåº” aÃ—b = 0.4781 \n\n# ä¸­ä»‹æ•ˆåº”å æ¯”\nproportion_mediated &lt;- indirect_effect / c_total\ncat(\"ä¸­ä»‹æ•ˆåº”å æ¯” =\", round(proportion_mediated * 100, 1), \"%\\n\")\n\nä¸­ä»‹æ•ˆåº”å æ¯” = 69.6 %\n\n# éªŒè¯ï¼šc = c' + ab\ncat(\n  \"éªŒè¯: c' + ab =\", round(c_prime + indirect_effect, 4),\n  \", c =\", round(c_total, 4), \"\\n\"\n)\n\néªŒè¯: c' + ab = 0.6865 , c = 0.6865 \n\n\n\n\nBaron-Kenny ç»“è®º\n\n# ä¸­ä»‹æ•ˆåº”åˆ¤æ–­\ncat(\"\\n==== Baron-Kenny ä¸­ä»‹æ•ˆåº”æ£€éªŒ ====\\n\")\n\n\n==== Baron-Kenny ä¸­ä»‹æ•ˆåº”æ£€éªŒ ====\n\ncat(\"1. c è·¯å¾„æ˜¾è‘—:\", coef(summary(step1))[\"stress\", \"Pr(&gt;|t|)\"] &lt; 0.05, \"\\n\")\n\n1. c è·¯å¾„æ˜¾è‘—: TRUE \n\ncat(\"2. a è·¯å¾„æ˜¾è‘—:\", coef(summary(step2))[\"stress\", \"Pr(&gt;|t|)\"] &lt; 0.05, \"\\n\")\n\n2. a è·¯å¾„æ˜¾è‘—: TRUE \n\ncat(\"3. b è·¯å¾„æ˜¾è‘—:\", coef(summary(step3))[\"burnout\", \"Pr(&gt;|t|)\"] &lt; 0.05, \"\\n\")\n\n3. b è·¯å¾„æ˜¾è‘—: TRUE \n\ncat(\"4. c' &lt; c:\", abs(c_prime) &lt; abs(c_total), \"\\n\")\n\n4. c' &lt; c: TRUE",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#æ–¹æ³•äºŒbootstrap-æ³•æ¨è",
    "href": "1023-mediation.html#æ–¹æ³•äºŒbootstrap-æ³•æ¨è",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ–¹æ³•äºŒï¼šBootstrap æ³•ï¼ˆæ¨èï¼‰",
    "text": "æ–¹æ³•äºŒï¼šBootstrap æ³•ï¼ˆæ¨èï¼‰\nBootstrap æ–¹æ³•ä¸ä¾èµ–æ­£æ€åˆ†å¸ƒå‡è®¾ï¼Œæ˜¯ç›®å‰æœ€æ¨èçš„ä¸­ä»‹æ•ˆåº”æ£€éªŒæ–¹æ³•ã€‚\n\nä½¿ç”¨ mediation åŒ…\n\n# æ‹Ÿåˆä¸¤ä¸ªå›å½’æ¨¡å‹\nmodel_m &lt;- lm(burnout ~ stress + age + tenure, data = work_data)\nmodel_y &lt;- lm(turnover ~ stress + burnout + age + tenure, data = work_data)\n\n# æ‰§è¡Œä¸­ä»‹åˆ†æï¼ˆBootstrapï¼‰\nset.seed(42)\nmed_result &lt;- mediate(\n  model.m = model_m, # ä¸­ä»‹å˜é‡æ¨¡å‹\n  model.y = model_y, # ç»“å±€å˜é‡æ¨¡å‹\n  treat = \"stress\", # è‡ªå˜é‡\n  mediator = \"burnout\", # ä¸­ä»‹å˜é‡\n  boot = TRUE, # ä½¿ç”¨ Bootstrap\n  sims = 1000 # Bootstrap æ¬¡æ•°\n)\n\nsummary(med_result)\n\n\nCausal Mediation Analysis \n\nNonparametric Bootstrap Confidence Intervals with the Percentile Method\n\n               Estimate 95% CI Lower 95% CI Upper   p-value    \nACME            0.47348      0.39655      0.55400 &lt; 2.2e-16 ***\nADE             0.21810      0.13445      0.30020 &lt; 2.2e-16 ***\nTotal Effect    0.69158      0.62254      0.76193 &lt; 2.2e-16 ***\nProp. Mediated  0.68463      0.58235      0.79361 &lt; 2.2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nSample Size Used: 400 \n\n\nSimulations: 1000 \n\n\n\n\nè§£è¯» mediation ç»“æœ\n\n\n\næŒ‡æ ‡\nå«ä¹‰\n\n\n\n\nACME\nAverage Causal Mediation Effectï¼ˆé—´æ¥æ•ˆåº”ï¼‰\n\n\nADE\nAverage Direct Effectï¼ˆç›´æ¥æ•ˆåº”ï¼‰\n\n\nTotal Effect\næ€»æ•ˆåº”\n\n\nProp. Mediated\nä¸­ä»‹æ•ˆåº”å æ¯”\n\n\n\n\n# å¯è§†åŒ–ä¸­ä»‹æ•ˆåº”\nplot(med_result, main = \"ä¸­ä»‹æ•ˆåº” Bootstrap ç»“æœ\")\n\n\n\n\n\n\n\n\n\n\næ•æ„Ÿæ€§åˆ†æ\n\n# ä¸­ä»‹åˆ†æçš„æ•æ„Ÿæ€§åˆ†æï¼ˆæ£€éªŒæœªæµ‹é‡æ··æ‚çš„å½±å“ï¼‰\nsens_result &lt;- medsens(med_result, rho.by = 0.05)\n\nsummary(sens_result)\n\n\nMediation Sensitivity Analysis for Average Causal Mediation Effect\n\nSensitivity Region\n\n      Rho    ACME 95% CI Lower 95% CI Upper R^2_M*R^2_Y* R^2_M~R^2_Y~\n[1,] 0.55  0.0433      -0.0209       0.1075       0.3025       0.0451\n[2,] 0.60 -0.0164      -0.0806       0.0477       0.3600       0.0536\n\nRho at which ACME = 0: 0.6\nR^2_M*R^2_Y* at which ACME = 0: 0.36\nR^2_M~R^2_Y~ at which ACME = 0: 0.0536 \n\n\n\n# ç»˜åˆ¶æ•æ„Ÿæ€§åˆ†æå›¾\nplot(sens_result, main = \"æ•æ„Ÿæ€§åˆ†æ\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#æ–¹æ³•ä¸‰ç»“æ„æ–¹ç¨‹æ¨¡å‹-sem",
    "href": "1023-mediation.html#æ–¹æ³•ä¸‰ç»“æ„æ–¹ç¨‹æ¨¡å‹-sem",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ–¹æ³•ä¸‰ï¼šç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)",
    "text": "æ–¹æ³•ä¸‰ï¼šç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)\nä½¿ç”¨ lavaan åŒ…è¿›è¡Œ SEM åˆ†æï¼Œå¯ä»¥å¤„ç†æ›´å¤æ‚çš„æ¨¡å‹ã€‚\n\nå•ä¸­ä»‹æ¨¡å‹\n\n# å®šä¹‰æ¨¡å‹\nmodel_sem &lt;- \"\n  # å›å½’è·¯å¾„\n  burnout ~ a * stress    # a è·¯å¾„\n  turnover ~ b * burnout + c * stress  # b å’Œ c è·¯å¾„\n\n  # é—´æ¥æ•ˆåº”å’Œæ€»æ•ˆåº”\n  indirect := a * b\n  total := c + a * b\n\n  # æ§åˆ¶å˜é‡ï¼ˆå¯é€‰ï¼‰\n  burnout ~ age + tenure\n  turnover ~ age + tenure\n\"\n\n# æ‹Ÿåˆæ¨¡å‹ï¼ˆBootstrapï¼‰\nfit_sem &lt;- sem(model_sem,\n  data = work_data,\n  se = \"bootstrap\", bootstrap = 1000\n)\n\nsummary(fit_sem, standardized = TRUE, ci = TRUE)\n\nlavaan 0.6-21 ended normally after 1 iteration\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                         9\n\n  Number of observations                           400\n\nModel Test User Model:\n                                                      \n  Test statistic                                 0.000\n  Degrees of freedom                                 0\n\nParameter Estimates:\n\n  Standard errors                            Bootstrap\n  Number of requested bootstrap draws             1000\n  Number of successful bootstrap draws            1000\n\nRegressions:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n  burnout ~                                                             \n    stress     (a)    0.705    0.029   24.514    0.000    0.649    0.764\n  turnover ~                                                            \n    burnout    (b)    0.672    0.049   13.589    0.000    0.572    0.765\n    stress     (c)    0.218    0.043    5.016    0.000    0.140    0.309\n  burnout ~                                                             \n    age               0.019    0.005    3.971    0.000    0.010    0.029\n    tenure           -0.012    0.013   -0.940    0.347   -0.038    0.013\n  turnover ~                                                            \n    age              -0.002    0.004   -0.571    0.568   -0.012    0.006\n    tenure           -0.048    0.012   -4.189    0.000   -0.072   -0.026\n   Std.lv  Std.all\n                  \n    0.705    0.733\n                  \n    0.672    0.638\n    0.218    0.215\n                  \n    0.019    0.132\n   -0.012   -0.031\n                  \n   -0.002   -0.017\n   -0.048   -0.117\n\nVariances:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n   .burnout           0.533    0.038   14.077    0.000    0.458    0.605\n   .turnover          0.458    0.033   14.047    0.000    0.392    0.518\n   Std.lv  Std.all\n    0.533    0.439\n    0.458    0.340\n\nDefined Parameters:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n    indirect          0.473    0.040   11.857    0.000    0.396    0.554\n    total             0.692    0.034   20.245    0.000    0.626    0.759\n   Std.lv  Std.all\n    0.473    0.467\n    0.692    0.683\n\n\n\n\næå–æ•ˆåº”\n\n# æå–æ ‡å‡†åŒ–æ•ˆåº”\nstandardizedSolution(fit_sem) |&gt;\n  filter(op == \":=\" | (lhs %in% c(\"burnout\", \"turnover\") & op == \"~\")) |&gt;\n  select(lhs, op, rhs, est.std, ci.lower, ci.upper, pvalue)\n\n       lhs op     rhs est.std ci.lower ci.upper pvalue\n1  burnout  ~  stress   0.733    0.696    0.770  0.000\n2 turnover  ~ burnout   0.638    0.557    0.718  0.000\n3 turnover  ~  stress   0.215    0.131    0.300  0.000\n4  burnout  ~     age   0.132    0.068    0.196  0.000\n5  burnout  ~  tenure  -0.031   -0.097    0.034  0.348\n6 turnover  ~     age  -0.017   -0.075    0.041  0.568\n7 turnover  ~  tenure  -0.117   -0.173   -0.062  0.000\n8 indirect :=     a*b   0.467    0.403    0.531  0.000\n9    total :=   c+a*b   0.683    0.639    0.726  0.000\n\n\n\n\næ¨¡å‹æ‹ŸåˆæŒ‡æ ‡\n\n# æ‹ŸåˆæŒ‡æ ‡\nfitMeasures(fit_sem, c(\"chisq\", \"df\", \"pvalue\", \"cfi\", \"tli\", \"rmsea\", \"srmr\"))\n\n chisq     df pvalue    cfi    tli  rmsea   srmr \n     0      0     NA      1      1      0      0",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#å¤šé‡ä¸­ä»‹åˆ†æ",
    "href": "1023-mediation.html#å¤šé‡ä¸­ä»‹åˆ†æ",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¤šé‡ä¸­ä»‹åˆ†æ",
    "text": "å¤šé‡ä¸­ä»‹åˆ†æ\nå½“å­˜åœ¨å¤šä¸ªä¸­ä»‹å˜é‡æ—¶ï¼š\n\n# æ·»åŠ ç¬¬äºŒä¸ªä¸­ä»‹å˜é‡ï¼šå·¥ä½œæ»¡æ„åº¦\nwork_data &lt;- work_data |&gt;\n  mutate(\n    satisfaction = round(pmin(7, pmax(\n      1,\n      6 - 0.5 * stress - 0.3 * burnout + rnorm(n, 0, 0.7)\n    )), 1)\n  )\n\n# å¤šé‡ä¸­ä»‹æ¨¡å‹\nmodel_multi &lt;- \"\n  # a è·¯å¾„\n  burnout ~ a1 * stress\n  satisfaction ~ a2 * stress\n\n  # b è·¯å¾„\n  turnover ~ b1 * burnout + b2 * satisfaction + c * stress\n\n  # é—´æ¥æ•ˆåº”\n  ind1 := a1 * b1          # é€šè¿‡å€¦æ€ \n  ind2 := a2 * b2          # é€šè¿‡æ»¡æ„åº¦\n  total_indirect := ind1 + ind2\n  total := c + ind1 + ind2\n\n  # æ§åˆ¶å˜é‡\n  burnout ~ age\n  satisfaction ~ age\n  turnover ~ age\n\"\n\nfit_multi &lt;- sem(model_multi,\n  data = work_data,\n  se = \"bootstrap\", bootstrap = 1000\n)\n\nsummary(fit_multi, standardized = TRUE, ci = TRUE)\n\nlavaan 0.6-21 ended normally after 2 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        11\n\n  Number of observations                           400\n\nModel Test User Model:\n                                                      \n  Test statistic                                32.178\n  Degrees of freedom                                 1\n  P-value (Chi-square)                           0.000\n\nParameter Estimates:\n\n  Standard errors                            Bootstrap\n  Number of requested bootstrap draws             1000\n  Number of successful bootstrap draws            1000\n\nRegressions:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n  burnout ~                                                             \n    stress    (a1)    0.703    0.028   24.919    0.000    0.649    0.761\n  satisfaction ~                                                        \n    stress    (a2)   -0.646    0.028  -23.190    0.000   -0.699   -0.589\n  turnover ~                                                            \n    burnout   (b1)    0.676    0.049   13.765    0.000    0.584    0.783\n    satisfctn (b2)   -0.016    0.052   -0.304    0.761   -0.113    0.086\n    stress     (c)    0.198    0.051    3.879    0.000    0.096    0.298\n  burnout ~                                                             \n    age               0.018    0.005    4.019    0.000    0.009    0.028\n  satisfaction ~                                                        \n    age              -0.006    0.004   -1.248    0.212   -0.014    0.004\n  turnover ~                                                            \n    age              -0.003    0.005   -0.620    0.535   -0.012    0.006\n   Std.lv  Std.all\n                  \n    0.703    0.731\n                  \n   -0.646   -0.736\n                  \n    0.676    0.643\n   -0.016   -0.014\n    0.198    0.195\n                  \n    0.018    0.132\n                  \n   -0.006   -0.044\n                  \n   -0.003   -0.019\n\nVariances:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n   .burnout           0.534    0.038   14.158    0.000    0.461    0.608\n   .satisfaction      0.458    0.030   15.387    0.000    0.395    0.510\n   .turnover          0.476    0.033   14.511    0.000    0.406    0.538\n   Std.lv  Std.all\n    0.534    0.440\n    0.458    0.453\n    0.476    0.354\n\nDefined Parameters:\n                   Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper\n    ind1              0.476    0.040   11.964    0.000    0.402    0.555\n    ind2              0.010    0.034    0.303    0.762   -0.054    0.073\n    total_indirect    0.486    0.045   10.873    0.000    0.397    0.578\n    total             0.684    0.033   20.423    0.000    0.617    0.751\n   Std.lv  Std.all\n    0.476    0.470\n    0.010    0.010\n    0.486    0.480\n    0.684    0.675\n\n\n\n# æ¯”è¾ƒä¸¤ä¸ªé—´æ¥æ•ˆåº”\nparameterEstimates(fit_multi, boot.ci.type = \"bca.simple\") |&gt;\n  filter(op == \":=\") |&gt;\n  select(label, est, ci.lower, ci.upper, pvalue)\n\n           label   est ci.lower ci.upper pvalue\n1           ind1 0.476    0.406    0.561  0.000\n2           ind2 0.010   -0.057    0.071  0.762\n3 total_indirect 0.486    0.394    0.569  0.000\n4          total 0.684    0.614    0.748  0.000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#è°ƒèŠ‚çš„ä¸­ä»‹æ•ˆåº”",
    "href": "1023-mediation.html#è°ƒèŠ‚çš„ä¸­ä»‹æ•ˆåº”",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "è°ƒèŠ‚çš„ä¸­ä»‹æ•ˆåº”",
    "text": "è°ƒèŠ‚çš„ä¸­ä»‹æ•ˆåº”\nå½“ä¸­ä»‹è·¯å¾„å—åˆ°è°ƒèŠ‚å˜é‡å½±å“æ—¶ï¼š\n\n# æ·»åŠ è°ƒèŠ‚å˜é‡ï¼šç¤¾ä¼šæ”¯æŒ\nwork_data &lt;- work_data |&gt;\n  mutate(\n    social_support = round(pmin(7, pmax(1, rnorm(n, 4.5, 1.2))), 1),\n    # ä¸­å¿ƒåŒ–\n    stress_c = stress - mean(stress),\n    support_c = social_support - mean(social_support),\n    # äº¤äº’é¡¹\n    stress_support = stress_c * support_c\n  )\n\n# è°ƒèŠ‚çš„ä¸­ä»‹æ¨¡å‹\nmodel_m_mod &lt;- lm(burnout ~ stress_c * support_c + age, data = work_data)\nmodel_y_mod &lt;- lm(turnover ~ stress_c + burnout + age, data = work_data)\n\nsummary(model_m_mod) # æ£€æŸ¥äº¤äº’æ•ˆåº”æ˜¯å¦æ˜¾è‘—\n\n\nCall:\nlm(formula = burnout ~ stress_c * support_c + age, data = work_data)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-2.09399 -0.47584  0.01156  0.50286  1.86016 \n\nCoefficients:\n                    Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)         4.742180   0.169860  27.918  &lt; 2e-16 ***\nstress_c            0.704447   0.032122  21.930  &lt; 2e-16 ***\nsupport_c           0.025767   0.033192   0.776 0.438034    \nage                 0.018158   0.004692   3.870 0.000127 ***\nstress_c:support_c -0.015365   0.027896  -0.551 0.582074    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.7349 on 395 degrees of freedom\nMultiple R-squared:  0.5612,    Adjusted R-squared:  0.5567 \nF-statistic: 126.3 on 4 and 395 DF,  p-value: &lt; 2.2e-16\n\n\n\n# åœ¨ä¸åŒç¤¾ä¼šæ”¯æŒæ°´å¹³ä¸‹çš„ä¸­ä»‹æ•ˆåº”\n# æ³¨æ„ï¼šæ­¤ä»£ç éœ€è¦æ›´ç²¾ç»†çš„æ¨¡å‹è®¾å®š\n# ä½æ”¯æŒ (-1 SD)\nmed_low &lt;- mediate(model_m_mod, model_y_mod,\n  covariates = list(support_c = -sd(work_data$support_c)),\n  treat = \"stress_c\", mediator = \"burnout\",\n  boot = TRUE, sims = 500\n)\n\n# é«˜æ”¯æŒ (+1 SD)\nmed_high &lt;- mediate(model_m_mod, model_y_mod,\n  covariates = list(support_c = sd(work_data$support_c)),\n  treat = \"stress_c\", mediator = \"burnout\",\n  boot = TRUE, sims = 500\n)\n\ncat(\"ä½ç¤¾ä¼šæ”¯æŒä¸‹çš„é—´æ¥æ•ˆåº”:\", round(med_low$d0, 4), \"\\n\")\ncat(\"é«˜ç¤¾ä¼šæ”¯æŒä¸‹çš„é—´æ¥æ•ˆåº”:\", round(med_high$d0, 4), \"\\n\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#ä½¿ç”¨-brucer-åŒ…ç®€åŒ–ç‰ˆ",
    "href": "1023-mediation.html#ä½¿ç”¨-brucer-åŒ…ç®€åŒ–ç‰ˆ",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ä½¿ç”¨ bruceR åŒ…ï¼ˆç®€åŒ–ç‰ˆï¼‰",
    "text": "ä½¿ç”¨ bruceR åŒ…ï¼ˆç®€åŒ–ç‰ˆï¼‰\n\n# bruceR æä¾›æ›´ç®€æ´çš„ä¸­ä»‹åˆ†æè¯­æ³•\n# éœ€è¦å…ˆå®‰è£… bruceR åŒ…\nlibrary(bruceR)\n\n# ç®€å•ä¸­ä»‹åˆ†æ\nPROCESS(\n  data = work_data,\n  y = \"turnover\",\n  x = \"stress\",\n  meds = \"burnout\",\n  covs = c(\"age\", \"tenure\"),\n  seed = 42,\n  nsim = 1000\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#ç»“æœå¯è§†åŒ–",
    "href": "1023-mediation.html#ç»“æœå¯è§†åŒ–",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ç»“æœå¯è§†åŒ–",
    "text": "ç»“æœå¯è§†åŒ–\n\nè·¯å¾„å›¾\n\n# æ‰‹åŠ¨ç»˜åˆ¶è·¯å¾„å›¾\nlibrary(DiagrammeR)\n\ngrViz(\"\ndigraph mediation {\n  graph [layout = dot, rankdir = LR]\n\n  node [shape = rectangle, style = filled, fillcolor = '#e0e7ff']\n  X [label = 'å·¥ä½œå‹åŠ›\\\\n(X)']\n  M [label = 'å·¥ä½œå€¦æ€ \\\\n(M)']\n  Y [label = 'ç¦»èŒæ„å‘\\\\n(Y)']\n\n  edge [color = '#4f46e5', penwidth = 2]\n  X -&gt; M [label = 'a = 0.80***']\n  M -&gt; Y [label = 'b = 0.59***']\n  X -&gt; Y [label = \\\"c' = 0.31***\\\"]\n}\n\")\n\n\n\n\n\n\n\næ•ˆåº”å¯¹æ¯”å›¾\n\n# æ•ˆåº”å¯¹æ¯”æ¡å½¢å›¾\neffect_data &lt;- tibble(\n  æ•ˆåº” = c(\"æ€»æ•ˆåº” (c)\", \"ç›´æ¥æ•ˆåº” (c')\", \"é—´æ¥æ•ˆåº” (ab)\"),\n  ä¼°è®¡å€¼ = c(c_total, c_prime, indirect_effect),\n  ç±»å‹ = c(\"æ€»æ•ˆåº”\", \"ç›´æ¥æ•ˆåº”\", \"é—´æ¥æ•ˆåº”\")\n)\n\nggplot(effect_data, aes(x = reorder(æ•ˆåº”, ä¼°è®¡å€¼), y = ä¼°è®¡å€¼, fill = ç±»å‹)) +\n  geom_col(alpha = 0.8) +\n  geom_text(aes(label = round(ä¼°è®¡å€¼, 3)), hjust = -0.1) +\n  coord_flip() +\n  scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"ä¸­ä»‹æ•ˆåº”åˆ†è§£\",\n    x = NULL,\n    y = \"æ•ˆåº”é‡\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#ä¸­ä»‹æ•ˆåº”ç±»å‹",
    "href": "1023-mediation.html#ä¸­ä»‹æ•ˆåº”ç±»å‹",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ä¸­ä»‹æ•ˆåº”ç±»å‹",
    "text": "ä¸­ä»‹æ•ˆåº”ç±»å‹\n\n\n\nç±»å‹\næ¡ä»¶\nè§£é‡Š\n\n\n\n\nå®Œå…¨ä¸­ä»‹\ncâ€™ ä¸æ˜¾è‘—ï¼Œab æ˜¾è‘—\nX å®Œå…¨é€šè¿‡ M å½±å“ Y\n\n\néƒ¨åˆ†ä¸­ä»‹\ncâ€™ å’Œ ab éƒ½æ˜¾è‘—\nX éƒ¨åˆ†é€šè¿‡ M å½±å“ Y\n\n\næ— ä¸­ä»‹\nab ä¸æ˜¾è‘—\nM ä¸æ˜¯ä¸­ä»‹å˜é‡\n\n\né®è”½æ•ˆåº”\ncâ€™ å’Œ ab ç¬¦å·ç›¸å\nç›´æ¥å’Œé—´æ¥æ•ˆåº”éƒ¨åˆ†æŠµæ¶ˆ\n\n\nç«äº‰ä¸­ä»‹\nab æ˜¾è‘—ä½† c ä¸æ˜¾è‘—\nä¸åŒä¸­ä»‹è·¯å¾„ç›¸äº’æŠµæ¶ˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1023-mediation.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. å› æœæ¨æ–­çš„é™åˆ¶\n# ä¸­ä»‹åˆ†æéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡è®¾ï¼š\n# 1. X åœ¨æ—¶é—´ä¸Šå…ˆäº M\n# 2. M åœ¨æ—¶é—´ä¸Šå…ˆäº Y\n# 3. æ²¡æœ‰é—æ¼çš„æ··æ‚å˜é‡\n\n# æ¨ªæ–­é¢æ•°æ®çš„ä¸­ä»‹åˆ†æåªèƒ½è¯´æ˜\"ä¸€è‡´æ€§\"ï¼Œä¸èƒ½è¯æ˜å› æœå…³ç³»\n\n\n2. æ ·æœ¬é‡è¦æ±‚\n# ä¸­ä»‹æ•ˆåº”çš„æ£€éªŒåŠ›è¾ƒä½\n# æ¨èè§„åˆ™ï¼š\n# - å°æ•ˆåº”ï¼šn â‰¥ 500\n# - ä¸­ç­‰æ•ˆåº”ï¼šn â‰¥ 200\n# - å¤§æ•ˆåº”ï¼šn â‰¥ 100\n\n# ä½¿ç”¨ powerMediation åŒ…è®¡ç®—æ ·æœ¬é‡\n# library(powerMediation)\n\n\n3. æµ‹é‡è¯¯å·®\n# æµ‹é‡è¯¯å·®ä¼šå¯¼è‡´ï¼š\n# - a è·¯å¾„è¢«ä½ä¼°\n# - b è·¯å¾„è¢«ä½ä¼°\n# - é—´æ¥æ•ˆåº”è¢«ä½ä¼°\n# - ç›´æ¥æ•ˆåº”è¢«é«˜ä¼°\n\n# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ½œå˜é‡æ¨¡å‹ï¼ˆSEMï¼‰\n\n\n4. å¤šé‡å…±çº¿æ€§\n\n# æ£€æŸ¥ X å’Œ M çš„ç›¸å…³æ€§\ncat(\"X-M ç›¸å…³:\", round(cor(work_data$stress, work_data$burnout), 3), \"\\n\")\n\nX-M ç›¸å…³: 0.737 \n\n# é«˜ç›¸å…³å¯èƒ½å¯¼è‡´ç›´æ¥æ•ˆåº”ä¼°è®¡ä¸ç¨³å®š",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1023-mediation.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== ä¸­ä»‹æ•ˆåº”åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(mediation)\nlibrary(lavaan)\n\n# æ–¹æ³•1ï¼šmediation åŒ…ï¼ˆæ¨èï¼‰\n# 1. æ‹Ÿåˆæ¨¡å‹\nmodel_m &lt;- lm(M ~ X + covariates, data = data)\nmodel_y &lt;- lm(Y ~ X + M + covariates, data = data)\n\n# 2. ä¸­ä»‹åˆ†æ\nmed &lt;- mediate(model_m, model_y,\n  treat = \"X\", mediator = \"M\",\n  boot = TRUE, sims = 5000\n)\nsummary(med)\n\n# 3. æ•æ„Ÿæ€§åˆ†æ\nmedsens(med)\n\n# æ–¹æ³•2ï¼šSEMï¼ˆå¤æ‚æ¨¡å‹ï¼‰\nmodel &lt;- \"\n  M ~ a * X\n  Y ~ b * M + c * X\n  indirect := a * b\n  total := c + a * b\n\"\nfit &lt;- sem(model, data, se = \"bootstrap\", bootstrap = 5000)\nsummary(fit, ci = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1023-mediation.html#æ€»ç»“",
    "href": "1023-mediation.html#æ€»ç»“",
    "title": "ä¸­ä»‹æ•ˆåº”åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ–¹æ³•\nä¼˜ç‚¹\nç¼ºç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\nBaron-Kenny\nç®€å•ç›´è§‚\næ£€éªŒåŠ›ä½ï¼Œéœ€æ­£æ€å‡è®¾\næ•™å­¦æ¼”ç¤º\n\n\nSobel æ£€éªŒ\næœ‰æ˜ç¡®æ£€éªŒç»Ÿè®¡é‡\néœ€æ­£æ€å‡è®¾\nå¤§æ ·æœ¬\n\n\nBootstrap\nä¸éœ€è¦æ­£æ€å‡è®¾\nè®¡ç®—é‡å¤§\næ¨èä½¿ç”¨\n\n\nSEM\nå¯å¤„ç†å¤æ‚æ¨¡å‹\néœ€è¦è¾ƒå¤§æ ·æœ¬\nå¤šä¸­ä»‹ã€æ½œå˜é‡\n\n\n\n\næŠ¥å‘Šä¸­ä»‹æ•ˆåº”çš„ Checklist\n\næŠ¥å‘Šæ€»æ•ˆåº”ã€ç›´æ¥æ•ˆåº”ã€é—´æ¥æ•ˆåº”\næŠ¥å‘Š Bootstrap ç½®ä¿¡åŒºé—´\næŠ¥å‘Šä¸­ä»‹æ•ˆåº”å æ¯”ï¼ˆè°¨æ…è§£è¯»ï¼‰\nè¯´æ˜å˜é‡çš„æµ‹é‡æ–¹å¼\nè®¨è®ºæ—¶é—´é¡ºåºå‡è®¾\nè¿›è¡Œæ•æ„Ÿæ€§åˆ†æ\næŠ¥å‘Šæ ·æœ¬é‡å’Œæ£€éªŒåŠ›\n\n\n\næ¨èé˜…è¯»\n\nHayes AF. Introduction to Mediation, Moderation, and Conditional Process Analysis\nMacKinnon DP. Introduction to Statistical Mediation Analysis\nPreacher KJ, Hayes AF (2008). Asymptotic and resampling strategiesâ€¦\nmediation åŒ…æ–‡æ¡£",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ä¸­ä»‹æ•ˆåº”åˆ†æ"
    ]
  },
  {
    "objectID": "1021-linear-regression.html",
    "href": "1021-linear-regression.html",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¤šå…ƒçº¿æ€§å›å½’ï¼ˆMultiple Linear Regressionï¼‰ æ˜¯ä¸€ç§ç”¨äºåˆ†æè¿ç»­å‹ç»“å±€å˜é‡ä¸å¤šä¸ªè§£é‡Šå˜é‡ä¹‹é—´å…³ç³»çš„ç»Ÿè®¡æ–¹æ³•ã€‚å®ƒæ˜¯æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„å›å½’åˆ†ææ–¹æ³•ä¹‹ä¸€ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\né¢„æµ‹å»ºæ¨¡\né¢„æµ‹æˆ¿ä»·ã€é”€å”®é¢\n\n\næ•ˆåº”ä¼°è®¡\næ§åˆ¶æ··æ‚åä¼°è®¡æš´éœ²æ•ˆåº”\n\n\nå˜é‡ç­›é€‰\nè¯†åˆ«é‡è¦é¢„æµ‹å› å­\n\n\nè¶‹åŠ¿åˆ†æ\nå®šé‡è¯„ä¼°å‰‚é‡-æ•ˆåº”å…³ç³»\n\n\n\n\n\n\n\\[Y = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots + \\beta_p X_p + \\epsilon\\]\nå…¶ä¸­ï¼š - \\(\\beta_0\\)ï¼šæˆªè· - \\(\\beta_i\\)ï¼šç¬¬ i ä¸ªé¢„æµ‹å˜é‡çš„å›å½’ç³»æ•° - \\(\\epsilon \\sim N(0, \\sigma^2)\\)ï¼šéšæœºè¯¯å·®\n\n\n\n\\(\\beta_i\\) è¡¨ç¤ºï¼šåœ¨æ§åˆ¶å…¶ä»–å˜é‡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œ\\(X_i\\) æ¯å¢åŠ  1 ä¸ªå•ä½ï¼ŒY çš„å¹³å‡å˜åŒ–é‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#ä»€ä¹ˆæ˜¯å¤šå…ƒçº¿æ€§å›å½’",
    "href": "1021-linear-regression.html#ä»€ä¹ˆæ˜¯å¤šå…ƒçº¿æ€§å›å½’",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¤šå…ƒçº¿æ€§å›å½’ï¼ˆMultiple Linear Regressionï¼‰ æ˜¯ä¸€ç§ç”¨äºåˆ†æè¿ç»­å‹ç»“å±€å˜é‡ä¸å¤šä¸ªè§£é‡Šå˜é‡ä¹‹é—´å…³ç³»çš„ç»Ÿè®¡æ–¹æ³•ã€‚å®ƒæ˜¯æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„å›å½’åˆ†ææ–¹æ³•ä¹‹ä¸€ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\né¢„æµ‹å»ºæ¨¡\né¢„æµ‹æˆ¿ä»·ã€é”€å”®é¢\n\n\næ•ˆåº”ä¼°è®¡\næ§åˆ¶æ··æ‚åä¼°è®¡æš´éœ²æ•ˆåº”\n\n\nå˜é‡ç­›é€‰\nè¯†åˆ«é‡è¦é¢„æµ‹å› å­\n\n\nè¶‹åŠ¿åˆ†æ\nå®šé‡è¯„ä¼°å‰‚é‡-æ•ˆåº”å…³ç³»\n\n\n\n\n\n\n\\[Y = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots + \\beta_p X_p + \\epsilon\\]\nå…¶ä¸­ï¼š - \\(\\beta_0\\)ï¼šæˆªè· - \\(\\beta_i\\)ï¼šç¬¬ i ä¸ªé¢„æµ‹å˜é‡çš„å›å½’ç³»æ•° - \\(\\epsilon \\sim N(0, \\sigma^2)\\)ï¼šéšæœºè¯¯å·®\n\n\n\n\\(\\beta_i\\) è¡¨ç¤ºï¼šåœ¨æ§åˆ¶å…¶ä»–å˜é‡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œ\\(X_i\\) æ¯å¢åŠ  1 ä¸ªå•ä½ï¼ŒY çš„å¹³å‡å˜åŒ–é‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1021-linear-regression.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(broom) # æ¨¡å‹æ•´ç†\nlibrary(gtsummary) # ç»“æœè¡¨æ ¼\nlibrary(performance) # æ¨¡å‹è¯Šæ–­\nlibrary(see) # å¯è§†åŒ–æ”¯æŒ\nlibrary(car) # VIF æ£€éªŒ\nlibrary(lmtest) # è¯Šæ–­æ£€éªŒ\nlibrary(sandwich) # ç¨³å¥æ ‡å‡†è¯¯\nlibrary(interactions) # äº¤äº’æ•ˆåº”å¯è§†åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#æ•°æ®å‡†å¤‡",
    "href": "1021-linear-regression.html#æ•°æ®å‡†å¤‡",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿçš„å¥åº·æ•°æ®é›†ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šæ”¶ç¼©å‹å½±å“å› ç´ \nset.seed(2024)\nn &lt;- 500\n\nbp_data &lt;- tibble(\n  id = 1:n,\n  age = round(runif(n, 25, 75)),\n  sex = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE, prob = c(0.48, 0.52))),\n  bmi = round(rnorm(n, 25, 4), 1),\n  smoking = factor(sample(c(\"ä»ä¸\", \"æ›¾ç»\", \"ç°åœ¨\"), n,\n    replace = TRUE,\n    prob = c(0.45, 0.30, 0.25)\n  )),\n  exercise = round(pmax(0, rnorm(n, 150, 60))), # æ¯å‘¨è¿åŠ¨åˆ†é’Ÿæ•°\n  sodium_intake = round(rnorm(n, 2300, 500)), # æ¯æ—¥é’ æ‘„å…¥ (mg)\n  alcohol = round(pmax(0, rnorm(n, 10, 8))) # æ¯å‘¨é…’ç²¾æ‘„å…¥ (g)\n) |&gt;\n  mutate(\n    # ç”Ÿæˆæ”¶ç¼©å‹ï¼ˆå—å¤šå› ç´ å½±å“ï¼‰\n    sbp = 90 +\n      0.5 * age +\n      3 * (sex == \"ç”·\") +\n      1.2 * bmi +\n      3 * (smoking == \"æ›¾ç»\") +\n      8 * (smoking == \"ç°åœ¨\") +\n      -0.03 * exercise +\n      0.005 * sodium_intake +\n      0.2 * alcohol +\n      rnorm(n, 0, 10)\n  ) |&gt;\n  mutate(sbp = round(sbp))\n\n# æŸ¥çœ‹æ•°æ®\nglimpse(bp_data)\n\nRows: 500\nColumns: 9\n$ id            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1â€¦\n$ age           &lt;dbl&gt; 67, 41, 59, 60, 48, 60, 46, 40, 69, 31, 70, 73, 60, 51, â€¦\n$ sex           &lt;fct&gt; ç”·, å¥³, ç”·, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, ç”·, å¥³, å¥³, ç”·, ç”·, å¥³, å¥³, ç”·, å¥³, å¥³,â€¦\n$ bmi           &lt;dbl&gt; 28.1, 22.1, 28.2, 25.1, 33.9, 21.7, 16.6, 32.1, 24.7, 20â€¦\n$ smoking       &lt;fct&gt; æ›¾ç», ç°åœ¨, ä»ä¸, æ›¾ç», ä»ä¸, æ›¾ç», ä»ä¸, ä»ä¸, ä»ä¸, æ›¾ç», ä»ä¸, ä»ä¸, ä»ä¸, ç°åœ¨, â€¦\n$ exercise      &lt;dbl&gt; 178, 214, 17, 145, 91, 144, 223, 137, 161, 132, 80, 109,â€¦\n$ sodium_intake &lt;dbl&gt; 2436, 2216, 1862, 2072, 2261, 2612, 1845, 2057, 2088, 24â€¦\n$ alcohol       &lt;dbl&gt; 15, 23, 11, 19, 3, 9, 4, 17, 4, 10, 13, 16, 10, 5, 0, 5,â€¦\n$ sbp           &lt;dbl&gt; 164, 143, 165, 167, 136, 159, 130, 166, 151, 156, 179, 1â€¦\n\n# ç»“å±€å˜é‡åˆ†å¸ƒ\nsummary(bp_data$sbp)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    119     148     157     158     167     200 \n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# è¿ç»­å˜é‡ä¸ç»“å±€çš„æ•£ç‚¹å›¾\nbp_data |&gt;\n  select(sbp, age, bmi, exercise, sodium_intake, alcohol) |&gt;\n  pivot_longer(-sbp, names_to = \"variable\", values_to = \"value\") |&gt;\n  ggplot(aes(x = value, y = sbp)) +\n  geom_point(alpha = 0.3, color = \"#4f46e5\") +\n  geom_smooth(method = \"lm\", color = \"#ef4444\") +\n  facet_wrap(~variable, scales = \"free_x\", ncol = 3) +\n  labs(\n    title = \"æ”¶ç¼©å‹ä¸å„é¢„æµ‹å˜é‡çš„å…³ç³»\",\n    x = \"é¢„æµ‹å˜é‡å€¼\",\n    y = \"æ”¶ç¼©å‹ (mmHg)\"\n  ) +\n  theme_minimal(base_size = 11)\n\n\n\n\n\n\n\n\n\n# ç›¸å…³çŸ©é˜µ\nbp_data |&gt;\n  select(sbp, age, bmi, exercise, sodium_intake, alcohol) |&gt;\n  cor() |&gt;\n  round(2)\n\n                sbp   age   bmi exercise sodium_intake alcohol\nsbp            1.00  0.52  0.34    -0.11          0.12    0.08\nage            0.52  1.00  0.03    -0.07         -0.01   -0.02\nbmi            0.34  0.03  1.00     0.03         -0.05   -0.04\nexercise      -0.11 -0.07  0.03     1.00         -0.02    0.03\nsodium_intake  0.12 -0.01 -0.05    -0.02          1.00    0.03\nalcohol        0.08 -0.02 -0.04     0.03          0.03    1.00",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#æ¨¡å‹æ„å»º",
    "href": "1021-linear-regression.html#æ¨¡å‹æ„å»º",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ„å»º",
    "text": "æ¨¡å‹æ„å»º\n\nç®€å•çº¿æ€§å›å½’\n\n# å•å˜é‡ï¼šå¹´é¾„ vs æ”¶ç¼©å‹\nmodel_simple &lt;- lm(sbp ~ age, data = bp_data)\nsummary(model_simple)\n\n\nCall:\nlm(formula = sbp ~ age, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.926  -7.967  -0.219   8.557  32.628 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 133.58448    1.88853   70.73   &lt;2e-16 ***\nage           0.48267    0.03579   13.49   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 11.86 on 498 degrees of freedom\nMultiple R-squared:  0.2675,    Adjusted R-squared:  0.2661 \nF-statistic: 181.9 on 1 and 498 DF,  p-value: &lt; 2.2e-16\n\n\n\n# å¯è§†åŒ–ç®€å•å›å½’\nggplot(bp_data, aes(x = age, y = sbp)) +\n  geom_point(alpha = 0.4, color = \"#4f46e5\") +\n  geom_smooth(method = \"lm\", color = \"#ef4444\", fill = \"#ef4444\", alpha = 0.2) +\n  labs(\n    title = \"å¹´é¾„ä¸æ”¶ç¼©å‹çš„çº¿æ€§å…³ç³»\",\n    x = \"å¹´é¾„ (å²)\",\n    y = \"æ”¶ç¼©å‹ (mmHg)\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nå¤šå…ƒçº¿æ€§å›å½’\n\n# å¤šå…ƒæ¨¡å‹\nmodel_full &lt;- lm(\n  sbp ~ age + sex + bmi + smoking + exercise + sodium_intake + alcohol,\n  data = bp_data\n)\n\nsummary(model_full)\n\n\nCall:\nlm(formula = sbp ~ age + sex + bmi + smoking + exercise + sodium_intake + \n    alcohol, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.920  -7.322   0.298   7.201  30.571 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)    1.016e+02  4.389e+00  23.136  &lt; 2e-16 ***\nage            4.592e-01  3.115e-02  14.744  &lt; 2e-16 ***\nsexå¥³         -2.908e+00  9.187e-01  -3.165 0.001646 ** \nbmi            1.140e+00  1.161e-01   9.822  &lt; 2e-16 ***\nsmokingä»ä¸   -3.040e+00  1.073e+00  -2.833 0.004795 ** \nsmokingç°åœ¨    4.189e+00  1.256e+00   3.336 0.000915 ***\nexercise      -2.348e-02  7.794e-03  -3.013 0.002723 ** \nsodium_intake  3.614e-03  9.488e-04   3.809 0.000157 ***\nalcohol        1.899e-01  6.473e-02   2.933 0.003509 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.24 on 491 degrees of freedom\nMultiple R-squared:  0.4613,    Adjusted R-squared:  0.4526 \nF-statistic: 52.56 on 8 and 491 DF,  p-value: &lt; 2.2e-16\n\n\n\n\næ•´æ´è¾“å‡º\n\n# ä½¿ç”¨ gtsummary ç”Ÿæˆä¸“ä¸šè¡¨æ ¼\nmodel_full |&gt;\n  tbl_regression(\n    label = list(\n      age ~ \"å¹´é¾„ (æ¯å¢åŠ 1å²)\",\n      sex ~ \"æ€§åˆ«\",\n      bmi ~ \"BMI (æ¯å¢åŠ 1)\",\n      smoking ~ \"å¸çƒŸçŠ¶æ€\",\n      exercise ~ \"æ¯å‘¨è¿åŠ¨ (æ¯å¢åŠ 1åˆ†é’Ÿ)\",\n      sodium_intake ~ \"é’ æ‘„å…¥ (æ¯å¢åŠ 1mg/å¤©)\",\n      alcohol ~ \"é…’ç²¾æ‘„å…¥ (æ¯å¢åŠ 1g/å‘¨)\"\n    )\n  ) |&gt;\n  add_global_p() |&gt;\n  add_glance_table(include = c(r.squared, adj.r.squared, AIC, nobs)) |&gt;\n  bold_p() |&gt;\n  modify_header(label = \"**å˜é‡**\") |&gt;\n  modify_caption(\"**è¡¨. å¤šå…ƒçº¿æ€§å›å½’åˆ†æç»“æœ**\")\n\n\n\n\n\nè¡¨. å¤šå…ƒçº¿æ€§å›å½’åˆ†æç»“æœ\n\n\n\n\n\n\n\n\nå˜é‡\nBeta\n95% CI\np-value\n\n\n\n\nå¹´é¾„ (æ¯å¢åŠ 1å²)\n0.46\n0.40, 0.52\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n0.002\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n-2.9\n-4.7, -1.1\n\n\n\n\nBMI (æ¯å¢åŠ 1)\n1.1\n0.91, 1.4\n&lt;0.001\n\n\nå¸çƒŸçŠ¶æ€\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â æ›¾ç»\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â ä»ä¸\n-3.0\n-5.1, -0.93\n\n\n\n\nÂ Â Â Â ç°åœ¨\n4.2\n1.7, 6.7\n\n\n\n\næ¯å‘¨è¿åŠ¨ (æ¯å¢åŠ 1åˆ†é’Ÿ)\n-0.02\n-0.04, -0.01\n0.003\n\n\né’ æ‘„å…¥ (æ¯å¢åŠ 1mg/å¤©)\n0.00\n0.00, 0.01\n&lt;0.001\n\n\né…’ç²¾æ‘„å…¥ (æ¯å¢åŠ 1g/å‘¨)\n0.19\n0.06, 0.32\n0.004\n\n\nRÂ²\n0.461\n\n\n\n\n\n\nAdjusted RÂ²\n0.453\n\n\n\n\n\n\nAIC\n3,756\n\n\n\n\n\n\nNo. Obs.\n500\n\n\n\n\n\n\n\nAbbreviation: CI = Confidence Interval",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#æ¨¡å‹å‡è®¾æ£€éªŒ",
    "href": "1021-linear-regression.html#æ¨¡å‹å‡è®¾æ£€éªŒ",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹å‡è®¾æ£€éªŒ",
    "text": "æ¨¡å‹å‡è®¾æ£€éªŒ\nçº¿æ€§å›å½’æœ‰å››ä¸ªæ ¸å¿ƒå‡è®¾ï¼ˆLINEï¼‰ï¼š\n\n\n\nå‡è®¾\næ£€éªŒæ–¹æ³•\n\n\n\n\nLinearityï¼ˆçº¿æ€§ï¼‰\næ®‹å·® vs æ‹Ÿåˆå€¼å›¾\n\n\nIndependenceï¼ˆç‹¬ç«‹ï¼‰\nDurbin-Watson æ£€éªŒ\n\n\nNormalityï¼ˆæ­£æ€æ€§ï¼‰\nQ-Q å›¾ã€Shapiro æ£€éªŒ\n\n\nEqual varianceï¼ˆæ–¹å·®é½æ€§ï¼‰\næ®‹å·®å›¾ã€Breusch-Pagan æ£€éªŒ\n\n\n\n\nç»¼åˆè¯Šæ–­\n\n# ä½¿ç”¨ performance åŒ…ä¸€é”®è¯Šæ–­\ncheck_model(model_full)\n\n\n\n\n\n\n\n\n\n\nçº¿æ€§å…³ç³»æ£€éªŒ\n\n# æ®‹å·® vs æ‹Ÿåˆå€¼\nbp_data$fitted &lt;- fitted(model_full)\nbp_data$residuals &lt;- residuals(model_full)\n\nggplot(bp_data, aes(x = fitted, y = residuals)) +\n  geom_point(alpha = 0.4, color = \"#4f46e5\") +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"red\") +\n  geom_smooth(method = \"loess\", color = \"#10b981\", se = FALSE) +\n  labs(\n    title = \"æ®‹å·® vs æ‹Ÿåˆå€¼\",\n    subtitle = \"æ£€éªŒçº¿æ€§å‡è®¾å’Œæ–¹å·®é½æ€§\",\n    x = \"æ‹Ÿåˆå€¼\",\n    y = \"æ®‹å·®\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\næ­£æ€æ€§æ£€éªŒ\n\n# Q-Q å›¾\nggplot(bp_data, aes(sample = residuals)) +\n  stat_qq(color = \"#4f46e5\", alpha = 0.6) +\n  stat_qq_line(color = \"red\") +\n  labs(\n    title = \"æ®‹å·®çš„ Q-Q å›¾\",\n    subtitle = \"æ£€éªŒæ­£æ€æ€§å‡è®¾\",\n    x = \"ç†è®ºåˆ†ä½æ•°\",\n    y = \"æ ·æœ¬åˆ†ä½æ•°\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n# Shapiro-Wilk æ£€éªŒï¼ˆæ ·æœ¬é‡ &lt; 5000ï¼‰\nif (nrow(bp_data) &lt;= 5000) {\n  shapiro.test(residuals(model_full))\n}\n\n\n    Shapiro-Wilk normality test\n\ndata:  residuals(model_full)\nW = 0.99774, p-value = 0.7452\n\n\n\n\næ–¹å·®é½æ€§æ£€éªŒ\n\n# Breusch-Pagan æ£€éªŒ\nbptest(model_full)\n\n\n    studentized Breusch-Pagan test\n\ndata:  model_full\nBP = 6.9507, df = 8, p-value = 0.542\n\n# p &lt; 0.05 è¡¨ç¤ºå­˜åœ¨å¼‚æ–¹å·®\n\n\n\nç‹¬ç«‹æ€§æ£€éªŒ\n\n# Durbin-Watson æ£€éªŒï¼ˆé’ˆå¯¹æ—¶åºæ•°æ®ï¼‰\ndwtest(model_full)\n\n\n    Durbin-Watson test\n\ndata:  model_full\nDW = 1.9469, p-value = 0.278\nalternative hypothesis: true autocorrelation is greater than 0\n\n# p &lt; 0.05 è¡¨ç¤ºå­˜åœ¨è‡ªç›¸å…³",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#å¤šé‡å…±çº¿æ€§æ£€éªŒ",
    "href": "1021-linear-regression.html#å¤šé‡å…±çº¿æ€§æ£€éªŒ",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¤šé‡å…±çº¿æ€§æ£€éªŒ",
    "text": "å¤šé‡å…±çº¿æ€§æ£€éªŒ\nå¤šé‡å…±çº¿æ€§ä¼šå¯¼è‡´ç³»æ•°ä¼°è®¡ä¸ç¨³å®šã€‚\n\n# æ–¹å·®è†¨èƒ€å› å­ (VIF)\nvif_values &lt;- vif(model_full)\nvif_values\n\n                  GVIF Df GVIF^(1/(2*Df))\nage           1.015400  1        1.007671\nsex           1.005199  1        1.002596\nbmi           1.009652  1        1.004814\nsmoking       1.027711  2        1.006857\nexercise      1.013168  1        1.006562\nsodium_intake 1.008192  1        1.004088\nalcohol       1.010320  1        1.005147\n\n# VIF &gt; 5 æç¤ºå­˜åœ¨å…±çº¿æ€§é—®é¢˜\n# VIF &gt; 10 è¡¨ç¤ºä¸¥é‡å…±çº¿æ€§\n\n\n# å¯è§†åŒ– VIFï¼ˆGVIF é’ˆå¯¹åˆ†ç±»å˜é‡ï¼‰\n# vif() å¯¹äºåˆ†ç±»å˜é‡è¿”å› GVIFï¼Œéœ€è¦ç‰¹åˆ«å¤„ç†\nvif_result &lt;- vif(model_full)\n\n# è½¬æ¢ä¸ºæ•°æ®æ¡†æ ¼å¼\nif (is.matrix(vif_result)) {\n  # å¯¹äºå«æœ‰åˆ†ç±»å˜é‡çš„æ¨¡å‹ï¼Œä½¿ç”¨ GVIF^(1/(2*Df))\n  vif_df &lt;- data.frame(\n    variable = rownames(vif_result),\n    vif = vif_result[, \"GVIF^(1/(2*Df))\"]\n  )\n} else {\n  vif_df &lt;- data.frame(\n    variable = names(vif_result),\n    vif = as.numeric(vif_result)\n  )\n}\n\nggplot(vif_df, aes(x = reorder(variable, vif), y = vif)) +\n  geom_col(fill = \"#4f46e5\", alpha = 0.8) +\n  geom_hline(yintercept = sqrt(5), linetype = \"dashed\", color = \"red\") +\n  coord_flip() +\n  labs(\n    title = \"å¹¿ä¹‰æ–¹å·®è†¨èƒ€å› å­ (GVIF)\",\n    subtitle = \"çº¢çº¿: é˜ˆå€¼ â‰ˆ 2.24 (å¯¹åº” VIF=5)\",\n    x = \"å˜é‡\",\n    y = \"GVIF^(1/2Df)\"\n  ) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#å¼‚å¸¸å€¼ä¸å½±å“ç‚¹æ£€æµ‹",
    "href": "1021-linear-regression.html#å¼‚å¸¸å€¼ä¸å½±å“ç‚¹æ£€æµ‹",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¼‚å¸¸å€¼ä¸å½±å“ç‚¹æ£€æµ‹",
    "text": "å¼‚å¸¸å€¼ä¸å½±å“ç‚¹æ£€æµ‹\n\nCookâ€™s è·ç¦»\n\n# è®¡ç®— Cook's è·ç¦»\nbp_data$cooks_d &lt;- cooks.distance(model_full)\n\n# å¯è§†åŒ–\nggplot(bp_data, aes(x = seq_along(cooks_d), y = cooks_d)) +\n  geom_point(alpha = 0.5, color = \"#4f46e5\") +\n  geom_hline(yintercept = 4 / nrow(bp_data), linetype = \"dashed\", color = \"red\") +\n  labs(\n    title = \"Cook's è·ç¦»\",\n    subtitle = paste0(\"çº¢çº¿: é˜ˆå€¼ = \", round(4 / nrow(bp_data), 4)),\n    x = \"è§‚æµ‹åºå·\",\n    y = \"Cook's D\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\næ æ†å€¼\n\n# æ æ†å€¼\nbp_data$leverage &lt;- hatvalues(model_full)\np &lt;- length(coef(model_full))\n\n# é«˜æ æ†ç‚¹\nhigh_leverage &lt;- bp_data |&gt;\n  filter(leverage &gt; 2 * p / nrow(bp_data))\n\ncat(\"é«˜æ æ†ç‚¹æ•°é‡:\", nrow(high_leverage), \"\\n\")\n\né«˜æ æ†ç‚¹æ•°é‡: 4 \n\n\n\n\næ ‡å‡†åŒ–æ®‹å·®\n\n# æ ‡å‡†åŒ–æ®‹å·®\nbp_data$std_resid &lt;- rstandard(model_full)\n\n# å¼‚å¸¸å€¼ï¼ˆ|æ ‡å‡†åŒ–æ®‹å·®| &gt; 3ï¼‰\noutliers &lt;- bp_data |&gt;\n  filter(abs(std_resid) &gt; 3)\n\ncat(\"å¼‚å¸¸å€¼æ•°é‡:\", nrow(outliers), \"\\n\")\n\nå¼‚å¸¸å€¼æ•°é‡: 2",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#å¤„ç†å¼‚å¸¸å‡è®¾",
    "href": "1021-linear-regression.html#å¤„ç†å¼‚å¸¸å‡è®¾",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¤„ç†å¼‚å¸¸å‡è®¾",
    "text": "å¤„ç†å¼‚å¸¸å‡è®¾\n\nç¨³å¥æ ‡å‡†è¯¯\nå½“å­˜åœ¨å¼‚æ–¹å·®æ—¶ï¼Œä½¿ç”¨ç¨³å¥æ ‡å‡†è¯¯ï¼š\n\n# HC3 ç¨³å¥æ ‡å‡†è¯¯ï¼ˆæ¨èï¼‰\ncoeftest(model_full, vcov = vcovHC(model_full, type = \"HC3\"))\n\n\nt test of coefficients:\n\n                 Estimate  Std. Error t value  Pr(&gt;|t|)    \n(Intercept)    1.0155e+02  4.6311e+00 21.9283 &lt; 2.2e-16 ***\nage            4.5920e-01  3.1113e-02 14.7589 &lt; 2.2e-16 ***\nsexå¥³         -2.9079e+00  9.2757e-01 -3.1350 0.0018215 ** \nbmi            1.1402e+00  1.1791e-01  9.6699 &lt; 2.2e-16 ***\nsmokingä»ä¸   -3.0402e+00  1.0941e+00 -2.7786 0.0056683 ** \nsmokingç°åœ¨    4.1893e+00  1.2760e+00  3.2830 0.0011003 ** \nexercise      -2.3480e-02  8.5328e-03 -2.7517 0.0061478 ** \nsodium_intake  3.6136e-03  9.4868e-04  3.8091 0.0001571 ***\nalcohol        1.8989e-01  6.7544e-02  2.8113 0.0051315 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\nå˜é‡å˜æ¢\n\n# Box-Cox å˜æ¢\nlibrary(MASS)\n\n# æ‰¾æœ€ä¼˜ lambda\nboxcox_result &lt;- boxcox(model_full, lambda = seq(-2, 2, by = 0.1))\n\n\n\n\n\n\n\noptimal_lambda &lt;- boxcox_result$x[which.max(boxcox_result$y)]\ncat(\"æœ€ä¼˜ lambda:\", optimal_lambda, \"\\n\")\n\næœ€ä¼˜ lambda: 0.7070707 \n\n# å¸¸è§å˜æ¢\n# lambda = 0: å¯¹æ•°å˜æ¢\n# lambda = 0.5: å¹³æ–¹æ ¹å˜æ¢\n# lambda = -1: å€’æ•°å˜æ¢\n\n\n\nåŠ æƒæœ€å°äºŒä¹˜\n\n# å½“å¼‚æ–¹å·®æ¨¡å¼å·²çŸ¥æ—¶\n# ä¾‹å¦‚ï¼šæ–¹å·®ä¸æŸå˜é‡æˆæ¯”ä¾‹\nweights &lt;- 1 / bp_data$age # ç¤ºä¾‹æƒé‡\nmodel_wls &lt;- lm(sbp ~ age + sex + bmi, data = bp_data, weights = weights)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#äº¤äº’ä½œç”¨åˆ†æ",
    "href": "1021-linear-regression.html#äº¤äº’ä½œç”¨åˆ†æ",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’ä½œç”¨åˆ†æ",
    "text": "äº¤äº’ä½œç”¨åˆ†æ\n\næ£€éªŒäº¤äº’æ•ˆåº”\n\n# æ·»åŠ äº¤äº’é¡¹\nmodel_interact &lt;- lm(\n  sbp ~ age * sex + bmi + smoking + exercise,\n  data = bp_data\n)\n\nsummary(model_interact)\n\n\nCall:\nlm(formula = sbp ~ age * sex + bmi + smoking + exercise, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-31.609  -7.411   0.084   6.715  34.174 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 112.455451   4.104454  27.398  &lt; 2e-16 ***\nage           0.463709   0.046126  10.053  &lt; 2e-16 ***\nsexå¥³        -2.193784   3.354696  -0.654 0.513453    \nbmi           1.101767   0.118479   9.299  &lt; 2e-16 ***\nsmokingä»ä¸  -2.930479   1.095329  -2.675 0.007712 ** \nsmokingç°åœ¨   4.648259   1.280288   3.631 0.000312 ***\nexercise     -0.023534   0.007993  -2.944 0.003388 ** \nage:sexå¥³    -0.012813   0.063579  -0.202 0.840371    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.48 on 492 degrees of freedom\nMultiple R-squared:  0.4353,    Adjusted R-squared:  0.4272 \nF-statistic: 54.17 on 7 and 492 DF,  p-value: &lt; 2.2e-16\n\n\n\n# æ¨¡å‹æ¯”è¾ƒ\nanova(model_full, model_interact)\n\nAnalysis of Variance Table\n\nModel 1: sbp ~ age + sex + bmi + smoking + exercise + sodium_intake + \n    alcohol\nModel 2: sbp ~ age * sex + bmi + smoking + exercise\n  Res.Df   RSS Df Sum of Sq      F    Pr(&gt;F)    \n1    491 51517                                  \n2    492 54010 -1   -2493.1 23.761 1.475e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\nå¯è§†åŒ–äº¤äº’æ•ˆåº”\n\n# ä½¿ç”¨ interactions åŒ…\ninteract_plot(\n  model_interact,\n  pred = age,\n  modx = sex,\n  interval = TRUE,\n  plot.points = TRUE,\n  point.alpha = 0.2\n) +\n  labs(\n    title = \"å¹´é¾„ä¸æ€§åˆ«çš„äº¤äº’æ•ˆåº”\",\n    x = \"å¹´é¾„\",\n    y = \"é¢„æµ‹æ”¶ç¼©å‹ (mmHg)\"\n  ) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n# ç®€å•æ–œç‡åˆ†æ\nsim_slopes(model_interact, pred = age, modx = sex)\n\nSIMPLE SLOPES ANALYSIS\n\nSlope of age when sex = ç”·: \n\n  Est.   S.E.   t val.      p\n------ ------ -------- ------\n  0.46   0.05    10.05   0.00\n\nSlope of age when sex = å¥³: \n\n  Est.   S.E.   t val.      p\n------ ------ -------- ------\n  0.45   0.04    10.27   0.00",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#éçº¿æ€§å…³ç³»å¤„ç†",
    "href": "1021-linear-regression.html#éçº¿æ€§å…³ç³»å¤„ç†",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "éçº¿æ€§å…³ç³»å¤„ç†",
    "text": "éçº¿æ€§å…³ç³»å¤„ç†\n\nå¤šé¡¹å¼å›å½’\n\n# äºŒæ¬¡é¡¹\nmodel_poly &lt;- lm(sbp ~ age + I(age^2) + sex + bmi + smoking, data = bp_data)\nsummary(model_poly)\n\n\nCall:\nlm(formula = sbp ~ age + I(age^2) + sex + bmi + smoking, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-30.263  -7.277   0.226   6.874  34.242 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 117.626624   6.523483  18.031  &lt; 2e-16 ***\nage           0.080486   0.249815   0.322 0.747452    \nI(age^2)      0.003828   0.002477   1.546 0.122818    \nsexå¥³        -2.884773   0.944827  -3.053 0.002386 ** \nbmi           1.104088   0.119349   9.251  &lt; 2e-16 ***\nsmokingä»ä¸  -2.924807   1.102548  -2.653 0.008241 ** \nsmokingç°åœ¨   4.399016   1.286443   3.420 0.000679 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.54 on 493 degrees of freedom\nMultiple R-squared:  0.4279,    Adjusted R-squared:  0.4209 \nF-statistic: 61.45 on 6 and 493 DF,  p-value: &lt; 2.2e-16\n\n# æ£€éªŒéçº¿æ€§é¡¹æ˜¯å¦æ˜¾è‘—\nanova(lm(sbp ~ age + sex + bmi + smoking, data = bp_data), model_poly)\n\nAnalysis of Variance Table\n\nModel 1: sbp ~ age + sex + bmi + smoking\nModel 2: sbp ~ age + I(age^2) + sex + bmi + smoking\n  Res.Df   RSS Df Sum of Sq      F Pr(&gt;F)\n1    494 54983                           \n2    493 54718  1    265.18 2.3892 0.1228\n\n\n\n\nåˆ†æ®µçº¿æ€§å›å½’\n\n# åˆ†æ®µå›å½’ï¼ˆå‡è®¾ 50 å²ä¸ºæ‹ç‚¹ï¼‰\nbp_data &lt;- bp_data |&gt;\n  mutate(\n    age_under50 = pmin(age, 50),\n    age_over50 = pmax(age - 50, 0)\n  )\n\nmodel_piecewise &lt;- lm(sbp ~ age_under50 + age_over50 + sex + bmi, data = bp_data)\nsummary(model_piecewise)\n\n\nCall:\nlm(formula = sbp ~ age_under50 + age_over50 + sex + bmi, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-31.282  -7.424   0.033   6.847  35.994 \n\nCoefficients:\n             Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 111.28402    4.25153  26.175  &lt; 2e-16 ***\nage_under50   0.37026    0.07490   4.943 1.05e-06 ***\nage_over50    0.56924    0.07447   7.643 1.11e-13 ***\nsexå¥³        -2.65847    0.97658  -2.722  0.00671 ** \nbmi           1.12761    0.12321   9.152  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.9 on 495 degrees of freedom\nMultiple R-squared:  0.3848,    Adjusted R-squared:  0.3799 \nF-statistic: 77.42 on 4 and 495 DF,  p-value: &lt; 2.2e-16",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#æ¨¡å‹é€‰æ‹©",
    "href": "1021-linear-regression.html#æ¨¡å‹é€‰æ‹©",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹é€‰æ‹©",
    "text": "æ¨¡å‹é€‰æ‹©\n\né€æ­¥å›å½’\n\n# å‘åé€æ­¥å›å½’ï¼ˆåŸºäº AICï¼‰\nmodel_step &lt;- step(model_full, direction = \"backward\", trace = 0)\nsummary(model_step)\n\n\nCall:\nlm(formula = sbp ~ age + sex + bmi + smoking + exercise + sodium_intake + \n    alcohol, data = bp_data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-32.920  -7.322   0.298   7.201  30.571 \n\nCoefficients:\n                Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)    1.016e+02  4.389e+00  23.136  &lt; 2e-16 ***\nage            4.592e-01  3.115e-02  14.744  &lt; 2e-16 ***\nsexå¥³         -2.908e+00  9.187e-01  -3.165 0.001646 ** \nbmi            1.140e+00  1.161e-01   9.822  &lt; 2e-16 ***\nsmokingä»ä¸   -3.040e+00  1.073e+00  -2.833 0.004795 ** \nsmokingç°åœ¨    4.189e+00  1.256e+00   3.336 0.000915 ***\nexercise      -2.348e-02  7.794e-03  -3.013 0.002723 ** \nsodium_intake  3.614e-03  9.488e-04   3.809 0.000157 ***\nalcohol        1.899e-01  6.473e-02   2.933 0.003509 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.24 on 491 degrees of freedom\nMultiple R-squared:  0.4613,    Adjusted R-squared:  0.4526 \nF-statistic: 52.56 on 8 and 491 DF,  p-value: &lt; 2.2e-16\n\n\n\n# æ¯”è¾ƒæ¨¡å‹\nAIC(model_full, model_step)\n\n           df      AIC\nmodel_full 10 3756.468\nmodel_step 10 3756.468\n\nBIC(model_full, model_step)\n\n           df      BIC\nmodel_full 10 3798.614\nmodel_step 10 3798.614\n\n\n\n\næ¨¡å‹æ¯”è¾ƒ\n\n# ä½¿ç”¨ performance åŒ…\ncompare_performance(model_full, model_step, rank = TRUE)\n\n# Comparison of Model Performance Indices\n\nName       | Model |    R2 | R2 (adj.) |   RMSE |  Sigma | AIC weights\n----------------------------------------------------------------------\nmodel_full |    lm | 0.461 |     0.453 | 10.151 | 10.243 |       0.500\nmodel_step |    lm | 0.461 |     0.453 | 10.151 | 10.243 |       0.500\n\nName       | AICc weights | BIC weights | Performance-Score\n-----------------------------------------------------------\nmodel_full |        0.500 |       0.500 |                  \nmodel_step |        0.500 |       0.500 |                  \n\n\n\n\nå˜é‡é€‰æ‹©æ–¹æ³•æ¯”è¾ƒ\n\n\n\næ–¹æ³•\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nå‘å‰é€‰æ‹©\nè®¡ç®—é‡å°\nå¯èƒ½é—æ¼é‡è¦å˜é‡\n\n\nå‘åæ¶ˆé™¤\nè€ƒè™‘æ‰€æœ‰å˜é‡\nåˆå§‹æ¨¡å‹å¯èƒ½ä¸ç¨³å®š\n\n\nåŒå‘é€æ­¥\nç»¼åˆä¸¤è€…ä¼˜ç‚¹\nå¯èƒ½ä¸ç¨³å®š\n\n\nLASSO\nè‡ªåŠ¨é€‰æ‹©+æ­£åˆ™åŒ–\nç³»æ•°æœ‰å\n\n\næœ€ä¼˜å­é›†\næ‰¾å…¨å±€æœ€ä¼˜\nè®¡ç®—é‡å¤§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#é¢„æµ‹ä¸æ¨æ–­",
    "href": "1021-linear-regression.html#é¢„æµ‹ä¸æ¨æ–­",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "é¢„æµ‹ä¸æ¨æ–­",
    "text": "é¢„æµ‹ä¸æ¨æ–­\n\né¢„æµ‹æ–°æ•°æ®\n\n# æ–°è§‚æµ‹å€¼\nnew_patient &lt;- tibble(\n  age = 55,\n  sex = factor(\"ç”·\", levels = levels(bp_data$sex)),\n  bmi = 27,\n  smoking = factor(\"æ›¾ç»\", levels = levels(bp_data$smoking)),\n  exercise = 120,\n  sodium_intake = 2500,\n  alcohol = 15\n)\n\n# ç‚¹é¢„æµ‹\npredict(model_full, newdata = new_patient)\n\n       1 \n166.6559 \n\n# ç½®ä¿¡åŒºé—´ï¼ˆå‡å€¼ï¼‰\npredict(model_full, newdata = new_patient, interval = \"confidence\")\n\n       fit     lwr      upr\n1 166.6559 164.514 168.7978\n\n# é¢„æµ‹åŒºé—´ï¼ˆä¸ªä½“ï¼‰\npredict(model_full, newdata = new_patient, interval = \"prediction\")\n\n       fit      lwr      upr\n1 166.6559 146.4164 186.8954\n\n\n\n\næ ‡å‡†åŒ–å›å½’ç³»æ•°\n\n# æ ‡å‡†åŒ–ç³»æ•°ï¼ˆÎ²ç³»æ•°ï¼‰\n# æ–¹æ³•1ï¼šæ‰‹åŠ¨æ ‡å‡†åŒ–\nbp_scaled &lt;- bp_data |&gt;\n  mutate(across(where(is.numeric) & !id, scale))\n\nmodel_std &lt;- lm(\n  sbp ~ age + bmi + exercise + sodium_intake + alcohol,\n  data = bp_scaled\n)\n\ntidy(model_std) |&gt;\n  dplyr::filter(term != \"(Intercept)\") |&gt;\n  dplyr::select(term, estimate) |&gt;\n  dplyr::arrange(desc(abs(estimate)))\n\n# A tibble: 5 Ã— 2\n  term          estimate\n  &lt;chr&gt;            &lt;dbl&gt;\n1 age             0.504 \n2 bmi             0.339 \n3 sodium_intake   0.135 \n4 alcohol         0.102 \n5 exercise       -0.0846\n\n\n\n\nè¾¹é™…æ•ˆåº”\n\n# ä½¿ç”¨ marginaleffects åŒ…\nlibrary(marginaleffects)\n\n# å¹³å‡è¾¹é™…æ•ˆåº”\navg_slopes(model_full) |&gt;\n  as.data.frame() |&gt;\n  dplyr::select(term, estimate, std.error, p.value)\n\n           term    estimate    std.error      p.value\n1           age  0.45919790 0.0311456744 3.384975e-49\n2       alcohol  0.18988683 0.0646395461 3.307354e-03\n3           bmi  1.14015742 0.1160774188 9.018172e-23\n4      exercise -0.02347969 0.0077944025 2.592091e-03\n5           sex -2.90793412 0.9187397641 1.550117e-03\n6       smoking -3.04016622 1.0729621586 4.605098e-03\n7       smoking  4.18925856 1.2559039473 8.509961e-04\n8 sodium_intake  0.00361362 0.0009488015 1.397469e-04",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#ç»“æœå¯è§†åŒ–",
    "href": "1021-linear-regression.html#ç»“æœå¯è§†åŒ–",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "ç»“æœå¯è§†åŒ–",
    "text": "ç»“æœå¯è§†åŒ–\n\nç³»æ•°å›¾\n\n# æ£®æ—å›¾é£æ ¼çš„ç³»æ•°å¯è§†åŒ–\ncoef_data &lt;- tidy(model_full, conf.int = TRUE) |&gt;\n  filter(term != \"(Intercept)\") |&gt;\n  mutate(\n    significant = p.value &lt; 0.05,\n    term = factor(term, levels = rev(term))\n  )\n\nggplot(coef_data, aes(x = estimate, y = term)) +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high, color = significant),\n    height = 0.2, linewidth = 0.8\n  ) +\n  geom_point(aes(color = significant), size = 3) +\n  scale_color_manual(\n    values = c(\"TRUE\" = \"#4f46e5\", \"FALSE\" = \"#9ca3af\"),\n    labels = c(\"TRUE\" = \"æ˜¾è‘—\", \"FALSE\" = \"ä¸æ˜¾è‘—\")\n  ) +\n  labs(\n    title = \"å›å½’ç³»æ•°åŠ95%ç½®ä¿¡åŒºé—´\",\n    x = \"å›å½’ç³»æ•° (Î²)\",\n    y = NULL,\n    color = \"ç»Ÿè®¡æ˜¾è‘—æ€§\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\n\n\né¢„æµ‹å€¼ vs å®é™…å€¼\n\nggplot(bp_data, aes(x = fitted, y = sbp)) +\n  geom_point(alpha = 0.4, color = \"#4f46e5\") +\n  geom_abline(slope = 1, intercept = 0, color = \"red\", linetype = \"dashed\") +\n  labs(\n    title = \"é¢„æµ‹å€¼ vs å®é™…å€¼\",\n    x = \"é¢„æµ‹æ”¶ç¼©å‹ (mmHg)\",\n    y = \"å®é™…æ”¶ç¼©å‹ (mmHg)\"\n  ) +\n  theme_minimal(base_size = 12) +\n  coord_equal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1021-linear-regression.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. è§£é‡Šç›¸å…³æ€§ vs å› æœæ€§\n# å›å½’ç³»æ•°æè¿°çš„æ˜¯å…³è”ï¼Œä¸æ˜¯å› æœ\n# å› æœæ¨æ–­éœ€è¦ï¼š\n# - éšæœºå¯¹ç…§è¯•éªŒ\n# - æˆ–ä½¿ç”¨å› æœæ¨æ–­æ–¹æ³•ï¼ˆå¦‚ PSMã€IVã€DiDï¼‰\n\n\n2. ç±»åˆ«å˜é‡ç¼–ç \n\n# R é»˜è®¤ä½¿ç”¨ dummy coding\ncontrasts(bp_data$sex)\n\n   å¥³\nç”·  0\nå¥³  1\n\ncontrasts(bp_data$smoking)\n\n     ä»ä¸ ç°åœ¨\næ›¾ç»    0    0\nä»ä¸    1    0\nç°åœ¨    0    1\n\n# ä¿®æ”¹å‚ç…§ç»„\nbp_data$smoking_relevel &lt;- relevel(bp_data$smoking, ref = \"ç°åœ¨\")\n\n\n\n3. ç¼ºå¤±å€¼å¤„ç†\n\n# é»˜è®¤ï¼šå®Œå…¨æ¡ˆä¾‹åˆ†æ\n# æ¨èï¼šå¤šé‡æ’è¡¥\n# library(mice)\n# imputed_data &lt;- mice(bp_data, m = 5)\n# fit &lt;- with(imputed_data, lm(sbp ~ age + sex + bmi))\n# pooled &lt;- pool(fit)\n\n\n\n4. å¤–æ¨é£é™©\n# ä¸è¦å°†æ¨¡å‹å¤–æ¨åˆ°è¶…å‡ºè®­ç»ƒæ•°æ®èŒƒå›´çš„åŒºåŸŸ\n# ä¾‹å¦‚ï¼šæ¨¡å‹åŸºäº 25-75 å²æ•°æ®ï¼Œä¸åº”é¢„æµ‹ 90 å²",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1021-linear-regression.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== å¤šå…ƒçº¿æ€§å›å½’å®Œæ•´æµç¨‹ ==========\n\nlibrary(tidyverse)\nlibrary(performance)\nlibrary(car)\nlibrary(gtsummary)\n\n# 1. æ‹Ÿåˆæ¨¡å‹\nmodel &lt;- lm(y ~ x1 + x2 + x3, data = data)\n\n# 2. æŸ¥çœ‹ç»“æœ\nsummary(model)\n\n# 3. æ¨¡å‹è¯Šæ–­\ncheck_model(model) # ç»¼åˆè¯Šæ–­\nvif(model) # å¤šé‡å…±çº¿æ€§\nshapiro.test(residuals(model)) # æ­£æ€æ€§\n\n# 4. ç»“æœè¡¨æ ¼\ntbl_regression(model)\n\n# 5. é¢„æµ‹\npredict(model, newdata = new_data, interval = \"confidence\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1021-linear-regression.html#æ€»ç»“",
    "href": "1021-linear-regression.html#æ€»ç»“",
    "title": "å¤šå…ƒçº¿æ€§å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ­¥éª¤\nå†…å®¹\nR å‡½æ•°\n\n\n\n\næ¨¡å‹æ‹Ÿåˆ\nä¼°è®¡ç³»æ•°\nlm()\n\n\nè¯Šæ–­æ£€éªŒ\nå‡è®¾æ£€éªŒ\ncheck_model(), vif()\n\n\nå¼‚å¸¸å€¼æ£€æµ‹\nCookâ€™s D, æ æ†å€¼\ncooks.distance(), hatvalues()\n\n\næ¨¡å‹é€‰æ‹©\né€æ­¥å›å½’\nstep()\n\n\nç»“æœå±•ç¤º\nä¸“ä¸šè¡¨æ ¼\ntbl_regression()\n\n\né¢„æµ‹\nç½®ä¿¡/é¢„æµ‹åŒºé—´\npredict(..., interval = )\n\n\n\n\næŠ¥å‘Šçº¿æ€§å›å½’çš„ Checklist\n\næŠ¥å‘Šæ ·æœ¬é‡\næŠ¥å‘Š RÂ² å’Œè°ƒæ•´ RÂ²\næŠ¥å‘Š F ç»Ÿè®¡é‡å’Œ p å€¼\næŠ¥å‘Šå„ç³»æ•°ã€SEã€95% CIã€p å€¼\næ˜ç¡®å‚ç…§ç»„\næŠ¥å‘Š VIFï¼ˆå¤šé‡å…±çº¿æ€§ï¼‰\næä¾›æ®‹å·®è¯Šæ–­å›¾\nå¿…è¦æ—¶ä½¿ç”¨ç¨³å¥æ ‡å‡†è¯¯\n\n\n\næ¨èé˜…è¯»\n\nKutner MH et al.Â Applied Linear Statistical Models (5th ed.)\nFox J. Applied Regression Analysis and Generalized Linear Models\nUCLA ç»Ÿè®¡å’¨è¯¢ï¼šå›å½’åˆ†æ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šå…ƒçº¿æ€§å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html",
    "href": "1019-logistic.html",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "Logistic å›å½’æ˜¯ä¸€ç§ç”¨äºåˆ†æäºŒåˆ†ç±»ç»“å±€å˜é‡çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€‚å®ƒé€šè¿‡ logit å˜æ¢å°†çº¿æ€§é¢„æµ‹å€¼æ˜ å°„åˆ° (0, 1) åŒºé—´ï¼Œä¼°è®¡äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nç–¾ç—…è¯Šæ–­\næ˜¯å¦æ‚£ç—… (æ˜¯/å¦)\n\n\né£é™©é¢„æµ‹\næ˜¯å¦å‘ç”Ÿä¸è‰¯äº‹ä»¶\n\n\nåˆ†ç±»é—®é¢˜\nå®¢æˆ·æ˜¯å¦æµå¤±\n\n\nç—…ä¾‹å¯¹ç…§ç ”ç©¶\næš´éœ²ä¸ç–¾ç—…å…³è”\n\n\n\n\n\n\nLogit å˜æ¢ï¼š \\[\\text{logit}(p) = \\ln\\left(\\frac{p}{1-p}\\right) = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots\\]\næ¦‚ç‡å½¢å¼ï¼š \\[P(Y=1|X) = \\frac{e^{\\beta_0 + \\beta_1 X_1 + \\cdots}}{1 + e^{\\beta_0 + \\beta_1 X_1 + \\cdots}}\\]\næ¯”å€¼æ¯” (OR)ï¼š \\[OR = e^{\\beta_i}\\]",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#ä»€ä¹ˆæ˜¯-logistic-å›å½’",
    "href": "1019-logistic.html#ä»€ä¹ˆæ˜¯-logistic-å›å½’",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "Logistic å›å½’æ˜¯ä¸€ç§ç”¨äºåˆ†æäºŒåˆ†ç±»ç»“å±€å˜é‡çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€‚å®ƒé€šè¿‡ logit å˜æ¢å°†çº¿æ€§é¢„æµ‹å€¼æ˜ å°„åˆ° (0, 1) åŒºé—´ï¼Œä¼°è®¡äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nç–¾ç—…è¯Šæ–­\næ˜¯å¦æ‚£ç—… (æ˜¯/å¦)\n\n\né£é™©é¢„æµ‹\næ˜¯å¦å‘ç”Ÿä¸è‰¯äº‹ä»¶\n\n\nåˆ†ç±»é—®é¢˜\nå®¢æˆ·æ˜¯å¦æµå¤±\n\n\nç—…ä¾‹å¯¹ç…§ç ”ç©¶\næš´éœ²ä¸ç–¾ç—…å…³è”\n\n\n\n\n\n\nLogit å˜æ¢ï¼š \\[\\text{logit}(p) = \\ln\\left(\\frac{p}{1-p}\\right) = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots\\]\næ¦‚ç‡å½¢å¼ï¼š \\[P(Y=1|X) = \\frac{e^{\\beta_0 + \\beta_1 X_1 + \\cdots}}{1 + e^{\\beta_0 + \\beta_1 X_1 + \\cdots}}\\]\næ¯”å€¼æ¯” (OR)ï¼š \\[OR = e^{\\beta_i}\\]",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1019-logistic.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(tidyverse)     # æ•°æ®å¤„ç†\nlibrary(broom)         # æ¨¡å‹æ•´ç†\nlibrary(gtsummary)     # ç»“æœè¡¨æ ¼\nlibrary(performance)   # æ¨¡å‹è¯Šæ–­\nlibrary(see)           # å¯è§†åŒ–æ”¯æŒ\nlibrary(pROC)          # ROC æ›²çº¿\nlibrary(ResourceSelection)  # Hosmer-Lemeshow æ£€éªŒ\nlibrary(car)           # VIF æ£€éªŒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æ•°æ®å‡†å¤‡",
    "href": "1019-logistic.html#æ•°æ®å‡†å¤‡",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\næˆ‘ä»¬ä½¿ç”¨æ¨¡æ‹Ÿçš„å¿ƒè¡€ç®¡ç–¾ç—…æ•°æ®é›†ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šå¿ƒè¡€ç®¡ç–¾ç—…é£é™©\nset.seed(2024)\nn &lt;- 800\n\ncvd_data &lt;- tibble(\n  id = 1:n,\n  age = round(rnorm(n, 55, 12)),\n  sex = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE, prob = c(0.55, 0.45))),\n  bmi = round(rnorm(n, 25, 4), 1),\n  smoking = factor(sample(c(\"ä»ä¸\", \"æ›¾ç»\", \"ç°åœ¨\"), n, replace = TRUE, \n                          prob = c(0.4, 0.3, 0.3))),\n  hypertension = rbinom(n, 1, 0.35),\n  diabetes = rbinom(n, 1, 0.20),\n  cholesterol = round(rnorm(n, 200, 40))\n) |&gt;\n  mutate(\n    # ç”Ÿæˆ CVD äº‹ä»¶ï¼ˆå—å¤šä¸ªå› ç´ å½±å“ï¼‰\n    logit_p = -6 + \n      0.05 * age + \n      0.4 * (sex == \"ç”·\") +\n      0.08 * bmi + \n      0.6 * (smoking == \"æ›¾ç»\") + \n      1.0 * (smoking == \"ç°åœ¨\") +\n      0.8 * hypertension + \n      0.7 * diabetes +\n      0.01 * cholesterol,\n    prob = plogis(logit_p),\n    cvd = rbinom(n, 1, prob)\n  ) |&gt;\n  select(-logit_p, -prob)\n\n# æŸ¥çœ‹æ•°æ®ç»“æ„\nglimpse(cvd_data)\n\nRows: 800\nColumns: 9\n$ id           &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17â€¦\n$ age          &lt;dbl&gt; 67, 61, 54, 52, 69, 71, 61, 53, 40, 42, 35, 61, 65, 59, 1â€¦\n$ sex          &lt;fct&gt; ç”·, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, ç”·, ç”·, å¥³, å¥³, å¥³, ç”·, å¥³, ç”·, å¥³, å¥³, ç”·, å¥³, â€¦\n$ bmi          &lt;dbl&gt; 20.5, 28.1, 18.5, 29.2, 21.2, 23.2, 21.0, 25.4, 27.6, 27.â€¦\n$ smoking      &lt;fct&gt; æ›¾ç», ä»ä¸, ä»ä¸, ä»ä¸, ä»ä¸, ä»ä¸, ä»ä¸, æ›¾ç», ä»ä¸, ç°åœ¨, ä»ä¸, æ›¾ç», æ›¾ç», ç°åœ¨, æ›¾â€¦\n$ hypertension &lt;int&gt; 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, â€¦\n$ diabetes     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, â€¦\n$ cholesterol  &lt;dbl&gt; 216, 225, 187, 169, 219, 246, 212, 143, 246, 228, 185, 26â€¦\n$ cvd          &lt;int&gt; 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, â€¦\n\n# äº‹ä»¶ç‡\nmean(cvd_data$cvd)\n\n[1] 0.83875\n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# åŸºçº¿ç‰¹å¾æŒ‰ CVD åˆ†ç»„\ncvd_data |&gt;\n  tbl_summary(\n    by = cvd,\n    include = c(age, sex, bmi, smoking, hypertension, diabetes, cholesterol),\n    label = list(\n      age ~ \"å¹´é¾„\",\n      sex ~ \"æ€§åˆ«\",\n      bmi ~ \"BMI\",\n      smoking ~ \"å¸çƒŸçŠ¶æ€\",\n      hypertension ~ \"é«˜è¡€å‹\",\n      diabetes ~ \"ç³–å°¿ç—…\",\n      cholesterol ~ \"æ€»èƒ†å›ºé†‡\"\n    ),\n    statistic = list(\n      all_continuous() ~ \"{mean} ({sd})\",\n      all_categorical() ~ \"{n} ({p}%)\"\n    )\n  ) |&gt;\n  add_p() |&gt;\n  add_overall() |&gt;\n  modify_header(label = \"**å˜é‡**\") |&gt;\n  modify_spanning_header(c(\"stat_1\", \"stat_2\") ~ \"**CVD äº‹ä»¶**\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nOverall\nN = 8001\n\nCVD äº‹ä»¶\n\np-value2\n\n\n0\nN = 1291\n1\nN = 6711\n\n\n\n\nå¹´é¾„\n55 (12)\n49 (11)\n56 (12)\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n\n\n0.14\n\n\nÂ Â Â Â ç”·\n457 (57%)\n66 (51%)\n391 (58%)\n\n\n\n\nÂ Â Â Â å¥³\n343 (43%)\n63 (49%)\n280 (42%)\n\n\n\n\nBMI\n25.1 (3.9)\n24.5 (3.8)\n25.3 (3.9)\n0.077\n\n\nå¸çƒŸçŠ¶æ€\n\n\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â æ›¾ç»\n236 (30%)\n35 (27%)\n201 (30%)\n\n\n\n\nÂ Â Â Â ä»ä¸\n333 (42%)\n80 (62%)\n253 (38%)\n\n\n\n\nÂ Â Â Â ç°åœ¨\n231 (29%)\n14 (11%)\n217 (32%)\n\n\n\n\né«˜è¡€å‹\n288 (36%)\n32 (25%)\n256 (38%)\n0.004\n\n\nç³–å°¿ç—…\n159 (20%)\n20 (16%)\n139 (21%)\n0.2\n\n\næ€»èƒ†å›ºé†‡\n200 (41)\n192 (37)\n202 (41)\n0.003\n\n\n\n1 Mean (SD); n (%)\n\n\n2 Wilcoxon rank sum test; Pearsonâ€™s Chi-squared test",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æ¨¡å‹æ„å»º",
    "href": "1019-logistic.html#æ¨¡å‹æ„å»º",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ„å»º",
    "text": "æ¨¡å‹æ„å»º\n\nå•å› ç´ åˆ†æ\nå…ˆè¿›è¡Œå•å› ç´  Logistic å›å½’ç­›é€‰å˜é‡ï¼š\n\n# å•å› ç´ åˆ†æå‡½æ•°\nunivariate_logistic &lt;- function(data, outcome, predictors) {\n  results &lt;- map_dfr(predictors, function(var) {\n    formula &lt;- as.formula(paste(outcome, \"~\", var))\n    model &lt;- glm(formula, data = data, family = binomial)\n    \n    tidy(model, conf.int = TRUE, exponentiate = TRUE) |&gt;\n      filter(term != \"(Intercept)\") |&gt;\n      mutate(variable = var) |&gt;\n      select(variable, term, estimate, conf.low, conf.high, p.value)\n  })\n  \n  results |&gt;\n    mutate(\n      OR_CI = paste0(\n        round(estimate, 2), \" (\",\n        round(conf.low, 2), \"-\",\n        round(conf.high, 2), \")\"\n      )\n    )\n}\n\n# æ‰§è¡Œå•å› ç´ åˆ†æ\npredictors &lt;- c(\"age\", \"sex\", \"bmi\", \"smoking\", \"hypertension\", \"diabetes\", \"cholesterol\")\n\nunivar_results &lt;- univariate_logistic(cvd_data, \"cvd\", predictors)\nunivar_results |&gt;\n  select(variable, term, OR_CI, p.value) |&gt;\n  mutate(p.value = format.pval(p.value, digits = 3))\n\n# A tibble: 8 Ã— 4\n  variable     term         OR_CI            p.value\n  &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;  \n1 age          age          1.05 (1.03-1.07) 5.7e-09\n2 sex          sexå¥³        0.75 (0.51-1.1)  0.13596\n3 bmi          bmi          1.05 (1-1.1)     0.04979\n4 smoking      smokingä»ä¸  0.55 (0.35-0.85) 0.00763\n5 smoking      smokingç°åœ¨  2.7 (1.44-5.32)  0.00271\n6 hypertension hypertension 1.87 (1.23-2.91) 0.00423\n7 diabetes     diabetes     1.42 (0.87-2.44) 0.17607\n8 cholesterol  cholesterol  1.01 (1-1.01)    0.00973\n\n\n\n\nå¤šå› ç´ æ¨¡å‹\nå°†æ˜¾è‘—å˜é‡çº³å…¥å¤šå› ç´ æ¨¡å‹ï¼š\n\n# å¤šå› ç´  Logistic å›å½’\nmodel_full &lt;- glm(\n  cvd ~ age + sex + bmi + smoking + hypertension + diabetes + cholesterol,\n  data = cvd_data,\n  family = binomial(link = \"logit\")\n)\n\n# æ¨¡å‹æ‘˜è¦\nsummary(model_full)\n\n\nCall:\nglm(formula = cvd ~ age + sex + bmi + smoking + hypertension + \n    diabetes + cholesterol, family = binomial(link = \"logit\"), \n    data = cvd_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  -4.123882   1.009434  -4.085 4.40e-05 ***\nage           0.053883   0.009152   5.888 3.92e-09 ***\nsexå¥³        -0.344342   0.208234  -1.654  0.09820 .  \nbmi           0.060093   0.026355   2.280  0.02260 *  \nsmokingä»ä¸  -0.722106   0.236969  -3.047  0.00231 ** \nsmokingç°åœ¨   1.010488   0.341058   2.963  0.00305 ** \nhypertension  0.655604   0.232868   2.815  0.00487 ** \ndiabetes      0.362925   0.278044   1.305  0.19180    \ncholesterol   0.007497   0.002632   2.848  0.00439 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 706.78  on 799  degrees of freedom\nResidual deviance: 607.19  on 791  degrees of freedom\nAIC: 625.19\n\nNumber of Fisher Scoring iterations: 5\n\n\n\n\næ•´æ´è¾“å‡º\n\n# ä½¿ç”¨ gtsummary ç”Ÿæˆä¸“ä¸šè¡¨æ ¼\nmodel_full |&gt;\n  tbl_regression(\n    exponentiate = TRUE,\n    label = list(\n      age ~ \"å¹´é¾„\",\n      sex ~ \"æ€§åˆ«\",\n      bmi ~ \"BMI\",\n      smoking ~ \"å¸çƒŸçŠ¶æ€\",\n      hypertension ~ \"é«˜è¡€å‹\",\n      diabetes ~ \"ç³–å°¿ç—…\",\n      cholesterol ~ \"æ€»èƒ†å›ºé†‡\"\n    )\n  ) |&gt;\n  add_global_p() |&gt;\n  bold_p() |&gt;\n  modify_header(label = \"**å˜é‡**\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nOR\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n1.06\n1.04, 1.07\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n0.10\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n0.71\n0.47, 1.07\n\n\n\n\nBMI\n1.06\n1.01, 1.12\n0.022\n\n\nå¸çƒŸçŠ¶æ€\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â æ›¾ç»\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â ä»ä¸\n0.49\n0.30, 0.77\n\n\n\n\nÂ Â Â Â ç°åœ¨\n2.75\n1.44, 5.52\n\n\n\n\né«˜è¡€å‹\n1.93\n1.23, 3.08\n0.004\n\n\nç³–å°¿ç—…\n1.44\n0.85, 2.54\n0.2\n\n\næ€»èƒ†å›ºé†‡\n1.01\n1.00, 1.01\n0.004\n\n\n\nAbbreviations: CI = Confidence Interval, OR = Odds Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æ¨¡å‹è¯Šæ–­",
    "href": "1019-logistic.html#æ¨¡å‹è¯Šæ–­",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\nå¤šé‡å…±çº¿æ€§æ£€éªŒ\n\n# è®¡ç®— VIFï¼ˆæ–¹å·®è†¨èƒ€å› å­ï¼‰\nvif_values &lt;- vif(model_full)\nvif_values\n\n                 GVIF Df GVIF^(1/(2*Df))\nage          1.020294  1        1.010096\nsex          1.013159  1        1.006558\nbmi          1.011781  1        1.005873\nsmoking      1.030028  2        1.007424\nhypertension 1.010345  1        1.005159\ndiabetes     1.011066  1        1.005518\ncholesterol  1.010944  1        1.005457\n\n# VIF &gt; 5 æç¤ºå­˜åœ¨å…±çº¿æ€§é—®é¢˜\n\n\n\næ¨¡å‹æ‹Ÿåˆä¼˜åº¦\n\n# Hosmer-Lemeshow æ£€éªŒ\nhl_test &lt;- hoslem.test(cvd_data$cvd, fitted(model_full), g = 10)\nhl_test\n\n\n    Hosmer and Lemeshow goodness of fit (GOF) test\n\ndata:  cvd_data$cvd, fitted(model_full)\nX-squared = 3.4288, df = 8, p-value = 0.9046\n\n# p &gt; 0.05 è¡¨ç¤ºæ¨¡å‹æ‹Ÿåˆè‰¯å¥½\n\n\n# ä½¿ç”¨ performance åŒ…è¿›è¡Œå…¨é¢è¯Šæ–­\nmodel_performance(model_full)\n\n# Indices of model performance\n\nAIC   |  AICc |   BIC | Tjur's R2 |  RMSE | Sigma | Log_loss | Score_log\n------------------------------------------------------------------------\n625.2 | 625.4 | 667.4 |     0.126 | 0.345 |     1 |    0.379 |      -Inf\n\nAIC   | Score_spherical |   PCP\n-------------------------------\n625.2 |           0.001 | 0.764\n\n\n\n\næ®‹å·®è¯Šæ–­\n\n# æ£€æŸ¥å¼‚å¸¸å€¼å’Œå½±å“ç‚¹\ncheck_model(model_full, check = c(\"binned_residuals\", \"outliers\"))\n\n\n\n\n\n\n\n\n\n\né¢„æµ‹æ•ˆæœ\n\n# æ·»åŠ é¢„æµ‹æ¦‚ç‡\ncvd_data &lt;- cvd_data |&gt;\n  mutate(\n    pred_prob = predict(model_full, type = \"response\"),\n    pred_class = ifelse(pred_prob &gt; 0.5, 1, 0)\n  )\n\n# æ··æ·†çŸ©é˜µ\ntable(é¢„æµ‹ = cvd_data$pred_class, å®é™… = cvd_data$cvd)\n\n    å®é™…\né¢„æµ‹   0   1\n   0  12  14\n   1 117 657\n\n# å‡†ç¡®ç‡\nmean(cvd_data$pred_class == cvd_data$cvd)\n\n[1] 0.83625",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#roc-æ›²çº¿ä¸-auc",
    "href": "1019-logistic.html#roc-æ›²çº¿ä¸-auc",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "ROC æ›²çº¿ä¸ AUC",
    "text": "ROC æ›²çº¿ä¸ AUC\nROC æ›²çº¿æ˜¯è¯„ä¼°åˆ†ç±»æ¨¡å‹æ€§èƒ½çš„æ ‡å‡†å·¥å…·ã€‚\n\n# è®¡ç®— ROC æ›²çº¿\nroc_obj &lt;- roc(cvd_data$cvd, cvd_data$pred_prob)\n\n# AUC å€¼\nauc(roc_obj)\n\nArea under the curve: 0.7652\n\n# æœ€ä¼˜é˜ˆå€¼ï¼ˆYouden æŒ‡æ•°ï¼‰\ncoords(roc_obj, \"best\", ret = c(\"threshold\", \"sensitivity\", \"specificity\"))\n\n  threshold sensitivity specificity\n1 0.8916241   0.5201192   0.8914729\n\n\n\n# ç»‘åˆ¶ ROC æ›²çº¿\nggroc(roc_obj, color = \"#4f46e5\", size = 1.2) +\n  geom_abline(slope = 1, intercept = 1, linetype = \"dashed\", color = \"gray50\") +\n  annotate(\"text\", x = 0.3, y = 0.3, \n           label = paste0(\"AUC = \", round(auc(roc_obj), 3)),\n           size = 5, color = \"#4f46e5\", fontface = \"bold\") +\n  labs(\n    title = \"ROC æ›²çº¿\",\n    subtitle = \"Logistic å›å½’æ¨¡å‹é¢„æµ‹ CVD äº‹ä»¶\",\n    x = \"ç‰¹å¼‚åº¦ (Specificity)\",\n    y = \"æ•æ„Ÿåº¦ (Sensitivity)\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nå¤šæ¨¡å‹ ROC æ¯”è¾ƒ\n\n# æ„å»ºç®€åŒ–æ¨¡å‹è¿›è¡Œæ¯”è¾ƒ\nmodel_simple &lt;- glm(cvd ~ age + sex + smoking, data = cvd_data, family = binomial)\n\n# è®¡ç®—ä¸¤ä¸ªæ¨¡å‹çš„ ROC\nroc_full &lt;- roc(cvd_data$cvd, predict(model_full, type = \"response\"))\nroc_simple &lt;- roc(cvd_data$cvd, predict(model_simple, type = \"response\"))\n\n# æ¯”è¾ƒ AUC\nroc.test(roc_full, roc_simple)\n\n\n    DeLong's test for two correlated ROC curves\n\ndata:  roc_full and roc_simple\nZ = 3.019, p-value = 0.002536\nalternative hypothesis: true difference in AUC is not equal to 0\n95 percent confidence interval:\n 0.01292389 0.06075996\nsample estimates:\nAUC of roc1 AUC of roc2 \n  0.7652468   0.7284049 \n\n# å¯è§†åŒ–æ¯”è¾ƒ\nggroc(list(å®Œæ•´æ¨¡å‹ = roc_full, ç®€åŒ–æ¨¡å‹ = roc_simple), size = 1) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#f59e0b\")) +\n  geom_abline(slope = 1, intercept = 1, linetype = \"dashed\", color = \"gray50\") +\n  labs(\n    title = \"ROC æ›²çº¿æ¯”è¾ƒ\",\n    x = \"ç‰¹å¼‚åº¦\",\n    y = \"æ•æ„Ÿåº¦\",\n    color = \"æ¨¡å‹\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.position = \"bottom\"\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#ç»“æœè§£è¯»",
    "href": "1019-logistic.html#ç»“æœè§£è¯»",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "ç»“æœè§£è¯»",
    "text": "ç»“æœè§£è¯»\n\nOR çš„ä¸´åºŠæ„ä¹‰\n\n# æå– OR åŠç½®ä¿¡åŒºé—´\nor_table &lt;- tidy(model_full, conf.int = TRUE, exponentiate = TRUE) |&gt;\n  filter(term != \"(Intercept)\") |&gt;\n  select(term, estimate, conf.low, conf.high, p.value) |&gt;\n  mutate(\n    interpretation = case_when(\n      estimate &gt; 1 & p.value &lt; 0.05 ~ \"é£é™©å› ç´ \",\n      estimate &lt; 1 & p.value &lt; 0.05 ~ \"ä¿æŠ¤å› ç´ \",\n      TRUE ~ \"æ— æ˜¾è‘—å…³è”\"\n    )\n  )\n\nor_table\n\n# A tibble: 8 Ã— 6\n  term         estimate conf.low conf.high       p.value interpretation\n  &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt; &lt;chr&gt;         \n1 age             1.06     1.04      1.07  0.00000000392 é£é™©å› ç´       \n2 sexå¥³           0.709    0.471     1.07  0.0982        æ— æ˜¾è‘—å…³è”    \n3 bmi             1.06     1.01      1.12  0.0226        é£é™©å› ç´       \n4 smokingä»ä¸     0.486    0.302     0.767 0.00231       ä¿æŠ¤å› ç´       \n5 smokingç°åœ¨     2.75     1.44      5.52  0.00305       é£é™©å› ç´       \n6 hypertension    1.93     1.23      3.08  0.00487       é£é™©å› ç´       \n7 diabetes        1.44     0.849     2.54  0.192         æ— æ˜¾è‘—å…³è”    \n8 cholesterol     1.01     1.00      1.01  0.00439       é£é™©å› ç´       \n\n\n\n\næ£®æ—å›¾å¯è§†åŒ–\n\n# ç»‘åˆ¶æ£®æ—å›¾\nor_plot_data &lt;- tidy(model_full, conf.int = TRUE, exponentiate = TRUE) |&gt;\n  filter(term != \"(Intercept)\") |&gt;\n  mutate(\n    term = factor(term, levels = rev(term)),\n    significant = p.value &lt; 0.05\n  )\n\nggplot(or_plot_data, aes(x = estimate, y = term)) +\n  geom_vline(xintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n  geom_errorbarh(aes(xmin = conf.low, xmax = conf.high, color = significant),\n                 height = 0.2, linewidth = 0.8) +\n  geom_point(aes(color = significant), size = 3) +\n  scale_color_manual(values = c(\"TRUE\" = \"#4f46e5\", \"FALSE\" = \"#9ca3af\"),\n                     labels = c(\"TRUE\" = \"æ˜¾è‘—\", \"FALSE\" = \"ä¸æ˜¾è‘—\")) +\n  scale_x_log10() +\n  labs(\n    title = \"å¤šå› ç´  Logistic å›å½’æ£®æ—å›¾\",\n    x = \"æ¯”å€¼æ¯” (OR)\",\n    y = \"å˜é‡\",\n    color = \"ç»Ÿè®¡æ˜¾è‘—æ€§\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.position = \"bottom\"\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#äº¤äº’ä½œç”¨åˆ†æ",
    "href": "1019-logistic.html#äº¤äº’ä½œç”¨åˆ†æ",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’ä½œç”¨åˆ†æ",
    "text": "äº¤äº’ä½œç”¨åˆ†æ\næ£€éªŒå˜é‡é—´çš„äº¤äº’æ•ˆåº”ï¼š\n\n# æ·»åŠ äº¤äº’é¡¹ï¼šå¹´é¾„ Ã— å¸çƒŸ\nmodel_interact &lt;- glm(\n  cvd ~ age * smoking + sex + bmi + hypertension + diabetes + cholesterol,\n  data = cvd_data,\n  family = binomial\n)\n\n# æ£€éªŒäº¤äº’æ•ˆåº”\nanova(model_full, model_interact, test = \"LRT\")\n\nAnalysis of Deviance Table\n\nModel 1: cvd ~ age + sex + bmi + smoking + hypertension + diabetes + cholesterol\nModel 2: cvd ~ age * smoking + sex + bmi + hypertension + diabetes + cholesterol\n  Resid. Df Resid. Dev Df  Deviance Pr(&gt;Chi)\n1       791     607.19                      \n2       789     607.19  2 0.0058042   0.9971\n\n\n\n# å¯è§†åŒ–äº¤äº’æ•ˆåº”\ninteract_data &lt;- expand.grid(\n  age = seq(30, 80, by = 5),\n  smoking = c(\"ä»ä¸\", \"æ›¾ç»\", \"ç°åœ¨\"),\n  sex = \"ç”·\",\n  bmi = mean(cvd_data$bmi),\n  hypertension = 0,\n  diabetes = 0,\n  cholesterol = mean(cvd_data$cholesterol)\n)\n\ninteract_data$pred_prob &lt;- predict(model_interact, newdata = interact_data, type = \"response\")\n\nggplot(interact_data, aes(x = age, y = pred_prob, color = smoking)) +\n  geom_line(linewidth = 1.2) +\n  scale_color_manual(values = c(\"#22c55e\", \"#f59e0b\", \"#ef4444\")) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(\n    title = \"å¹´é¾„ä¸å¸çƒŸçŠ¶æ€çš„äº¤äº’æ•ˆåº”\",\n    subtitle = \"é¢„æµ‹ CVD å‘ç”Ÿæ¦‚ç‡ï¼ˆå…¶ä»–å˜é‡å–å‡å€¼/å‚ç…§å€¼ï¼‰\",\n    x = \"å¹´é¾„\",\n    y = \"é¢„æµ‹æ¦‚ç‡\",\n    color = \"å¸çƒŸçŠ¶æ€\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.position = \"bottom\"\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æ¨¡å‹é€‰æ‹©",
    "href": "1019-logistic.html#æ¨¡å‹é€‰æ‹©",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹é€‰æ‹©",
    "text": "æ¨¡å‹é€‰æ‹©\n\né€æ­¥å›å½’\n\n# å‘åé€æ­¥å›å½’ï¼ˆåŸºäº AICï¼‰\nmodel_step &lt;- step(model_full, direction = \"backward\", trace = 0)\nsummary(model_step)\n\n\nCall:\nglm(formula = cvd ~ age + sex + bmi + smoking + hypertension + \n    cholesterol, family = binomial(link = \"logit\"), data = cvd_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  -3.989602   1.004762  -3.971 7.17e-05 ***\nage           0.053618   0.009130   5.873 4.28e-09 ***\nsexå¥³        -0.358191   0.207747  -1.724  0.08468 .  \nbmi           0.058063   0.026435   2.196  0.02806 *  \nsmokingä»ä¸  -0.721974   0.236705  -3.050  0.00229 ** \nsmokingç°åœ¨   1.020456   0.341169   2.991  0.00278 ** \nhypertension  0.677067   0.232170   2.916  0.00354 ** \ncholesterol   0.007470   0.002624   2.846  0.00442 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 706.78  on 799  degrees of freedom\nResidual deviance: 608.98  on 792  degrees of freedom\nAIC: 624.98\n\nNumber of Fisher Scoring iterations: 5\n\n# æ¯”è¾ƒæ¨¡å‹\nAIC(model_full, model_step)\n\n           df      AIC\nmodel_full  9 625.1909\nmodel_step  8 624.9772\n\nBIC(model_full, model_step)\n\n           df      BIC\nmodel_full  9 667.3524\nmodel_step  8 662.4541\n\n\n\n\næ¯”è¾ƒæ¨¡å‹æ€§èƒ½\n\ncompare_performance(model_full, model_step, model_simple, rank = TRUE)\n\n# Comparison of Model Performance Indices\n\nName         | Model | Tjur's R2 |  RMSE | Sigma | Log_loss | Score_log\n-----------------------------------------------------------------------\nmodel_full   |   glm |     0.126 | 0.345 |     1 |    0.379 |      -Inf\nmodel_step   |   glm |     0.123 | 0.346 |     1 |    0.381 |      -Inf\nmodel_simple |   glm |     0.097 | 0.350 |     1 |    0.395 |      -Inf\n\nName         | Score_spherical |   PCP | AIC weights | AICc weights\n-------------------------------------------------------------------\nmodel_full   |           0.001 | 0.764 |       0.473 |        0.468\nmodel_step   |           0.001 | 0.763 |       0.527 |        0.532\nmodel_simple |           0.001 | 0.756 |    1.57e-04 |     1.68e-04\n\nName         | BIC weights | Performance-Score\n----------------------------------------------\nmodel_full   |       0.061 |             -Inf%\nmodel_step   |       0.703 |             -Inf%\nmodel_simple |       0.237 |             -Inf%",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#é¢„æµ‹åº”ç”¨",
    "href": "1019-logistic.html#é¢„æµ‹åº”ç”¨",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "é¢„æµ‹åº”ç”¨",
    "text": "é¢„æµ‹åº”ç”¨\n\nä¸ªä½“é£é™©é¢„æµ‹\n\n# ä¸ºæ–°ä¸ªä½“é¢„æµ‹é£é™©\nnew_patient &lt;- tibble(\n  age = 60,\n  sex = factor(\"ç”·\", levels = levels(cvd_data$sex)),\n  bmi = 28,\n  smoking = factor(\"ç°åœ¨\", levels = levels(cvd_data$smoking)),\n  hypertension = 1,\n  diabetes = 0,\n  cholesterol = 220\n)\n\n# é¢„æµ‹æ¦‚ç‡\npred &lt;- predict(model_full, newdata = new_patient, type = \"response\", se.fit = TRUE)\n\ncat(\"é¢„æµ‹ CVD æ¦‚ç‡:\", round(pred$fit * 100, 1), \"%\\n\")\n\né¢„æµ‹ CVD æ¦‚ç‡: 98.4 %\n\ncat(\"95% CI:\", \n    round(plogis(qlogis(pred$fit) - 1.96 * pred$se.fit) * 100, 1), \"-\",\n    round(plogis(qlogis(pred$fit) + 1.96 * pred$se.fit) * 100, 1), \"%\\n\")\n\n95% CI: 98.4 - 98.4 %\n\n\n\n\né£é™©åˆ†å±‚\n\n# æ ¹æ®é¢„æµ‹æ¦‚ç‡è¿›è¡Œé£é™©åˆ†å±‚\ncvd_data &lt;- cvd_data |&gt;\n  mutate(\n    risk_group = case_when(\n      pred_prob &lt; 0.1 ~ \"ä½é£é™©\",\n      pred_prob &lt; 0.3 ~ \"ä¸­é£é™©\",\n      TRUE ~ \"é«˜é£é™©\"\n    ),\n    risk_group = factor(risk_group, levels = c(\"ä½é£é™©\", \"ä¸­é£é™©\", \"é«˜é£é™©\"))\n  )\n\n# å„é£é™©ç»„çš„å®é™…äº‹ä»¶ç‡\ncvd_data |&gt;\n  group_by(risk_group) |&gt;\n  summarise(\n    n = n(),\n    events = sum(cvd),\n    event_rate = mean(cvd),\n    mean_pred = mean(pred_prob)\n  )\n\n# A tibble: 1 Ã— 5\n  risk_group     n events event_rate mean_pred\n  &lt;fct&gt;      &lt;int&gt;  &lt;int&gt;      &lt;dbl&gt;     &lt;dbl&gt;\n1 é«˜é£é™©       800    671      0.839     0.839\n\n\n\n# æ ¡å‡†æ›²çº¿\nggplot(cvd_data, aes(x = pred_prob, y = cvd)) +\n  geom_smooth(method = \"loess\", color = \"#4f46e5\", fill = \"#4f46e5\", alpha = 0.2) +\n  geom_abline(slope = 1, intercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  scale_x_continuous(limits = c(0, 1), labels = scales::percent_format()) +\n  scale_y_continuous(limits = c(0, 1), labels = scales::percent_format()) +\n  labs(\n    title = \"æ ¡å‡†æ›²çº¿\",\n    subtitle = \"é¢„æµ‹æ¦‚ç‡ vs å®é™…äº‹ä»¶ç‡\",\n    x = \"é¢„æµ‹æ¦‚ç‡\",\n    y = \"å®é™…äº‹ä»¶ç‡\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1019-logistic.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. å®Œå…¨åˆ†ç¦»é—®é¢˜\nå½“æŸä¸ªé¢„æµ‹å˜é‡å®Œç¾é¢„æµ‹ç»“å±€æ—¶ï¼Œä¼šå‡ºç°ç³»æ•°æ— é™å¤§çš„é—®é¢˜ã€‚\n\n# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Firth æƒ©ç½š Logistic å›å½’\nlibrary(logistf)\nlogistf(cvd ~ perfect_predictor + ..., data = data)\n\n\n\n2. æ ·æœ¬é‡è¦æ±‚\n\n\n\næƒ…å†µ\nå»ºè®®æ ·æœ¬é‡\n\n\n\n\næ¯ä¸ªé¢„æµ‹å˜é‡\nè‡³å°‘ 10-20 ä¸ªäº‹ä»¶\n\n\nç¨€æœ‰äº‹ä»¶\nè€ƒè™‘ç²¾ç¡® Logistic å›å½’\n\n\n\n\n\n3. ç±»åˆ«ä¸å¹³è¡¡\n\n# è§£å†³æ–¹æ¡ˆ\n# 1. è°ƒæ•´åˆ†ç±»é˜ˆå€¼\n# 2. è¿‡é‡‡æ ·/æ¬ é‡‡æ ·\n# 3. ä½¿ç”¨ AUC è€Œéå‡†ç¡®ç‡è¯„ä¼°\n\n\n\n4. æ¨¡å‹è¿‡æ‹Ÿåˆ\n\n# ä½¿ç”¨äº¤å‰éªŒè¯è¯„ä¼°\nlibrary(caret)\ntrain_control &lt;- trainControl(method = \"cv\", number = 10)\ncv_model &lt;- train(cvd ~ ., data = cvd_data, method = \"glm\", \n                  family = \"binomial\", trControl = train_control)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æŠ¥å‘Šæ¨¡æ¿",
    "href": "1019-logistic.html#æŠ¥å‘Šæ¨¡æ¿",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æŠ¥å‘Šæ¨¡æ¿",
    "text": "æŠ¥å‘Šæ¨¡æ¿\n\n# å®Œæ•´ç»“æœè¡¨æ ¼\nmodel_full |&gt;\n  tbl_regression(\n    exponentiate = TRUE,\n    label = list(\n      age ~ \"å¹´é¾„ (æ¯å¢åŠ 1å²)\",\n      sex ~ \"æ€§åˆ«\",\n      bmi ~ \"BMI (æ¯å¢åŠ 1)\",\n      smoking ~ \"å¸çƒŸçŠ¶æ€\",\n      hypertension ~ \"é«˜è¡€å‹\",\n      diabetes ~ \"ç³–å°¿ç—…\",\n      cholesterol ~ \"æ€»èƒ†å›ºé†‡ (æ¯å¢åŠ 1)\"\n    ),\n    pvalue_fun = ~style_pvalue(.x, digits = 3)\n  ) |&gt;\n  add_global_p() |&gt;\n  add_glance_table(\n    include = c(AIC, BIC, nobs)\n  ) |&gt;\n  modify_header(label = \"**å˜é‡**\") |&gt;\n  modify_caption(\"**è¡¨1. å¤šå› ç´  Logistic å›å½’åˆ†æç»“æœ**\")\n\n\n\n\n\nè¡¨1. å¤šå› ç´  Logistic å›å½’åˆ†æç»“æœ\n\n\n\n\n\n\n\n\nå˜é‡\nOR\n95% CI\np-value\n\n\n\n\nå¹´é¾„ (æ¯å¢åŠ 1å²)\n1.06\n1.04, 1.07\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n0.098\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n0.71\n0.47, 1.07\n\n\n\n\nBMI (æ¯å¢åŠ 1)\n1.06\n1.01, 1.12\n0.022\n\n\nå¸çƒŸçŠ¶æ€\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â æ›¾ç»\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â ä»ä¸\n0.49\n0.30, 0.77\n\n\n\n\nÂ Â Â Â ç°åœ¨\n2.75\n1.44, 5.52\n\n\n\n\né«˜è¡€å‹\n1.93\n1.23, 3.08\n0.004\n\n\nç³–å°¿ç—…\n1.44\n0.85, 2.54\n0.181\n\n\næ€»èƒ†å›ºé†‡ (æ¯å¢åŠ 1)\n1.01\n1.00, 1.01\n0.004\n\n\nAIC\n625\n\n\n\n\n\n\nBIC\n667\n\n\n\n\n\n\nNo. Obs.\n800\n\n\n\n\n\n\n\nAbbreviations: CI = Confidence Interval, OR = Odds Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1019-logistic.html#æ€»ç»“",
    "href": "1019-logistic.html#æ€»ç»“",
    "title": "Logistic å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ­¥éª¤\nå…³é”®æ“ä½œ\nR å‡½æ•°\n\n\n\n\næ¨¡å‹æ„å»º\nä¼°è®¡ç³»æ•°\nglm(..., family = binomial)\n\n\nç»“æœæå–\nOR åŠ CI\ntidy(..., exponentiate = TRUE)\n\n\næ¨¡å‹è¯Šæ–­\nVIFã€H-L æ£€éªŒ\nvif(), hoslem.test()\n\n\né¢„æµ‹è¯„ä¼°\nROC/AUC\npROC::roc(), pROC::auc()\n\n\nç»“æœå±•ç¤º\nä¸“ä¸šè¡¨æ ¼\ngtsummary::tbl_regression()\n\n\n\n\næŠ¥å‘Š Logistic å›å½’çš„ Checklist\n\næŠ¥å‘Šæ ·æœ¬é‡å’Œäº‹ä»¶æ•°\næŠ¥å‘Š OR åŠ 95% CI\nè¯´æ˜å‚ç…§ç»„è®¾ç½®\næŠ¥å‘Šæ¨¡å‹æ‹Ÿåˆåº¦ï¼ˆH-L æ£€éªŒï¼‰\næŠ¥å‘Šåˆ¤åˆ«èƒ½åŠ›ï¼ˆAUCï¼‰\næ£€æŸ¥å¤šé‡å…±çº¿æ€§\nè¿›è¡Œæ•æ„Ÿæ€§åˆ†æ\n\n\n\næ¨èé˜…è¯»\n\nHosmer DW, Lemeshow S. Applied Logistic Regression (3rd ed.)\nHarrell FE. Regression Modeling Strategies\nUCLA ç»Ÿè®¡å’¨è¯¢ï¼šLogistic å›å½’",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Logistic å›å½’"
    ]
  },
  {
    "objectID": "1017-timeseries.html",
    "href": "1017-timeseries.html",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "",
    "text": "æ—¶é—´åºåˆ—åˆ†ææ˜¯ç ”ç©¶æŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„æ•°æ®è§„å¾‹çš„æ–¹æ³•ï¼Œå¹¿æ³›åº”ç”¨äºç»æµé¢„æµ‹ã€æ°”è±¡åˆ†æã€é”€å”®é¢„ä¼°ç­‰é¢†åŸŸã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#åŸºç¡€æ¦‚å¿µ",
    "href": "1017-timeseries.html#åŸºç¡€æ¦‚å¿µ",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "åŸºç¡€æ¦‚å¿µ",
    "text": "åŸºç¡€æ¦‚å¿µ\n\nlibrary(forecast)   # æ—¶é—´åºåˆ—é¢„æµ‹æ ¸å¿ƒåŒ…\nlibrary(ggplot2)\nlibrary(patchwork)\n\n# ä½¿ç”¨ç»å…¸èˆªç©ºä¹˜å®¢æ•°æ®\ndata &lt;- AirPassengers  # 1949-1960å¹´æœˆåº¦ä¹˜å®¢æ•°ï¼ˆåƒäººï¼‰\ndata\n\n     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n1949 112 118 132 129 121 135 148 148 136 119 104 118\n1950 115 126 141 135 125 149 170 170 158 133 114 140\n1951 145 150 178 163 172 178 199 199 184 162 146 166\n1952 171 180 193 181 183 218 230 242 209 191 172 194\n1953 196 196 236 235 229 243 264 272 237 211 180 201\n1954 204 188 235 227 234 264 302 293 259 229 203 229\n1955 242 233 267 269 270 315 364 347 312 274 237 278\n1956 284 277 317 313 318 374 413 405 355 306 271 306\n1957 315 301 356 348 355 422 465 467 404 347 305 336\n1958 340 318 362 348 363 435 491 505 404 359 310 337\n1959 360 342 406 396 420 472 548 559 463 407 362 405\n1960 417 391 419 461 472 535 622 606 508 461 390 432\n\n\næ—¶é—´åºåˆ—çš„ä¸‰ä¸ªæ ¸å¿ƒæˆåˆ†ï¼š\n\nè¶‹åŠ¿ (Trend)ï¼šé•¿æœŸä¸Šå‡æˆ–ä¸‹é™çš„æ¨¡å¼\nå­£èŠ‚æ€§ (Seasonality)ï¼šå›ºå®šå‘¨æœŸçš„é‡å¤æ³¢åŠ¨\næ®‹å·® (Residual)ï¼šå»é™¤è¶‹åŠ¿å’Œå­£èŠ‚æ€§åçš„éšæœºæˆåˆ†",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#æ—¶åºåˆ†è§£",
    "href": "1017-timeseries.html#æ—¶åºåˆ†è§£",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ—¶åºåˆ†è§£",
    "text": "æ—¶åºåˆ†è§£\nå°†æ—¶é—´åºåˆ—åˆ†è§£ä¸ºè¶‹åŠ¿ã€å­£èŠ‚å’Œæ®‹å·®ä¸‰éƒ¨åˆ†ï¼š\n\n# STLåˆ†è§£ï¼šæ›´çµæ´»çš„ç°ä»£æ–¹æ³•\nstl(data, s.window = \"periodic\") |&gt; \n  autoplot() + \n  theme_minimal() +\n  labs(title = \"èˆªç©ºä¹˜å®¢æ•°æ®çš„STLåˆ†è§£\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nåˆ†è§£ç±»å‹é€‰æ‹©ï¼š\n\nåŠ æ³•æ¨¡å‹ï¼š\\(Y = T + S + R\\)ï¼ˆæ³¢åŠ¨å¹…åº¦ç¨³å®šï¼‰\nä¹˜æ³•æ¨¡å‹ï¼š\\(Y = T \\times S \\times R\\)ï¼ˆæ³¢åŠ¨éšè¶‹åŠ¿å¢å¤§ï¼Œå¦‚æœ¬ä¾‹ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#å¹³ç¨³æ€§æ£€éªŒ",
    "href": "1017-timeseries.html#å¹³ç¨³æ€§æ£€éªŒ",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å¹³ç¨³æ€§æ£€éªŒ",
    "text": "å¹³ç¨³æ€§æ£€éªŒ\nARIMAæ¨¡å‹è¦æ±‚åºåˆ—å¹³ç¨³ã€‚ä½¿ç”¨ADFæ£€éªŒåˆ¤æ–­ï¼š\n\nlibrary(tseries)\n\n# åŸå§‹åºåˆ—ï¼šéå¹³ç¨³\nadf.test(data)  # p &gt; 0.05 â†’ éå¹³ç¨³\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  data\nDickey-Fuller = -7.3186, Lag order = 5, p-value = 0.01\nalternative hypothesis: stationary\n\n# ä¸€é˜¶å·®åˆ†åï¼šå¹³ç¨³\nadf.test(diff(data))  # p &lt; 0.05 â†’ å¹³ç¨³\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  diff(data)\nDickey-Fuller = -7.0177, Lag order = 5, p-value = 0.01\nalternative hypothesis: stationary\n\n\nå·®åˆ†å¯æ¶ˆé™¤è¶‹åŠ¿ï¼Œä½¿åºåˆ—å¹³ç¨³ï¼š\n\n# å¯¹æ¯”åŸå§‹ä¸å·®åˆ†åçš„åºåˆ—\np1 &lt;- autoplot(data) + labs(title = \"åŸå§‹åºåˆ—\", y = \"ä¹˜å®¢æ•°\")\np2 &lt;- autoplot(diff(data)) + labs(title = \"ä¸€é˜¶å·®åˆ†å\", y = \"å·®åˆ†å€¼\")\np1 / p2 & theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#arimaæ¨¡å‹",
    "href": "1017-timeseries.html#arimaæ¨¡å‹",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "ARIMAæ¨¡å‹",
    "text": "ARIMAæ¨¡å‹\nARIMA(p,d,q) æ˜¯æœ€å¸¸ç”¨çš„æ—¶é—´åºåˆ—æ¨¡å‹ï¼š\n\npï¼šè‡ªå›å½’é˜¶æ•°ï¼ˆARï¼‰\ndï¼šå·®åˆ†æ¬¡æ•°\nqï¼šç§»åŠ¨å¹³å‡é˜¶æ•°ï¼ˆMAï¼‰\n\n\n# è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å‚æ•°ï¼ˆåŸºäºAICå‡†åˆ™ï¼‰\nfit &lt;- auto.arima(data)\nfit\n\nSeries: data \nARIMA(2,1,1)(0,1,0)[12] \n\nCoefficients:\n         ar1     ar2      ma1\n      0.5960  0.2143  -0.9819\ns.e.  0.0888  0.0880   0.0292\n\nsigma^2 = 132.3:  log likelihood = -504.92\nAIC=1017.85   AICc=1018.17   BIC=1029.35\n\n\n\næ¨¡å‹è¯Šæ–­\næ£€æŸ¥æ®‹å·®æ˜¯å¦ä¸ºç™½å™ªå£°ï¼š\n\ncheckresiduals(fit)  # æ®‹å·®åº”æ— è‡ªç›¸å…³ã€è¿‘ä¼¼æ­£æ€\n\n\n\n\n\n\n\n\n\n    Ljung-Box test\n\ndata:  Residuals from ARIMA(2,1,1)(0,1,0)[12]\nQ* = 37.784, df = 21, p-value = 0.01366\n\nModel df: 3.   Total lags used: 24",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#é¢„æµ‹",
    "href": "1017-timeseries.html#é¢„æµ‹",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "é¢„æµ‹",
    "text": "é¢„æµ‹\nä½¿ç”¨æ‹Ÿåˆæ¨¡å‹è¿›è¡Œæœªæ¥é¢„æµ‹ï¼š\n\n# é¢„æµ‹æœªæ¥2å¹´ï¼ˆ24ä¸ªæœˆï¼‰\nfc &lt;- forecast(fit, h = 24)\n\n# å¯è§†åŒ–ï¼šè“è‰²åŒºåŸŸä¸ºç½®ä¿¡åŒºé—´\nautoplot(fc) +\n  theme_minimal() +\n  labs(title = \"èˆªç©ºä¹˜å®¢æ•°é¢„æµ‹\", \n       subtitle = \"ARIMAæ¨¡å‹ + 80%/95%ç½®ä¿¡åŒºé—´\",\n       x = \"å¹´ä»½\", y = \"ä¹˜å®¢æ•°ï¼ˆåƒäººï¼‰\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#å­£èŠ‚æ€§arima",
    "href": "1017-timeseries.html#å­£èŠ‚æ€§arima",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å­£èŠ‚æ€§ARIMA",
    "text": "å­£èŠ‚æ€§ARIMA\nå¯¹äºæœ‰æ˜æ˜¾å­£èŠ‚æ¨¡å¼çš„æ•°æ®ï¼Œä½¿ç”¨SARIMAï¼š\n\n# å¼ºåˆ¶ä½¿ç”¨å­£èŠ‚æ€§æ¨¡å‹\nfit_seasonal &lt;- auto.arima(data, seasonal = TRUE, D = 1)\nfit_seasonal\n\nSeries: data \nARIMA(2,1,1)(0,1,0)[12] \n\nCoefficients:\n         ar1     ar2      ma1\n      0.5960  0.2143  -0.9819\ns.e.  0.0888  0.0880   0.0292\n\nsigma^2 = 132.3:  log likelihood = -504.92\nAIC=1017.85   AICc=1018.17   BIC=1029.35\n\n# é¢„æµ‹å¹¶å¯¹æ¯”\nforecast(fit_seasonal, h = 24) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"å­£èŠ‚æ€§ARIMAé¢„æµ‹\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#æŒ‡æ•°å¹³æ»‘æ³•",
    "href": "1017-timeseries.html#æŒ‡æ•°å¹³æ»‘æ³•",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æŒ‡æ•°å¹³æ»‘æ³•",
    "text": "æŒ‡æ•°å¹³æ»‘æ³•\nå¦ä¸€ç±»å¸¸ç”¨æ–¹æ³•ï¼Œé€‚åˆçŸ­æœŸé¢„æµ‹ï¼š\n\n# ETSè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å¹³æ»‘å‚æ•°\nets_fit &lt;- ets(data)\nets_fit  # M,A,M = ä¹˜æ³•è¯¯å·®ã€åŠ æ³•è¶‹åŠ¿ã€ä¹˜æ³•å­£èŠ‚\n\nETS(M,Ad,M) \n\nCall:\nets(y = data)\n\n  Smoothing parameters:\n    alpha = 0.7096 \n    beta  = 0.0204 \n    gamma = 1e-04 \n    phi   = 0.98 \n\n  Initial states:\n    l = 120.9939 \n    b = 1.7705 \n    s = 0.8944 0.7993 0.9217 1.0592 1.2203 1.2318\n           1.1105 0.9786 0.9804 1.011 0.8869 0.9059\n\n  sigma:  0.0392\n\n     AIC     AICc      BIC \n1395.166 1400.638 1448.623 \n\n# é¢„æµ‹\nforecast(ets_fit, h = 24) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"æŒ‡æ•°å¹³æ»‘é¢„æµ‹ (ETS)\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#æ¨¡å‹å¯¹æ¯”",
    "href": "1017-timeseries.html#æ¨¡å‹å¯¹æ¯”",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ¨¡å‹å¯¹æ¯”",
    "text": "æ¨¡å‹å¯¹æ¯”\nä½¿ç”¨äº¤å‰éªŒè¯æ¯”è¾ƒé¢„æµ‹å‡†ç¡®æ€§ï¼š\n\n# å–æœ€å2å¹´ä½œä¸ºæµ‹è¯•é›†\ntrain &lt;- window(data, end = c(1958, 12))\ntest &lt;- window(data, start = c(1959, 1))\n\n# è®­ç»ƒä¸¤ä¸ªæ¨¡å‹\nm1 &lt;- auto.arima(train)\nm2 &lt;- ets(train)\n\n# é¢„æµ‹å¹¶è®¡ç®—è¯¯å·®\nfc1 &lt;- forecast(m1, h = 24)\nfc2 &lt;- forecast(m2, h = 24)\n\n# å‡†ç¡®ç‡æŒ‡æ ‡\naccuracy(fc1, test)[2, c(\"RMSE\", \"MAE\", \"MAPE\")]\n\n    RMSE      MAE     MAPE \n74.25224 68.57729 14.92756 \n\naccuracy(fc2, test)[2, c(\"RMSE\", \"MAE\", \"MAPE\")]\n\n    RMSE      MAE     MAPE \n72.54791 63.21297 13.30345 \n\n\n\n\n\n\n\n\nNote\n\n\n\nå¸¸ç”¨è¯„ä¼°æŒ‡æ ‡ï¼š\n\nRMSEï¼šå‡æ–¹æ ¹è¯¯å·®ï¼ˆå¯¹å¤§è¯¯å·®æ•æ„Ÿï¼‰\nMAEï¼šå¹³å‡ç»å¯¹è¯¯å·®\nMAPEï¼šå¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®ï¼ˆå¯è§£é‡Šæ€§å¥½ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#å®æˆ˜é¢„æµ‹æœˆåº¦é”€å”®",
    "href": "1017-timeseries.html#å®æˆ˜é¢„æµ‹æœˆåº¦é”€å”®",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å®æˆ˜ï¼šé¢„æµ‹æœˆåº¦é”€å”®",
    "text": "å®æˆ˜ï¼šé¢„æµ‹æœˆåº¦é”€å”®\n\n# æ¨¡æ‹Ÿé›¶å”®æ•°æ®\nset.seed(42)\nsales &lt;- ts(\n  100 + 1:60 * 2 +                    # ä¸Šå‡è¶‹åŠ¿\n  30 * sin(2 * pi * 1:60 / 12) +      # å­£èŠ‚æ€§\n  rnorm(60, sd = 10),                 # å™ªå£°\n  start = c(2020, 1), frequency = 12\n)\n\n# ä¸€è¡Œå®Œæˆï¼šå»ºæ¨¡ + é¢„æµ‹ + å¯è§†åŒ–\nsales |&gt; \n  auto.arima() |&gt; \n  forecast(h = 12) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"æœˆåº¦é”€å”®é¢é¢„æµ‹\", x = \"å¹´ä»½\", y = \"é”€å”®é¢\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1017-timeseries.html#æ€»ç»“",
    "href": "1017-timeseries.html#æ€»ç»“",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ–¹æ³•\né€‚ç”¨åœºæ™¯\nå‡½æ•°\n\n\n\n\nSTLåˆ†è§£\nç†è§£æ•°æ®ç»“æ„\nstl()\n\n\nARIMA\né€šç”¨é¢„æµ‹\nauto.arima()\n\n\nSARIMA\nå¼ºå­£èŠ‚æ€§æ•°æ®\nauto.arima(seasonal=TRUE)\n\n\nETS\nçŸ­æœŸé¢„æµ‹ã€å¹³æ»‘\nets()\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nå®è·µå»ºè®®ï¼š\n\nå…ˆå¯è§†åŒ–ï¼Œç†è§£æ•°æ®ç‰¹å¾\næ£€éªŒå¹³ç¨³æ€§ï¼Œå¿…è¦æ—¶å·®åˆ†\nå¯¹æ¯”å¤šä¸ªæ¨¡å‹ï¼Œé€‰æ‹©æœ€ä¼˜\nå…³æ³¨ç½®ä¿¡åŒºé—´ï¼Œé¢„æµ‹æœ‰ä¸ç¡®å®šæ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ—¶é—´åºåˆ—åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html",
    "href": "1015-health-economics.html",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "",
    "text": "å«ç”Ÿç»æµå­¦è¯„ä»·ï¼ˆHealth Economic Evaluationï¼‰æ˜¯ä¸€ç§ç³»ç»Ÿæ€§æ¯”è¾ƒä¸åŒåŒ»ç–—å¹²é¢„æªæ–½çš„æˆæœ¬å’Œå¥åº·ç»“æœçš„åˆ†ææ–¹æ³•ï¼Œå¸®åŠ©å†³ç­–è€…åœ¨æœ‰é™èµ„æºä¸‹åšå‡ºæœ€ä¼˜é€‰æ‹©ã€‚\n\n\n\n\n\næ–¹æ³•\nè‹±æ–‡ç¼©å†™\nç»“æœæŒ‡æ ‡\né€‚ç”¨åœºæ™¯\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nCEA\nè‡ªç„¶å•ä½ï¼ˆå¦‚ç”Ÿå‘½å¹´ï¼‰\nå•ä¸€ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç”¨åˆ†æ\nCUA\nè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼ˆQALYï¼‰\nè·¨ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç›Šåˆ†æ\nCBA\nè´§å¸å•ä½\nå¥åº·ä¸éå¥åº·é¡¹ç›®æ¯”è¾ƒ\n\n\næˆæœ¬æœ€å°åŒ–åˆ†æ\nCMA\næ— ï¼ˆå‡è®¾æ•ˆæœç›¸åŒï¼‰\næ•ˆæœç›¸åŒçš„å¹²é¢„æ¯”è¾ƒ\n\n\n\n\n\n\n\nICERï¼ˆå¢é‡æˆæœ¬æ•ˆæœæ¯”ï¼‰ï¼šæ¯å¤šè·å¾—ä¸€ä¸ªå¥åº·å•ä½æ‰€éœ€çš„é¢å¤–æˆæœ¬\nQALYï¼ˆè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼‰ï¼šç»¼åˆè€ƒè™‘ç”Ÿå­˜æ—¶é—´å’Œç”Ÿæ´»è´¨é‡\nWTPï¼ˆæ”¯ä»˜æ„æ„¿ï¼‰ï¼šç¤¾ä¼šæ„¿æ„ä¸ºä¸€ä¸ª QALY æ”¯ä»˜çš„æœ€é«˜é‡‘é¢\nè´´ç°ç‡ï¼šå°†æœªæ¥æˆæœ¬/æ•ˆæœæŠ˜ç®—ä¸ºç°å€¼çš„æ¯”ç‡ï¼ˆé€šå¸¸ 3-5%ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#ä»€ä¹ˆæ˜¯å«ç”Ÿç»æµå­¦è¯„ä»·",
    "href": "1015-health-economics.html#ä»€ä¹ˆæ˜¯å«ç”Ÿç»æµå­¦è¯„ä»·",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "",
    "text": "å«ç”Ÿç»æµå­¦è¯„ä»·ï¼ˆHealth Economic Evaluationï¼‰æ˜¯ä¸€ç§ç³»ç»Ÿæ€§æ¯”è¾ƒä¸åŒåŒ»ç–—å¹²é¢„æªæ–½çš„æˆæœ¬å’Œå¥åº·ç»“æœçš„åˆ†ææ–¹æ³•ï¼Œå¸®åŠ©å†³ç­–è€…åœ¨æœ‰é™èµ„æºä¸‹åšå‡ºæœ€ä¼˜é€‰æ‹©ã€‚\n\n\n\n\n\næ–¹æ³•\nè‹±æ–‡ç¼©å†™\nç»“æœæŒ‡æ ‡\né€‚ç”¨åœºæ™¯\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nCEA\nè‡ªç„¶å•ä½ï¼ˆå¦‚ç”Ÿå‘½å¹´ï¼‰\nå•ä¸€ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç”¨åˆ†æ\nCUA\nè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼ˆQALYï¼‰\nè·¨ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç›Šåˆ†æ\nCBA\nè´§å¸å•ä½\nå¥åº·ä¸éå¥åº·é¡¹ç›®æ¯”è¾ƒ\n\n\næˆæœ¬æœ€å°åŒ–åˆ†æ\nCMA\næ— ï¼ˆå‡è®¾æ•ˆæœç›¸åŒï¼‰\næ•ˆæœç›¸åŒçš„å¹²é¢„æ¯”è¾ƒ\n\n\n\n\n\n\n\nICERï¼ˆå¢é‡æˆæœ¬æ•ˆæœæ¯”ï¼‰ï¼šæ¯å¤šè·å¾—ä¸€ä¸ªå¥åº·å•ä½æ‰€éœ€çš„é¢å¤–æˆæœ¬\nQALYï¼ˆè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼‰ï¼šç»¼åˆè€ƒè™‘ç”Ÿå­˜æ—¶é—´å’Œç”Ÿæ´»è´¨é‡\nWTPï¼ˆæ”¯ä»˜æ„æ„¿ï¼‰ï¼šç¤¾ä¼šæ„¿æ„ä¸ºä¸€ä¸ª QALY æ”¯ä»˜çš„æœ€é«˜é‡‘é¢\nè´´ç°ç‡ï¼šå°†æœªæ¥æˆæœ¬/æ•ˆæœæŠ˜ç®—ä¸ºç°å€¼çš„æ¯”ç‡ï¼ˆé€šå¸¸ 3-5%ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#råŒ…ä»‹ç»",
    "href": "1015-health-economics.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nå«ç”Ÿç»æµå­¦åˆ†æå¸¸ç”¨çš„ R åŒ…ï¼š\n\n\n\nRåŒ…\nåŠŸèƒ½\né“¾æ¥\n\n\n\n\nhesim\nå¥åº·çŠ¶æ€è½¬æ¢æ¨¡å‹ã€å†³ç­–åˆ†æ\nCRAN\n\n\nheemod\né©¬å°”å¯å¤«æ¨¡å‹æ„å»º\nCRAN\n\n\nBCEA\nè´å¶æ–¯æˆæœ¬æ•ˆæœåˆ†æ\nCRAN\n\n\ndampack\nå†³ç­–åˆ†ææ¨¡å‹å‚æ•°åŒ–\nCRAN\n\n\nsurvHE\nç”Ÿå­˜åˆ†æå¤–æ¨\nCRAN\n\n\n\næœ¬æ•™ç¨‹ä½¿ç”¨åŸºç¡€ R å’Œ ggplot2 ä»é›¶å®ç°å«ç”Ÿç»æµå­¦æ ¸å¿ƒåˆ†æï¼Œæ— éœ€å®‰è£…ä¸“ä¸šåŒ…ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#råŒ…å®‰è£…",
    "href": "1015-health-economics.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# å®‰è£…æ ¸å¿ƒåŒ…\ninstall.packages(\"ggplot2\")\ninstall.packages(\"dplyr\")\ninstall.packages(\"scales\")\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(scales)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "text": "æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€\n\næ¨¡æ‹Ÿæ•°æ®å‡†å¤‡\nå‡è®¾æˆ‘ä»¬æ¯”è¾ƒä¸‰ç§æ²»ç–—æ–¹æ¡ˆï¼šæ ‡å‡†æ²»ç–—ã€æ–°è¯ Aã€æ–°è¯ Bã€‚\n\n# åˆ›å»ºç­–ç•¥æ•°æ®\nstrategies &lt;- c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\")\n\n# æˆæœ¬æ•°æ®ï¼ˆå•ä½ï¼šå…ƒï¼‰\ncosts &lt;- c(50000, 80000, 120000)\n\n# æ•ˆæœæ•°æ®ï¼ˆQALYï¼‰\nqalys &lt;- c(5.2, 6.8, 7.5)\n\n# åˆ›å»ºæ•°æ®æ¡†\ncea_data &lt;- data.frame(\n  Strategy = strategies,\n  Cost = costs,\n  QALY = qalys\n)\n\ncea_data\n\n  Strategy   Cost QALY\n1 æ ‡å‡†æ²»ç–—  50000  5.2\n2    æ–°è¯A  80000  6.8\n3    æ–°è¯B 120000  7.5\n\n\n\n\næˆæœ¬æ•ˆæœå¹³é¢å›¾\næˆæœ¬æ•ˆæœå¹³é¢å›¾æ˜¯å«ç”Ÿç»æµå­¦æœ€åŸºç¡€çš„å¯è§†åŒ–ï¼Œæ¨ªè½´ä¸ºæ•ˆæœï¼ˆQALYï¼‰ï¼Œçºµè½´ä¸ºæˆæœ¬ã€‚\n\n# åŸºç¡€æˆæœ¬æ•ˆæœå¹³é¢å›¾\nggplot(cea_data, aes(x = QALY, y = Cost, color = Strategy)) +\n  geom_point(size = 5) +\n  geom_text(aes(label = Strategy), vjust = -1, size = 4) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœå¹³é¢å›¾\",\n    x = \"è´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ (QALY)\",\n    y = \"æˆæœ¬ (å…ƒ)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  expand_limits(y = c(0, 150000))\n\n\n\n\n\n\n\n\n\n\nè®¡ç®—å¢é‡æˆæœ¬æ•ˆæœæ¯” (ICER)\nICER å…¬å¼ï¼š\\[ICER = \\frac{\\Delta Cost}{\\Delta QALY} = \\frac{Cost_B - Cost_A}{QALY_B - QALY_A}\\]\n\n# ä»¥æ ‡å‡†æ²»ç–—ä¸ºå‚ç…§è®¡ç®— ICER\nreference &lt;- cea_data[1, ]\n\nicer_results &lt;- cea_data |&gt;\n  mutate(\n    Delta_Cost = Cost - reference$Cost,\n    Delta_QALY = QALY - reference$QALY,\n    ICER = ifelse(Delta_QALY &gt; 0, Delta_Cost / Delta_QALY, NA)\n  )\n\nicer_results\n\n  Strategy   Cost QALY Delta_Cost Delta_QALY     ICER\n1 æ ‡å‡†æ²»ç–—  50000  5.2          0        0.0       NA\n2    æ–°è¯A  80000  6.8      30000        1.6 18750.00\n3    æ–°è¯B 120000  7.5      70000        2.3 30434.78",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿-ceac",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿-ceac",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)",
    "text": "æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)\n\næ¦‚ç‡æ•æ„Ÿæ€§åˆ†ææ•°æ®\næ¨¡æ‹Ÿ 1000 æ¬¡è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„ç»“æœï¼š\n\nset.seed(42)\nn_sim &lt;- 1000\n\n# æ¨¡æ‹Ÿæˆæœ¬å’Œæ•ˆæœçš„ä¸ç¡®å®šæ€§\nsim_data &lt;- data.frame(\n  simulation = rep(1:n_sim, 3),\n  Strategy = rep(c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\"), each = n_sim),\n  Cost = c(\n    rnorm(n_sim, 50000, 5000),\n    rnorm(n_sim, 80000, 10000),\n    rnorm(n_sim, 120000, 15000)\n  ),\n  QALY = c(\n    rnorm(n_sim, 5.2, 0.5),\n    rnorm(n_sim, 6.8, 0.6),\n    rnorm(n_sim, 7.5, 0.7)\n  )\n)\n\nhead(sim_data)\n\n  simulation Strategy     Cost     QALY\n1          1 æ ‡å‡†æ²»ç–— 56854.79 4.857169\n2          2 æ ‡å‡†æ²»ç–— 47176.51 4.803643\n3          3 æ ‡å‡†æ²»ç–— 51815.64 4.996498\n4          4 æ ‡å‡†æ²»ç–— 53164.31 4.625665\n5          5 æ ‡å‡†æ²»ç–— 52021.34 5.757880\n6          6 æ ‡å‡†æ²»ç–— 49469.38 4.760272\n\n\n\n\nå¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\n\n# è®¡ç®—ç›¸å¯¹äºæ ‡å‡†æ²»ç–—çš„å¢é‡\nref_data &lt;- sim_data |&gt;\n  filter(Strategy == \"æ ‡å‡†æ²»ç–—\") |&gt;\n  select(simulation, ref_Cost = Cost, ref_QALY = QALY)\n\nincremental_data &lt;- sim_data |&gt;\n  filter(Strategy != \"æ ‡å‡†æ²»ç–—\") |&gt;\n  left_join(ref_data, by = \"simulation\") |&gt;\n  mutate(\n    Delta_Cost = Cost - ref_Cost,\n    Delta_QALY = QALY - ref_QALY\n  )\n\n# ç»˜åˆ¶å¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\nggplot(incremental_data, aes(x = Delta_QALY, y = Delta_Cost, color = Strategy)) +\n  geom_point(alpha = 0.3, size = 1.5) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  # æ·»åŠ  WTP é˜ˆå€¼çº¿ï¼ˆå‡è®¾ 50000 å…ƒ/QALYï¼‰\n  geom_abline(intercept = 0, slope = 50000, linetype = \"solid\", color = \"red\", linewidth = 1) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"å¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\",\n    subtitle = \"çº¢çº¿: WTP é˜ˆå€¼ = 50,000 å…ƒ/QALY\",\n    x = \"å¢é‡ QALY (Î”QALYs)\",\n    y = \"å¢é‡æˆæœ¬ (Î”æˆæœ¬)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  annotate(\"text\", x = 2.5, y = -20000, label = \"ä¼˜åŠ¿è±¡é™\\n(æ›´æœ‰æ•ˆä¸”æ›´ä¾¿å®œ)\", \n           color = \"darkgreen\", size = 3) +\n  annotate(\"text\", x = -0.5, y = 80000, label = \"åŠ£åŠ¿è±¡é™\\n(æ›´æ— æ•ˆä¸”æ›´è´µ)\", \n           color = \"darkred\", size = 3)\n\n\n\n\n\n\n\n\n\n\næˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿\nCEAC å±•ç¤ºåœ¨ä¸åŒ WTP é˜ˆå€¼ä¸‹ï¼Œæ¯ç§ç­–ç•¥å…·æœ‰æˆæœ¬æ•ˆæœçš„æ¦‚ç‡ã€‚\n\n# å®šä¹‰ WTP èŒƒå›´\nwtp_range &lt;- seq(0, 150000, by = 5000)\n\n# è®¡ç®—æ¯ä¸ª WTP ä¸‹å„ç­–ç•¥çš„å¯æ¥å—æ¦‚ç‡\ncalculate_ceac &lt;- function(sim_data, wtp_range) {\n  strategies &lt;- unique(sim_data$Strategy)\n  results &lt;- data.frame()\n  \n  for (wtp in wtp_range) {\n    # è®¡ç®—æ¯æ¬¡æ¨¡æ‹Ÿçš„å‡€è´§å¸æ”¶ç›Š (NMB)\n    nmb_data &lt;- sim_data |&gt;\n      mutate(NMB = wtp * QALY - Cost)\n    \n    # æ‰¾å‡ºæ¯æ¬¡æ¨¡æ‹Ÿä¸­ NMB æœ€é«˜çš„ç­–ç•¥\n    best_strategy &lt;- nmb_data |&gt;\n      group_by(simulation) |&gt;\n      slice_max(NMB, n = 1) |&gt;\n      ungroup()\n    \n    # è®¡ç®—æ¯ç§ç­–ç•¥çš„æœ€ä¼˜æ¦‚ç‡\n    prob_best &lt;- best_strategy |&gt;\n      count(Strategy) |&gt;\n      mutate(Probability = n / n_sim)\n    \n    # è¡¥å……æ²¡æœ‰å‡ºç°çš„ç­–ç•¥\n    for (s in strategies) {\n      if (!s %in% prob_best$Strategy) {\n        prob_best &lt;- bind_rows(prob_best, \n                               data.frame(Strategy = s, n = 0, Probability = 0))\n      }\n    }\n    \n    prob_best$WTP &lt;- wtp\n    results &lt;- bind_rows(results, prob_best)\n  }\n  \n  results\n}\n\nceac_data &lt;- calculate_ceac(sim_data, wtp_range)\n\n# ç»˜åˆ¶ CEAC\nggplot(ceac_data, aes(x = WTP, y = Probability, color = Strategy)) +\n  geom_line(linewidth = 1.2) +\n  geom_vline(xintercept = 50000, linetype = \"dashed\", color = \"gray50\") +\n  scale_x_continuous(labels = comma_format()) +\n  scale_y_continuous(limits = c(0, 1), labels = percent_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)\",\n    x = \"æ”¯ä»˜æ„æ„¿ (WTP, å…ƒ/QALY)\",\n    y = \"æˆæœ¬æ•ˆæœçš„æ¦‚ç‡\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  annotate(\"text\", x = 55000, y = 0.95, label = \"WTP = 50,000\", \n           hjust = 0, color = \"gray30\", size = 3.5)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å†³ç­–æ ‘æ¨¡å‹",
    "href": "1015-health-economics.html#å†³ç­–æ ‘æ¨¡å‹",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å†³ç­–æ ‘æ¨¡å‹",
    "text": "å†³ç­–æ ‘æ¨¡å‹\n\nç®€å•å†³ç­–æ ‘ç¤ºä¾‹\næ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„æ²»ç–—å†³ç­–åœºæ™¯ï¼š\n\n# å†³ç­–æ ‘å‚æ•°\nparams &lt;- list(\n  # æ²»ç–—æˆåŠŸç‡\n  p_success_standard = 0.60,\n  p_success_new = 0.80,\n  \n  # æˆæœ¬\n  c_standard = 10000,\n  c_new = 25000,\n  c_success = 5000,  # æˆåŠŸåç»´æŠ¤æˆæœ¬\n  c_failure = 50000, # å¤±è´¥åè¡¥æ•‘æˆæœ¬\n  \n  # æ•ˆç”¨\n  u_success = 0.9,\n  u_failure = 0.5,\n  \n  # æ—¶é—´èŒƒå›´ï¼ˆå¹´ï¼‰\n  time_horizon = 5\n)\n\n# è®¡ç®—æœŸæœ›æˆæœ¬å’Œæ•ˆæœ\ncalculate_expected &lt;- function(p_success, c_treatment, params) {\n  # æœŸæœ›æˆæœ¬\n  expected_cost &lt;- c_treatment + \n    p_success * params$c_success + \n    (1 - p_success) * params$c_failure\n  \n  # æœŸæœ› QALY\n  expected_qaly &lt;- params$time_horizon * (\n    p_success * params$u_success + \n    (1 - p_success) * params$u_failure\n  )\n  \n  list(cost = expected_cost, qaly = expected_qaly)\n}\n\n# æ ‡å‡†æ²»ç–—\nstandard &lt;- calculate_expected(params$p_success_standard, params$c_standard, params)\n\n# æ–°æ²»ç–—\nnew_treatment &lt;- calculate_expected(params$p_success_new, params$c_new, params)\n\n# ç»“æœæ±‡æ€»\ndecision_tree_results &lt;- data.frame(\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ²»ç–—\"),\n  Expected_Cost = c(standard$cost, new_treatment$cost),\n  Expected_QALY = c(standard$qaly, new_treatment$qaly)\n) |&gt;\n  mutate(\n    ICER = c(NA, (Expected_Cost[2] - Expected_Cost[1]) / \n               (Expected_QALY[2] - Expected_QALY[1]))\n  )\n\ndecision_tree_results\n\n  Strategy Expected_Cost Expected_QALY  ICER\n1 æ ‡å‡†æ²»ç–—         33000           3.7    NA\n2   æ–°æ²»ç–—         39000           4.1 15000\n\n\n\n\nå†³ç­–æ ‘å¯è§†åŒ–\n\n# åˆ›å»ºå†³ç­–æ ‘æ•°æ®\ntree_data &lt;- data.frame(\n  x = c(0, 1, 1, 2, 2, 2, 2),\n  y = c(3, 4.5, 1.5, 5.5, 3.5, 2.5, 0.5),\n  label = c(\n    \"å†³ç­–èŠ‚ç‚¹\",\n    \"æ ‡å‡†æ²»ç–—\",\n    \"æ–°æ²»ç–—\",\n    paste0(\"æˆåŠŸ (\", params$p_success_standard * 100, \"%)\"),\n    paste0(\"å¤±è´¥ (\", (1 - params$p_success_standard) * 100, \"%)\"),\n    paste0(\"æˆåŠŸ (\", params$p_success_new * 100, \"%)\"),\n    paste0(\"å¤±è´¥ (\", (1 - params$p_success_new) * 100, \"%)\")\n  ),\n  node_type = c(\"decision\", \"chance\", \"chance\", \"outcome\", \"outcome\", \"outcome\", \"outcome\")\n)\n\n# è¿æ¥çº¿æ•°æ®\nedges &lt;- data.frame(\n  x = c(0, 0, 1, 1, 1, 1),\n  xend = c(1, 1, 2, 2, 2, 2),\n  y = c(3, 3, 4.5, 4.5, 1.5, 1.5),\n  yend = c(4.5, 1.5, 5.5, 3.5, 2.5, 0.5)\n)\n\nggplot() +\n  # ç»˜åˆ¶è¿æ¥çº¿\n  geom_segment(data = edges, \n               aes(x = x, y = y, xend = xend, yend = yend),\n               color = \"gray50\", linewidth = 0.8) +\n  # å†³ç­–èŠ‚ç‚¹ï¼ˆæ–¹å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"decision\"),\n             aes(x = x, y = y), shape = 15, size = 8, color = \"#4f46e5\") +\n  # æœºä¼šèŠ‚ç‚¹ï¼ˆåœ†å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"chance\"),\n             aes(x = x, y = y), shape = 16, size = 6, color = \"#10b981\") +\n  # ç»“æœèŠ‚ç‚¹ï¼ˆä¸‰è§’å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"outcome\"),\n             aes(x = x, y = y), shape = 17, size = 5, color = \"#f59e0b\") +\n  # æ ‡ç­¾\n  geom_text(data = tree_data,\n            aes(x = x, y = y, label = label),\n            hjust = -0.1, vjust = 0.5, size = 3.5) +\n  # æ·»åŠ ç»“æœæ•°å€¼\n  annotate(\"text\", x = 2.8, y = 5.5, \n           label = paste0(\"æˆæœ¬: \", comma(params$c_standard + params$c_success), \n                          \"\\nQALY: \", params$time_horizon * params$u_success),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 3.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_standard + params$c_failure),\n                          \"\\nQALY: \", params$time_horizon * params$u_failure),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 2.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_new + params$c_success),\n                          \"\\nQALY: \", params$time_horizon * params$u_success),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 0.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_new + params$c_failure),\n                          \"\\nQALY: \", params$time_horizon * params$u_failure),\n           hjust = 0, size = 3, color = \"gray30\") +\n  labs(title = \"æ²»ç–—å†³ç­–æ ‘æ¨¡å‹\") +\n  theme_void() +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14)) +\n  xlim(-0.5, 4) +\n  ylim(-0.5, 6.5)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#é©¬å°”å¯å¤«æ¨¡å‹",
    "href": "1015-health-economics.html#é©¬å°”å¯å¤«æ¨¡å‹",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "é©¬å°”å¯å¤«æ¨¡å‹",
    "text": "é©¬å°”å¯å¤«æ¨¡å‹\n\næ¨¡å‹æ¦‚è¿°\né©¬å°”å¯å¤«æ¨¡å‹æ˜¯å«ç”Ÿç»æµå­¦ä¸­æœ€å¸¸ç”¨çš„å»ºæ¨¡æ–¹æ³•ï¼Œç”¨äºæ¨¡æ‹Ÿç–¾ç—…è¿›å±•å’Œå¹²é¢„æ•ˆæœã€‚\n\n# å®šä¹‰æ¨¡å‹å‚æ•°\nmarkov_params &lt;- list(\n  # çŠ¶æ€åç§°\n  states = c(\"å¥åº·\", \"ç–¾ç—…\", \"æ­»äº¡\"),\n  n_states = 3,\n  \n  # å‘¨æœŸæ•°ï¼ˆå¹´ï¼‰\n  n_cycles = 20,\n  \n  # è½¬ç§»æ¦‚ç‡ï¼ˆæ ‡å‡†æ²»ç–—ï¼‰\n  p_healthy_disease_std = 0.10,\n  p_disease_death_std = 0.15,\n  \n  # è½¬ç§»æ¦‚ç‡ï¼ˆæ–°æ²»ç–—ï¼‰\n  p_healthy_disease_new = 0.05,\n  p_disease_death_new = 0.10,\n  \n  # æˆæœ¬ï¼ˆæ¯å‘¨æœŸï¼‰\n  c_healthy = 1000,\n  c_disease = 8000,\n  c_death = 0,\n  c_new_treatment = 5000,  # æ–°æ²»ç–—é¢å¤–æˆæœ¬\n  \n  # æ•ˆç”¨\n  u_healthy = 1.0,\n  u_disease = 0.6,\n  u_death = 0,\n  \n  # è´´ç°ç‡\n  discount_rate = 0.03\n)\n\n\n\næ„å»ºè½¬ç§»æ¦‚ç‡çŸ©é˜µ\n\n# æ ‡å‡†æ²»ç–—è½¬ç§»çŸ©é˜µ\ntrans_matrix_std &lt;- matrix(c(\n  0.89, 0.10, 0.01,  # ä»å¥åº·çŠ¶æ€\n  0.00, 0.84, 0.16,  # ä»ç–¾ç—…çŠ¶æ€ï¼ˆå«èƒŒæ™¯æ­»äº¡ï¼‰\n  0.00, 0.00, 1.00   # ä»æ­»äº¡çŠ¶æ€\n), nrow = 3, byrow = TRUE)\n\nrownames(trans_matrix_std) &lt;- colnames(trans_matrix_std) &lt;- markov_params$states\n\n# æ–°æ²»ç–—è½¬ç§»çŸ©é˜µ\ntrans_matrix_new &lt;- matrix(c(\n  0.94, 0.05, 0.01,  # ä»å¥åº·çŠ¶æ€\n  0.00, 0.89, 0.11,  # ä»ç–¾ç—…çŠ¶æ€\n  0.00, 0.00, 1.00   # ä»æ­»äº¡çŠ¶æ€\n), nrow = 3, byrow = TRUE)\n\nrownames(trans_matrix_new) &lt;- colnames(trans_matrix_new) &lt;- markov_params$states\n\ntrans_matrix_std\n\n     å¥åº· ç–¾ç—… æ­»äº¡\nå¥åº· 0.89 0.10 0.01\nç–¾ç—… 0.00 0.84 0.16\næ­»äº¡ 0.00 0.00 1.00\n\n\n\n\nè¿è¡Œé©¬å°”å¯å¤«æ¨¡æ‹Ÿ\n\n# é©¬å°”å¯å¤«æ¨¡æ‹Ÿå‡½æ•°\nrun_markov &lt;- function(trans_matrix, params, treatment_cost = 0) {\n  n_cycles &lt;- params$n_cycles\n  states &lt;- params$states\n  \n  # åˆå§‹çŠ¶æ€åˆ†å¸ƒï¼ˆ100% å¥åº·ï¼‰\n  state_dist &lt;- matrix(0, nrow = n_cycles + 1, ncol = 3)\n  colnames(state_dist) &lt;- states\n  state_dist[1, ] &lt;- c(1, 0, 0)\n  \n  # æˆæœ¬å’Œæ•ˆç”¨å‘é‡\n  costs &lt;- c(params$c_healthy, params$c_disease, params$c_death)\n  utilities &lt;- c(params$u_healthy, params$u_disease, params$u_death)\n  \n  # è´´ç°å› å­\n  discount_factors &lt;- (1 / (1 + params$discount_rate)) ^ (0:n_cycles)\n  \n  # æ¨¡æ‹Ÿå„å‘¨æœŸ\n  for (i in 1:n_cycles) {\n    state_dist[i + 1, ] &lt;- state_dist[i, ] %*% trans_matrix\n  }\n  \n  # è®¡ç®—æˆæœ¬å’Œ QALY\n  cycle_costs &lt;- state_dist %*% costs + treatment_cost\n  cycle_qalys &lt;- state_dist %*% utilities\n  \n  # è´´ç°åæ€»è®¡\n  total_cost &lt;- sum(cycle_costs * discount_factors)\n  total_qaly &lt;- sum(cycle_qalys * discount_factors)\n  \n  list(\n    state_dist = state_dist,\n    total_cost = total_cost,\n    total_qaly = total_qaly,\n    cycle_costs = cycle_costs,\n    cycle_qalys = cycle_qalys\n  )\n}\n\n# è¿è¡Œä¸¤ç§æ²»ç–—æ–¹æ¡ˆ\nresults_std &lt;- run_markov(trans_matrix_std, markov_params, treatment_cost = 0)\nresults_new &lt;- run_markov(trans_matrix_new, markov_params, treatment_cost = markov_params$c_new_treatment)\n\n\n\nçŠ¶æ€åˆ†å¸ƒå¯è§†åŒ–\n\n# æ•´ç†çŠ¶æ€åˆ†å¸ƒæ•°æ®\nprepare_state_data &lt;- function(results, treatment_name) {\n  data.frame(\n    Cycle = rep(0:markov_params$n_cycles, 3),\n    State = rep(markov_params$states, each = markov_params$n_cycles + 1),\n    Proportion = as.vector(results$state_dist),\n    Treatment = treatment_name\n  )\n}\n\nstate_data &lt;- bind_rows(\n  prepare_state_data(results_std, \"æ ‡å‡†æ²»ç–—\"),\n  prepare_state_data(results_new, \"æ–°æ²»ç–—\")\n)\n\n# ç»˜åˆ¶çŠ¶æ€è½¬ç§»å›¾\nggplot(state_data, aes(x = Cycle, y = Proportion, fill = State)) +\n  geom_area(alpha = 0.8) +\n  facet_wrap(~Treatment) +\n  scale_fill_manual(values = c(\"#10b981\", \"#f59e0b\", \"#6b7280\")) +\n  scale_y_continuous(labels = percent_format()) +\n  labs(\n    title = \"é©¬å°”å¯å¤«æ¨¡å‹çŠ¶æ€åˆ†å¸ƒ\",\n    x = \"å‘¨æœŸï¼ˆå¹´ï¼‰\",\n    y = \"äººç¾¤æ¯”ä¾‹\",\n    fill = \"å¥åº·çŠ¶æ€\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    strip.background = element_rect(fill = \"#4f46e5\"),\n    strip.text = element_text(color = \"white\", face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\n\né©¬å°”å¯å¤«æ¨¡å‹ç»“æœæ±‡æ€»\n\n# æ±‡æ€»ç»“æœ\nmarkov_summary &lt;- data.frame(\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ²»ç–—\"),\n  Total_Cost = c(results_std$total_cost, results_new$total_cost),\n  Total_QALY = c(results_std$total_qaly, results_new$total_qaly)\n) |&gt;\n  mutate(\n    Delta_Cost = Total_Cost - Total_Cost[1],\n    Delta_QALY = Total_QALY - Total_QALY[1],\n    ICER = ifelse(Delta_QALY &gt; 0, Delta_Cost / Delta_QALY, NA)\n  )\n\nmarkov_summary\n\n  Strategy Total_Cost Total_QALY Delta_Cost Delta_QALY     ICER\n1 æ ‡å‡†æ²»ç–—   33714.77   9.017402       0.00   0.000000       NA\n2   æ–°æ²»ç–—  111169.34  11.417944   77454.57   2.400542 32265.45",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "href": "1015-health-economics.html#å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "text": "å•å› ç´ æ•æ„Ÿæ€§åˆ†æ\n\né¾™å·é£å›¾\né¾™å·é£å›¾å±•ç¤ºå„å‚æ•°å¯¹ç»“æœçš„å½±å“ç¨‹åº¦ã€‚\n\n# å®šä¹‰å‚æ•°èŒƒå›´\nsensitivity_params &lt;- data.frame(\n  Parameter = c(\n    \"ç–¾ç—…è½¬ç§»æ¦‚ç‡ (æ ‡å‡†)\",\n    \"æ­»äº¡è½¬ç§»æ¦‚ç‡ (æ ‡å‡†)\",\n    \"ç–¾ç—…è½¬ç§»æ¦‚ç‡ (æ–°)\",\n    \"æ­»äº¡è½¬ç§»æ¦‚ç‡ (æ–°)\",\n    \"ç–¾ç—…çŠ¶æ€æˆæœ¬\",\n    \"æ–°æ²»ç–—æˆæœ¬\",\n    \"è´´ç°ç‡\"\n  ),\n  Base = c(0.10, 0.15, 0.05, 0.10, 8000, 5000, 0.03),\n  Low = c(0.05, 0.10, 0.03, 0.05, 5000, 3000, 0.00),\n  High = c(0.15, 0.20, 0.08, 0.15, 12000, 8000, 0.05)\n)\n\n# æ¨¡æ‹Ÿæ•æ„Ÿæ€§åˆ†æç»“æœï¼ˆç®€åŒ–æ¼”ç¤ºï¼‰\nset.seed(123)\ntornado_data &lt;- sensitivity_params |&gt;\n  mutate(\n    ICER_low = runif(n(), 15000, 35000),\n    ICER_high = runif(n(), 35000, 55000),\n    ICER_base = 32000\n  ) |&gt;\n  arrange(desc(abs(ICER_high - ICER_low)))\n\n# ç»˜åˆ¶é¾™å·é£å›¾\nggplot(tornado_data) +\n  geom_segment(aes(y = reorder(Parameter, abs(ICER_high - ICER_low)),\n                   yend = reorder(Parameter, abs(ICER_high - ICER_low)),\n                   x = ICER_low, xend = ICER_high),\n               linewidth = 8, color = \"#4f46e5\", alpha = 0.7) +\n  geom_vline(xintercept = tornado_data$ICER_base[1], \n             linetype = \"dashed\", color = \"red\", linewidth = 1) +\n  scale_x_continuous(labels = comma_format()) +\n  labs(\n    title = \"é¾™å·é£å›¾ - å•å› ç´ æ•æ„Ÿæ€§åˆ†æ\",\n    subtitle = \"çº¢è‰²è™šçº¿: åŸºå‡† ICER\",\n    x = \"ICER (å…ƒ/QALY)\",\n    y = \"å‚æ•°\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    panel.grid.major.y = element_blank()\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœå‰æ²¿",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœå‰æ²¿",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœå‰æ²¿",
    "text": "æˆæœ¬æ•ˆæœå‰æ²¿\n\næ•ˆç‡å‰æ²¿çº¿\næ•ˆç‡å‰æ²¿å±•ç¤ºåœ¨ç»™å®šæˆæœ¬ä¸‹å¯è¾¾åˆ°çš„æœ€å¤§æ•ˆæœã€‚\n\n# åˆ›å»ºå¤šç­–ç•¥æ•°æ®\nfrontier_data &lt;- data.frame(\n  Strategy = c(\"æ— å¹²é¢„\", \"æ–¹æ¡ˆA\", \"æ–¹æ¡ˆB\", \"æ–¹æ¡ˆC\", \"æ–¹æ¡ˆD\", \"æ–¹æ¡ˆE\"),\n  Cost = c(10000, 30000, 45000, 60000, 90000, 100000),\n  QALY = c(4.0, 5.5, 6.2, 6.8, 7.8, 7.9)\n)\n\n# è¯†åˆ«æ•ˆç‡å‰æ²¿ä¸Šçš„ç­–ç•¥ï¼ˆç®€åŒ–ç®—æ³•ï¼‰\nfrontier_data &lt;- frontier_data |&gt;\n  arrange(Cost) |&gt;\n  mutate(\n    on_frontier = c(TRUE, TRUE, TRUE, FALSE, TRUE, FALSE)  # æ‰‹åŠ¨æ ‡è®°\n  )\n\nggplot(frontier_data, aes(x = QALY, y = Cost)) +\n  # ç»˜åˆ¶æ•ˆç‡å‰æ²¿çº¿\n  geom_line(data = frontier_data |&gt; filter(on_frontier),\n            color = \"#4f46e5\", linewidth = 1.2) +\n  # æ‰€æœ‰ç‚¹\n  geom_point(aes(color = on_frontier), size = 5) +\n  # æ ‡ç­¾\n  geom_text(aes(label = Strategy), vjust = -1, size = 3.5) +\n  scale_color_manual(values = c(\"TRUE\" = \"#10b981\", \"FALSE\" = \"#ef4444\"),\n                     labels = c(\"TRUE\" = \"æ•ˆç‡å‰æ²¿\", \"FALSE\" = \"è¢«æ”¯é…\")) +\n  scale_y_continuous(labels = comma_format()) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœæ•ˆç‡å‰æ²¿\",\n    x = \"è´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ (QALY)\",\n    y = \"æˆæœ¬ (å…ƒ)\",\n    color = \"ç­–ç•¥çŠ¶æ€\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "href": "1015-health-economics.html#å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "text": "å‡€è´§å¸æ”¶ç›Šåˆ†æ\n\nNMB è®¡ç®—ä¸å¯è§†åŒ–\nå‡€è´§å¸æ”¶ç›Šï¼ˆNet Monetary Benefitï¼‰ï¼š\\[NMB = WTP \\times \\Delta QALY - \\Delta Cost\\]\n\n# è®¡ç®—ä¸åŒ WTP ä¸‹çš„ NMB\nwtp_values &lt;- seq(0, 100000, by = 10000)\n\nnmb_data &lt;- expand.grid(\n  WTP = wtp_values,\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\")\n) |&gt;\n  left_join(cea_data, by = \"Strategy\") |&gt;\n  mutate(\n    NMB = WTP * QALY - Cost\n  )\n\nggplot(nmb_data, aes(x = WTP, y = NMB, color = Strategy)) +\n  geom_line(linewidth = 1.2) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  scale_x_continuous(labels = comma_format()) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"å‡€è´§å¸æ”¶ç›Š (NMB) åˆ†æ\",\n    x = \"æ”¯ä»˜æ„æ„¿ (WTP, å…ƒ/QALY)\",\n    y = \"å‡€è´§å¸æ”¶ç›Š (å…ƒ)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å®ç”¨å‡½æ•°å°è£…",
    "href": "1015-health-economics.html#å®ç”¨å‡½æ•°å°è£…",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å®ç”¨å‡½æ•°å°è£…",
    "text": "å®ç”¨å‡½æ•°å°è£…\n\nICER è®¡ç®—å‡½æ•°\n\n#' è®¡ç®— ICER\n#' @param cost_new æ–°æ²»ç–—æˆæœ¬\n#' @param cost_ref å‚ç…§æ²»ç–—æˆæœ¬\n#' @param effect_new æ–°æ²»ç–—æ•ˆæœ\n#' @param effect_ref å‚ç…§æ²»ç–—æ•ˆæœ\n#' @return ICER å€¼\ncalculate_icer &lt;- function(cost_new, cost_ref, effect_new, effect_ref) {\n  delta_cost &lt;- cost_new - cost_ref\n  delta_effect &lt;- effect_new - effect_ref\n  \n  if (delta_effect &lt;= 0) {\n    warning(\"å¢é‡æ•ˆæœ &lt;= 0ï¼Œæ–°æ²»ç–—å¯èƒ½è¢«æ”¯é…\")\n    return(NA)\n  }\n  \n  icer &lt;- delta_cost / delta_effect\n  \n  cat(\"å¢é‡æˆæœ¬:\", comma(delta_cost), \"å…ƒ\\n\")\n  cat(\"å¢é‡æ•ˆæœ:\", round(delta_effect, 3), \"QALY\\n\")\n  cat(\"ICER:\", comma(round(icer, 0)), \"å…ƒ/QALY\\n\")\n  \n  invisible(icer)\n}\n\n# ç¤ºä¾‹\ncalculate_icer(\n  cost_new = 80000, cost_ref = 50000,\n  effect_new = 6.8, effect_ref = 5.2\n)\n\nå¢é‡æˆæœ¬: 30,000 å…ƒ\nå¢é‡æ•ˆæœ: 1.6 QALY\nICER: 18,750 å…ƒ/QALY",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æ€»ç»“",
    "href": "1015-health-economics.html#æ€»ç»“",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nå«ç”Ÿç»æµå­¦è¯„ä»·æ˜¯åŒ»ç–—å†³ç­–çš„é‡è¦å·¥å…·ï¼ŒR è¯­è¨€æä¾›äº†å¼ºå¤§çš„åˆ†æèƒ½åŠ›ï¼š\n\n\n\nåˆ†æç±»å‹\nå…³é”®æŒ‡æ ‡\næ¨èæ–¹æ³•\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nICER\nå¢é‡åˆ†æã€æ•ˆç‡å‰æ²¿\n\n\nä¸ç¡®å®šæ€§åˆ†æ\nCEACã€é¾™å·é£å›¾\næ¦‚ç‡æ•æ„Ÿæ€§åˆ†æ\n\n\nç–¾ç—…å»ºæ¨¡\nçŠ¶æ€åˆ†å¸ƒã€ç”Ÿå­˜æ›²çº¿\né©¬å°”å¯å¤«æ¨¡å‹ã€å†³ç­–æ ‘\n\n\nå†³ç­–æ”¯æŒ\nNMB\nå‡€è´§å¸æ”¶ç›Šåˆ†æ\n\n\n\n\næ¨èå­¦ä¹ èµ„æº\n\nDARTH å·¥ä½œç»„ - å†³ç­–åˆ†æå»ºæ¨¡æ•™ç¨‹\nISPOR æŒ‡å— - å«ç”Ÿç»æµå­¦æ–¹æ³•å­¦æ ‡å‡†\nR for Health Technology Assessment - R è¯­è¨€ HTA èµ„æº\n\n\n\nå¸¸ç”¨ WTP é˜ˆå€¼å‚è€ƒ\n\n\n\nå›½å®¶/åœ°åŒº\nWTP é˜ˆå€¼ï¼ˆæ¯ QALYï¼‰\n\n\n\n\nä¸­å›½\n1-3 å€äººå‡ GDPï¼ˆçº¦ 7-21 ä¸‡å…ƒï¼‰\n\n\nè‹±å›½ (NICE)\nÂ£20,000-30,000\n\n\nç¾å›½\n$50,000-150,000\n\n\nWHO æ¨è\n1-3 å€äººå‡ GDP",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1014-future.html",
    "href": "1014-future.html",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨æ•°æ®ç§‘å­¦å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°éœ€è¦å¤§é‡è®¡ç®—çš„ä»»åŠ¡ï¼š\n\næ‰¹é‡å¤„ç†æ•°åƒä¸ªæ–‡ä»¶\nè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿæ•°ç™¾ä¸‡æ¬¡\nå¤§è§„æ¨¡æœºå™¨å­¦ä¹ äº¤å‰éªŒè¯\nå¤šæ¨¡å‹å‚æ•°è°ƒä¼˜\n\nfuture åŒ…æä¾›äº† R è¯­è¨€ä¸­æœ€ä¼˜é›…ã€æœ€ç°ä»£çš„å¹¶è¡Œè®¡ç®—è§£å†³æ–¹æ¡ˆã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š\n\nâ€œWrite once, run anywhereâ€ â€” ä»£ç ç¼–å†™ä¸€æ¬¡ï¼Œå¯åœ¨ä»»ä½•æ‰§è¡Œç¯å¢ƒè¿è¡Œ\n\næœ¬æ•™ç¨‹å°†å…¨é¢ä»‹ç» future ç”Ÿæ€ç³»ç»Ÿï¼Œå¸®åŠ©ä½ å¤§å¹…æå‡è®¡ç®—æ•ˆç‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#å‰è¨€",
    "href": "1014-future.html#å‰è¨€",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨æ•°æ®ç§‘å­¦å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°éœ€è¦å¤§é‡è®¡ç®—çš„ä»»åŠ¡ï¼š\n\næ‰¹é‡å¤„ç†æ•°åƒä¸ªæ–‡ä»¶\nè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿæ•°ç™¾ä¸‡æ¬¡\nå¤§è§„æ¨¡æœºå™¨å­¦ä¹ äº¤å‰éªŒè¯\nå¤šæ¨¡å‹å‚æ•°è°ƒä¼˜\n\nfuture åŒ…æä¾›äº† R è¯­è¨€ä¸­æœ€ä¼˜é›…ã€æœ€ç°ä»£çš„å¹¶è¡Œè®¡ç®—è§£å†³æ–¹æ¡ˆã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š\n\nâ€œWrite once, run anywhereâ€ â€” ä»£ç ç¼–å†™ä¸€æ¬¡ï¼Œå¯åœ¨ä»»ä½•æ‰§è¡Œç¯å¢ƒè¿è¡Œ\n\næœ¬æ•™ç¨‹å°†å…¨é¢ä»‹ç» future ç”Ÿæ€ç³»ç»Ÿï¼Œå¸®åŠ©ä½ å¤§å¹…æå‡è®¡ç®—æ•ˆç‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#å¹¶è¡Œè®¡ç®—åŸºç¡€æ¦‚å¿µ",
    "href": "1014-future.html#å¹¶è¡Œè®¡ç®—åŸºç¡€æ¦‚å¿µ",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "1. å¹¶è¡Œè®¡ç®—åŸºç¡€æ¦‚å¿µ",
    "text": "1. å¹¶è¡Œè®¡ç®—åŸºç¡€æ¦‚å¿µ\n\nä¸ºä»€ä¹ˆéœ€è¦å¹¶è¡Œï¼Ÿ\n\n\n\nåœºæ™¯\nä¸²è¡Œæ‰§è¡Œ\nå¹¶è¡Œæ‰§è¡Œï¼ˆ4æ ¸ï¼‰\n\n\n\n\n1000æ¬¡æ¨¡æ‹Ÿ\n100ç§’\n~25ç§’\n\n\nå¤„ç†100ä¸ªæ–‡ä»¶\n50ç§’\n~13ç§’\n\n\n10æŠ˜äº¤å‰éªŒè¯\n60ç§’\n~6ç§’\n\n\n\n\n\nå¹¶è¡Œçš„ç±»å‹\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                     å¹¶è¡Œè®¡ç®—ç±»å‹                          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  å¤šçº¿ç¨‹ (Multithreading)                                 â”‚\nâ”‚  â””â”€ å…±äº«å†…å­˜ï¼Œé€‚åˆ I/O å¯†é›†å‹ä»»åŠ¡                         â”‚\nâ”‚                                                          â”‚\nâ”‚  å¤šè¿›ç¨‹ (Multiprocessing)                                â”‚\nâ”‚  â””â”€ ç‹¬ç«‹å†…å­˜ï¼Œé€‚åˆ CPU å¯†é›†å‹ä»»åŠ¡ï¼ˆR çš„ä¸»è¦æ–¹å¼ï¼‰          â”‚\nâ”‚                                                          â”‚\nâ”‚  åˆ†å¸ƒå¼è®¡ç®— (Distributed)                                 â”‚\nâ”‚  â””â”€ è·¨æœºå™¨è®¡ç®—ï¼Œé€‚åˆè¶…å¤§è§„æ¨¡ä»»åŠ¡                          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\nR å¹¶è¡Œå·¥å…·æ¼”è¿›\n\n\n\næ—¶æœŸ\nå·¥å…·\nç‰¹ç‚¹\n\n\n\n\næ—©æœŸ\nparallel::mclapply\nä»… Unix/Mac\n\n\næ—©æœŸ\nparallel::parLapply\nè·¨å¹³å°ä½†ç¹ç\n\n\nç°ä»£\nforeach + doParallel\né€šç”¨ä½†è¯­æ³•å¤æ‚\n\n\nå½“å‰æ¨è\nfuture\nç»Ÿä¸€æ¥å£ï¼Œç®€æ´ä¼˜é›…",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#future-åŒ…å…¥é—¨",
    "href": "1014-future.html#future-åŒ…å…¥é—¨",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "2. future åŒ…å…¥é—¨",
    "text": "2. future åŒ…å…¥é—¨\n\nå®‰è£…ä¸åŠ è½½\n\n# å®‰è£…ï¼ˆå¦‚æœªå®‰è£…ï¼‰\n# install.packages(\"future\")\n# install.packages(\"future.apply\")  # apply å®¶æ—å¹¶è¡Œç‰ˆ\n# install.packages(\"furrr\")          # purrr å¹¶è¡Œç‰ˆ\n\nlibrary(future)\nlibrary(future.apply)\nlibrary(furrr)\nlibrary(dplyr) # æ•°æ®å¤„ç†\nlibrary(tictoc) # è®¡æ—¶\n\n\n\næ ¸å¿ƒæ¦‚å¿µï¼šFuture å¯¹è±¡\nFuture æ˜¯ä¸€ä¸ªâ€æ‰¿è¯ºâ€â€”â€”æ‰¿è¯ºåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»è¿”å›ç»“æœã€‚\n\n# åˆ›å»ºä¸€ä¸ª future\nf &lt;- future({\n    Sys.sleep(2) # æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ\n    42\n})\n\n# future æ˜¯éé˜»å¡çš„ï¼ˆç«‹å³è¿”å›ï¼‰\nprint(\"Future å·²åˆ›å»ºï¼Œè¿˜æœªæ‰§è¡Œå®Œ\")\n\n[1] \"Future å·²åˆ›å»ºï¼Œè¿˜æœªæ‰§è¡Œå®Œ\"\n\n# è·å–ç»“æœï¼ˆä¼šé˜»å¡ç›´åˆ°å®Œæˆï¼‰\nresult &lt;- value(f)\nprint(paste(\"ç»“æœ:\", result))\n\n[1] \"ç»“æœ: 42\"\n\n\n\n\næ˜¾å¼ vs éšå¼ Future\n\n# å®šä¹‰ä¸€ä¸ªæ¨¡æ‹Ÿè€—æ—¶çš„å‡½æ•°\nslow_function &lt;- function() {\n    Sys.sleep(0.5)\n    return(\"å®Œæˆ!\")\n}\n\n# æ˜¾å¼ futureï¼ˆæ‰‹åŠ¨åˆ›å»ºï¼‰\nf &lt;- future(slow_function())\nv &lt;- value(f)\nprint(paste(\"æ˜¾å¼ Future ç»“æœ:\", v))\n\n[1] \"æ˜¾å¼ Future ç»“æœ: å®Œæˆ!\"\n\n# éšå¼ futureï¼ˆä½¿ç”¨ %&lt;-% è¯­æ³•ï¼‰\nv2 %&lt;-% {\n    Sys.sleep(0.5)\n    100 * 2\n}\n\n# v2 åœ¨éœ€è¦æ—¶è‡ªåŠ¨è·å–å€¼\nprint(paste(\"éšå¼ Future ç»“æœ:\", v2))\n\n[1] \"éšå¼ Future ç»“æœ: 200\"",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#æ‰§è¡Œç­–ç•¥è¯¦è§£-plan",
    "href": "1014-future.html#æ‰§è¡Œç­–ç•¥è¯¦è§£-plan",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "3. æ‰§è¡Œç­–ç•¥è¯¦è§£ (Plan)",
    "text": "3. æ‰§è¡Œç­–ç•¥è¯¦è§£ (Plan)\n\nplan() çš„ä½œç”¨\nplan() å†³å®š future å¦‚ä½•æ‰§è¡Œã€‚è¿™æ˜¯ future åŒ…æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼š\n\næ”¹å˜ä¸€è¡Œä»£ç ï¼Œå³å¯åˆ‡æ¢ä¸²è¡Œ/å¹¶è¡Œ/åˆ†å¸ƒå¼æ‰§è¡Œ\n\n\n\nå¸¸ç”¨æ‰§è¡Œç­–ç•¥\n\n\n\nç­–ç•¥\nè¯´æ˜\né€‚ç”¨åœºæ™¯\n\n\n\n\nsequential\nä¸²è¡Œæ‰§è¡Œï¼ˆé»˜è®¤ï¼‰\nå¼€å‘è°ƒè¯•\n\n\nmultisession\nå¤šè¿›ç¨‹ï¼ˆè·¨å¹³å°ï¼‰\næœ€å¸¸ç”¨\n\n\nmulticore\nå¤šè¿›ç¨‹ï¼ˆUnix/Macï¼‰\nå†…å­˜æ•ˆç‡é«˜\n\n\ncluster\nåˆ†å¸ƒå¼é›†ç¾¤\nå¤šæœºå™¨\n\n\n\n\n\nplan() ä½¿ç”¨ç¤ºä¾‹\n\n# æŸ¥çœ‹å½“å‰ç­–ç•¥\nplan()\n\nsequential:\n- args: function (..., envir = parent.frame(), workers = \"&lt;NULL&gt;\")\n- tweaked: FALSE\n- call: plan(sequential)\nSequentialFutureBackend:\nInherits: FutureBackend\nUUID: 1d854a28d88e8f9dda2228feea681e6d\nNumber of workers: 1\nNumber of free workers: 1\nAvailable cores: 32\nAutomatic garbage collection: FALSE\nEarly signaling: FALSE\nInterrupts are enabled: TRUE\nMaximum total size of globals: +Inf\nMaximum total size of value: +Inf\nArgument 'hooks': FALSE\nNumber of active futures: 0\nNumber of futures since start: 3 (3 created, 3 launched, 3 finished)\nTotal runtime of futures: 3.083879 secs (1.02796 secs/finished future)\n\n# è®¾ç½®ä¸ºå¤šè¿›ç¨‹ï¼ˆä½¿ç”¨æ‰€æœ‰å¯ç”¨æ ¸å¿ƒï¼‰\nplan(multisession, workers = availableCores())\n\n# æˆ–æŒ‡å®šæ ¸å¿ƒæ•°\nplan(multisession, workers = 4)\n\n# æ¢å¤ä¸²è¡Œ\nplan(sequential)\n\n\n\næ£€æµ‹å¯ç”¨èµ„æº\n\n# å¯ç”¨ CPU æ ¸å¿ƒæ•°\ncat(\"å¯ç”¨æ ¸å¿ƒ:\", availableCores(), \"\\n\")\n\nå¯ç”¨æ ¸å¿ƒ: 32 \n\n# å¯ç”¨å†…å­˜\ncat(\"å¯ç”¨å†…å­˜:\", availableCores(methods = \"system\"), \"\\n\")\n\nå¯ç”¨å†…å­˜: 32",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#future.applyå¹¶è¡Œ-apply-å‡½æ•°",
    "href": "1014-future.html#future.applyå¹¶è¡Œ-apply-å‡½æ•°",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "4. future.applyï¼šå¹¶è¡Œ apply å‡½æ•°",
    "text": "4. future.applyï¼šå¹¶è¡Œ apply å‡½æ•°\n\nå‡½æ•°å¯¹ç…§è¡¨\n\n\n\næ ‡å‡†å‡½æ•°\nfuture.apply ç‰ˆæœ¬\n\n\n\n\nlapply()\nfuture_lapply()\n\n\nsapply()\nfuture_sapply()\n\n\nvapply()\nfuture_vapply()\n\n\nmapply()\nfuture_mapply()\n\n\napply()\nfuture_apply()\n\n\nby()\nfuture_by()\n\n\n\n\n\nåŸºç¡€ç¤ºä¾‹\n\n# å®šä¹‰è€—æ—¶å‡½æ•°\nslow_sqrt &lt;- function(x) {\n    Sys.sleep(0.1) # æ¨¡æ‹Ÿè®¡ç®—\n    sqrt(x)\n}\n\n# æµ‹è¯•æ•°æ®\nnumbers &lt;- 1:20\n\n# ä¸²è¡Œæ‰§è¡Œ\nplan(sequential)\ntic(\"ä¸²è¡Œ\")\nresult_seq &lt;- future_sapply(numbers, slow_sqrt)\ntoc()\n\nä¸²è¡Œ: 2.2 sec elapsed\n\n# å¹¶è¡Œæ‰§è¡Œ\nplan(multisession, workers = 4)\ntic(\"å¹¶è¡Œï¼ˆ4æ ¸ï¼‰\")\nresult_par &lt;- future_sapply(numbers, slow_sqrt)\ntoc()\n\nå¹¶è¡Œï¼ˆ4æ ¸ï¼‰: 0.69 sec elapsed\n\n# æ¢å¤ä¸²è¡Œ\nplan(sequential)\n\n\n\nå®é™…æ¡ˆä¾‹ï¼šæ‰¹é‡æ–‡ä»¶å¤„ç†\n\nlibrary(readr)\nlibrary(future.apply)\n\n# è®¾ç½®å¹¶è¡Œ\nplan(multisession, workers = 4)\n\n# è·å–æ‰€æœ‰ CSV æ–‡ä»¶\ncsv_files &lt;- list.files(\"data/\", pattern = \"\\\\.csv$\", full.names = TRUE)\n\n# å¹¶è¡Œè¯»å–å¹¶å¤„ç†\nresults &lt;- future_lapply(csv_files, function(file) {\n    df &lt;- read_csv(file, show_col_types = FALSE)\n\n    # å¤„ç†é€»è¾‘\n    df_processed &lt;- df %&gt;%\n        filter(!is.na(key_column)) %&gt;%\n        mutate(processed = TRUE)\n\n    return(df_processed)\n}, future.seed = TRUE) # ç¡®ä¿å¯é‡å¤æ€§\n\n# åˆå¹¶ç»“æœ\nfinal_data &lt;- bind_rows(results)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#furrrå¹¶è¡ŒåŒ–çš„-purrr",
    "href": "1014-future.html#furrrå¹¶è¡ŒåŒ–çš„-purrr",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "5. furrrï¼šå¹¶è¡ŒåŒ–çš„ purrr",
    "text": "5. furrrï¼šå¹¶è¡ŒåŒ–çš„ purrr\n\nä¸ºä»€ä¹ˆç”¨ furrrï¼Ÿ\nå¦‚æœä½ å·²ç»ä¹ æƒ¯äº† purrr çš„ä¼˜é›…è¯­æ³•ï¼Œfurrr è®©ä½ æ— ç¼åˆ‡æ¢åˆ°å¹¶è¡Œï¼š\n\n\n\npurrr å‡½æ•°\nfurrr ç‰ˆæœ¬\n\n\n\n\nmap()\nfuture_map()\n\n\nmap_dfr()\nfuture_map_dfr()\n\n\nmap2()\nfuture_map2()\n\n\npmap()\nfuture_pmap()\n\n\nwalk()\nfuture_walk()\n\n\nimap()\nfuture_imap()\n\n\n\n\n\nåŸºç¡€ç¤ºä¾‹\n\nlibrary(purrr)\nlibrary(furrr)\n\n# è®¾ç½®å¹¶è¡Œ\nplan(multisession, workers = 4)\n\n# purrr è¯­æ³•å®Œå…¨ä¿ç•™\nresults &lt;- future_map(1:10, ~ {\n    Sys.sleep(0.1)\n    .x^2\n})\n\n# è¿”å› data.frame\nresults_df &lt;- future_map_dfr(1:5, ~ {\n    tibble(\n        input = .x,\n        square = .x^2,\n        sqrt = sqrt(.x)\n    )\n})\n\nprint(results_df)\n\n# A tibble: 5 Ã— 3\n  input square  sqrt\n  &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;\n1     1      1  1   \n2     2      4  1.41\n3     3      9  1.73\n4     4     16  2   \n5     5     25  2.24\n\n# æ¢å¤ä¸²è¡Œ\nplan(sequential)\n\n\n\nå¤šå‚æ•°å¹¶è¡Œï¼šfuture_map2 / future_pmap\n\nplan(multisession, workers = 4)\n\n# ä¸¤ä¸ªè¾“å…¥å‘é‡\nx &lt;- 1:5\ny &lt;- 6:10\n\n# å¹¶è¡Œå¤„ç†\nresults &lt;- future_map2(x, y, ~ {\n    Sys.sleep(0.1)\n    .x + .y\n})\n\nprint(unlist(results))\n\n[1]  7  9 11 13 15\n\n# å¤šå‚æ•°\nparams &lt;- list(\n    a = 1:3,\n    b = 4:6,\n    c = 7:9\n)\n\nresults &lt;- future_pmap(params, function(a, b, c) {\n    a * b + c\n})\n\nprint(unlist(results))\n\n[1] 11 18 27\n\nplan(sequential)\n\n\n\nä¿ç•™è¾“å…¥åç§°\n\nplan(multisession, workers = 2)\n\nnamed_list &lt;- list(\n    first = 10,\n    second = 20,\n    third = 30\n)\n\n# ä½¿ç”¨ future_imap ä¿ç•™åç§°\nresults &lt;- future_imap(named_list, ~ {\n    paste0(.y, \": \", .x * 2)\n})\n\nprint(results)\n\n$first\n[1] \"first: 20\"\n\n$second\n[1] \"second: 40\"\n\n$third\n[1] \"third: 60\"\n\nplan(sequential)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#è¿›åº¦æ˜¾ç¤ºprogressr",
    "href": "1014-future.html#è¿›åº¦æ˜¾ç¤ºprogressr",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "6. è¿›åº¦æ˜¾ç¤ºï¼šprogressr",
    "text": "6. è¿›åº¦æ˜¾ç¤ºï¼šprogressr\n\nå®‰è£…å’Œé…ç½®\n\n# install.packages(\"progressr\")\nlibrary(progressr)\n\n# é…ç½®è¿›åº¦å¤„ç†å™¨ï¼ˆæ–‡æœ¬è¿›åº¦æ¡ï¼‰\n# handlers(\"txtprogressbar\") å¯ä»¥è®¾ç½®ä¸åŒçš„è¿›åº¦æ˜¾ç¤ºæ–¹å¼\n\n\n\nä½¿ç”¨è¿›åº¦æ¡\n\nplan(multisession, workers = 2)\n\n# å®šä¹‰å¸¦è¿›åº¦çš„å‡½æ•°\nprocess_with_progress &lt;- function(items) {\n    p &lt;- progressr::progressor(along = items)\n\n    future_map(items, function(x) {\n        Sys.sleep(0.05)\n        p() # æ›´æ–°è¿›åº¦\n        x^2\n    })\n}\n\n# è¿è¡Œ\nresults &lt;- process_with_progress(1:10)\n\ncat(\"å¤„ç†å®Œæˆï¼Œç»“æœæ•°é‡:\", length(results), \"\\n\")\n\nå¤„ç†å®Œæˆï¼Œç»“æœæ•°é‡: 10 \n\nplan(sequential)\n\n\n\nè‡ªå®šä¹‰è¿›åº¦æ ·å¼\n\n# Shiny é£æ ¼è¿›åº¦æ¡\nhandlers(\"shiny\")\n\n# å¸¦ ETA çš„è¿›åº¦æ¡\nhandlers(handler_txtprogressbar(style = 3))\n\n# å“”å£°æç¤º\nhandlers(handler_beepr())\n\n# å¤šç§å¤„ç†å™¨ç»„åˆ\nhandlers(list(\n    handler_txtprogressbar(),\n    handler_beepr(finish = TRUE)\n))",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#é”™è¯¯å¤„ç†ä¸è°ƒè¯•",
    "href": "1014-future.html#é”™è¯¯å¤„ç†ä¸è°ƒè¯•",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "7. é”™è¯¯å¤„ç†ä¸è°ƒè¯•",
    "text": "7. é”™è¯¯å¤„ç†ä¸è°ƒè¯•\n\næ•è·é”™è¯¯\n\nplan(multisession, workers = 2)\n\n# å®šä¹‰å¯èƒ½å‡ºé”™çš„å‡½æ•°\nrisky_function &lt;- function(x) {\n    if (x == 5) stop(\"Error at 5!\")\n    sqrt(x)\n}\n\n# ä½¿ç”¨ safely åŒ…è£…\nsafe_risky &lt;- purrr::safely(risky_function)\n\nresults &lt;- future_map(1:10, safe_risky)\n\n# æå–ç»“æœå’Œé”™è¯¯\nsuccesses &lt;- map(results, \"result\") %&gt;% compact()\nerrors &lt;- map(results, \"error\") %&gt;% compact()\n\ncat(\"æˆåŠŸ:\", length(successes), \"\\n\")\n\næˆåŠŸ: 9 \n\ncat(\"å¤±è´¥:\", length(errors), \"\\n\")\n\nå¤±è´¥: 1 \n\nplan(sequential)\n\n\n\nè°ƒè¯•æŠ€å·§\n\n# 1. å…ˆåœ¨ä¸²è¡Œæ¨¡å¼ä¸‹è°ƒè¯•\nplan(sequential)\n\n# è¿è¡Œä»£ç ï¼Œç¡®ä¿æ— é”™è¯¯\nresult &lt;- future_map(data, my_function)\n\n# 2. åˆ‡æ¢å¹¶è¡Œ\nplan(multisession, workers = 4)\n\n# å†æ¬¡è¿è¡Œ\nresult &lt;- future_map(data, my_function)\n\n\n\nfuture é€‰é¡¹\n\n# æŸ¥çœ‹å½“å‰ future é…ç½®\ncat(\"å½“å‰ç­–ç•¥:\", class(plan())[1], \"\\n\")\n\nå½“å‰ç­–ç•¥: FutureStrategy \n\ncat(\"å¯ç”¨æ ¸å¿ƒ:\", availableCores(), \"\\n\")\n\nå¯ç”¨æ ¸å¿ƒ: 32 \n\n# å¸¸ç”¨è®¾ç½®\noptions(\n    future.rng.onMisuse = \"warning\", # éšæœºæ•°è­¦å‘Š\n    future.globals.maxSize = 1024 * 1024^2 # å…¨å±€å˜é‡æœ€å¤§ 1GB\n)\n\ncat(\"é…ç½®å®Œæˆ\\n\")\n\né…ç½®å®Œæˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "1014-future.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "8. å®æˆ˜æ¡ˆä¾‹",
    "text": "8. å®æˆ˜æ¡ˆä¾‹\n\nè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ\n\n# ä¼°ç®—åœ†å‘¨ç‡ Ï€\nestimate_pi &lt;- function(n) {\n    x &lt;- runif(n)\n    y &lt;- runif(n)\n    inside &lt;- sum(x^2 + y^2 &lt;= 1)\n    4 * inside / n\n}\n\n# å¹¶è¡Œæ‰§è¡Œå¤šæ¬¡æ¨¡æ‹Ÿ\nplan(multisession, workers = 4)\n\nset.seed(123)\nn_simulations &lt;- 100\npoints_per_sim &lt;- 10000\n\ntic(\"Monte Carlo Pi Estimation\")\npi_estimates &lt;- future_map_dbl(\n    1:n_simulations,\n    ~ estimate_pi(points_per_sim),\n    .options = furrr_options(seed = TRUE) # ç¡®ä¿å¯é‡å¤\n)\ntoc()\n\nMonte Carlo Pi Estimation: 0.39 sec elapsed\n\ncat(\"Ï€ ä¼°è®¡å€¼:\", mean(pi_estimates), \"\\n\")\n\nÏ€ ä¼°è®¡å€¼: 3.141152 \n\ncat(\"æ ‡å‡†è¯¯:\", sd(pi_estimates), \"\\n\")\n\næ ‡å‡†è¯¯: 0.01795233 \n\ncat(\"çœŸå®å€¼:\", pi, \"\\n\")\n\nçœŸå®å€¼: 3.141593 \n\nplan(sequential)\n\n\n\näº¤å‰éªŒè¯\n\nlibrary(caret)\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\nset.seed(42)\ndata &lt;- data.frame(\n    x1 = rnorm(200),\n    x2 = rnorm(200),\n    y = factor(sample(c(\"A\", \"B\"), 200, replace = TRUE))\n)\n\n# åˆ›å»º 5 æŠ˜åˆ†å‰²\nfolds &lt;- createFolds(data$y, k = 5, returnTrain = TRUE)\n\n# å®šä¹‰è®­ç»ƒå‡½æ•°\ntrain_fold &lt;- function(fold_idx) {\n    train_data &lt;- data[folds[[fold_idx]], ]\n    test_data &lt;- data[-folds[[fold_idx]], ]\n\n    model &lt;- glm(y ~ x1 + x2, data = train_data, family = binomial)\n\n    pred_probs &lt;- predict(model, test_data, type = \"response\")\n    pred_class &lt;- ifelse(pred_probs &gt; 0.5, \"B\", \"A\")\n\n    accuracy &lt;- mean(pred_class == test_data$y)\n    return(accuracy)\n}\n\n# å¹¶è¡Œäº¤å‰éªŒè¯\nplan(multisession, workers = 4)\n\ntic(\"5-Fold CV\")\ncv_results &lt;- future_map_dbl(1:5, train_fold)\ntoc()\n\n5-Fold CV: 0.47 sec elapsed\n\ncat(\"å„æŠ˜å‡†ç¡®ç‡:\", round(cv_results, 3), \"\\n\")\n\nå„æŠ˜å‡†ç¡®ç‡: 0.5 0.475 0.425 0.475 0.475 \n\ncat(\"å¹³å‡å‡†ç¡®ç‡:\", round(mean(cv_results), 3), \"\\n\")\n\nå¹³å‡å‡†ç¡®ç‡: 0.47 \n\nplan(sequential)\n\n\n\nBootstrap ç½®ä¿¡åŒºé—´\n\n# è®¡ç®— Bootstrap ç½®ä¿¡åŒºé—´\nbootstrap_ci &lt;- function(data, statistic, n_boot = 1000, conf_level = 0.95) {\n    plan(multisession, workers = 4)\n\n    # Bootstrap é‡æŠ½æ ·\n    boot_stats &lt;- future_map_dbl(1:n_boot, function(i) {\n        boot_sample &lt;- sample(data, length(data), replace = TRUE)\n        statistic(boot_sample)\n    }, .options = furrr_options(seed = TRUE))\n\n    # è®¡ç®—ç½®ä¿¡åŒºé—´\n    alpha &lt;- 1 - conf_level\n    ci &lt;- quantile(boot_stats, c(alpha / 2, 1 - alpha / 2))\n\n    plan(sequential)\n\n    return(list(\n        estimate = statistic(data),\n        ci_lower = ci[1],\n        ci_upper = ci[2],\n        bootstrap_se = sd(boot_stats)\n    ))\n}\n\n# ä½¿ç”¨ç¤ºä¾‹\nset.seed(123)\nsample_data &lt;- rnorm(100, mean = 50, sd = 10)\n\nresult &lt;- bootstrap_ci(sample_data, mean, n_boot = 2000)\n\ncat(\"ç‚¹ä¼°è®¡:\", round(result$estimate, 2), \"\\n\")\n\nç‚¹ä¼°è®¡: 50.9 \n\ncat(\"95% CI: [\", round(result$ci_lower, 2), \",\", round(result$ci_upper, 2), \"]\\n\")\n\n95% CI: [ 49.11 , 52.67 ]\n\ncat(\"Bootstrap SE:\", round(result$bootstrap_se, 2), \"\\n\")\n\nBootstrap SE: 0.92",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#æœ€ä½³å®è·µ",
    "href": "1014-future.html#æœ€ä½³å®è·µ",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "9. æœ€ä½³å®è·µ",
    "text": "9. æœ€ä½³å®è·µ\n\nä½•æ—¶ä½¿ç”¨å¹¶è¡Œ\nâœ… é€‚åˆå¹¶è¡Œï¼š - ç‹¬ç«‹ä»»åŠ¡ï¼ˆæ— ä¾èµ–ï¼‰ - CPU å¯†é›†å‹è®¡ç®— - å¤§é‡é‡å¤æ“ä½œ\nâŒ ä¸é€‚åˆå¹¶è¡Œï¼š - ä»»åŠ¡é—´æœ‰ä¾èµ– - I/O å¯†é›†å‹ï¼ˆè¯»å†™æ–‡ä»¶ä¸ºä¸»ï¼‰ - å•æ¬¡å¿«é€Ÿæ“ä½œ - ä»»åŠ¡æ•° &lt; æ ¸å¿ƒæ•°\n\n\næ€§èƒ½ä¼˜åŒ–å»ºè®®\n\n# 1. åˆç†è®¾ç½® workers\nplan(multisession, workers = availableCores() - 1) # ç•™ä¸€ä¸ªæ ¸å¿ƒç»™ç³»ç»Ÿ\n\n# 2. æ‰¹é‡å¤„ç†å°ä»»åŠ¡\n# ä¸å¥½ï¼š1000æ¬¡å¾®å°ä»»åŠ¡\nfuture_map(1:1000, ~ Sys.sleep(0.001))\n\n# å¥½ï¼šå°†å°ä»»åŠ¡æ‰“åŒ…æˆå¤§ä»»åŠ¡\nchunks &lt;- split(1:1000, ceiling(seq_along(1:1000) / 100))\nfuture_map(chunks, ~ lapply(.x, my_function))\n\n# 3. é¿å…ä¼ é€’å¤§å¯¹è±¡\n# ä¸å¥½ï¼šåœ¨æ¯ä¸ªä»»åŠ¡ä¸­å¤åˆ¶å¤§æ•°æ®\nbig_data &lt;- data.frame(...)\nfuture_map(1:100, ~ process(big_data, .x))\n\n# å¥½ï¼šä½¿ç”¨å¼•ç”¨æˆ–åªä¼ å¿…è¦æ•°æ®\nfuture_map(1:100, ~ process(big_data[.x, ]))\n\n\n\nä»£ç æ¨¡æ¿\n\n#' æ ‡å‡†å¹¶è¡Œå¤„ç†æ¨¡æ¿\n#' @param items å¾…å¤„ç†é¡¹ç›®åˆ—è¡¨\n#' @param process_fn å¤„ç†å‡½æ•°\n#' @param n_workers å·¥ä½œè¿›ç¨‹æ•°\nparallel_process &lt;- function(items, process_fn, n_workers = 4) {\n    # è®¾ç½®å¹¶è¡Œ\n    plan(multisession, workers = n_workers)\n    on.exit(plan(sequential)) # ç¡®ä¿é€€å‡ºæ—¶æ¢å¤ä¸²è¡Œ\n\n    # å¸¦è¿›åº¦å’Œé”™è¯¯å¤„ç†çš„å¹¶è¡Œ\n    safe_fn &lt;- purrr::safely(process_fn)\n\n    results &lt;- with_progress({\n        p &lt;- progressr::progressor(along = items)\n\n        future_map(items, function(item) {\n            result &lt;- safe_fn(item)\n            p()\n            result\n        }, .options = furrr_options(seed = TRUE))\n    })\n\n    # æ•´ç†ç»“æœ\n    successes &lt;- map(results, \"result\") %&gt;% compact()\n    errors &lt;- map(results, \"error\") %&gt;% compact()\n\n    return(list(\n        results = successes,\n        errors = errors,\n        success_rate = length(successes) / length(items)\n    ))\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#å¸¸è§é—®é¢˜è§£ç­”",
    "href": "1014-future.html#å¸¸è§é—®é¢˜è§£ç­”",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "10. å¸¸è§é—®é¢˜è§£ç­”",
    "text": "10. å¸¸è§é—®é¢˜è§£ç­”\n\nQ1: Windows ä¸Šä¸ºä»€ä¹ˆä¸èƒ½ç”¨ multicoreï¼Ÿ\nA: multicore ä¾èµ– Unix çš„ fork() ç³»ç»Ÿè°ƒç”¨ï¼ŒWindows ä¸æ”¯æŒã€‚è¯·ä½¿ç”¨ multisessionã€‚\n\n\nQ2: ä¸ºä»€ä¹ˆå¹¶è¡Œåæ›´æ…¢äº†ï¼Ÿ\nA: å¯èƒ½åŸå› ï¼š 1. ä»»åŠ¡å¤ªå°ï¼Œé€šä¿¡å¼€é”€è¶…è¿‡è®¡ç®—æ—¶é—´ 2. workers æ•°é‡è¶…è¿‡å®é™…æ ¸å¿ƒ 3. å†…å­˜ä¸è¶³å¯¼è‡´é¢‘ç¹ swap\n\n\nQ3: å¦‚ä½•åœ¨å‡½æ•°ä¸­ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Ÿ\n\n# future ä¼šè‡ªåŠ¨æ•è·éœ€è¦çš„å˜é‡\nexternal_data &lt;- 1:100\n\nfuture_map(1:10, ~ {\n    sum(external_data) + .x # external_data è‡ªåŠ¨ä¼ é€’\n})\n\n\n\nQ4: å¦‚ä½•ç¡®ä¿éšæœºæ•°å¯é‡å¤ï¼Ÿ\n\n# æ–¹æ³• 1: furrr é€‰é¡¹\nfuture_map(1:10, my_random_fn,\n    .options = furrr_options(seed = 123)\n)\n\n# æ–¹æ³• 2: æ‰‹åŠ¨è®¾ç½®ç§å­\nfuture_map(1:10, ~ {\n    set.seed(.x) # æ¯ä¸ªä»»åŠ¡ä½¿ç”¨ä¸åŒä½†ç¡®å®šæ€§çš„ç§å­\n    rnorm(10)\n})",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#æ€»ç»“",
    "href": "1014-future.html#æ€»ç»“",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èå·¥å…·\n\n\n\n\nç®€å• lapply æ›¿æ¢\nfuture_lapply()\n\n\npurrr ç”¨æˆ·\nfurrr::future_map()\n\n\néœ€è¦è¿›åº¦æ˜¾ç¤º\nprogressr\n\n\nå¤æ‚å·¥ä½œæµ\næ˜¾å¼ future() + value()\n\n\n\n\n[!TIP] è®°ä½é»„é‡‘æ³•åˆ™ï¼š 1. å…ˆç”¨ plan(sequential) ç¡®ä¿ä»£ç æ­£ç¡® 2. ç„¶ååªéœ€æ”¹ä¸€è¡Œ plan(multisession) å³å¯å¹¶è¡Œ 3. ä»»åŠ¡æ•°åº”è¯¥è¿œå¤šäºæ ¸å¿ƒæ•°æ‰èƒ½å……åˆ†åˆ©ç”¨å¹¶è¡Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1014-future.html#å‚è€ƒèµ„æ–™",
    "href": "1014-future.html#å‚è€ƒèµ„æ–™",
    "title": "future åŒ…å¹¶è¡Œè®¡ç®—å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒèµ„æ–™",
    "text": "å‚è€ƒèµ„æ–™\n\nfuture åŒ…å®˜æ–¹æ–‡æ¡£\nfurrr åŒ…å®˜æ–¹æ–‡æ¡£\nprogressr åŒ…å®˜æ–¹æ–‡æ¡£\nBengtsson, H. (2021). A Unifying Framework for Parallel and Distributed Processing in R using Futures. The R Journal.",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "future - å¹¶è¡Œè®¡ç®—"
    ]
  },
  {
    "objectID": "1012-comparegroups.html",
    "href": "1012-comparegroups.html",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "",
    "text": "ç¬¬95æœŸ Rè¯­è¨€æ•™ç¨‹ï¼compareGroupsç¥åŒ…åˆ¶ä½œæè¿°æ€§è¡¨ä¸€\næè¿°æ€§è¡¨1åœ¨è®ºæ–‡å†™ä½œä¸­å æ®ç€å¼€ç¯‡èµ·ç¬”çš„ä½œç”¨ã€‚å¯¹æ‰€ç”¨çš„æ•°æ®è¿›è¡Œæè¿°å’Œç®€å•åˆ†æï¼Œä¸ºåç»­çš„æ¨¡å‹æ„å»ºæä¾›æ•°æ®å¯é æ€§ä¿¡æ¯\næœ¬æœŸä»‹ç»å¦‚ä½•ä½¿ç”¨compareGroupsç¥åŒ…æ¥å¿«é€Ÿç”Ÿæˆç¬¦åˆå­¦æœ¯è§„èŒƒçš„è¡¨1ã€‚å¹¶è¿›è¡ŒåŒ…æ‹¬ä»¥ä¸‹è‡ªå®šä¹‰è®¾ç½®ï¼š1.è®¾ç½®äºšç»„ 2.è®¾ç½®éæ­£æ€å˜é‡ä½¿ç”¨éå‚ç»„é—´æ£€éªŒ 3.è®¾ç½®æ˜¾ç¤ºç¼ºå¤±å€¼ 4.è®¾ç½®æ˜¾ç¤ºORå€¼ 5.è®¾ç½®ä½¿ç”¨è‡ªå®šä¹‰ç»„é—´æ¯”è¾ƒæ–¹æ³• 6 æ•°æ®å¯¼å‡º",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…ä»‹ç»",
    "href": "1012-comparegroups.html#råŒ…ä»‹ç»",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\ncompareGroups æ˜¯ä¸€ä¸ªåœ¨ CRAN ä¸Šå¯ç”¨çš„ R åŒ…ï¼Œå®ƒå¯ä»¥ç”Ÿæˆæè¿°æ€§è¡¨æ ¼ï¼Œå±•ç¤ºå‡ ä¸ªå˜é‡çš„å‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°æˆ–é¢‘ç‡ã€‚æ­¤å¤–ï¼Œè¿˜ä¼šä½¿ç”¨é€‚å½“çš„æµ‹è¯•è®¡ç®— p å€¼æ¥æ£€éªŒç»„é—´å·®å¼‚ã€‚\né€šè¿‡ç®€å•çš„ä»£ç ï¼Œå°±èƒ½åœ¨ R ä¸­ç”Ÿæˆç¾è§‚ã€è§„èŒƒä¸”å¯ç›´æ¥ç”¨äºè®ºæ–‡å‘è¡¨çš„æè¿°æ€§è¡¨æ ¼ã€‚è¿™äº›è¡¨æ ¼è¿˜å¯ä»¥å¯¼å‡ºåˆ°ä¸åŒçš„æ ¼å¼ï¼Œå¦‚ Wordã€Excelã€PDFï¼Œæˆ–æ’å…¥åˆ° R-Sweave æˆ– R-markdown æ–‡æ¡£ä¸­ã€‚\nåœ¨æ‰‹å†Œ https://cran.r-project.org/web/packages/compareGroups/vignettes/compareGroups_vignette.htmlé‡Œæä¾›äº†éå¸¸å‹å¥½çš„RåŒ…æ•™ç¨‹ï¼Œæè¿°äº† compareGroups çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶é™„æœ‰å®é™…ç¤ºä¾‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…å®‰è£…",
    "href": "1012-comparegroups.html#råŒ…å®‰è£…",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\nä»CRANä¸­å®‰è£…RåŒ…\n\ninstall.packages(\"compareGroups\") \n\næˆ–è€…ä»githubå®‰è£…æœ€æ–°ç‰ˆæœ¬\n\nlibrary(devtools) \ndevtools::install_github(\"isubirana/compareGroups\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…å‚æ•°",
    "href": "1012-comparegroups.html#råŒ…å‚æ•°",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…å‚æ•°",
    "text": "RåŒ…å‚æ•°\n\næŸ¥çœ‹æ•°æ®\n(ä¸é‡è¦å¯ä»¥ä¸çœ‹ï¼ŒçŸ¥é“æ˜¯åŒ…å«å¤šç§æ•°æ®ç±»å‹çš„æ•°æ®é›†å³å¯)è°ƒç”¨RåŒ…è‡ªå¸¦çš„regicoræ•°æ®ï¼ŒåŒ…å«25ä¸ªå˜é‡ã€‚regicorï¼ˆå‰ç½—çº³å¿ƒè„ç™»è®°ï¼‰ç ”ç©¶æ˜¯ä¸€é¡¹æ¨ªæ–­é¢ç ”ç©¶ï¼Œå‚ä¸è€…æ¥è‡ªè¥¿ç­ç‰™ä¸œåŒ—éƒ¨åœ°åŒºã€‚åœ¨æ­¤ç ”ç©¶ä¸­ï¼Œæ”¶é›†äº†å‚ä¸è€…çš„å„ç§æ•°æ®é›†ï¼ŒåŒ…æ‹¬äººå£ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚å¹´é¾„å’Œæ€§åˆ«ï¼‰ã€äººä½“æµ‹é‡æ•°æ®ï¼ˆå¦‚èº«é«˜ã€ä½“é‡å’Œè…°å›´ï¼‰ä»¥åŠè„‚è´¨æ°´å¹³ï¼ˆåŒ…æ‹¬æ€»èƒ†å›ºé†‡å’Œç”˜æ²¹ä¸‰é…¯ï¼‰ã€‚æ­¤å¤–ï¼Œå‚ä¸è€…è¿˜å®Œæˆäº†æ¶µç›–ä½“è‚²æ´»åŠ¨å’Œç”Ÿæ´»è´¨é‡ç­‰é¢†åŸŸçš„é—®å·ã€‚\nä¸ºäº†è¿½è¸ªå¥åº·ç»“æœï¼Œç ”ç©¶è¿˜æ”¶é›†äº†å…³äºå¿ƒè¡€ç®¡äº‹ä»¶å’Œæ­»äº¡çš„æ•°æ®ã€‚è¿™äº›ä¿¡æ¯æ˜¯é€šè¿‡åŒ»é™¢å’Œå®˜æ–¹ç™»è®°å†ŒåŠæŠ¥å‘Šï¼Œåœ¨è¶…è¿‡10å¹´çš„æ—¶é—´é‡Œè·å¾—çš„ã€‚\n\nlibrary(compareGroups)\nlibrary(bruceR) #ä¹‹å‰æœ‰ä»‹ç»è¿‡ï¼Œæ–¹ä¾¿æè¿°æ•°æ®\n\n\n# æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬åªåˆ†æå‰åä¸ªå˜é‡\ndata(\"regicor\")\n\nregicor &lt;- regicor[,1:10]\n\nstr(regicor)\n\n'data.frame':   2294 obs. of  10 variables:\n $ id     : num  2.26e+03 1.88e+03 3.00e+09 3.00e+09 3.00e+09 ...\n  ..- attr(*, \"label\")= Named chr \"Individual id\"\n  .. ..- attr(*, \"names\")= chr \"id\"\n $ year   : Factor w/ 3 levels \"1995\",\"2000\",..: 3 3 2 2 2 2 2 1 3 1 ...\n  ..- attr(*, \"label\")= Named chr \"Recruitment year\"\n  .. ..- attr(*, \"names\")= chr \"year\"\n $ age    : int  70 56 37 69 70 40 66 53 43 70 ...\n  ..- attr(*, \"label\")= Named chr \"Age\"\n  .. ..- attr(*, \"names\")= chr \"age\"\n $ sex    : Factor w/ 2 levels \"Male\",\"Female\": 2 2 1 2 2 2 1 2 2 1 ...\n  ..- attr(*, \"label\")= chr \"Sex\"\n $ smoker : Factor w/ 3 levels \"Never smoker\",..: 1 1 2 1 NA 2 1 1 3 3 ...\n  ..- attr(*, \"label\")= Named chr \"Smoking status\"\n  .. ..- attr(*, \"names\")= chr \"smoker\"\n $ sbp    : int  138 139 132 168 NA 108 120 132 95 142 ...\n  ..- attr(*, \"label\")= Named chr \"Systolic blood pressure\"\n  .. ..- attr(*, \"names\")= chr \"sbp\"\n $ dbp    : int  75 89 82 97 NA 70 72 78 65 78 ...\n  ..- attr(*, \"label\")= Named chr \"Diastolic blood pressure\"\n  .. ..- attr(*, \"names\")= chr \"dbp\"\n $ histhtn: Factor w/ 2 levels \"Yes\",\"No\": 2 2 2 2 2 2 1 2 2 2 ...\n  ..- attr(*, \"label\")= Named chr \"History of hypertension\"\n  .. ..- attr(*, \"names\")= chr \"histbp\"\n $ txhtn  : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Hypertension treatment\"\n $ chol   : num  294 220 245 168 NA NA 298 254 194 188 ...\n  ..- attr(*, \"label\")= Named chr \"Total cholesterol\"\n  .. ..- attr(*, \"names\")= chr \"chol\"\n\n\n\n\nç”Ÿæˆæè¿°æ€§ç»Ÿè®¡è¡¨\nç®€å•ç”Ÿæˆä¸€ä¸ªæœ€ç®€å•çš„æè¿°æ€§ç»Ÿè®¡è¡¨ï¼Œå‘ç°å®šé‡èµ„æ–™ç”¨å¹³å‡å€¼æ ‡å‡†å·®æè¿°ï¼Œåˆ†ç±»èµ„æ–™ç”¨ä¾‹æ•°å’Œå æ¯”æè¿°\n\ndescrTable( ~ ., data = regicor)\n\n\n--------Summary descriptives table ---------\n\n_______________________________________________________ \n                                    [ALL]           N   \n                                   N=2294               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nIndividual id              1215817624 (1339538686) 2294 \nRecruitment year:                                  2294 \n    1995                         431 (18.8%)            \n    2000                         786 (34.3%)            \n    2005                        1077 (46.9%)            \nAge                              54.7 (11.0)       2294 \nSex:                                               2294 \n    Male                        1101 (48.0%)            \n    Female                      1193 (52.0%)            \nSmoking status:                                    2233 \n    Never smoker                1201 (53.8%)            \n    Current or former &lt; 1y       593 (26.6%)            \n    Former &gt;= 1y                 439 (19.7%)            \nSystolic blood pressure          131 (20.3)        2280 \nDiastolic blood pressure         79.7 (10.5)       2280 \nHistory of hypertension:                           2286 \n    Yes                          723 (31.6%)            \n    No                          1563 (68.4%)            \nHypertension treatment:                            2251 \n    No                          1823 (81.0%)            \n    Yes                          428 (19.0%)            \nTotal cholesterol                219 (45.2)        2193 \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè®¾ç½®åˆ†ç»„å˜é‡\næ ¹æ®å¸çƒŸæƒ…å†µå°†äººç¾¤åˆ†ä¸ºä¸‰ç»„ï¼ŒåŒæ—¶ç”Ÿæˆç»„é—´æ¯”è¾ƒåˆ—ï¼ˆp.overallï¼‰ã€‚è‡ªåŠ¨ä½¿ç”¨å¡æ–¹æ£€éªŒ(åˆ†ç±»å˜é‡)å’Œæ–¹å·®åˆ†æ(è®¡é‡èµ„æ–™ï¼šä¸¤ç±»æ—¶ç­‰ä»·tæ£€éªŒ)ã€‚\n\ndescrTable(`smoker`~ ., data = regicor)\n\n\n--------Summary descriptives table by 'Smoking status'---------\n\n_________________________________________________________________________________________________________ \n                              Never smoker       Current or former &lt; 1y       Former &gt;= 1y      p.overall \n                                 N=1201                   N=593                  N=439                    \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nIndividual id            1229013133 (1337342152) 1534618659 (1372769742) 690225475 (1126583145)  &lt;0.001   \nRecruitment year:                                                                                &lt;0.001   \n    1995                       234 (19.5%)             109 (18.4%)             72 (16.4%)                 \n    2000                       414 (34.5%)             267 (45.0%)             77 (17.5%)                 \n    2005                       553 (46.0%)             217 (36.6%)            290 (66.1%)                 \nAge                            56.5 (10.8)             50.6 (10.7)            55.3 (10.6)        &lt;0.001   \nSex:                                                                                             &lt;0.001   \n    Male                       301 (25.1%)             410 (69.1%)            360 (82.0%)                 \n    Female                     900 (74.9%)             183 (30.9%)             79 (18.0%)                 \nSystolic blood pressure        132 (20.5)              128 (19.8)              133 (19.7)        &lt;0.001   \nDiastolic blood pressure       79.5 (10.2)             78.8 (11.0)            81.2 (10.8)         0.002   \nHistory of hypertension:                                                                         &lt;0.001   \n    Yes                        421 (35.1%)             125 (21.2%)            162 (36.9%)                 \n    No                         777 (64.9%)             464 (78.8%)            277 (63.1%)                 \nHypertension treatment:                                                                          &lt;0.001   \n    No                         922 (77.9%)             525 (90.2%)            331 (77.2%)                 \n    Yes                        262 (22.1%)             57 (9.79%)              98 (22.8%)                 \nTotal cholesterol              220 (46.7)              219 (44.7)              214 (42.6)         0.030   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nåˆ é™¤æŸäº›å˜é‡ä¸æ˜¾ç¤º\nå¦‚ä¸å¸Œæœ›æè¿°æ€§ç»Ÿè®¡å¯¹Idå’Œyearè¿›è¡Œæè¿°ï¼Œç›´æ¥åœ¨~å³ä¾§çš„.åä½¿ç”¨å‡å·è¿›è¡Œåˆ é™¤ï¼ˆå¦‚éœ€è¦çš„å˜é‡æ¯”è¾ƒå°‘ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å†™å…¬å¼ä¸€ä¸ªä¸ªåŠ ï¼‰\n\ndescrTable(`smoker`~ .-id-year, data = regicor)\n\n\n--------Summary descriptives table by 'Smoking status'---------\n\n___________________________________________________________________________________ \n                         Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall \n                            N=1201            N=593             N=439               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                      56.5 (10.8)       50.6 (10.7)       55.3 (10.6)   &lt;0.001   \nSex:                                                                       &lt;0.001   \n    Male                 301 (25.1%)       410 (69.1%)       360 (82.0%)            \n    Female               900 (74.9%)       183 (30.9%)        79 (18.0%)            \nSystolic blood pressure   132 (20.5)        128 (19.8)        133 (19.7)   &lt;0.001   \nDiastolic blood pressure 79.5 (10.2)       78.8 (11.0)       81.2 (10.8)    0.002   \nHistory of hypertension:                                                   &lt;0.001   \n    Yes                  421 (35.1%)       125 (21.2%)       162 (36.9%)            \n    No                   777 (64.9%)       464 (78.8%)       277 (63.1%)            \nHypertension treatment:                                                    &lt;0.001   \n    No                   922 (77.9%)       525 (90.2%)       331 (77.2%)            \n    Yes                  262 (22.1%)        57 (9.79%)        98 (22.8%)            \nTotal cholesterol         220 (46.7)        219 (44.7)        214 (42.6)    0.030   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\näºšç»„æè¿°\nsubset=(é€»è¾‘åˆ¤æ–­)æ¥æŒ‘é€‰å‡ºç”·æ€§æ‚£è€…è¿›è¡Œåˆ†æ\n\ndescrTable(`smoker`~ .-id-year-sex, data = regicor,\n           subset=(sex==\"Male\"))\n\n\n--------Summary descriptives table by 'smoker'---------\n\n___________________________________________________________________________________ \n                         Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall \n                            N=301             N=410             N=360               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                      55.0 (11.5)       52.7 (11.0)       56.8 (10.5)   &lt;0.001   \nSystolic blood pressure   133 (18.5)        133 (19.0)        136 (19.0)    0.050   \nDiastolic blood pressure 81.3 (9.31)       81.2 (10.6)       82.3 (10.4)    0.263   \nHistory of hypertension:                                                   &lt;0.001   \n    Yes                   85 (28.4%)       101 (24.8%)       145 (40.3%)            \n    No                   214 (71.6%)       306 (75.2%)       215 (59.7%)            \nHypertension treatment:                                                    &lt;0.001   \n    No                   248 (83.5%)       357 (88.4%)       263 (75.1%)            \n    Yes                   49 (16.5%)        47 (11.6%)        87 (24.9%)            \nTotal cholesterol         213 (44.0)        221 (41.9)        216 (43.3)    0.061   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè‡ªå®šä¹‰è®¾ç½®åˆ†ç»„æ£€éªŒæ–¹æ³•\nè®¾ç½®mehtodå‚æ•°å€¼ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤æ‰€æœ‰å˜é‡ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ä¿®æ”¹ageä¸ºéæ­£æ€åä½¿ç”¨å››åˆ†ä½æ•°è¿›è¡Œæè¿°ï¼ŒåŒæ—¶ä½¿ç”¨éå‚æ£€éªŒè¿›è¡Œåˆ†ç»„æ¯”è¾ƒ\n\nå‚æ•°å€¼ä¸º1ï¼šæ­£æ€åˆ†å¸ƒåˆ†æ ï¼šæ­¤å€¼å¼ºåˆ¶åˆ†æå‡è®¾è¡Œå˜é‡éµå¾ªæ­£æ€åˆ†å¸ƒã€‚\nå‚æ•°å€¼ä¸º2ï¼šè¿ç»­éæ­£æ€åˆ†æ ï¼šé€‰æ‹©æ­¤å€¼æ„å‘³ç€åˆ†æä¸å‡è®¾è¡Œå˜é‡éµå¾ªæ­£æ€åˆ†å¸ƒï¼Œå°†å…¶è§†ä¸ºè¿ç»­ä½†éæ­£æ€åˆ†å¸ƒçš„å˜é‡ã€‚\nå‚æ•°å€¼ä¸º3ï¼šåˆ†ç±»åˆ†æï¼šæ­¤å€¼å¼ºåˆ¶åˆ†æå°†è¡Œå˜é‡è§†ä¸ºåˆ†ç±»å˜é‡ï¼Œæ— è®ºå…¶åŸå§‹ç±»å‹å¦‚ä½•ã€‚\nå‚æ•°å€¼ä¸º4ï¼šShapiro-Wilksæ£€éªŒ ï¼ˆæ­£æ€æ£€éªŒï¼‰ï¼šä½¿ç”¨æ­¤å€¼è§¦å‘Shapiro-Wilksæ£€éªŒï¼Œä»¥ç¡®å®šå˜é‡æ˜¯å¦åº”åœ¨æ­£æ€æ€§å‡è®¾ä¸‹è¿›è¡Œåˆ†æï¼Œè¿˜æ˜¯éæ­£æ€ã€‚è¿™å¯¹äºæ ¹æ®æ•°æ®åšå‡ºå¦‚ä½•å¤„ç†æ¯ä¸ªå˜é‡çš„å†³ç­–éå¸¸æœ‰ç”¨ã€‚\n\n\n# descrTable(`smoker`~ .-id-year, data = regicor,method = 1) å‡å®šæ‰€æœ‰å˜é‡ç¬¦åˆæ­£æ€åˆ†å¸ƒ\n\n#è®¾ç½®ageå˜é‡ä¸ºéæ­£æ€ï¼Œä½¿ç”¨éå‚æ£€éªŒè¿›è¡Œæ¯”è¾ƒ\ndescrTable(`sex`~ .-id-year, data = regicor, method=c(age = 2))\n\n\n--------Summary descriptives table by 'Sex'---------\n\n______________________________________________________________________ \n                                 Male            Female      p.overall \n                                N=1101           N=1193                \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.0 [46.0;64.0] 55.0 [46.0;64.0]   0.851   \nSmoking status:                                               &lt;0.001   \n    Never smoker             301 (28.1%)      900 (77.5%)              \n    Current or former &lt; 1y   410 (38.3%)      183 (15.7%)              \n    Former &gt;= 1y             360 (33.6%)       79 (6.80%)              \nSystolic blood pressure       134 (18.9)       129 (21.2)     &lt;0.001   \nDiastolic blood pressure     81.7 (10.2)      77.8 (10.5)     &lt;0.001   \nHistory of hypertension:                                       0.644   \n    Yes                      341 (31.1%)      382 (32.1%)              \n    No                       755 (68.9%)      808 (67.9%)              \nHypertension treatment:                                        0.096   \n    No                       889 (82.5%)      934 (79.6%)              \n    Yes                      189 (17.5%)      239 (20.4%)              \nTotal cholesterol             217 (42.7)       220 (47.4)      0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nä¸æ˜¾ç¤ºæ ‡ç­¾labelå€¼\næœ‰äº›æ•°æ®é›†è‡ªå¸¦labelï¼Œå¯ä»¥é€šè¿‡include.labelè®¾ç½®æ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾\n\ndescrTable(`sex`~ .-id-year, data = regicor, include.label= FALSE)\n\n\n--------Summary descriptives table by 'sex'---------\n\n____________________________________________________________ \n                              Male       Female    p.overall \n                             N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nage                        54.8 (11.1) 54.7 (11.0)   0.840   \nsmoker:                                             &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)            \nsbp                        134 (18.9)  129 (21.2)   &lt;0.001   \ndbp                        81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nhisthtn:                                             0.644   \n    Yes                    341 (31.1%) 382 (32.1%)           \n    No                     755 (68.9%) 808 (67.9%)           \ntxhtn:                                               0.096   \n    No                     889 (82.5%) 934 (79.6%)           \n    Yes                    189 (17.5%) 239 (20.4%)           \nchol                       217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè®¾ç½®è®¡é‡èµ„æ–™ç”¨å››åˆ†ä½æ³•æè¿°\nè®¾ç½®Q1å‚æ•°å’ŒQ3å‚æ•°è®¾ç½®å¦‚ä½•æè¿°éæ­£æ€è¿ç»­å˜é‡ã€‚å¦‚æœè®¾ç½®æˆ0å’Œ1å°±æ˜¯æœ€å°å€¼æœ€å¤§å€¼æè¿°\n\ndescrTable(`sex`~ .-id-year, data = regicor,method = c(age=2),\n           Q1=0.025, Q3=0.975)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n______________________________________________________________________ \n                                 Male            Female      p.overall \n                                N=1101           N=1193                \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.0 [36.0;73.0] 55.0 [36.0;73.0]   0.851   \nSmoking status:                                               &lt;0.001   \n    Never smoker             301 (28.1%)      900 (77.5%)              \n    Current or former &lt; 1y   410 (38.3%)      183 (15.7%)              \n    Former &gt;= 1y             360 (33.6%)       79 (6.80%)              \nSystolic blood pressure       134 (18.9)       129 (21.2)     &lt;0.001   \nDiastolic blood pressure     81.7 (10.2)      77.8 (10.5)     &lt;0.001   \nHistory of hypertension:                                       0.644   \n    Yes                      341 (31.1%)      382 (32.1%)              \n    No                       755 (68.9%)      808 (67.9%)              \nHypertension treatment:                                        0.096   \n    No                       889 (82.5%)      934 (79.6%)              \n    Yes                      189 (17.5%)      239 (20.4%)              \nTotal cholesterol             217 (42.7)       220 (47.4)      0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nç”ŸæˆORå’ŒHRå€¼\nä½¿ç”¨show.ratioå˜é‡æ¥æ˜¾ç¤ºORå€¼ï¼Œå¯¹äºå˜é‡ç±»å‹æ˜¯time-to-eventå˜é‡åˆ™è¾“å‡ºHRå€¼\n\n descrTable(`sex`~ .-id-year, data = regicor,show.ratio = TRUE)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n_____________________________________________________________________________________ \n                              Male       Female           OR        p.ratio p.overall \n                             N=1101      N=1193                                       \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01]  0.840    0.840   \nSmoking status:                                                              &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)       Ref.        Ref.             \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 0.15 [0.12;0.19]  0.000            \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)  0.07 [0.06;0.10]  0.000            \nSystolic blood pressure    134 (18.9)  129 (21.2)  0.99 [0.98;0.99] &lt;0.001   &lt;0.001   \nDiastolic blood pressure   81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001   &lt;0.001   \nHistory of hypertension:                                                      0.644   \n    Yes                    341 (31.1%) 382 (32.1%)       Ref.        Ref.             \n    No                     755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14]  0.612            \nHypertension treatment:                                                       0.096   \n    No                     889 (82.5%) 934 (79.6%)       Ref.        Ref.             \n    Yes                    189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49]  0.086            \nTotal cholesterol          217 (42.7)  220 (47.4)  1.00 [1.00;1.00]  0.141    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\nè®¾ç½®ORå€¼çš„refå¯¹ç…§\nä½¿ç”¨refå‚æ•°è®¾ç½®å˜é‡çš„refå¯¹ç…§å€¼ã€‚ä»£ç æ‰€ç¤ºä¸ºæŠŠsmokerçš„å› å­levelä¸º3ï¼ˆå€¼ä¸ºâ€Former&gt;=1yâ€ï¼‰çš„è®¾ç½®ä¸ºå¯¹ç…§ç»„è®¡ç®—å…¶å®ƒç»„çš„ORå€¼\nåŒæ ·ä½œç”¨çš„å‡½æ•°è¿˜æœ‰ref.no å’Œ ref.y\n\ndescrTable(`sex`~ .-id-year, data = regicor,\n           include.label = FALSE,show.ratio = TRUE,\n           ref = c(smoker=3))\n\n\n--------Summary descriptives table by 'sex'---------\n\n_____________________________________________________________________________________ \n                              Male       Female           OR        p.ratio p.overall \n                             N=1101      N=1193                                       \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nage                        54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01]  0.840    0.840   \nsmoker:                                                                      &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%) 13.6 [10.4;18.0]  0.000            \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 2.03 [1.51;2.75] &lt;0.001            \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)        Ref.        Ref.             \nsbp                        134 (18.9)  129 (21.2)  0.99 [0.98;0.99] &lt;0.001   &lt;0.001   \ndbp                        81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001   &lt;0.001   \nhisthtn:                                                                      0.644   \n    Yes                    341 (31.1%) 382 (32.1%)       Ref.        Ref.             \n    No                     755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14]  0.612            \ntxhtn:                                                                        0.096   \n    No                     889 (82.5%) 934 (79.6%)       Ref.        Ref.             \n    Yes                    189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49]  0.086            \nchol                       217 (42.7)  220 (47.4)  1.00 [1.00;1.00]  0.141    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\n\nä¸æ˜¾ç¤ºå¯¹ç…§ç»„çš„æè¿°ä¿¡æ¯\nä½¿ç”¨hide.noæ¥éšè—æŸäº›å› å­æ°´å¹³çš„æè¿°ã€‚å¸¸ç”¨æ¥éšè—æ‰2åˆ†ç±»å˜é‡çš„å¦çš„ä¿¡æ¯\n\n descrTable(`sex`~ .-id-year, data = regicor,hide.no = \"No\")\n\n\n--------Summary descriptives table by 'Sex'---------\n\n____________________________________________________________ \n                              Male       Female    p.overall \n                             N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.8 (11.1) 54.7 (11.0)   0.840   \nSmoking status:                                     &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)            \nSystolic blood pressure    134 (18.9)  129 (21.2)   &lt;0.001   \nDiastolic blood pressure   81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nHistory of hypertension    341 (31.1%) 382 (32.1%)   0.644   \nHypertension treatment     189 (17.5%) 239 (20.4%)   0.096   \nTotal cholesterol          217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nåŒæ—¶æ˜¾ç¤ºæ€»äººç¾¤çš„æè¿°\n\ndescrTable(`sex`~ .-id-year, data = regicor,show.all = TRUE)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n_________________________________________________________________________ \n                              [ALL]        Male       Female    p.overall \n                              N=2294      N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.7 (11.0)  54.8 (11.1) 54.7 (11.0)   0.840   \nSmoking status:                                                  &lt;0.001   \n    Never smoker           1201 (53.8%) 301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 593 (26.6%)  410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           439 (19.7%)  360 (33.6%) 79 (6.80%)            \nSystolic blood pressure     131 (20.3)  134 (18.9)  129 (21.2)   &lt;0.001   \nDiastolic blood pressure   79.7 (10.5)  81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nHistory of hypertension:                                          0.644   \n    Yes                    723 (31.6%)  341 (31.1%) 382 (32.1%)           \n    No                     1563 (68.4%) 755 (68.9%) 808 (67.9%)           \nHypertension treatment:                                           0.096   \n    No                     1823 (81.0%) 889 (82.5%) 934 (79.6%)           \n    Yes                    428 (19.0%)  189 (17.5%) 239 (20.4%)           \nTotal cholesterol           219 (45.2)  217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nç»“æœå¯¼å‡º\nå¯å¯¼å‡ºå„ç§æ ¼å¼,export2xls, export2latex,Â export2pdf,Â export2csv,Â export2md,Â export2word\n\nexport2word(tab_0,file=\"1 data_summary.docx\")\n\n\n\nå¿«é€Ÿå¯è§†åŒ–\nä½¿ç”¨plotå‡½æ•°è¿›è¡Œå¯è§†åŒ–ï¼Œè®¾ç½®fileå’Œtypeå‚æ•°è¿›è¡Œä¿å­˜ä¾‹å¦‚\nplot(res[c(1,2)], file=â€œ./figures/univar/â€, type=â€œpngâ€)\n\ntab0 &lt;- descrTable(`sex`~ .-id-year, data = regicor)\n\nplot(tab0)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "0013-positron.html",
    "href": "0013-positron.html",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "Positron æ˜¯ç”± Posit PBCï¼ˆåŸ RStudio å…¬å¸ï¼‰å¼€å‘çš„ä¸‹ä¸€ä»£æ•°æ®ç§‘å­¦é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ã€‚å®ƒçš„ç›®æ ‡æ˜¯ç»“åˆ VS Code çš„å¼ºå¤§æ‰©å±•ä¸å·¥ç¨‹èƒ½åŠ› ä»¥åŠ RStudio çš„æ˜“ç”¨æ€§ä¸æ•°æ®ç§‘å­¦ç›´è§‰ã€‚\n\nå†…æ ¸ï¼šåŸºäº Code OSS (VS Code çš„å¼€æºæ ¸å¿ƒ)ï¼Œè¿™æ„å‘³ç€å®ƒå¤©ç”Ÿæ‹¥æœ‰ VS Code çš„æ‰€æœ‰ä¼˜ç‚¹ï¼ˆæ’ä»¶ç”Ÿæ€ã€Git é›†æˆã€å¤šè¯­è¨€æ”¯æŒï¼‰ã€‚\nå®šä½ï¼šå®ƒä¸æ˜¯ RStudio çš„ç»§ä»»è€…ï¼ˆRStudio ä»ä¼šé•¿æœŸç»´æŠ¤ï¼‰ï¼Œè€Œæ˜¯ä¸€ä¸ªå…¨æ–°çš„ã€å¤šè¯­è¨€ï¼ˆFirst-class R & Python supportï¼‰çš„æ¢ç´¢æ€§ç¼–ç¨‹ç¯å¢ƒã€‚\n\n\n\n\n\n\nç‰¹æ€§\nPositron\nRStudio\nVS Code\n\n\n\n\nR æ”¯æŒ\nä¸€æµ\nä¸€æµ\néœ€è¦é…ç½®\n\n\nPython æ”¯æŒ\nä¸€æµ\næœ‰é™\nä¸€æµ\n\n\næ’ä»¶ç”Ÿæ€\nä¸°å¯Œ\næœ‰é™\næä¸°å¯Œ\n\n\næ•°æ®æŸ¥çœ‹å™¨\nå†…ç½®å¢å¼ºç‰ˆ\nå†…ç½®\néœ€æ‰©å±•\n\n\nå˜é‡é¢æ¿\nä¸€æµ\nä¸€æµ\néœ€æ‰©å±•\n\n\nç»˜å›¾ç®¡ç†\nä¸“ä¸š\nä¸“ä¸š\nåŸºç¡€\n\n\nå­¦ä¹ æ›²çº¿\nä¸­ç­‰\nä½\nè¾ƒé«˜\n\n\n\n\n[!TIP] å¦‚æœä½ åŒæ—¶ä½¿ç”¨ R å’Œ Python è¿›è¡Œæ•°æ®åˆ†æï¼ŒPositron æ˜¯ç›®å‰æœ€ä½³é€‰æ‹©ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#ä¸ºä»€ä¹ˆé€‰æ‹©-positron",
    "href": "0013-positron.html#ä¸ºä»€ä¹ˆé€‰æ‹©-positron",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç‰¹æ€§\nPositron\nRStudio\nVS Code\n\n\n\n\nR æ”¯æŒ\nä¸€æµ\nä¸€æµ\néœ€è¦é…ç½®\n\n\nPython æ”¯æŒ\nä¸€æµ\næœ‰é™\nä¸€æµ\n\n\næ’ä»¶ç”Ÿæ€\nä¸°å¯Œ\næœ‰é™\næä¸°å¯Œ\n\n\næ•°æ®æŸ¥çœ‹å™¨\nå†…ç½®å¢å¼ºç‰ˆ\nå†…ç½®\néœ€æ‰©å±•\n\n\nå˜é‡é¢æ¿\nä¸€æµ\nä¸€æµ\néœ€æ‰©å±•\n\n\nç»˜å›¾ç®¡ç†\nä¸“ä¸š\nä¸“ä¸š\nåŸºç¡€\n\n\nå­¦ä¹ æ›²çº¿\nä¸­ç­‰\nä½\nè¾ƒé«˜\n\n\n\n\n[!TIP] å¦‚æœä½ åŒæ—¶ä½¿ç”¨ R å’Œ Python è¿›è¡Œæ•°æ®åˆ†æï¼ŒPositron æ˜¯ç›®å‰æœ€ä½³é€‰æ‹©ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#ä¸‹è½½ä¸å®‰è£…",
    "href": "0013-positron.html#ä¸‹è½½ä¸å®‰è£…",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "1.1 ä¸‹è½½ä¸å®‰è£…",
    "text": "1.1 ä¸‹è½½ä¸å®‰è£…\nPositron ç›®å‰ï¼ˆ2025/2026ï¼‰ä»å¤„äºæ´»è·ƒå¼€å‘é˜¶æ®µï¼ˆPublic Betaï¼‰ï¼Œå®˜æ–¹ä¸»è¦é€šè¿‡ GitHub å‘å¸ƒæ›´æ–°ã€‚\nä¸‹è½½æ­¥éª¤ï¼š\n\nè®¿é—® Positron GitHub Releases é¡µé¢\né€‰æ‹©æœ€æ–°çš„ Pre-release ç‰ˆæœ¬\nä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…ï¼š\n\nWindows: .exe å®‰è£…æ–‡ä»¶\nmacOS: .dmg ç£ç›˜æ˜ åƒ\nLinux: .deb æˆ– .rpm åŒ…\n\n\nå®‰è£…æ³¨æ„äº‹é¡¹ï¼š\n\nWindows ç”¨æˆ·å¯èƒ½éœ€è¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå®‰è£…ç¨‹åº\né¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨æ£€æµ‹å·²å®‰è£…çš„ R å’Œ Python\nå»ºè®®ä¿æŒé»˜è®¤å®‰è£…è·¯å¾„",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#è§£é‡Šå™¨ç®¡ç†-interpreters",
    "href": "0013-positron.html#è§£é‡Šå™¨ç®¡ç†-interpreters",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "1.2 è§£é‡Šå™¨ç®¡ç† (Interpreters)",
    "text": "1.2 è§£é‡Šå™¨ç®¡ç† (Interpreters)\nå®‰è£…å®Œæˆåï¼Œæœ€é‡è¦çš„ç¬¬ä¸€æ­¥æ˜¯å‘Šè¯‰ Positron ä½ çš„ R å’Œ Python åœ¨å“ªé‡Œã€‚\n\nè‡ªåŠ¨æ£€æµ‹\nPositron æ‹¥æœ‰å¼ºå¤§çš„è‡ªåŠ¨å‘ç°æœºåˆ¶ï¼Œä¼šæ‰«æï¼š\n\nç³»ç»Ÿ PATH ä¸­çš„è§£é‡Šå™¨\nConda ç¯å¢ƒ\nPyenv è™šæ‹Ÿç¯å¢ƒ\nrenv é¡¹ç›®ç¯å¢ƒ\nå¸¸è§å®‰è£…è·¯å¾„\n\n\n\næ‰‹åŠ¨åˆ‡æ¢è§£é‡Šå™¨\næ–¹æ³• Aï¼šç‚¹å‡»çª—å£å³ä¸Šè§’çš„è§£é‡Šå™¨ç‰ˆæœ¬å·ï¼ˆä¾‹å¦‚ R 4.5.0 æˆ– Python 3.12ï¼‰\næ–¹æ³• Bï¼šä½¿ç”¨å‘½ä»¤é¢æ¿ 1. æŒ‰ F1 æˆ– Ctrl+Shift+P 2. è¾“å…¥ &gt; Positron: Select Interpreter 3. é€‰æ‹©éœ€è¦çš„è§£é‡Šå™¨ç‰ˆæœ¬\n\n\n\n\n\n\nNote\n\n\n\nå¯¹äº Python ç”¨æˆ·ï¼ŒPositron ä¼šè‡ªåŠ¨è¯†åˆ«é¡¹ç›®æ–‡ä»¶å¤¹å†…çš„ .venv æˆ– conda ç¯å¢ƒï¼Œå¹¶åœ¨æ‰“å¼€é¡¹ç›®æ—¶è‡ªåŠ¨æ¿€æ´»ã€‚\n\n\n\n\nè§£é‡Šå™¨ç®¡ç†æœ€ä½³å®è·µ\n\n\n\nåœºæ™¯\næ¨èé…ç½®\n\n\n\n\næ—¥å¸¸åˆ†æ\nä½¿ç”¨ç³»ç»Ÿé»˜è®¤ R/Python\n\n\né¡¹ç›®å¼€å‘\nä½¿ç”¨ renv/venv éš”ç¦»ç¯å¢ƒ\n\n\næ•™å­¦æ¼”ç¤º\nå›ºå®šç‰¹å®šç‰ˆæœ¬\n\n\nå¤šç‰ˆæœ¬æµ‹è¯•\næŒ‰éœ€åˆ‡æ¢",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#å…³é”®æ‰©å±•æ¨è",
    "href": "0013-positron.html#å…³é”®æ‰©å±•æ¨è",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "1.3 å…³é”®æ‰©å±•æ¨è",
    "text": "1.3 å…³é”®æ‰©å±•æ¨è\nPositron å…¼å®¹ VS Code æ’ä»¶å¸‚åœºï¼ˆOpen VSX æˆ–å¾®è½¯å¸‚åœºï¼‰ã€‚é€šè¿‡å·¦ä¾§ä¾§è¾¹æ çš„ Extensions å›¾æ ‡å®‰è£…ï¼š\n\nå¿…è£…æ‰©å±•\n\n\n\næ‰©å±•å\nç”¨é€”\nè¯´æ˜\n\n\n\n\nChinese (Simplified)\nä¸­æ–‡ç•Œé¢\nè®©ç•Œé¢å˜ä¸ºä¸­æ–‡\n\n\nQuarto\næ–‡æ¡£æ¸²æŸ“\n.qmd è¯­æ³•é«˜äº®å’Œé¢„è§ˆ\n\n\nShiny\nShiny å¼€å‘\nè¿è¡Œå’Œè°ƒè¯• Shiny åº”ç”¨\n\n\nRainbow CSV\nCSV æŸ¥çœ‹\nCSV åˆ—é«˜äº®æ˜¾ç¤º\n\n\nGitHub Copilot\nAI è¾…åŠ©\nä»£ç è¡¥å…¨å’Œå»ºè®®\n\n\n\n\n\nå¯é€‰æ‰©å±•\n\n\n\næ‰©å±•å\nç”¨é€”\n\n\n\n\nGitLens\nGit å¢å¼ºåŠŸèƒ½\n\n\nError Lens\nå†…è”é”™è¯¯æ˜¾ç¤º\n\n\nMarkdown All in One\nMarkdown å¢å¼º\n\n\nMaterial Icon Theme\nç¾è§‚å›¾æ ‡ä¸»é¢˜\n\n\nOne Dark Pro\næš—è‰²ä¸»é¢˜",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#å››å¤§æ ¸å¿ƒé¢æ¿",
    "href": "0013-positron.html#å››å¤§æ ¸å¿ƒé¢æ¿",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "2.1 å››å¤§æ ¸å¿ƒé¢æ¿",
    "text": "2.1 å››å¤§æ ¸å¿ƒé¢æ¿\n\n1. ç¼–è¾‘å™¨ (Editor)\nä½äºç•Œé¢ä¸­å¤®ï¼Œç”¨äºç¼–å†™ä»£ç ï¼š\n\nåˆ†å±æ”¯æŒï¼šå³é”®ç‚¹å‡»æ ‡ç­¾é¡µé€‰æ‹©â€Split Right/Downâ€\nMarkdown é¢„è§ˆï¼š.qmd å’Œ .rmd æ–‡ä»¶æ”¯æŒå®æ—¶é¢„è§ˆ\nä»£ç æŠ˜å ï¼šç‚¹å‡»è¡Œå·æ—çš„ç®­å¤´æŠ˜å ä»£ç å—\nå¤šå…‰æ ‡ç¼–è¾‘ï¼šæŒ‰ä½ Alt ç‚¹å‡»æ·»åŠ å¤šä¸ªå…‰æ ‡\n\n\n\n2. æ§åˆ¶å° (Console)\nR Consoleï¼š - çº¯æ­£çš„ R äº¤äº’ç¯å¢ƒ - æ”¯æŒ View() ç­‰ RStudio ç‰¹æœ‰å‘½ä»¤ - Tab è¡¥å…¨å’Œè¯­æ³•é«˜äº®\nPython Console (IPython)ï¼š - åŸºäº IPython å†…æ ¸ - æ”¯æŒé­”æœ¯å‘½ä»¤ï¼ˆå¦‚ %timeit, %matplotlibï¼‰ - ä¸ Jupyter ä½“éªŒä¸€è‡´\n\n\n3. å˜é‡è§†çª— (Variables)\nè¿™æ˜¯ Positron ç›¸å¯¹äº VS Code çš„æœ€å¤§æ”¹è¿›ï¼š\n\næ¸…æ™°åˆ—å‡ºæ‰€æœ‰å½“å‰ç¯å¢ƒå˜é‡\næ˜¾ç¤ºå¯¹è±¡ç±»å‹ã€é•¿åº¦ã€ç®€è¦å†…å®¹\nä¸€é”®å±•å¼€ List å’Œ DataFrame\næ”¯æŒ R å’Œ Python æ•°æ®ç»“æ„\n\n\n\n4. è¾…åŠ©é¢æ¿\nPlots é¢æ¿ï¼š - ä¸“é—¨å±•ç¤ºé™æ€å›¾ç‰‡ï¼ˆggplot2, matplotlibï¼‰ - æ”¯æŒå†å²è®°å½•å›çœ‹ï¼ˆå·¦å³ç®­å¤´åˆ‡æ¢ï¼‰ - å¯å¯¼å‡ºä¸ºå¤šç§æ ¼å¼\nViewer é¢æ¿ï¼š - å±•ç¤º HTML å†…å®¹ - Leaflet åœ°å›¾ã€Plotly äº¤äº’å›¾ã€Shiny åº”ç”¨ - ç½‘é¡µé¢„è§ˆ\nHelp é¢æ¿ï¼š - å†…ç½®å¸®åŠ©æ–‡æ¡£æµè§ˆå™¨ - æ— éœ€è·³å‡º IDE å³å¯æŸ¥çœ‹ ?mean",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#æ•°æ®æµè§ˆå™¨-data-explorer",
    "href": "0013-positron.html#æ•°æ®æµè§ˆå™¨-data-explorer",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "2.2 æ•°æ®æµè§ˆå™¨ (Data Explorer)",
    "text": "2.2 æ•°æ®æµè§ˆå™¨ (Data Explorer)\nåœ¨ RStudio ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç”¨ View(df) æŸ¥çœ‹æ•°æ®ã€‚Positron é‡æ–°è®¾è®¡äº†è¿™ä¸ªåŠŸèƒ½ï¼š\n\nå¯åŠ¨æ–¹å¼\n\nåœ¨æ§åˆ¶å°è¾“å…¥ View(df)\nåœ¨ Variables é¢æ¿ç‚¹å‡»æ•°æ®æ¡†æ—çš„è¡¨æ ¼å›¾æ ‡\n\n\n\næ ¸å¿ƒåŠŸèƒ½\n\n\n\nåŠŸèƒ½\nè¯´æ˜\n\n\n\n\næ— é™æ»šåŠ¨\nç™¾ä¸‡çº§è¡Œæ•°æ®æµç•…æ»šåŠ¨\n\n\nåˆ—ç»Ÿè®¡\næ‚¬åœåˆ—åæ˜¾ç¤ºç±»å‹ã€ç¼ºå¤±å€¼ã€Min/Max\n\n\nå¼ºå¤§ç­›é€‰\nç‚¹å‡»æ¼æ–—å›¾æ ‡ï¼Œæ”¯æŒå¤šæ¡ä»¶å’Œæ­£åˆ™è¡¨è¾¾å¼\n\n\næ’åº\nç‚¹å‡»åˆ—å¤´æ’åº\n\n\næœç´¢\nå…¨å±€æœç´¢æ•°æ®å†…å®¹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#é¡¹ç›®ç®¡ç†-workspace",
    "href": "0013-positron.html#é¡¹ç›®ç®¡ç†-workspace",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "3.1 é¡¹ç›®ç®¡ç† (Workspace)",
    "text": "3.1 é¡¹ç›®ç®¡ç† (Workspace)\nPositron æ²¿ç”¨äº† VS Code çš„ â€œFolder as Projectâ€ ç†å¿µï¼š\n\næ‰“å¼€é¡¹ç›®\n\nèœå•ï¼šFile -&gt; Open Folder...\nç»ˆç«¯ï¼šåœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œ positron .\n\n\n\nR Project æ”¯æŒ\nå¦‚æœæ–‡ä»¶å¤¹å†…æœ‰ .Rproj æ–‡ä»¶ï¼š - Positron è‡ªåŠ¨è¯†åˆ«å¹¶è®¾ç½®å·¥ä½œç›®å½• - æ— éœ€åƒ RStudio é‚£æ ·åŒå‡» .Rproj æ–‡ä»¶ - ç›´æ¥æ‰“å¼€æ–‡ä»¶å¤¹å³å¯\n\n\nrenv é›†æˆ\nPositron è‡ªåŠ¨æ£€æµ‹ renv.lock æ–‡ä»¶å¹¶æ¿€æ´»é¡¹ç›®ç¯å¢ƒã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#å¿«æ·é”®é€ŸæŸ¥è¡¨",
    "href": "0013-positron.html#å¿«æ·é”®é€ŸæŸ¥è¡¨",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "3.2 å¿«æ·é”®é€ŸæŸ¥è¡¨",
    "text": "3.2 å¿«æ·é”®é€ŸæŸ¥è¡¨\n\nä»£ç æ‰§è¡Œ\n\n\n\nåŠ¨ä½œ\nWindows/Linux\nMac\n\n\n\n\nè¿è¡Œå½“å‰è¡Œ/é€‰åŒº\nCtrl + Enter\nCmd + Enter\n\n\nè¿è¡Œæ•´ä¸ªä»£ç å—\nCtrl + Shift + Enter\nCmd + Shift + Enter\n\n\nè¿è¡Œæ•´ä¸ªæ–‡ä»¶\nCtrl + Shift + S\nCmd + Shift + S\n\n\nè¿è¡Œåˆ°å…‰æ ‡å¤„\nCtrl + Alt + B\nCmd + Option + B\n\n\n\n\n\nç¼–è¾‘æ“ä½œ\n\n\n\nåŠ¨ä½œ\nWindows/Linux\nMac\n\n\n\n\nå‘½ä»¤é¢æ¿\nCtrl + Shift + P\nCmd + Shift + P\n\n\næ–‡ä»¶æœç´¢\nCtrl + P\nCmd + P\n\n\nå…¨å±€æœç´¢\nCtrl + Shift + F\nCmd + Shift + F\n\n\næ³¨é‡Šè¡Œ\nCtrl + /\nCmd + /\n\n\næ ¼å¼åŒ–ä»£ç \nShift + Alt + F\nShift + Option + F\n\n\nè·³è½¬åˆ°å®šä¹‰\nF12\nF12\n\n\né‡å‘½åç¬¦å·\nF2\nF2\n\n\n\n\n\nR ç‰¹æœ‰å¿«æ·é”®\n\n\n\nåŠ¨ä½œ\nå¿«æ·é”®\n\n\n\n\næ’å…¥èµ‹å€¼å· &lt;-\nAlt + -\n\n\næ’å…¥ç®¡é“ç¬¦ |&gt;\nCtrl + Shift + M\n\n\né‡å¯ R å†…æ ¸\né€šè¿‡å‘½ä»¤é¢æ¿\n\n\n\n\n[!TIP] å®‰è£… RStudio Keymap æ‰©å±•å¯ä»¥å°†å¿«æ·é”®æ˜ å°„ä¸º RStudio ä¹ æƒ¯çš„é”®ä½ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#ç»˜å›¾ä¸å¯è§†åŒ–",
    "href": "0013-positron.html#ç»˜å›¾ä¸å¯è§†åŒ–",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "3.3 ç»˜å›¾ä¸å¯è§†åŒ–",
    "text": "3.3 ç»˜å›¾ä¸å¯è§†åŒ–\nPositron å¯¹ç»˜å›¾çª—å£åšäº†ç‰¹æ®Šä¼˜åŒ–ï¼š\n\nç»˜å›¾åŠŸèƒ½\n\n\n\nåŠŸèƒ½\nè¯´æ˜\n\n\n\n\nå¤šå›¾ç®¡ç†\nå†å²å›¾ç‰‡è‡ªåŠ¨ä¿å­˜ï¼Œå·¦å³ç®­å¤´åˆ‡æ¢\n\n\nç¼©æ”¾\næ»šè½®ç¼©æ”¾ï¼ŒåŒå‡»é‡ç½®\n\n\nå¯¼å‡º\nPNG/SVG/PDF æ ¼å¼\n\n\nå¤åˆ¶\nç›´æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿\n\n\nä»£ç å›æº¯\nç‚¹å‡»å›¾ç‰‡æŸ¥çœ‹ç”Ÿæˆä»£ç \n\n\n\n\n\näº¤äº’å¼å›¾è¡¨\nå¯¹äº plotlyã€leaflet ç­‰äº¤äº’å¼å›¾è¡¨ï¼Œä¼šè‡ªåŠ¨åœ¨ Viewer é¢æ¿ä¸­æ¸²æŸ“ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#quarto-æ–‡æ¡£ç¼–å†™",
    "href": "0013-positron.html#quarto-æ–‡æ¡£ç¼–å†™",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "3.4 Quarto æ–‡æ¡£ç¼–å†™",
    "text": "3.4 Quarto æ–‡æ¡£ç¼–å†™\nPositron æ˜¯ç¼–å†™ Quarto (.qmd) çš„ç»ä½³å·¥å…·ï¼š\n\nå®æ—¶é¢„è§ˆ\n\nç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’çš„ Preview æŒ‰é’®\næˆ–æŒ‰ Ctrl + Shift + Kï¼ˆéœ€è®¾ç½®å¿«æ·é”®ï¼‰\nViewer é¢æ¿æˆ–æ–°çª—å£ä¸­æ˜¾ç¤ºæ¸²æŸ“ç»“æœ\n\n\n\nä»£ç å—æ‰§è¡Œ\n\nç‚¹å‡»ä»£ç å—å³ä¸Šè§’çš„ç»¿è‰²ç®­å¤´è¿è¡Œå•ä¸ªå—\nCtrl + Shift + Enter è¿è¡Œæ•´ä¸ªå—\næ”¯æŒ Rã€Pythonã€Julia ç­‰å¤šè¯­è¨€ä»£ç å—",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#r-è°ƒè¯•",
    "href": "0013-positron.html#r-è°ƒè¯•",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "4.1 R è°ƒè¯•",
    "text": "4.1 R è°ƒè¯•\n\nè®¾ç½®æ–­ç‚¹\n\nç‚¹å‡»ä»£ç è¡Œå·å·¦ä¾§ç©ºç™½åŒºåŸŸ\nå‡ºç°çº¢ç‚¹è¡¨ç¤ºæ–­ç‚¹å·²è®¾ç½®\n\n\n\nå¯åŠ¨è°ƒè¯•\n\næ‰“å¼€å‘½ä»¤é¢æ¿ Ctrl + Shift + P\nè¾“å…¥ Debug: Start Debugging\næˆ–ä½¿ç”¨ F5\n\n\n\nè°ƒè¯•æ§åˆ¶\n\n\n\næŒ‰é’®\nåŠŸèƒ½\n\n\n\n\nâ–¶ Continue\nç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€æ–­ç‚¹\n\n\nâ­ Step Over\næ‰§è¡Œä¸‹ä¸€è¡Œï¼ˆä¸è¿›å…¥å‡½æ•°ï¼‰\n\n\nâ¬ Step Into\nè¿›å…¥å‡½æ•°å†…éƒ¨\n\n\nâ« Step Out\nè·³å‡ºå½“å‰å‡½æ•°\n\n\nâ¹ Stop\nåœæ­¢è°ƒè¯•\n\n\n\n\n\næ£€æŸ¥å˜é‡\nè°ƒè¯•æ—¶ï¼ŒVariables é¢æ¿ä¼šæ˜¾ç¤ºå½“å‰ä½œç”¨åŸŸçš„æ‰€æœ‰å˜é‡åŠå…¶å€¼ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#python-è°ƒè¯•",
    "href": "0013-positron.html#python-è°ƒè¯•",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "4.2 Python è°ƒè¯•",
    "text": "4.2 Python è°ƒè¯•\nPython è°ƒè¯•åŸºäº debugpyï¼ŒåŠŸèƒ½æ›´åŠ å®Œå–„ï¼š\n\næ¡ä»¶æ–­ç‚¹ï¼šå³é”®æ–­ç‚¹è®¾ç½®è§¦å‘æ¡ä»¶\nWatch è¡¨è¾¾å¼ï¼šç›‘æ§ç‰¹å®šå˜é‡æˆ–è¡¨è¾¾å¼\nCall Stackï¼šæŸ¥çœ‹å‡½æ•°è°ƒç”¨æ ˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#global-options-å»å“ªäº†",
    "href": "0013-positron.html#global-options-å»å“ªäº†",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "5.1 â€œGlobal Optionsâ€ å»å“ªäº†ï¼Ÿ",
    "text": "5.1 â€œGlobal Optionsâ€ å»å“ªäº†ï¼Ÿ\nVS Code/Positron çš„é…ç½®é€šè¿‡ Settings ç®¡ç†ï¼š\n\nè®¿é—®è®¾ç½®\n\nèœå•ï¼šFile -&gt; Preferences -&gt; Settings\nå¿«æ·é”®ï¼šCtrl + ,\n\n\n\næœç´¢è®¾ç½®\nç›´æ¥åœ¨æœç´¢æ¡†è¾“å…¥å…³é”®è¯ï¼Œå¦‚ â€œfont sizeâ€, â€œr pathâ€, â€œthemeâ€ã€‚\n\n\nJSON ç¼–è¾‘\nç‚¹å‡»å³ä¸Šè§’çš„ä¹¦é¡µå›¾æ ‡ï¼Œç›´æ¥ç¼–è¾‘ settings.json æ–‡ä»¶ã€‚\n\n\nå¸¸ç”¨è®¾ç½®ç¤ºä¾‹\n{\n    \"editor.fontSize\": 14,\n    \"editor.fontFamily\": \"'Fira Code', Consolas, monospace\",\n    \"editor.wordWrap\": \"on\",\n    \"r.rpath.windows\": \"C:/Program Files/R/R-4.5.0/bin/R.exe\",\n    \"workbench.colorTheme\": \"One Dark Pro\"\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#rstudio-vs-positron-å¯¹ç…§",
    "href": "0013-positron.html#rstudio-vs-positron-å¯¹ç…§",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "5.2 RStudio vs Positron å¯¹ç…§",
    "text": "5.2 RStudio vs Positron å¯¹ç…§\n\n\n\nRStudio\nPositron\n\n\n\n\nEnvironment é¢æ¿\nVariables é¢æ¿\n\n\nPlots é¢æ¿\nPlots é¢æ¿\n\n\nFiles é¢æ¿\nExplorer ä¾§è¾¹æ \n\n\nPackages é¢æ¿\nç»ˆç«¯ + Extensions\n\n\nHelp é¢æ¿\nHelp é¢æ¿\n\n\nBuild é¢æ¿\nTerminal + Tasks\n\n\nGit é¢æ¿\nSource Control ä¾§è¾¹æ ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#å¿«æ·é”®æ˜ å°„",
    "href": "0013-positron.html#å¿«æ·é”®æ˜ å°„",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "5.3 å¿«æ·é”®æ˜ å°„",
    "text": "5.3 å¿«æ·é”®æ˜ å°„\nå®‰è£… RStudio Keymap æ’ä»¶ï¼š\n\næ‰“å¼€ Extensionsï¼ˆCtrl + Shift + Xï¼‰\næœç´¢ â€œRStudio Keymapâ€\nå®‰è£…åå¸¸ç”¨å¿«æ·é”®è‡ªåŠ¨æ˜ å°„\n\næ˜ å°„åŒ…æ‹¬ï¼š - Alt + - ç”Ÿæˆ &lt;- - Ctrl + Shift + M ç”Ÿæˆç®¡é“ç¬¦ - Ctrl + Shift + C æ³¨é‡Š/å–æ¶ˆæ³¨é‡Š",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#å¤šå·¥ä½œåŒºç®¡ç†",
    "href": "0013-positron.html#å¤šå·¥ä½œåŒºç®¡ç†",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "6.1 å¤šå·¥ä½œåŒºç®¡ç†",
    "text": "6.1 å¤šå·¥ä½œåŒºç®¡ç†\n\nåˆ›å»ºå·¥ä½œåŒº\n\næ‰“å¼€å¤šä¸ªæ–‡ä»¶å¤¹ï¼ˆFile -&gt; Add Folder to Workspaceï¼‰\nä¿å­˜å·¥ä½œåŒºé…ç½®ï¼ˆFile -&gt; Save Workspace Asï¼‰\n\n\n\nå·¥ä½œåŒºè®¾ç½®\næ¯ä¸ªå·¥ä½œåŒºå¯ä»¥æœ‰ç‹¬ç«‹çš„è®¾ç½®ï¼Œä¿å­˜åœ¨ .code-workspace æ–‡ä»¶ä¸­ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#ç»ˆç«¯é›†æˆ",
    "href": "0013-positron.html#ç»ˆç«¯é›†æˆ",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "6.2 ç»ˆç«¯é›†æˆ",
    "text": "6.2 ç»ˆç«¯é›†æˆ\n\nå†…ç½®ç»ˆç«¯\n\næ‰“å¼€ï¼šCtrl + `\næ–°å»ºï¼šCtrl + Shift + ``\nåˆ‡æ¢ï¼šç‚¹å‡»ç»ˆç«¯æ ‡ç­¾é¡µ\n\n\n\né…ç½®é»˜è®¤ Shell\n{\n    \"terminal.integrated.defaultProfile.windows\": \"PowerShell\",\n    \"terminal.integrated.defaultProfile.linux\": \"bash\"\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#git-é›†æˆ",
    "href": "0013-positron.html#git-é›†æˆ",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "6.3 Git é›†æˆ",
    "text": "6.3 Git é›†æˆ\n\nåŸºæœ¬æ“ä½œ\n\næ‰“å¼€ Source Control é¢æ¿ï¼ˆCtrl + Shift + Gï¼‰\næŸ¥çœ‹æ›´æ”¹ã€æš‚å­˜ã€æäº¤\nåˆ†æ”¯ç®¡ç†ã€æ¨é€ã€æ‹‰å–\n\n\n\nGitLens å¢å¼º\nå®‰è£… GitLens æ‰©å±•åï¼š - è¡Œå†… blame æ³¨é‡Š - æäº¤å†å²å¯è§†åŒ– - æ–‡ä»¶å†å²æ¯”è¾ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#è¿œç¨‹å¼€å‘",
    "href": "0013-positron.html#è¿œç¨‹å¼€å‘",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "6.4 è¿œç¨‹å¼€å‘",
    "text": "6.4 è¿œç¨‹å¼€å‘\nPositron æ”¯æŒé€šè¿‡ SSH è¿æ¥è¿œç¨‹æœåŠ¡å™¨å¼€å‘ï¼š\n\nå®‰è£… Remote - SSH æ‰©å±•\nCtrl + Shift + P è¾“å…¥ â€œRemote-SSH: Connect to Hostâ€\nè¾“å…¥æœåŠ¡å™¨åœ°å€",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#q1-r-åŒ…å®‰è£…å¤±è´¥æ€ä¹ˆåŠ",
    "href": "0013-positron.html#q1-r-åŒ…å®‰è£…å¤±è´¥æ€ä¹ˆåŠ",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "Q1: R åŒ…å®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ",
    "text": "Q1: R åŒ…å®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼š 1. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸ 2. å°è¯•æ›´æ¢ CRAN é•œåƒï¼šoptions(repos = c(CRAN = \"https://mirrors.tuna.tsinghua.edu.cn/CRAN/\")) 3. Windows ç”¨æˆ·ç¡®è®¤å®‰è£…äº† Rtools",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#q2-å¦‚ä½•ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„-r",
    "href": "0013-positron.html#q2-å¦‚ä½•ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„-r",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "Q2: å¦‚ä½•ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ Rï¼Ÿ",
    "text": "Q2: å¦‚ä½•ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ Rï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼š 1. å®‰è£…å¤šä¸ª R ç‰ˆæœ¬ 2. ç‚¹å‡»å³ä¸Šè§’è§£é‡Šå™¨åˆ‡æ¢ 3. æˆ–åœ¨ settings.json ä¸­æŒ‡å®š r.rpath.windows",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#q3-ç»˜å›¾ä¸æ˜¾ç¤ºæ€ä¹ˆå¤„ç†",
    "href": "0013-positron.html#q3-ç»˜å›¾ä¸æ˜¾ç¤ºæ€ä¹ˆå¤„ç†",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "Q3: ç»˜å›¾ä¸æ˜¾ç¤ºæ€ä¹ˆå¤„ç†ï¼Ÿ",
    "text": "Q3: ç»˜å›¾ä¸æ˜¾ç¤ºæ€ä¹ˆå¤„ç†ï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼š 1. ç¡®è®¤ Plots é¢æ¿å·²æ‰“å¼€ 2. å°è¯•è¿è¡Œ dev.new() åˆ›å»ºæ–°è®¾å¤‡ 3. æ£€æŸ¥ç»‘å›¾ä»£ç æ˜¯å¦æœ‰é”™è¯¯",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#q4-å¦‚ä½•æé«˜å¯åŠ¨é€Ÿåº¦",
    "href": "0013-positron.html#q4-å¦‚ä½•æé«˜å¯åŠ¨é€Ÿåº¦",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "Q4: å¦‚ä½•æé«˜å¯åŠ¨é€Ÿåº¦ï¼Ÿ",
    "text": "Q4: å¦‚ä½•æé«˜å¯åŠ¨é€Ÿåº¦ï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼š 1. å‡å°‘å¯ç”¨çš„æ‰©å±•æ•°é‡ 2. ä½¿ç”¨å·¥ä½œåŒºçº§åˆ«è®¾ç½®è€Œéå…¨å±€è®¾ç½® 3. å®šæœŸæ¸…ç† R å·¥ä½œç©ºé—´ï¼ˆ.RDataï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0013-positron.html#q5-ä¸­æ–‡æ˜¾ç¤ºä¹±ç æ€ä¹ˆåŠ",
    "href": "0013-positron.html#q5-ä¸­æ–‡æ˜¾ç¤ºä¹±ç æ€ä¹ˆåŠ",
    "title": "Positron IDE å®Œå…¨æŒ‡å—",
    "section": "Q5: ä¸­æ–‡æ˜¾ç¤ºä¹±ç æ€ä¹ˆåŠï¼Ÿ",
    "text": "Q5: ä¸­æ–‡æ˜¾ç¤ºä¹±ç æ€ä¹ˆåŠï¼Ÿ\nè§£å†³æ–¹æ¡ˆï¼š 1. ç¡®è®¤æ–‡ä»¶ç¼–ç ä¸º UTF-8 2. è®¾ç½®ç»ˆç«¯ç¼–ç ï¼šSys.setlocale(\"LC_CTYPE\", \"Chinese\") 3. ä½¿ç”¨æ”¯æŒä¸­æ–‡çš„å­—ä½“",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Positron IDE æ•™ç¨‹"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html",
    "href": "0011-rmarkdown.html",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "",
    "text": "rmarkdownæ˜¯ä¸€ç§å°†rè¯­è¨€ä»£ç å’Œmarkdownè¯­æ³•æ•´åˆåœ¨ä¸€èµ·çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å°†rè¯­è¨€ä»£ç çš„æ‰§è¡Œç»“æœå’Œæ–‡å­—ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨\nrmarkdownä¸»è¦ç”¨äºé€æ®µè¿è¡Œä»£ç å¹¶å±•ç¤ºç»“æœï¼Œç”Ÿæˆæ¼”ç¤ºæ–‡æ¡£ï¼Œç”Ÿæˆhtmlç”¨äºå…¶å®ƒå¹³å°å‘å¸ƒï¼Œæ­é…bookdownæ­å»ºç½‘é¡µæ•™ç¨‹\nåˆšå­¦ä¹ rè¯­è¨€çš„åŒå­¦å¯ä»¥ä½¿ç”¨rmarkdownæ¥å­¦ä¹ rè¯­è¨€ï¼Œä¸ä»…å¯ä»¥åœ¨æ®µè½ä¸­é—´ç©¿æ’ä¸ªäººè¯´æ˜ï¼ŒåŒæ—¶ç”¨markdownçš„å¤§çº²ç¬¦å·â€œ#â€å¯ä»¥è®©ä»£ç ç»“æ„æ¸…æ™°",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownä»‹ç»",
    "href": "0011-rmarkdown.html#rmarkdownä»‹ç»",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "",
    "text": "rmarkdownæ˜¯ä¸€ç§å°†rè¯­è¨€ä»£ç å’Œmarkdownè¯­æ³•æ•´åˆåœ¨ä¸€èµ·çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å°†rè¯­è¨€ä»£ç çš„æ‰§è¡Œç»“æœå’Œæ–‡å­—ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨\nrmarkdownä¸»è¦ç”¨äºé€æ®µè¿è¡Œä»£ç å¹¶å±•ç¤ºç»“æœï¼Œç”Ÿæˆæ¼”ç¤ºæ–‡æ¡£ï¼Œç”Ÿæˆhtmlç”¨äºå…¶å®ƒå¹³å°å‘å¸ƒï¼Œæ­é…bookdownæ­å»ºç½‘é¡µæ•™ç¨‹\nåˆšå­¦ä¹ rè¯­è¨€çš„åŒå­¦å¯ä»¥ä½¿ç”¨rmarkdownæ¥å­¦ä¹ rè¯­è¨€ï¼Œä¸ä»…å¯ä»¥åœ¨æ®µè½ä¸­é—´ç©¿æ’ä¸ªäººè¯´æ˜ï¼ŒåŒæ—¶ç”¨markdownçš„å¤§çº²ç¬¦å·â€œ#â€å¯ä»¥è®©ä»£ç ç»“æ„æ¸…æ™°",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownä½¿ç”¨",
    "href": "0011-rmarkdown.html#rmarkdownä½¿ç”¨",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownä½¿ç”¨",
    "text": "rmarkdownä½¿ç”¨\nåœ¨å·¥å…·æ æ–°å»ºrmarkdownæ–‡æ¡£ï¼Œä¼šç”Ÿæˆæ¨¡æ¿æ–‡ä»¶ï¼Œåœ¨æ¨¡æ¿æ–‡ä»¶çš„åŸºç¡€ä¸Šå¢åˆ ä¿®æ”¹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownç•Œé¢",
    "href": "0011-rmarkdown.html#rmarkdownç•Œé¢",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownç•Œé¢",
    "text": "rmarkdownç•Œé¢\n\n\nå…ˆæŠŠyamlé‡Œçš„æ–‡æ¡£åŸå±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä½œè€…æ ‡é¢˜ä¿®æ”¹ä¸€ä¸‹ï¼ŒåæœŸå¦‚æœè¦å‘å¸ƒå±•ç¤ºä¼šæ˜¾ç¤ºåœ¨é¡µé¢æœ€ä¸Šæ–¹\nç”¨markdownè¯­æ³•æ–°å»ºå¤§çº²æ ‡é¢˜ï¼Œç”¨â€œ#â€ç¬¦å·ï¼Œâ€œ#â€ç¬¦å·è¶Šå¤šï¼Œæ ‡é¢˜å­—å·è¶Šå°\nç”¨å¿«æ·é”®â€œctrl+alt+iâ€å¯ä»¥åœ¨å½“å‰ä½ç½®æ’å…¥ä»£ç å—ï¼Œç”¨â€œctrl+alt+oâ€å¯ä»¥åœ¨å½“å‰ä½ç½®æ’å…¥è¾“å‡ºå—\nå°è¯•è¿è¡Œè‡ªå·±çš„ä»£ç å§",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "href": "0011-rmarkdown.html#rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "text": "rticlesåŒ…-rmarkdownæ¨¡æ¿\nå®‰è£…rticlesåŒ…ä¹‹åï¼Œåœ¨æ–°å»ºrmdæ–‡ä»¶å¤„å°±èƒ½çœ‹åˆ°ä¸åŒçš„æ¨¡æ¿ï¼Œé€‰æ‹©ä¸€ä¸ªæ¨¡æ¿ï¼Œå°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å’Œæ¨¡æ¿çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ¨¡æ¿æ–‡ä»¶çš„å†…å®¹æ›´åŠ å®Œå–„ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒ\nå®‰è£…prettydocåŒ…ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownç¼–è¯‘",
    "href": "0011-rmarkdown.html#rmarkdownç¼–è¯‘",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownç¼–è¯‘",
    "text": "rmarkdownç¼–è¯‘\nä»£ç å®Œæˆåå³å¯ç‚¹å‡»rstudioçš„â€œknitâ€æŒ‰é’®ï¼Œå³å¯ç¼–è¯‘ï¼Œç¼–è¯‘åä¼šç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œåœ¨htmlæ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ä»£ç çš„è¿è¡Œç»“æœï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¼å‡ºä¸ºpdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ï¼Œå¯¼å‡ºçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownçš„å—è®¾ç½®",
    "href": "0011-rmarkdown.html#rmarkdownçš„å—è®¾ç½®",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownçš„å—è®¾ç½®",
    "text": "rmarkdownçš„å—è®¾ç½®\nrmarkdownä¸»è¦æ˜¯ç”¨äºä»£ç å¯¼å‡ºç»“æœå±•ç¤ºçš„åŒ…ï¼ŒåŒæ—¶åœ¨å¯¼å‡ºæ—¶æˆ‘ä»¬ä¼šæœ‰ä¾§é‡çš„è®¾ç½®æŸäº›ä»£ç å—çš„è¿è¡Œã€‚ä¾‹å¦‚ï¼šè®¾ç½®ä¸€äº›å—ä¸è¿è¡Œï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æ˜¾ç¤ºä¿¡æ¯ï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æŠ¥é”™ï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æ˜¾ç¤ºç»“æœã€‚\nrmdçš„å—è®¾ç½®å…±æœ‰7ç§ï¼ŒCode evaluationã€Resultsã€Code Decorationã€Chunksã€Cacheã€Animationã€Plotsã€‚çœ‹èµ·æ¥å¤æ‚ï¼Œå…¶å®å®é™…ä½¿ç”¨åˆ°çš„ä¹Ÿå°±å‡ ä¸ªï¼Œå¤§å®¶å…ˆè¿‡ä¸€éï¼Œä»¥åæ…¢æ…¢ç†Ÿæ‚‰ã€‚\n\nå¦‚ä½•æ·»åŠ å—è®¾ç½®\nåœ¨å—å¤´å¤„å’Œrç”¨ç©ºæ ¼éš”å¼€ï¼Œä¸åŒè®¾ç½®é—´ç”¨â€œ,â€éš”å¼€\n\n\n\nCode evaluation-è®¾ç½®å—æ˜¯å¦è¿è¡Œ\n\nevalå‚æ•° ç¤ºä¾‹ï¼šâ€œeval=Fâ€\nå¯è®¾ç½®ä¸è¿è¡Œä»£ç ,æ³¨æ„è¿™é‡Œä¸è¿è¡Œä»£ç \n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n\n\nincludeå‚æ•° ç¤ºä¾‹ï¼šâ€œinclude=Fâ€\nè¿™é‡Œå…¶å®æ˜¯æœ‰ä»£ç çš„ï¼Œä½†æ˜¯å¸¦ç€è¾“å‡ºè¢«ä¸€èµ·éšè—äº†ï¼ˆå ä½ç¬¦ï¼‰\n\n\nResultså‚æ•°,è®¾ç½®ç»“æœè¾“å‡º\n\nprint(\"è¿™æ˜¯è®¾ç½® result = 'hide'çš„è¿è¡Œç»“æœ,è™½ç„¶è¿è¡Œäº†ï¼Œä½†æ˜¯ä¸æ˜¾ç¤º\")\n\n\n\ncollapseå‚æ•° ,ä¸ºTè¡¨ç¤ºä»£ç å’Œç»“æœä¸€èµ·è¾“å‡º\nä¸‹æ–¹è®¾ç½®ä¸ºFæ•ˆæœ\n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"\n\n\n\n\n\nechoå‚æ•°ï¼Œè¾“å‡ºæ–‡æ¡£æ˜¯å¦æ˜¾ç¤ºä»£ç \nè®¾ç½®ä¸ºFä¹‹åï¼Œè¿è¡Œä»£ç ï¼Œä½†æ˜¯åªæ˜¾ç¤ºç»“æœä¸æ˜¾ç¤ºä»£ç \n\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"\n\n\n\n\nerrorã€warningã€messageä¸ºåŒä¸€ç±»å‚æ•°ï¼Œå½“ä»£ç ä¸­æœ‰è­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯æ—¶æ˜¯å¦å±•ç¤ºï¼Œå¦‚æœä¸ºFæ—¶å³ä¸å±•ç¤ºã€‚\n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#æ›´å¤šæ•™ç¨‹",
    "href": "0011-rmarkdown.html#æ›´å¤šæ•™ç¨‹",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "æ›´å¤šæ•™ç¨‹",
    "text": "æ›´å¤šæ•™ç¨‹\nä¸­é—´ä»‹ç»äº†å‡ ä¸ªæˆ‘å¸¸ç”¨çš„ï¼Œæ›´å¤šçš„rmdæ•™ç¨‹å¯ç›´æ¥é˜…è¯»å®˜æ–¹çš„ä½¿ç”¨æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0001-guide.html",
    "href": "0001-guide.html",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "",
    "text": "è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äº æµè¡Œç—…å­¦ã€åŒ»å­¦ç»Ÿè®¡å’Œæ•°æ®åˆ†æ çš„ R è¯­è¨€æ•™ç¨‹åˆé›†ã€‚æ— è®ºä½ æ˜¯åˆšå¼€å§‹å­¦ä¹  Rï¼Œè¿˜æ˜¯æƒ³æ·±å…¥æŸä¸ªç‰¹å®šé¢†åŸŸï¼Œè¿™é‡Œéƒ½æœ‰ä½ éœ€è¦çš„å†…å®¹ã€‚"
  },
  {
    "objectID": "0001-guide.html#æ¬¢è¿æ¥åˆ°-r-è¯­è¨€å­¦ä¹ ç¬”è®°",
    "href": "0001-guide.html#æ¬¢è¿æ¥åˆ°-r-è¯­è¨€å­¦ä¹ ç¬”è®°",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "",
    "text": "è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äº æµè¡Œç—…å­¦ã€åŒ»å­¦ç»Ÿè®¡å’Œæ•°æ®åˆ†æ çš„ R è¯­è¨€æ•™ç¨‹åˆé›†ã€‚æ— è®ºä½ æ˜¯åˆšå¼€å§‹å­¦ä¹  Rï¼Œè¿˜æ˜¯æƒ³æ·±å…¥æŸä¸ªç‰¹å®šé¢†åŸŸï¼Œè¿™é‡Œéƒ½æœ‰ä½ éœ€è¦çš„å†…å®¹ã€‚"
  },
  {
    "objectID": "0001-guide.html#å­¦ä¹ è·¯çº¿å›¾",
    "href": "0001-guide.html#å­¦ä¹ è·¯çº¿å›¾",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "å­¦ä¹ è·¯çº¿å›¾",
    "text": "å­¦ä¹ è·¯çº¿å›¾\næ ¹æ®ä½ çš„å­¦ä¹ é˜¶æ®µå’Œç›®æ ‡ï¼Œé€‰æ‹©åˆé€‚çš„è·¯çº¿ï¼š\n\nåˆå­¦è€…è·¯çº¿\nå¦‚æœä½ åˆšæ¥è§¦ R è¯­è¨€ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºå­¦ä¹ ï¼š\n\n\n\né˜¶æ®µ\næ¨èæ•™ç¨‹\nä½ å°†å­¦ä¼š\n\n\n\n\n1. ç¯å¢ƒæ­å»º\nPositron IDE æ•™ç¨‹\nå®‰è£…ä½¿ç”¨ç°ä»£ R IDE\n\n\n2. æ–‡æ¡£åŸºç¡€\nRMarkdown å…¥é—¨\nåˆ›å»ºå¯é‡å¤çš„åˆ†ææŠ¥å‘Š\n\n\n3. æ•°æ®å¤„ç†\nbruceR ç»Ÿè®¡å·¥å…·\næ•°æ®æ¸…æ´—ä¸åŸºç¡€åˆ†æ\n\n\n4. åŸºç¡€å¯è§†åŒ–\né…è‰²æ–¹æ¡ˆ\nç¾è§‚å›¾è¡¨çš„é…è‰²åŸåˆ™\n\n\n5. æè¿°ç»Ÿè®¡\ncompareGroups æè¿°è¡¨\nç”Ÿæˆè§„èŒƒçš„ç»Ÿè®¡è¡¨æ ¼\n\n\n\n\n\n\nå¯è§†åŒ–ä¸“é¢˜\næƒ³è¦åˆ¶ä½œä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–ï¼Ÿè¿™é‡Œæœ‰ä½ éœ€è¦çš„æ‰€æœ‰æŠ€èƒ½ï¼š\n\nåŸºç¡€å›¾è¡¨\n\n\n\nå›¾è¡¨ç±»å‹\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\nç®±çº¿å›¾\nç®±çº¿å›¾ä¸å°æç´å›¾\nå±•ç¤ºæ•°æ®åˆ†å¸ƒã€æ¯”è¾ƒç»„é—´å·®å¼‚\n\n\næ•£ç‚¹å›¾\næ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿\næ¢ç´¢å˜é‡å…³ç³»ã€å›å½’åˆ†æ\n\n\nç›´æ–¹å›¾\nç›´æ–¹å›¾ä¸å¯†åº¦å›¾\næŸ¥çœ‹æ•°æ®åˆ†å¸ƒå½¢æ€\n\n\næŸ±çŠ¶å›¾\næŸ±çŠ¶å›¾ä¸é¥¼å›¾\nåˆ†ç±»æ•°æ®æ¯”è¾ƒ\n\n\næŠ˜çº¿å›¾\næŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—\næ—¶é—´è¶‹åŠ¿ã€å¤šç»„å¯¹æ¯”\n\n\né¢ç§¯å›¾\né¢ç§¯å›¾ä¸å †å å›¾\nå †å æ¯”ä¾‹ã€æ²³æµå›¾\n\n\n\n\n\nè¿›é˜¶å›¾è¡¨\n\n\n\nå›¾è¡¨ç±»å‹\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\nçƒ­å›¾\nçƒ­å›¾å®Œå…¨æŒ‡å—\nçŸ©é˜µæ•°æ®ã€èšç±»åˆ†æ\n\n\næ£®æ—å›¾\næ£®æ—å›¾ç»‘åˆ¶\nMeta åˆ†æã€OR/HR å±•ç¤º\n\n\nåœ°å›¾\nåœ°å›¾ç»‘åˆ¶\nåœ°ç†æ•°æ®å¯è§†åŒ–\n\n\næ¡‘åŸºå›¾\næ¡‘åŸºå›¾\næµé‡/è½¬åŒ–è·¯å¾„\n\n\né›·è¾¾å›¾\né›·è¾¾å›¾\nå¤šç»´åº¦å¯¹æ¯”\n\n\néŸ¦æ©å›¾\néŸ¦æ©å›¾\né›†åˆå…³ç³»å±•ç¤º\n\n\n\n\n\nå›¾è¡¨ç¾åŒ–ä¸ç»„åˆ\n\n\n\næŠ€èƒ½\næ•™ç¨‹é“¾æ¥\nè¯´æ˜\n\n\n\n\né…è‰²\né…è‰²æ–¹æ¡ˆ\nç§‘å­¦æœŸåˆŠé…è‰²ã€è‰²ç›²å‹å¥½\n\n\nå­—ä½“\nggtext ä¸­è‹±æ–‡æ··æ’\nå›¾è¡¨ä¸­çš„ä¸“ä¸šå­—ä½“è®¾ç½®\n\n\nå›¾ä¾‹\nå›¾ä¾‹è‡ªå®šä¹‰\nå›¾ä¾‹ä½ç½®ã€æ ·å¼è°ƒæ•´\n\n\næ‹¼æ¥\npatchwork æ‹¼æ¥\nå¤šå›¾ç»„åˆæ’ç‰ˆ\n\n\nç»„åˆ\ncowplot å›¾å½¢ç»„åˆ\nä¸“ä¸šå‡ºç‰ˆçº§å›¾è¡¨\n\n\nåŒè½´\nåŒåæ ‡è½´\nåŒ Y è½´å›¾è¡¨\n\n\nå‘è¡¨çº§\nå¤æ‚ç»„åˆå›¾\nè®ºæ–‡å‘è¡¨çº§åˆ«å›¾è¡¨\n\n\n\n\n\n\n\nç»Ÿè®¡æ–¹æ³•ä¸“é¢˜\næ ¹æ®ä½ çš„åˆ†æéœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•ï¼š\n\nåŸºç¡€ç»Ÿè®¡\n\n\n\næ–¹æ³•\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\næ–¹æ³•åˆ†æ\nANOVA\nå¤šç»„å‡å€¼æ¯”è¾ƒ\n\n\nçº¿æ€§å›å½’\nå¤šå…ƒçº¿æ€§å›å½’\nè¿ç»­å› å˜é‡é¢„æµ‹\n\n\nLogistic\nLogistic å›å½’\näºŒåˆ†ç±»ç»“å±€é¢„æµ‹\n\n\nè®¡æ•°æ•°æ®\nPoisson/è´ŸäºŒé¡¹å›å½’\nè®¡æ•°æ•°æ®å»ºæ¨¡\n\n\nROCåˆ†æ\nROC åˆ†æ\næ¨¡å‹åŒºåˆ†åº¦è¯„ä¼°\n\n\næ ·æœ¬é‡\næ ·æœ¬é‡è®¡ç®—\nç ”ç©¶è®¾è®¡å¿…å¤‡\n\n\nBootstrap\nBootstrapä¸ç½®æ¢æ£€éªŒ\nå°æ ·æœ¬éå‚æ•°æ–¹æ³•\n\n\n\n\n\nè¿›é˜¶ç»Ÿè®¡\n\n\n\næ–¹æ³•\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\nç”Ÿå­˜åˆ†æ\nç”Ÿå­˜åˆ†æ\næ—¶é—´åˆ°äº‹ä»¶æ•°æ®\n\n\nå€¾å‘è¯„åˆ†\nPSM å€¾å‘æ€§åŒ¹é…\nè§‚å¯Ÿæ€§ç ”ç©¶å› æœæ¨æ–­\n\n\nä¸­ä»‹æ•ˆåº”\nä¸­ä»‹æ•ˆåº”åˆ†æ\nä½œç”¨æœºåˆ¶æ¢ç´¢\n\n\nå¤šæ°´å¹³æ¨¡å‹\nå¤šæ°´å¹³æ¨¡å‹\nåµŒå¥—/å±‚æ¬¡æ•°æ®\n\n\nGAM\nå¹¿ä¹‰åŠ æ€§æ¨¡å‹\néçº¿æ€§å…³ç³»å»ºæ¨¡\n\n\nRCS\né™åˆ¶æ€§ç«‹æ–¹æ ·æ¡\nå‰‚é‡-ååº”å…³ç³»\n\n\nDiD\nåŒé‡å·®åˆ†æ³•\næ”¿ç­–æ•ˆæœè¯„ä¼°\n\n\nç«äº‰é£é™©\nç«äº‰é£é™©åˆ†æ\nå¤šç»“å±€ç”Ÿå­˜åˆ†æ\n\n\näºšç»„åˆ†æ\näºšç»„åˆ†æä¸äº¤äº’ä½œç”¨\næ•ˆæœä¿®é¥°ä¸æ£®æ—å›¾\n\n\n\n\n\né«˜çº§æ–¹æ³•\n\n\n\næ–¹æ³•\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\nSEM\nç»“æ„æ–¹ç¨‹æ¨¡å‹\nå¤æ‚è·¯å¾„åˆ†æ\n\n\nPLS-PM\nPLS-PM è·¯å¾„æ¨¡å‹\nå°æ ·æœ¬è·¯å¾„åˆ†æ\n\n\nå› å­åˆ†æ\nEFA/CFA\né‡è¡¨éªŒè¯ã€ç»“æ„åˆ†æ\n\n\nPCA\nä¸»æˆåˆ†åˆ†æ\né™ç»´ã€ç‰¹å¾æå–\n\n\nLCA\næ½œç±»åˆ«åˆ†æ\näººç¾¤äºšå‹è¯†åˆ«\n\n\nDLNM\nåˆ†å¸ƒæ»åæ¨¡å‹\næš´éœ²-æ»åæ•ˆåº”\n\n\nVMD\nå˜åˆ†æ¨¡æ€åˆ†è§£\nä¿¡å·å¤„ç†åˆ†æ\n\n\nFFT+GMM\nFFT + VMD + GMM\nç»„åˆä¿¡å·åˆ†æ\n\n\nè´å¶æ–¯\nè´å¶æ–¯ç»Ÿè®¡å…¥é—¨\nå…ˆéªŒ+ä¼¼ç„¶=åéªŒ\n\n\n\n\n\nMeta åˆ†æä¸ç»¼è¿°\n\n\n\næ–¹æ³•\næ•™ç¨‹é“¾æ¥\né€‚ç”¨åœºæ™¯\n\n\n\n\nMeta åˆ†æ\nMeta åˆ†æ\nå¤šç ”ç©¶è¯æ®æ•´åˆ\n\n\nç½‘çŠ¶ Meta\nç½‘çŠ¶ Meta åˆ†æ\nå¤šå¹²é¢„æªæ–½æ¯”è¾ƒ\n\n\nä¼çŠ¶ç»¼è¿°\nä¼çŠ¶ç»¼è¿°\nMeta çš„ Meta\n\n\nèŒƒå›´ç»¼è¿°\nèŒƒå›´ç»¼è¿°\næ–‡çŒ®åœ°å›¾ç»˜åˆ¶\n\n\nè´¨æ€§ç ”ç©¶\nè´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜\næ–‡æœ¬åˆ†æ\n\n\n\n\n\n\n\nå®ç”¨ R åŒ…ä¸“é¢˜\nå¿«é€ŸæŒæ¡é«˜æ•ˆçš„ R åŒ…å·¥å…·ï¼š\n\n\n\nR åŒ…\næ•™ç¨‹é“¾æ¥\nç”¨é€”\n\n\n\n\nbruceR\nbruceR ç»Ÿè®¡å·¥å…·\nä¸€ç«™å¼ç»Ÿè®¡åˆ†æ\n\n\ncompareGroups\næè¿°æ€§è¡¨æ ¼\nåŸºçº¿è¡¨ç”Ÿæˆ\n\n\nscitb\nå¿«é€ŸåŸºçº¿è¡¨\nè®ºæ–‡è¡¨æ ¼\n\n\npurrr\nå‡½æ•°å¼ç¼–ç¨‹\né«˜æ•ˆè¿­ä»£æ“ä½œ\n\n\nfuture\nå¹¶è¡Œè®¡ç®—\nå¤šæ ¸åŠ é€Ÿå¤„ç†\n\n\ndata.table\ndata.table æŒ‡å—\nå¤§æ•°æ®é«˜æ€§èƒ½å¤„ç†\n\n\ntidyplots\næç®€å¯è§†åŒ–\nå¿«é€Ÿç»˜å›¾\n\n\nGGally\nå¯è§†åŒ–æ‰©å±•\nçŸ©é˜µå›¾ã€ç›¸å…³å›¾\n\n\ntidymodels\ntidymodels æœºå™¨å­¦ä¹ \nç°ä»£MLå·¥ä½œæµ\n\n\nbroom\nbroom æ¨¡å‹æ•´ç†\næ¨¡å‹ç»“æœæ•´ç†\n\n\nrstatix\nrstatix ç®¡é“å¼ç»Ÿè®¡\ntidyverseç»Ÿè®¡æ£€éªŒ\n\n\ndplyr/tidyr\ndplyr/tidyr æ•°æ®å¤„ç†\næ•°æ®æ¸…æ´—æ•´å½¢\n\n\ngtsummary\ngtsummary å‘è¡¨çº§è¡¨æ ¼\nè®ºæ–‡è¡¨æ ¼ä¸€é”®ç”Ÿæˆ\n\n\n\n\n\n\nå®ç”¨æ“ä½œä¸“é¢˜\næ—¥å¸¸å·¥ä½œä¸­çš„å¸¸ç”¨æŠ€å·§ï¼š\n\n\n\nä¸»é¢˜\næ•™ç¨‹é“¾æ¥\nè¯´æ˜\n\n\n\n\næ•°æ®å¯¼å…¥\næ•°æ®å¯¼å…¥å¯¼å‡º\nExcelã€CSVã€SPSS ç­‰æ ¼å¼\n\n\né«˜æ€§èƒ½\ndata.table å®Œå…¨æŒ‡å—\nå¤§æ•°æ®å¤„ç†æœ€ä½³å®è·µ\n\n\nRMarkdown\nRMarkdown å…¥é—¨\nå¯é‡å¤ç ”ç©¶æŠ¥å‘Š\n\n\næ ¼å¼é€‰æ‹©\nQuarto vs RMarkdown\né€‰æ‹©åˆé€‚çš„æ–‡æ¡£æ ¼å¼\n\n\nIDE\nPositron IDE\nç°ä»£åŒ–çš„ R å¼€å‘ç¯å¢ƒ\n\n\nEDA\næ¢ç´¢æ€§æ•°æ®åˆ†æ\næ•°æ®æ¢ç´¢ä¸è´¨é‡æ£€æŸ¥\n\n\nç¼ºå¤±å€¼\nç¼ºå¤±å€¼å¤„ç†\nå¤šé‡æ’è¡¥ä¸åˆ†æ"
  },
  {
    "objectID": "0001-guide.html#æŒ‰ä½¿ç”¨åœºæ™¯é€‰æ‹©",
    "href": "0001-guide.html#æŒ‰ä½¿ç”¨åœºæ™¯é€‰æ‹©",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "æŒ‰ä½¿ç”¨åœºæ™¯é€‰æ‹©",
    "text": "æŒ‰ä½¿ç”¨åœºæ™¯é€‰æ‹©\n\nå†™è®ºæ–‡\n\nåŸºçº¿è¡¨ï¼šcompareGroups æˆ– gtsummary â­æ–°å¢\næ£®æ—å›¾ï¼šæ£®æ—å›¾ç»‘åˆ¶ æˆ– äºšç»„åˆ†æ\né…è‰²ï¼šç§‘å­¦æœŸåˆŠé…è‰²\nå›¾è¡¨ç»„åˆï¼špatchwork æˆ– å¤æ‚ç»„åˆå›¾\n\n\n\nåšæµè¡Œç—…å­¦ç ”ç©¶\n\né˜Ÿåˆ—ç ”ç©¶ï¼šç”Ÿå­˜åˆ†æ + PSM + ç«äº‰é£é™© â­æ–°å¢\nç—…ä¾‹å¯¹ç…§ï¼šLogistic å›å½’\nå‰‚é‡ååº”ï¼šRCS + GAM\nMeta åˆ†æï¼šMeta æˆ– ç½‘çŠ¶ Meta\näºšç»„åˆ†æï¼šäºšç»„åˆ†æä¸äº¤äº’ä½œç”¨ â­æ–°å¢\n\n\n\nåšé—®å·ç ”ç©¶\n\né‡è¡¨éªŒè¯ï¼šEFA/CFA\nè·¯å¾„åˆ†æï¼šSEM æˆ– PLS-PM\näººç¾¤åˆ†ç±»ï¼šLCA\nå¯è§†åŒ–ï¼šé›·è¾¾å›¾\n\n\n\nåšæœºå™¨å­¦ä¹ \n\nå…¥é—¨æ¡†æ¶ï¼šmlr3 æœºå™¨å­¦ä¹  æˆ– tidymodels\næ¨¡å‹æ•´ç†ï¼šbroom æ¨¡å‹æ•´ç†\næ•°æ®é™ç»´ï¼šPCA\næ—¶åºé¢„æµ‹ï¼šæ—¶é—´åºåˆ—åˆ†æ\næ·±åº¦å­¦ä¹ ï¼šLSTM æ—¶é—´åºåˆ—é¢„æµ‹\nå¹¶è¡ŒåŠ é€Ÿï¼šfuture å¹¶è¡Œè®¡ç®—\n\n\n\nåšç»¼è¿°ç ”ç©¶\n\nç³»ç»Ÿç»¼è¿°ï¼šèŒƒå›´ç»¼è¿° èµ·æ­¥\nå®šé‡ç»¼åˆï¼šMeta åˆ†æ\nå¤šå¹²é¢„æ¯”è¾ƒï¼šç½‘çŠ¶ Meta\nè¯æ®åˆ†çº§ï¼šä¼çŠ¶ç»¼è¿°"
  },
  {
    "objectID": "0001-guide.html#å¦‚ä½•ä½¿ç”¨æœ¬ç«™",
    "href": "0001-guide.html#å¦‚ä½•ä½¿ç”¨æœ¬ç«™",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "å¦‚ä½•ä½¿ç”¨æœ¬ç«™",
    "text": "å¦‚ä½•ä½¿ç”¨æœ¬ç«™\n\nä¾§è¾¹æ å¯¼èˆªï¼šæŒ‰ç±»åˆ«æµè§ˆæ‰€æœ‰æ•™ç¨‹\næœç´¢åŠŸèƒ½ï¼šåœ¨é¡µé¢é¡¶éƒ¨æœç´¢å…³é”®è¯\néšæœºç¬”è®°ï¼šé¦–é¡µå³ä¾§æ¯æ¬¡åˆ·æ–°éšæœºæ¨èä¸€ç¯‡\nä»£ç å¤åˆ¶ï¼šæ¯ä¸ªä»£ç å—å³ä¸Šè§’æœ‰å¤åˆ¶æŒ‰é’®"
  },
  {
    "objectID": "0001-guide.html#æŒç»­æ›´æ–°",
    "href": "0001-guide.html#æŒç»­æ›´æ–°",
    "title": "R è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š",
    "section": "æŒç»­æ›´æ–°",
    "text": "æŒç»­æ›´æ–°\næœ¬ç«™å†…å®¹æŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿æ”¶è—å¹¶å®šæœŸè®¿é—®ï¼\n\n\nå¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ GitHub æ Issueï¼"
  },
  {
    "objectID": "0012-quarto-vs-rmd.html",
    "href": "0012-quarto-vs-rmd.html",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "",
    "text": "Quarto æ˜¯ RMarkdown çš„ä¸‹ä¸€ä»£ç‰ˆæœ¬ï¼Œç”± Positï¼ˆåŸ RStudioï¼‰å¼€å‘ã€‚ä¸¤è€…éƒ½ç”¨äºåˆ›å»ºå¯é‡å¤çš„æ–‡æ¡£ï¼Œä½† Quarto æä¾›äº†æ›´å¤šç°ä»£ç‰¹æ€§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#æ¦‚è¿°",
    "href": "0012-quarto-vs-rmd.html#æ¦‚è¿°",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "",
    "text": "Quarto æ˜¯ RMarkdown çš„ä¸‹ä¸€ä»£ç‰ˆæœ¬ï¼Œç”± Positï¼ˆåŸ RStudioï¼‰å¼€å‘ã€‚ä¸¤è€…éƒ½ç”¨äºåˆ›å»ºå¯é‡å¤çš„æ–‡æ¡£ï¼Œä½† Quarto æä¾›äº†æ›´å¤šç°ä»£ç‰¹æ€§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#æ ¸å¿ƒåŒºåˆ«",
    "href": "0012-quarto-vs-rmd.html#æ ¸å¿ƒåŒºåˆ«",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "æ ¸å¿ƒåŒºåˆ«",
    "text": "æ ¸å¿ƒåŒºåˆ«\n\n\n\nç‰¹æ€§\nRMarkdown\nQuarto\n\n\n\n\næ–‡ä»¶æ‰©å±•å\n.Rmd\n.qmd\n\n\nè¯­è¨€æ”¯æŒ\nä¸»è¦æ˜¯ R\nRã€Pythonã€Juliaã€Observable\n\n\nä¾èµ–\néœ€è¦ R å’Œ knitr\nç‹¬ç«‹å‘½ä»¤è¡Œå·¥å…·\n\n\né…ç½®è¯­æ³•\nYAML + R ä»£ç å—é€‰é¡¹\nç»Ÿä¸€çš„ YAML è¯­æ³•\n\n\nè¾“å‡ºæ ¼å¼\né€šè¿‡ R åŒ…\nå†…ç½®æ”¯æŒ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#è¯­æ³•å¯¹æ¯”",
    "href": "0012-quarto-vs-rmd.html#è¯­æ³•å¯¹æ¯”",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "è¯­æ³•å¯¹æ¯”",
    "text": "è¯­æ³•å¯¹æ¯”\n\nä»£ç å—é€‰é¡¹\nRMarkdown æ–¹å¼ï¼š é€‰é¡¹å†™åœ¨èŠ±æ‹¬å·å†…\nä»£ç å—å¤´: {r myplot, echo=TRUE, fig.width=8}\nQuarto æ–¹å¼ï¼š ä½¿ç”¨ #| æ³¨é‡Šè¯­æ³•\nä»£ç å—å¤´: {r}\n#| label: myplot\n#| echo: true\n#| fig-width: 8\nQuarto çš„ #| è¯­æ³•æ›´æ¸…æ™°ï¼Œä¸”æ”¯æŒä»£ç è¡¥å…¨ã€‚\n\n\näº¤å‰å¼•ç”¨\n\n\n\nåŠŸèƒ½\nRMarkdown\nQuarto\n\n\n\n\nå›¾ç‰‡å¼•ç”¨\n\\@ref(fig:myplot)\n@fig-myplot\n\n\nè¡¨æ ¼å¼•ç”¨\n\\@ref(tab:mytable)\n@tbl-mytable\n\n\nä¾èµ–\néœ€è¦ bookdown åŒ…\nå†…ç½®æ”¯æŒ\n\n\n\n\n\næ¡ä»¶å†…å®¹\nQuarto åŸç”Ÿæ”¯æŒæŒ‰è¾“å‡ºæ ¼å¼æ˜¾ç¤ºä¸åŒå†…å®¹ï¼š\n\n::: {.content-visible when-format=\"html\"} ä»… HTML æ˜¾ç¤º\n::: {.content-visible when-format=\"pdf\"} ä»… PDF æ˜¾ç¤º",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#quarto-çš„ä¼˜åŠ¿",
    "href": "0012-quarto-vs-rmd.html#quarto-çš„ä¼˜åŠ¿",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "Quarto çš„ä¼˜åŠ¿",
    "text": "Quarto çš„ä¼˜åŠ¿\n\n1. å¤šè¯­è¨€æ”¯æŒ\nåœ¨åŒä¸€æ–‡æ¡£ä¸­å¯æ··åˆä½¿ç”¨ Rã€Pythonã€Juliaã€Observable JSã€‚\n\n\n2. æ›´å¥½çš„é¡¹ç›®æ”¯æŒ\né€šè¿‡ _quarto.yml ç»Ÿä¸€é…ç½®æ•´ä¸ªé¡¹ç›®ï¼Œæ”¯æŒç½‘ç«™ã€ä¹¦ç±ã€åšå®¢ç­‰å¤šç§é¡¹ç›®ç±»å‹ã€‚\n\n\n3. å†…ç½®å¹»ç¯ç‰‡\nåŸç”Ÿæ”¯æŒ Revealjs å¹»ç¯ç‰‡ï¼Œåªéœ€è®¾ç½® format: revealjsã€‚\n\n\n4. æ‰©å±•ç³»ç»Ÿ\nå¯é€šè¿‡ quarto add å®‰è£…æ‰©å±•ï¼Œæ·»åŠ æ–°æ ¼å¼ã€è¿‡æ»¤å™¨å’ŒçŸ­ä»£ç ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#rmarkdown-çš„ä¼˜åŠ¿",
    "href": "0012-quarto-vs-rmd.html#rmarkdown-çš„ä¼˜åŠ¿",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "RMarkdown çš„ä¼˜åŠ¿",
    "text": "RMarkdown çš„ä¼˜åŠ¿\n\nç”Ÿæ€æˆç†Ÿï¼šå¤§é‡ç°æœ‰æ¨¡æ¿å’ŒåŒ…\nR æ·±åº¦é›†æˆï¼šä¸ R åŒ…ç³»ç»Ÿæ— ç¼é…åˆ\nå­¦ä¹ èµ„æ–™ä¸°å¯Œï¼šæ•™ç¨‹å’Œæ–‡æ¡£æ›´å¤š",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#è¿ç§»å»ºè®®",
    "href": "0012-quarto-vs-rmd.html#è¿ç§»å»ºè®®",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "è¿ç§»å»ºè®®",
    "text": "è¿ç§»å»ºè®®\n\nä» RMarkdown è¿ç§»åˆ° Quarto\n\nå°† .Rmd é‡å‘½åä¸º .qmdï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ç›´æ¥å¯ç”¨ï¼‰\næ›´æ–°ä»£ç å—é€‰é¡¹ä¸º #| è¯­æ³•\næ›´æ–° YAML å¤´éƒ¨ï¼šoutput: html_document â†’ format: html\n\n\n\nYAML å¤´éƒ¨å¯¹æ¯”\n\n\n\nRMarkdown\nQuarto\n\n\n\n\noutput: html_document\nformat: html\n\n\ntoc: true\ntoc: true\n\n\ntoc_float: true\ntoc-location: left\n\n\ncode_folding: show\ncode-fold: show",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#é€‰æ‹©å»ºè®®",
    "href": "0012-quarto-vs-rmd.html#é€‰æ‹©å»ºè®®",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "é€‰æ‹©å»ºè®®",
    "text": "é€‰æ‹©å»ºè®®\n\n\n\nåœºæ™¯\næ¨è\n\n\n\n\næ–°é¡¹ç›®\nQuarto\n\n\nçº¯ R é¡¹ç›®\nä¸¤è€…çš†å¯\n\n\nå¤šè¯­è¨€é¡¹ç›®\nQuarto\n\n\nå·²æœ‰ RMarkdown é¡¹ç›®\nç»§ç»­ä½¿ç”¨ï¼Œæœ‰éœ€è¦å†è¿ç§»\n\n\néœ€è¦ç‰¹å®š R åŒ…åŠŸèƒ½\nRMarkdown\n\n\nç½‘ç«™/ä¹¦ç±é¡¹ç›®\nQuarto",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#æ€»ç»“",
    "href": "0012-quarto-vs-rmd.html#æ€»ç»“",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nQuarto æ˜¯ RMarkdown çš„ç°ä»£ç»§æ‰¿è€…ï¼Œæä¾›ï¼š\n\nç»Ÿä¸€çš„è·¨è¯­è¨€ä½“éªŒ\næ›´æ¸…æ™°çš„è¯­æ³•\nå†…ç½®ä¸°å¯ŒåŠŸèƒ½\næ´»è·ƒçš„å¼€å‘å’Œç¤¾åŒº\n\nå¯¹äºæ–°é¡¹ç›®ï¼Œæ¨èä½¿ç”¨ Quartoã€‚ç°æœ‰ RMarkdown é¡¹ç›®å¯ä»¥æŒ‰éœ€é€æ­¥è¿ç§»ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "0012-quarto-vs-rmd.html#å‚è€ƒèµ„æº",
    "href": "0012-quarto-vs-rmd.html#å‚è€ƒèµ„æº",
    "title": "Quarto vs RMarkdown å¯¹æ¯”",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nQuarto å®˜æ–¹æ–‡æ¡£\nRMarkdown å®˜æ–¹æ–‡æ¡£\nä» RMarkdown è¿ç§»åˆ° Quarto",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "Quarto vs RMarkdown"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html",
    "href": "1011-rpac_brucer.html",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#råŒ…ä»‹ç»",
    "href": "1011-rpac_brucer.html#råŒ…ä»‹ç»",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#råŒ…å®‰è£…",
    "href": "1011-rpac_brucer.html#råŒ…å®‰è£…",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# æ–¹æ³•1ï¼šä» CRAN å®‰è£…ï¼ˆæ¨èï¼‰\ninstall.packages(\"bruceR\", dep = TRUE)\n\n# æ–¹æ³•2ï¼šä» GitHub å®‰è£…æœ€æ–°ç‰ˆ\ninstall.packages(\"devtools\")\ndevtools::install_github(\"psychbruce/bruceR\", dep = TRUE, force = TRUE)\n\n\nlibrary(bruceR)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "text": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½\n\nset.wd()ï¼šæ™ºèƒ½è®¾ç½®å·¥ä½œç›®å½•\nè‡ªåŠ¨å°†å·¥ä½œç›®å½•è®¾ç½®ä¸ºå½“å‰è„šæœ¬æ‰€åœ¨è·¯å¾„ï¼š\n\nset.wd()\n\n\n\nimport() / export()ï¼šä¸‡èƒ½æ•°æ®å¯¼å…¥å¯¼å‡º\næ”¯æŒå‡ ä¹æ‰€æœ‰å¸¸è§æ•°æ®æ ¼å¼ï¼Œè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼š\n\n# æ”¯æŒçš„æ ¼å¼ï¼š\n# - æ–‡æœ¬ï¼š.txt, .csv, .tsv\n# - Excelï¼š.xls, .xlsx\n# - SPSSï¼š.sav\n# - Stataï¼š.dta\n# - Rå¯¹è±¡ï¼š.rda, .rds, .RData\n\n# å¯¼å…¥æ•°æ®\ndata &lt;- import(\"data.xlsx\")\ndata &lt;- import(\"data.sav\")\ndata &lt;- import(\"data.dta\")\n\n# å¯¼å‡ºæ•°æ®\nexport(data, file = \"output.xlsx\")\nexport(data, file = \"output.csv\")\n\n\n\ncc()ï¼šå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\næ¯” c() æ›´ç®€æ´ï¼Œæ— éœ€å¼•å·ï¼š\n\n# ä¼ ç»Ÿå†™æ³•\nc(\"age\", \"gender\", \"education\")\n\n[1] \"age\"       \"gender\"    \"education\"\n\n# bruceR å†™æ³•\ncc(\"age, gender, education\")\n\n[1] \"age\"       \"gender\"    \"education\"\n\n\n\n\nprint_table()ï¼šç”Ÿæˆä¸‰çº¿è¡¨\n\nsummary_data &lt;- data.frame(\n  Variable = c(\"Age\", \"Income\", \"Score\"),\n  Mean = c(35.2, 5000, 78.5),\n  SD = c(8.3, 1200, 12.1),\n  N = c(100, 100, 100)\n)\n\nprint_table(summary_data)\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   Variable     Mean       SD       N\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n1    Age      35.200    8.300 100.000\n2    Income 5000.000 1200.000 100.000\n3    Score    78.500   12.100 100.000\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æ•°æ®è®¡ç®—åŠŸèƒ½",
    "text": "æ•°æ®è®¡ç®—åŠŸèƒ½\n\nMEAN() / SUM()ï¼šæ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\nå¿ƒç†å­¦é‡è¡¨ç»å¸¸éœ€è¦è®¡ç®—å¤šä¸ªé¢˜ç›®çš„å‡å€¼æˆ–æ€»åˆ†ï¼Œå¹¶å¤„ç†åå‘è®¡åˆ†ï¼š\n\n# åˆ›å»ºæ¨¡æ‹Ÿé—®å·æ•°æ®ï¼ˆ5ç‚¹é‡è¡¨ï¼Œå…±6é¢˜ï¼‰\nset.seed(42)\nquestionnaire &lt;- data.frame(\n  id = 1:5,\n  q1 = sample(1:5, 5, replace = TRUE),\n  q2 = sample(1:5, 5, replace = TRUE),\n  q3 = sample(1:5, 5, replace = TRUE),\n  q4 = sample(1:5, 5, replace = TRUE),\n  q5 = sample(1:5, 5, replace = TRUE),\n  q6 = sample(1:5, 5, replace = TRUE)\n)\nquestionnaire\n\n  id q1 q2 q3 q4 q5 q6\n1  1  1  4  1  3  5  4\n2  2  5  2  5  1  5  3\n3  3  1  2  4  1  5  2\n4  4  1  1  2  3  4  1\n5  5  2  4  2  4  2  2\n\n# è®¡ç®—å‡å€¼ï¼ˆq3ã€q6 åå‘è®¡åˆ†ï¼Œé‡è¡¨èŒƒå›´1-5ï¼‰\nquestionnaire$score_mean &lt;- MEAN(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\n# è®¡ç®—æ€»åˆ†\nquestionnaire$score_sum &lt;- SUM(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\nquestionnaire[, c(\"id\", \"score_mean\", \"score_sum\")]\n\n  id score_mean score_sum\n1  1   3.333333        20\n2  2   2.833333        17\n3  3   2.500000        15\n4  4   3.000000        18\n5  5   3.333333        20\n\n\n\n\nRECODE()ï¼šå˜é‡é‡ç¼–ç \n\nd &lt;- data.frame(age = c(18, 25, 35, 45, 55, 65, 75))\n\nd$age_group &lt;- RECODE(d$age, \n  \"lo:29 = 'é’å¹´'; \n   30:59 = 'ä¸­å¹´'; \n   60:hi = 'è€å¹´'\"\n)\nd\n\n  age age_group\n1  18      é’å¹´\n2  25      é’å¹´\n3  35      ä¸­å¹´\n4  45      ä¸­å¹´\n5  55      ä¸­å¹´\n6  65      è€å¹´\n7  75      è€å¹´\n\n\n\n\nRESCALE()ï¼šå˜é‡æ ‡å‡†åŒ–\n\nscores &lt;- c(2, 3, 4, 5, 6, 7, 8)\nRESCALE(scores, to = 0:100)\n\n[1]   0.00000  16.66667  33.33333  50.00000  66.66667  83.33333 100.00000",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "href": "1011-rpac_brucer.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¿¡åº¦ä¸å› å­åˆ†æ",
    "text": "ä¿¡åº¦ä¸å› å­åˆ†æ\n\nAlpha()ï¼šä¿¡åº¦åˆ†æ\n\ndata(\"bfi\", package = \"psych\")\n\n# Alpha éœ€è¦æŒ‡å®šæ•°æ®å’Œå˜é‡å\nAlpha(bfi, var = \"A\", items = 1:5)\n\n\nReliability Analysis\n\nSummary:\nTotal Items: 5\nScale Range: 1 ~ 6\nTotal Cases: 2800\nValid Cases: 2709 (96.8%)\n\nScale Statistics:\nMean = 4.208\nS.D. = 0.735\nCronbachâ€™s Î± = 0.431\nMcDonaldâ€™s Ï‰ = 0.592\n\nWarning: Scale reliability is low. You may check item codings.\nItem A1 correlates negatively with the scale and may be reversed.\nYou can specify this argument: rev=c(\"A1\")\n\nItem Statistics (Cronbachâ€™s Î± If Item Deleted):\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n     Mean    S.D. Item-Rest Cor. Cronbachâ€™s Î±\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nA1  2.412 (1.405)         -0.311        0.718\nA2  4.797 (1.176)          0.372        0.278\nA3  4.599 (1.305)          0.478        0.174\nA4  4.682 (1.486)          0.365        0.252\nA5  4.551 (1.262)          0.448        0.207\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nItem-Rest Cor. = Corrected Item-Total Correlation\n\n\n\n\nEFA()ï¼šæ¢ç´¢æ€§å› å­åˆ†æ\n\ndata(\"bfi\", package = \"psych\")\n\n# æ¢ç´¢æ€§å› å­åˆ†æï¼šä½¿ç”¨ var + items æ ¼å¼\n# åˆ†æå¤–å‘æ€§(E)é‡è¡¨çš„5ä¸ªé¢˜ç›®\nEFA(bfi, var = \"E\", items = 1:5, nfactors = 2, plot.scree = FALSE)\n\n\nPrincipal Component Analysis\n\nSummary:\nTotal Items: 5\nScale Range: 1 ~ 6\nTotal Cases: 2800\nValid Cases: 2713 (96.9%)\n\nExtraction Method:\n- Principal Component Analysis\nRotation Method:\n- Varimax (with Kaiser Normalization)\n\nKMO and Bartlett's Test:\n- Kaiser-Meyer-Olkin (KMO) Measure of Sampling Adequacy: MSA = 0.799\n- Bartlett's Test of Sphericity: Approx. Ï‡Â²(10) = 3011.40, p &lt; 1e-99 ***\n\nTotal Variance Explained:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             Eigenvalue Variance % Cumulative % SS Loading Variance % Cumulative %\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nComponent 1       2.565     51.298       51.298      1.884     37.680       37.680\nComponent 2       0.768     15.368       66.666      1.449     28.986       66.666\nComponent 3       0.643     12.851       79.517                                   \nComponent 4       0.561     11.211       90.728                                   \nComponent 5       0.464      9.272      100.000                                   \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nComponent Loadings (Rotated) (Sorted by Size):\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n       RC1    RC2 Communality\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nE1   0.812 -0.098       0.668\nE2   0.752 -0.304       0.658\nE4  -0.736  0.290       0.625\nE5  -0.145  0.860       0.761\nE3  -0.312  0.723       0.620\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCommunality = Sum of Squared (SS) Factor Loadings\n(Uniqueness = 1 - Communality)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "href": "1011-rpac_brucer.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "text": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ\n\nDescribe()ï¼šæè¿°ç»Ÿè®¡\n\nDescribe(iris[, 1:4])\n\nDescriptive Statistics:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                N Mean   SD | Median  Min  Max Skewness Kurtosis\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length  150 5.84 0.83 |   5.80 4.30 7.90     0.31    -0.61\nSepal.Width   150 3.06 0.44 |   3.00 2.00 4.40     0.31     0.14\nPetal.Length  150 3.76 1.77 |   4.35 1.00 6.90    -0.27    -1.42\nPetal.Width   150 1.20 0.76 |   1.30 0.10 2.50    -0.10    -1.36\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nFreq()ï¼šé¢‘ç‡åˆ†æ\n\nFreq(iris$Species)\n\nFrequency Statistics:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             N    %\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nsetosa      50 33.3\nversicolor  50 33.3\nvirginica   50 33.3\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal N = 150\n\n\n\n\nCorr()ï¼šç›¸å…³åˆ†æ\n\nCorr(iris[, 1:4])\n\nPearson's r and 95% confidence intervals:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                               r       [95% CI]     p       N\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length-Sepal.Width   -0.12 [-0.27,  0.04]  .152     150\nSepal.Length-Petal.Length   0.87 [ 0.83,  0.91] &lt;.001 *** 150\nSepal.Length-Petal.Width    0.82 [ 0.76,  0.86] &lt;.001 *** 150\nSepal.Width-Petal.Length   -0.43 [-0.55, -0.29] &lt;.001 *** 150\nSepal.Width-Petal.Width    -0.37 [-0.50, -0.22] &lt;.001 *** 150\nPetal.Length-Petal.Width    0.96 [ 0.95,  0.97] &lt;.001 *** 150\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ç»Ÿè®¡æ£€éªŒ",
    "href": "1011-rpac_brucer.html#ç»Ÿè®¡æ£€éªŒ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ç»Ÿè®¡æ£€éªŒ",
    "text": "ç»Ÿè®¡æ£€éªŒ\n\nTTEST()ï¼štæ£€éªŒ\n\n# ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒï¼ˆéœ€è¦ä¸¤æ°´å¹³å› å­ï¼‰\niris_subset &lt;- iris[iris$Species %in% c(\"versicolor\", \"virginica\"), ]\niris_subset$Species &lt;- droplevels(iris_subset$Species)\n\nTTEST(iris_subset, y = \"Sepal.Length\", x = \"Species\")\n\n\nIndependent-Samples t-test\n\nHypothesis: two-sided (Î¼2 - Î¼1 â‰  0)\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n     Variable  Factor      Level  N Mean (S.D.)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Sepal.Length Species versicolor 50 5.94 (0.52)\n Sepal.Length Species virginica  50 6.59 (0.64)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nLeveneâ€™s test for homogeneity of variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                                                Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length: Species (virginica - versicolor)        1.42   1  98  .236    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote: H0 = equal variance (homoscedasticity).\nIf significant (violation of the assumption),\nthen you should better set `var.equal=FALSE`.\n\nResults of t-test:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                                                   t df     p     Difference [95% CI] Cohenâ€™s d [95% CI]     BF10\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length: Species (virginica - versicolor)  5.63 98 &lt;.001 ***   0.65 [0.42, 0.88]  1.13 [0.73, 1.52] 7.04e+04\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nMANOVA()ï¼šå¤šå› ç´ æ–¹å·®åˆ†æ\n\nMANOVA(data = npk, dv = \"yield\", between = c(\"N\", \"P\", \"K\"))\n\n\n====== ANOVA (Between-Subjects Design) ======\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\" \"P\" \"K\"   Mean    S.D. n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0  P0  K0 51.433 (4.600) 3\n  N0  P0  K1 52.000 (5.635) 3\n  N0  P1  K0 54.333 (9.411) 3\n  N0  P1  K1 50.500 (2.364) 3\n  N1  P0  K0 63.767 (5.086) 3\n  N1  P0  K1 54.667 (4.216) 3\n  N1  P1  K0 57.933 (5.478) 3\n  N1  P1  K1 54.367 (5.006) 3\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal sample size: N = 24\n\nANOVA Table:\nDependent variable(s):      yield\nBetween-subjects factor(s): N, P, K\nWithin-subjects factor(s):  â€“\nCovariate(s):               â€“\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nN          189.282 30.724   1  16 6.161  .025 *     .278 [.024, .529] .278\nP            8.402 30.724   1  16 0.273  .608       .017 [.000, .220] .017\nK           95.202 30.724   1  16 3.099  .097 .     .162 [.000, .427] .162\nN * P       21.282 30.724   1  16 0.693  .418       .041 [.000, .277] .041\nN * K       33.135 30.724   1  16 1.078  .314       .063 [.000, .312] .063\nP * K        0.482 30.724   1  16 0.016  .902       .001 [.000, .078] .001\nN * P * K   37.002 30.724   1  16 1.204  .289       .070 [.000, .322] .070\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMSE = mean square error (the residual variance of the linear model)\nÎ·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\nÏ‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\nÎ·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\nCohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n\nLeveneâ€™s Test for Homogeneity of Variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDV: yield       0.986   7  16  .475    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nEMMEANS()ï¼šè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\nresult &lt;- MANOVA(npk, dv = \"yield\", between = c(\"N\", \"P\"))\n\n\n====== ANOVA (Between-Subjects Design) ======\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\" \"P\"   Mean    S.D. n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0  P0 51.717 (4.611) 6\n  N0  P1 52.417 (6.486) 6\n  N1  P0 59.217 (6.504) 6\n  N1  P1 56.150 (5.084) 6\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal sample size: N = 24\n\nANOVA Table:\nDependent variable(s):      yield\nBetween-subjects factor(s): N, P\nWithin-subjects factor(s):  â€“\nCovariate(s):               â€“\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n            MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nN      189.282 32.870   1  20 5.758  .026 *     .224 [.017, .460] .224\nP        8.402 32.870   1  20 0.256  .619       .013 [.000, .181] .013\nN * P   21.282 32.870   1  20 0.647  .430       .031 [.000, .230] .031\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMSE = mean square error (the residual variance of the linear model)\nÎ·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\nÏ‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\nÎ·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\nCohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n\nLeveneâ€™s Test for Homogeneity of Variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDV: yield       0.160   3  20  .922    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nEMMEANS(result, effect = \"N\")\n\n------ EMMEANS (effect = \"N\") ------\n\nJoint Tests of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Effect df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N       1  20 5.758  .026 *     .224 [.017, .460]\n  P       1  20 0.256  .619       .013 [.000, .181]\n  N * P   1  20 0.647  .430       .031 [.000, .230]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. Simple effects of repeated measures with 3 or more levels\nare different from the results obtained with SPSS MANOVA syntax.\n\nUnivariate Tests of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Sum of Squares df Mean Square     F     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMean: \"N\"         189.282  1     189.282 5.758  .026 *  \nResiduals         657.400 20      32.870                \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. Identical to the results obtained with SPSS GLM EMMEANS syntax.\n\nEstimated Marginal Means of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\"   Mean [95% CI of Mean]    S.E.\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0 52.067 [48.614, 55.519] (1.655)\n  N1 57.683 [54.231, 61.136] (1.655)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nPairwise Comparisons of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Contrast Estimate    S.E. df     t     p     Cohenâ€™s d [95% CI of d]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N1 - N0    5.617 (2.341) 20 2.400  .026 *      0.980 [0.128, 1.831]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nPooled SD for computing Cohenâ€™s d: 5.733\nResults are averaged over the levels of: P\nNo need to adjust p values.\n\nDisclaimer:\nBy default, pooled SD is Root Mean Square Error (RMSE).\nThere is much disagreement on how to compute Cohenâ€™s d.\nYou are completely responsible for setting `sd.pooled`.\nYou might also use `effectsize::t_to_d()` to compute d.",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å›å½’åˆ†æ",
    "href": "1011-rpac_brucer.html#å›å½’åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å›å½’åˆ†æ",
    "text": "å›å½’åˆ†æ\n\nmodel_summary()ï¼šæ¨¡å‹æ±‡æ€»\n\nlm1 &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)\nlm2 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length, data = iris)\nlm3 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)\n\n# å¤šä¸ªæ¨¡å‹å¯¹æ¯”\nmodel_summary(list(lm1, lm2, lm3))\n\n\nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n              (1) Sepal.Length  (2) Sepal.Length  (3) Sepal.Length\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n(Intercept)     6.526 ***         2.249 ***         1.856 ***     \n               (0.479)           (0.248)           (0.251)        \nSepal.Width    -0.223             0.596 ***         0.651 ***     \n               (0.155)           (0.069)           (0.067)        \nPetal.Length                      0.472 ***         0.709 ***     \n                                 (0.017)           (0.057)        \nPetal.Width                                        -0.556 ***     \n                                                   (0.128)        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2             0.014             0.840             0.859         \nAdj. R^2        0.007             0.838             0.856         \nNum. obs.     150               150               150             \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n# è¾“å‡ºæ ‡å‡†åŒ–ç³»æ•°\nmodel_summary(lm3, std = TRUE)\n\n\nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n              (1) Sepal.Length\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Width      .343 ***     \n                (.035)        \nPetal.Length    1.512 ***     \n                (.121)        \nPetal.Width     -.512 ***     \n                (.117)        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2              .859         \nAdj. R^2         .856         \nNum. obs.     150             \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n# Check for Multicollinearity\n\nLow Correlation\n\n        Term  VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n Sepal.Width 1.27 [ 1.11,  1.65]     1.13      0.79     [0.61, 0.90]\n\nHigh Correlation\n\n         Term   VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n Petal.Length 15.10 [11.27, 20.36]     3.89      0.07     [0.05, 0.09]\n  Petal.Width 14.23 [10.63, 19.19]     3.77      0.07     [0.05, 0.09]",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "href": "1011-rpac_brucer.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "text": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ\n\nPROCESS()ï¼šä¸­ä»‹è°ƒèŠ‚åˆ†æ\n\nset.seed(123)\nn &lt;- 200\nmediation_data &lt;- data.frame(\n  X = rnorm(n),\n  M = rnorm(n),\n  Y = rnorm(n)\n)\nmediation_data$M &lt;- 0.5 * mediation_data$X + rnorm(n, sd = 0.5)\nmediation_data$Y &lt;- 0.4 * mediation_data$M + 0.3 * mediation_data$X + rnorm(n, sd = 0.5)\n\n# ç®€å•ä¸­ä»‹æ¨¡å‹\nPROCESS(mediation_data, y = \"Y\", x = \"X\", meds = \"M\", \n        ci = \"boot\", nsim = 100)\n\n\n****************** PART 1. Regression Model Summary ******************\n\nPROCESS Model ID : 4\nModel Type : Simple Mediation\n-    Outcome (Y) : Y\n-  Predictor (X) : X\n-  Mediators (M) : M\n- Moderators (W) : -\n- Covariates (C) : -\n-   HLM Clusters : -\n\nAll numeric predictors have been grand-mean centered.\n(For details, please see the help page of PROCESS.)\n\nFormula of Mediator:\n-    M ~ X\nFormula of Outcome:\n-    Y ~ X + M\n\nCAUTION:\n  Fixed effect (coef.) of a predictor involved in an interaction\n  denotes its \"simple effect/slope\" at the other predictor = 0.\n  Only when all predictors in an interaction are mean-centered\n  can the fixed effect be interpreted as \"main effect\"!\n  \nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             (1) Y        (2) M        (3) Y      \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n(Intercept)    0.010       -0.015        0.010    \n              (0.039)      (0.036)      (0.037)   \nX              0.462 ***    0.475 ***    0.302 ***\n              (0.041)      (0.039)      (0.052)   \nM                                        0.336 ***\n                                        (0.072)   \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2            0.391        0.434        0.452    \nAdj. R^2       0.388        0.431        0.446    \nNum. obs.    200          200          200        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n************ PART 2. Mediation/Moderation Effect Estimate ************\n\nPackage Use : â€˜mediationâ€™ (v4.5.1)\nEffect Type : Simple Mediation (Model 4)\nSample Size : 200\nRandom Seed : set.seed()\nSimulations : 100 (Bootstrap)\n\n\n\nRunning 100 simulations...\nIndirect Path: \"X\" (X) ==&gt; \"M\" (M) ==&gt; \"Y\" (Y)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n               Effect    S.E.      z     p      [Boot 95% CI]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nIndirect (ab)   0.160 (0.032)  4.997 &lt;.001 *** [0.105, 0.206]\nDirect (c')     0.302 (0.046)  6.515 &lt;.001 *** [0.224, 0.390]\nTotal (c)       0.462 (0.036) 12.918 &lt;.001 *** [0.401, 0.532]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nPercentile Bootstrap Confidence Interval\n(SE and CI are estimated based on 100 Bootstrap samples.)\n\nNote. The results based on bootstrapping or other random processes\nare unlikely identical to other statistical software (e.g., SPSS).\nTo make results reproducible, you need to set a seed (any number).\nPlease see the help page for details: help(PROCESS)\nIgnore this note if you have already set a seed. :)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å…¶ä»–å®ç”¨åŠŸèƒ½",
    "text": "å…¶ä»–å®ç”¨åŠŸèƒ½\n\nè¿ç®—ç¬¦\n\n# %notin%ï¼šä¸åœ¨å…¶ä¸­\nc(1, 2, 3) %notin% c(2, 4, 6)\n\n[1]  TRUE FALSE  TRUE\n\n# %allin%ï¼šå…¨éƒ¨åœ¨å…¶ä¸­\nc(1, 2) %allin% c(1, 2, 3, 4)\n\n[1] TRUE\n\n\n\n\ntheme_bruce()ï¼šggplot2 ä¸»é¢˜\n\nlibrary(ggplot2)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(title = \"é¸¢å°¾èŠ±æ•°æ®å¯è§†åŒ–\") +\n  theme_bruce()",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å¯¼å‡ºåˆ°-word",
    "href": "1011-rpac_brucer.html#å¯¼å‡ºåˆ°-word",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å¯¼å‡ºåˆ° Word",
    "text": "å¯¼å‡ºåˆ° Word\nbruceR çš„ä¸€å¤§ç‰¹è‰²æ˜¯å¯ä»¥å°†ç»“æœç›´æ¥å¯¼å‡ºåˆ° Word æ–‡æ¡£ï¼š\n\n# æè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4], file = \"descriptives.doc\")\n\n# ç›¸å…³çŸ©é˜µ\nCorr(iris[, 1:4], file = \"correlation.doc\")\n\n# å›å½’æ¨¡å‹\nmodel_summary(list(lm1, lm2, lm3), file = \"regression.doc\")\n\n# ä¸­ä»‹åˆ†æ\nPROCESS(data, y = \"Y\", x = \"X\", meds = \"M\", file = \"mediation.doc\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "1011-rpac_brucer.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "å‡½æ•°é€ŸæŸ¥è¡¨\n\n\n\nç±»åˆ«\nå‡½æ•°\nåŠŸèƒ½\n\n\n\n\nåŸºç¡€\nset.wd()\nè®¾ç½®å·¥ä½œç›®å½•åˆ°å½“å‰è„šæœ¬ä½ç½®\n\n\n\nimport() / export()\nä¸‡èƒ½æ•°æ®å¯¼å…¥/å¯¼å‡º\n\n\n\ncc()\nå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\n\n\n\nprint_table()\næ‰“å°ä¸‰çº¿è¡¨\n\n\nè®¡ç®—\nMEAN() / SUM()\næ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\n\n\n\nRECODE()\nå˜é‡é‡ç¼–ç \n\n\n\nRESCALE()\nå˜é‡æ ‡å‡†åŒ–\n\n\nä¿¡æ•ˆåº¦\nAlpha()\nCronbachâ€™s Î± ä¿¡åº¦åˆ†æ\n\n\n\nEFA() / PCA()\næ¢ç´¢æ€§å› å­åˆ†æ/ä¸»æˆåˆ†åˆ†æ\n\n\n\nCFA()\néªŒè¯æ€§å› å­åˆ†æ\n\n\næè¿°\nDescribe()\næè¿°ç»Ÿè®¡\n\n\n\nFreq()\né¢‘ç‡åˆ†æä¸äº¤å‰è¡¨\n\n\n\nCorr()\nç›¸å…³åˆ†æä¸çƒ­åŠ›å›¾\n\n\næ£€éªŒ\nTTEST()\ntæ£€éªŒï¼ˆå•æ ·æœ¬/ç‹¬ç«‹/é…å¯¹ï¼‰\n\n\n\nMANOVA()\nå¤šå› ç´ æ–¹å·®åˆ†æ\n\n\n\nEMMEANS()\nè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\n\nå›å½’\nmodel_summary()\nå›å½’æ¨¡å‹æ•´æ´è¾“å‡º\n\n\n\nGLM_summary()\nå¹¿ä¹‰çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\n\nHLM_summary()\nå¤šå±‚çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\nä¸­ä»‹\nPROCESS()\nä¸­ä»‹/è°ƒèŠ‚æ•ˆåº”åˆ†æ\n\n\n\nmed_summary()\nä¸­ä»‹æ•ˆåº”æ±‡æ€»",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å‚è€ƒèµ„æº",
    "href": "1011-rpac_brucer.html#å‚è€ƒèµ„æº",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nbruceR GitHub ä¸»é¡µ\nCRAN å®˜æ–¹é¡µé¢\nä¸­æ–‡æ•™ç¨‹ï¼šæ¦‚è¿°ç¯‡\nä¸­æ–‡æ•™ç¨‹ï¼šå¸¸è§é—®é¢˜\nå¼•ç”¨ï¼šBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions. https://doi.org/10.32614/CRAN.package.bruceR",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1013-scitb.html",
    "href": "1013-scitb.html",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "",
    "text": "scitbæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåŸºçº¿è¡¨å¼€å‘çš„åŒ…ï¼Œç›¸è¾ƒäºtableone scitbå…·æœ‰æ›´å¥½ä½¿ç”¨ï¼Œå¯¼å‡ºæ–¹ä¾¿ï¼Œå¿«é€Ÿè®¾ç½®çš„ä¼˜ç‚¹\nCRANåº“\nä½œè€…æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…ä»‹ç»",
    "href": "1013-scitb.html#råŒ…ä»‹ç»",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "",
    "text": "scitbæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåŸºçº¿è¡¨å¼€å‘çš„åŒ…ï¼Œç›¸è¾ƒäºtableone scitbå…·æœ‰æ›´å¥½ä½¿ç”¨ï¼Œå¯¼å‡ºæ–¹ä¾¿ï¼Œå¿«é€Ÿè®¾ç½®çš„ä¼˜ç‚¹\nCRANåº“\nä½œè€…æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…å®‰è£…",
    "href": "1013-scitb.html#råŒ…å®‰è£…",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"scitb\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…ä½¿ç”¨",
    "href": "1013-scitb.html#råŒ…ä½¿ç”¨",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\n\nå¯¼å…¥ç¤ºä¾‹æ•°æ®\nå¯¼å…¥æ•°æ®prematurityï¼Œï¼šlow æ˜¯å¦æ˜¯å°äº2500gæ—©äº§ä½ä½“é‡å„¿ï¼Œage æ¯äº²çš„å¹´é¾„ï¼Œlwt æœ«æ¬¡æœˆç»ä½“é‡ï¼Œrace ç§æ—ï¼Œsmokeå­•æœŸæŠ½çƒŸï¼Œptl æ—©äº§å²ï¼ˆè®¡æ•°ï¼‰ï¼Œht æœ‰é«˜è¡€å‹ç—…å²ï¼Œui å­å®«è¿‡æ•ï¼Œftv æ—©å­•æ—¶çœ‹åŒ»ç”Ÿçš„æ¬¡æ•°bwt æ–°ç”Ÿå„¿ä½“é‡æ•°å€¼\n\nlibrary(scitb)\nlibrary(bruceR)\n\n\nbruceR (v2025.11)\nBroadly Useful Convenient and Efficient R functions\n\nPackages also loaded:\nâœ” dplyr         âœ” data.table\nâœ” tidyr         âœ” emmeans\nâœ” stringr       âœ” lmerTest\nâœ” forcats       âœ” effectsize\nâœ” ggplot2       âœ” performance\nâœ” cowplot       âœ” interactions\n\nMain functions of `bruceR`:\ncc()            Describe()  TTEST()\nadd()           Freq()      MANOVA()\n.mean()         Corr()      EMMEANS()\nset.wd()        Alpha()     PROCESS()\nimport()        EFA()       model_summary()\nprint_table()   CFA()       lavaan_summary()\n\nFor full functionality, please install all dependencies:\ninstall.packages(\"bruceR\", dep=TRUE)\n\nOnline documentation:\nhttps://psychbruce.github.io/bruceR\n\nTo use this package in publications, please cite:\nBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions (Version 2025.11) [Computer software]. https://doi.org/10.32614/CRAN.package.bruceR\n\ndata &lt;- prematurity\nhead(data,5)\n\n  id low age lwt  race     smoke ptl ht ui ftv  bwt\n1 85   0  19 182 black nonsmoker   0  0  1   0 2523\n2 86   0  33 155 other nonsmoker   0  0  0   3 2551\n3 87   0  20 105 white    smoker   0  0  0   1 2557\n4 88   0  21 108 white    smoker   0  0  1   2 2594\n5 89   0  18 107 white    smoker   0  0  1   0 2600\n\n\n\n\nç”Ÿæˆæè¿°æ€§è¡¨1\n\né¦–å…ˆå®šä¹‰å˜é‡\nä¸ºä»€ä¹ˆè¿™é‡Œè¦å®šä¹‰å˜é‡ï¼Œè€Œä¸åœ¨åŸºçº¿è¡¨å‡½æ•°é‡Œç›´æ¥å¼•å…¥å­—ç¬¦å‘é‡ï¼Œè¿™æ˜¯ä¸ºäº†æœ‰è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚å…ˆä»æ„å»ºå‡½æ•°æ¡†æ¶å¼€å§‹ï¼Œæœ€åå‡½æ•°è°ƒç”¨ï¼Œåç»­æ— è®ºæ˜¯ä¿®æ”¹å˜é‡è¿˜æ˜¯å¢åˆ å˜é‡éƒ½ä¼šå¾ˆæ¸…æ™°\n\nallVars&lt;-c(\"low\",\"age\",\"lwt\",\"race\",\"smoke\",\"ptl\",\"ht\",\"ui\",\"ftv\",\"bwt\")\nfvars&lt;-c(\"low\",\"race\",\"smoke\",\"ptl\",\"ht\",\"ui\",\"ftv\")\nstrata&lt;-c(\"bwt\")\n\n\n\nç”ŸæˆåŸºçº¿è¡¨\n\ndata_neat &lt;- data |&gt; \n  mutate(\n    race = as.factor(race),\n    smoke = as.factor(smoke)\n  )\n\ntab0&lt;-scitb1(vars=allVars,fvars=fvars,strata=strata,data=data_neat)\n\n      Min 33.33333% 66.66667%       Max \n  709.000  2598.000  3283.667  4990.000 \n\n\nStrata is treated as a continuous variable.\n\ntab0\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"63\"                     \"63\"                    \nd1 \"age\"          \"22.00 (19.50-25.00)\"    \"23.00 (19.00-28.00)\"   \nd1 \"lwt\"          \"120.00 (105.00-131.00)\" \"120.00 (109.50-132.50)\"\nd1 \"bwt\"          \"2126.24Â±394.60\"         \"2969.94Â±190.20\"        \nd2 \"low\"          \" \"                      \" \"                     \n   \"0\"            \" 4 (6.35%)\"             \"63 (100.00%)\"          \n   \"1\"            \"59 (93.65%)\"            \" 0 (0.00%)\"            \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"12 (19.05%)\"            \" 8 (12.70%)\"           \n   \"other\"        \"26 (41.27%)\"            \"25 (39.68%)\"           \n   \"white\"        \"25 (39.68%)\"            \"30 (47.62%)\"           \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"31 (49.21%)\"            \"39 (61.90%)\"           \n   \"smoker\"       \"32 (50.79%)\"            \"24 (38.10%)\"           \nd2 \"ptl\"          \" \"                      \" \"                     \n   \"0\"            \"45 (71.43%)\"            \"58 (92.06%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 4 (6.35%)\"            \n   \"2\"            \" 2 (3.17%)\"             \" 1 (1.59%)\"            \n   \"3\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"56 (88.89%)\"            \"61 (96.83%)\"           \n   \"1\"            \" 7 (11.11%)\"            \" 2 (3.17%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"47 (74.60%)\"            \"54 (85.71%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 9 (14.29%)\"           \nd2 \"ftv\"          \" \"                      \" \"                     \n   \"0\"            \"37 (58.73%)\"            \"32 (50.79%)\"           \n   \"1\"            \"12 (19.05%)\"            \"15 (23.81%)\"           \n   \"2\"            \" 8 (12.70%)\"            \"13 (20.63%)\"           \n   \"3\"            \" 5 (7.94%)\"             \" 2 (3.17%)\"            \n   \"4\"            \" 1 (1.59%)\"             \" 1 (1.59%)\"            \n   \"6\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \n   G.2                      p value \n   \"63\"                     \"\"      \nd1 \"23.00 (19.50-28.00)\"    \"0.483\" \nd1 \"131.00 (120.00-156.00)\" \"&lt;0.001\"\nd1 \"3736.68Â±317.76\"         \"&lt;0.001\"\nd2 \" \"                      \"&lt;0.001\"\n   \"63 (100.00%)\"           \" \"     \n   \" 0 (0.00%)\"             \" \"     \nd2 \" \"                      \"0.060\" \n   \" 6 (9.52%)\"             \" \"     \n   \"16 (25.40%)\"            \" \"     \n   \"41 (65.08%)\"            \" \"     \nd2 \" \"                      \"0.037\" \n   \"45 (71.43%)\"            \" \"     \n   \"18 (28.57%)\"            \" \"     \nd2 \" \"                      \"0.012\" \n   \"56 (88.89%)\"            \" \"     \n   \" 4 (6.35%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \nd2 \" \"                      \"0.154\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.005\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.283\" \n   \"31 (49.21%)\"            \" \"     \n   \"20 (31.75%)\"            \" \"     \n   \" 9 (14.29%)\"            \" \"     \n   \" 0 (0.00%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \n\n\n\n\nè®¾ç½®æœ‰éæ­£æ€èµ„æ–™\nè®¾ç½®éæ­£æ€åå¯ä»¥çœ‹åˆ°lwtå˜é‡æ˜¯ç”¨ç™¾åˆ†ä½æ•°è¿›è¡Œæè¿°ï¼Œåè¾¹çš„pvalueä¹Ÿè°ƒç”¨éå‚æ£€éªŒ\n\ntab2 &lt;-scitb1(vars=allVars,fvars=fvars,strata=strata,data=data_neat, nonnormal=c(\"lwt\"))\n\n      Min 33.33333% 66.66667%       Max \n  709.000  2598.000  3283.667  4990.000 \n\n\nStrata is treated as a continuous variable.\n\ntab2\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"63\"                     \"63\"                    \nd1 \"age\"          \"22.00 (19.50-25.00)\"    \"23.00 (19.00-28.00)\"   \nd1 \"lwt\"          \"120.00 (105.00-131.00)\" \"120.00 (109.50-132.50)\"\nd1 \"bwt\"          \"2126.24Â±394.60\"         \"2969.94Â±190.20\"        \nd2 \"low\"          \" \"                      \" \"                     \n   \"0\"            \" 4 (6.35%)\"             \"63 (100.00%)\"          \n   \"1\"            \"59 (93.65%)\"            \" 0 (0.00%)\"            \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"12 (19.05%)\"            \" 8 (12.70%)\"           \n   \"other\"        \"26 (41.27%)\"            \"25 (39.68%)\"           \n   \"white\"        \"25 (39.68%)\"            \"30 (47.62%)\"           \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"31 (49.21%)\"            \"39 (61.90%)\"           \n   \"smoker\"       \"32 (50.79%)\"            \"24 (38.10%)\"           \nd2 \"ptl\"          \" \"                      \" \"                     \n   \"0\"            \"45 (71.43%)\"            \"58 (92.06%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 4 (6.35%)\"            \n   \"2\"            \" 2 (3.17%)\"             \" 1 (1.59%)\"            \n   \"3\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"56 (88.89%)\"            \"61 (96.83%)\"           \n   \"1\"            \" 7 (11.11%)\"            \" 2 (3.17%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"47 (74.60%)\"            \"54 (85.71%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 9 (14.29%)\"           \nd2 \"ftv\"          \" \"                      \" \"                     \n   \"0\"            \"37 (58.73%)\"            \"32 (50.79%)\"           \n   \"1\"            \"12 (19.05%)\"            \"15 (23.81%)\"           \n   \"2\"            \" 8 (12.70%)\"            \"13 (20.63%)\"           \n   \"3\"            \" 5 (7.94%)\"             \" 2 (3.17%)\"            \n   \"4\"            \" 1 (1.59%)\"             \" 1 (1.59%)\"            \n   \"6\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \n   G.2                      p value \n   \"63\"                     \"\"      \nd1 \"23.00 (19.50-28.00)\"    \"0.483\" \nd1 \"131.00 (120.00-156.00)\" \"&lt;0.001\"\nd1 \"3736.68Â±317.76\"         \"&lt;0.001\"\nd2 \" \"                      \"&lt;0.001\"\n   \"63 (100.00%)\"           \" \"     \n   \" 0 (0.00%)\"             \" \"     \nd2 \" \"                      \"0.060\" \n   \" 6 (9.52%)\"             \" \"     \n   \"16 (25.40%)\"            \" \"     \n   \"41 (65.08%)\"            \" \"     \nd2 \" \"                      \"0.037\" \n   \"45 (71.43%)\"            \" \"     \n   \"18 (28.57%)\"            \" \"     \nd2 \" \"                      \"0.012\" \n   \"56 (88.89%)\"            \" \"     \n   \" 4 (6.35%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \nd2 \" \"                      \"0.154\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.005\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.283\" \n   \"31 (49.21%)\"            \" \"     \n   \"20 (31.75%)\"            \" \"     \n   \" 9 (14.29%)\"            \" \"     \n   \" 0 (0.00%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \n\n\n\n\n\nè¿ç»­å˜é‡å¿«é€Ÿåˆ†å±‚æè¿°\nè¾“å‡º1å¯ä»¥çœ‹å‡ºå¹´é¾„çš„è‡ªåŠ¨åˆ†å±‚è®°å½•ï¼Œè¡¨æ˜ä»14åˆ°20åˆ°25åˆ°45è¿›è¡Œäº†åˆ†å±‚\nå¦‚æœæƒ³è¦ç”Ÿæˆå…¶å®ƒåˆ†å±‚æ•°ï¼Œè®¾ç½®å‚æ•° num = n\n\n# allvaråˆ ä¸åˆ é™¤å¹´é¾„éƒ½å¯ä»¥\n\nallVars3 &lt;-c(\"race\", \"lwt\",\"smoke\", \"ptl\", \"ht\", \"ui\",\"ftv\", \"bwt\")\nfvars3 &lt;-c(\"smoke\",\"ht\",\"ui\",\"race\")\nstrata3 &lt;- \"age\"\n\ntab3 &lt;-scitb1(vars=allVars3,fvars=fvars3,strata=strata3,data=data_neat)\n\n      Min 33.33333% 66.66667%       Max \n       14        20        25        45 \n\n\nStrata is treated as a continuous variable.\n\ntab3\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"51\"                     \"69\"                    \nd1 \"lwt\"          \"119.00 (106.00-135.00)\" \"121.00 (110.00-132.00)\"\nd1 \"ptl\"          \"0.00 (0.00-0.00)\"       \"0.00 (0.00-0.00)\"      \nd1 \"ftv\"          \"0.00 (0.00-1.00)\"       \"0.00 (0.00-1.00)\"      \nd1 \"bwt\"          \"2974.08Â±612.51\"         \"2921.42Â±697.85\"        \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"28 (54.90%)\"            \"44 (63.77%)\"           \n   \"smoker\"       \"23 (45.10%)\"            \"25 (36.23%)\"           \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"48 (94.12%)\"            \"64 (92.75%)\"           \n   \"1\"            \" 3 (5.88%)\"             \" 5 (7.25%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"43 (84.31%)\"            \"58 (84.06%)\"           \n   \"1\"            \" 8 (15.69%)\"            \"11 (15.94%)\"           \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"10 (19.61%)\"            \"10 (14.49%)\"           \n   \"other\"        \"18 (35.29%)\"            \"27 (39.13%)\"           \n   \"white\"        \"23 (45.10%)\"            \"32 (46.38%)\"           \n   G.2                      p value\n   \"69\"                     \"\"     \nd1 \"130.00 (115.00-153.00)\" \"0.086\"\nd1 \"0.00 (0.00-0.00)\"       \"0.171\"\nd1 \"1.00 (0.00-2.00)\"       \"0.011\"\nd1 \"2945.13Â±839.82\"         \"0.927\"\nd2 \" \"                      \"0.587\"\n   \"43 (62.32%)\"            \" \"    \n   \"26 (37.68%)\"            \" \"    \nd2 \" \"                      \"0.929\"\n   \"65 (94.20%)\"            \" \"    \n   \" 4 (5.80%)\"             \" \"    \nd2 \" \"                      \"0.873\"\n   \"60 (86.96%)\"            \" \"    \n   \" 9 (13.04%)\"            \" \"    \nd2 \" \"                      \"0.320\"\n   \" 6 (8.70%)\"             \" \"    \n   \"22 (31.88%)\"            \" \"    \n   \"41 (59.42%)\"            \" \"    \n\n\n\n\nä¿å­˜ç»“æœ\n\nwrite.csv(tab0,file= \"01-attch\\\\10\\\\data.csv\",row.names = F, \n    fileEncoding = \"gbk\")\n\nä¿å­˜å‡ºæ¥æ˜¯ä¸‹å›¾ï¼Œå¤åˆ¶åˆ°wordæ”¹æ”¹å°±èƒ½ç”¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#æ€»ç»“",
    "href": "1013-scitb.html#æ€»ç»“",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nä½¿ç”¨ä½“éªŒï¼šè‡ªå®šä¹‰åº¦ï¼Œç»“æœå±•ç¤ºç­‰ä¸å¦‚comparegroupsï¼Œä½†æ˜¯èƒœåœ¨å‚æ•°ç®€å•ï¼Œåœ¨æœŸåˆŠæ²¡é‚£ä¹ˆé«˜è¦æ±‚å’Œå¹³æ—¶å±•ç¤ºå¯ä»¥ç”¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1014-purrr.html",
    "href": "1014-purrr.html",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "",
    "text": "purrr é€šè¿‡æä¾›ä¸€å¥—å®Œæ•´ä¸”ä¸€è‡´çš„ç”¨äºå¤„ç†å‡½æ•°å’Œå‘é‡çš„å·¥å…·æ¥å¢å¼º R çš„å‡½æ•°å¼ç¼–ç¨‹ (FP) å·¥å…·åŒ…ã€‚å¦‚æœæ‚¨ä»¥å‰ä»æœªå¬è¯´è¿‡ FPï¼Œé‚£ä¹ˆæœ€å¥½çš„èµ·ç‚¹æ˜¯map()å‡½æ•°ç³»åˆ—ï¼Œå®ƒå…è®¸æ‚¨ç”¨æ›´ç®€æ´ã€æ›´æ˜“äºé˜…è¯»çš„ä»£ç æ›¿æ¢è®¸å¤š for å¾ªç¯ã€‚\nå¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†æ›´ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨åµŒå¥—å‡½æ•°æ¥æ›¿ä»£forå¾ªç¯çš„å†—é•¿çš„æ¡†æ¶ç»“æ„ã€‚è®©è¾“å…¥è¾“å‡ºæ›´ç®€å•ã€‚\nç›¸å…³æ•™ç¨‹ï¼šå®˜ç½‘ç½‘ç«™",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#råŒ…ä»‹ç»",
    "href": "1014-purrr.html#råŒ…ä»‹ç»",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "",
    "text": "purrr é€šè¿‡æä¾›ä¸€å¥—å®Œæ•´ä¸”ä¸€è‡´çš„ç”¨äºå¤„ç†å‡½æ•°å’Œå‘é‡çš„å·¥å…·æ¥å¢å¼º R çš„å‡½æ•°å¼ç¼–ç¨‹ (FP) å·¥å…·åŒ…ã€‚å¦‚æœæ‚¨ä»¥å‰ä»æœªå¬è¯´è¿‡ FPï¼Œé‚£ä¹ˆæœ€å¥½çš„èµ·ç‚¹æ˜¯map()å‡½æ•°ç³»åˆ—ï¼Œå®ƒå…è®¸æ‚¨ç”¨æ›´ç®€æ´ã€æ›´æ˜“äºé˜…è¯»çš„ä»£ç æ›¿æ¢è®¸å¤š for å¾ªç¯ã€‚\nå¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†æ›´ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨åµŒå¥—å‡½æ•°æ¥æ›¿ä»£forå¾ªç¯çš„å†—é•¿çš„æ¡†æ¶ç»“æ„ã€‚è®©è¾“å…¥è¾“å‡ºæ›´ç®€å•ã€‚\nç›¸å…³æ•™ç¨‹ï¼šå®˜ç½‘ç½‘ç«™",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#råŒ…å®‰è£…",
    "href": "1014-purrr.html#råŒ…å®‰è£…",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"purrr\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#è¯­æ³•",
    "href": "1014-purrr.html#è¯­æ³•",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "è¯­æ³•",
    "text": "è¯­æ³•\npurrrç³»åˆ—å‡½æ•°éƒ½ä»¥mapï¼Œmap2å’Œpmapä½œä¸ºå¤§ç±»ï¼Œæ­é…æ›´å¤šçš„åç¼€æ¥è®¾å®šè¾“å‡ºç±»å‹ã€‚\n\nmap(.x, .f)ï¼šè¾“å…¥ä¸€ä¸ªå‘é‡(.x)ï¼Œä»¥è¯¥å‘é‡ä¸ºè¾“å…¥è¿›è¡Œå¾ªç¯(.få‡½æ•°å¾ªç¯)\nmap(.x, .f)ï¼šè¾“å…¥ä¸¤ä¸ªå‘é‡\nmap3(.x, .f)ï¼šè¾“å…¥nï¼ˆå¤§äº2ï¼‰å‘é‡\n\nè¿™é‡Œè¾¹çš„å‘é‡æ˜¯æ¯”è¾ƒå¹¿çš„å‘é‡ï¼ŒåŒ…å«å‘é‡ï¼Œåˆ—è¡¨ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°æ®æ¡†ï¼ˆå¯ä»¥çœ‹ä½œå‘é‡çš„å‘é‡ï¼‰ï¼Œåªè¦æœ‰è¿™ç§é¡ºåºç»“æ„çš„éƒ½å¯ä»¥ä½œä¸ºmapçš„è¾“å…¥",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#ä¸¾ä¸ªæ —å­",
    "href": "1014-purrr.html#ä¸¾ä¸ªæ —å­",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "ä¸¾ä¸ªæ —å­",
    "text": "ä¸¾ä¸ªæ —å­\n\nåŠ è½½æ•°æ®\n\nlibrary(tidyverse)\nlibrary(purrr)\n\n\ndata &lt;- mtcars\n\nhead(data, 5)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n\n\n\n\nä½¿ç”¨tidyverseç»“æ„å’Œpurrræ¥åˆ’åˆ†æ•°æ®åˆ†åˆ«åšå›å½’\næˆ‘ä»¬ç°åœ¨æƒ³æ ¹æ®cylå¯¹æ•°æ®æ¡†è¿›è¡Œåˆ’åˆ†ï¼Œåœ¨åˆ†å‡ºæ¥çš„æ•°æ®æ¡†ä¸­åšå›å½’ï¼Œç„¶åæŠŠå›å½’ç»“æœæ”¾åˆ°ä¸€ä¸ªæ•°å­—å‘é‡é‡Œ\n\ndata |&gt; \n  split(data$cyl) |&gt;  # åˆ’åˆ†æ•°æ®\n  map(\\(df) lm(mpg ~ wt, data = df)) |&gt; #åˆ†åˆ«åšå¾ªç¯\n  map(summary) %&gt;%  #å¯¹ç»“æœåšsummary\n  map_dbl(\"r.squared\")\n\n        4         6         8 \n0.5086326 0.4645102 0.4229655 \n\n\næŸ¥çœ‹ä»¥ä¸‹ä»£ç ï¼Œå‘ç°äº†ä»€ä¹ˆï¼Ÿ\n\npurrrå¾ªç¯çš„ç¬¬ä¸€ä¸ªå‚æ•°å§‹ç»ˆæ˜¯æ•°æ®ï¼Œå› æ­¤ purrr å¯ä»¥è‡ªç„¶åœ°ä¸ç®¡é“é…åˆä½¿ç”¨ã€‚\nmap_xxxï¼ˆmapçš„åç¼€ç›¸å½“äºè‡ªå®šä¹‰äº†è¾“å‡ºç±»å‹ï¼‰\n\n\n\nå¸¸è§„æ–¹æ³•æ¥åšè¿™ä¸ªæ¨¡å‹\n\nvar &lt;- c(\"disp\", \"hp\", \"drat\")\n\ndata_list &lt;- split(data, mtcars$cyl)\n\nvec_result = c()\nfor (temp_data in data_list) {\n    model = lm(mpg ~ wt, data = temp_data)\n    model_summary = summary(model)\n    r2 = model_summary$\"r.squared\"\n    vec_result = c(vec_result, r2)\n}\n\nprint(vec_result)\n\n[1] 0.5086326 0.4645102 0.4229655\n\n\nå‘ç°äº†ä»€ä¹ˆ\n\nä»£ç è¡Œæ•°å¤šäº†å¾ˆå¤š\nå¤šäº†ä¸€äº›ä¸­é—´å˜é‡\nä»£ç å¯è¯»æ€§å·®ï¼Œå¾ˆä¸ä¼˜é›…",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "href": "1014-purrr.html#å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "text": "å¤šå˜é‡ç´¢å¼•å¾ªç¯\nå¦‚æœæ˜¯æƒ³ç”¨å¤šä¸ªå‘é‡æ¥ç´¢å¼•å¾ªç¯ï¼Œè¾“å…¥å¤šä¸ªå‘é‡ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆåšå‘¢ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±çŸ¥é“äº†ã€‚\n\nvar1 &lt;- c(\"disp\", \"hp\", \"drat\")\nvar2 &lt;- c(\"wt\", \"qsec\", \"vs\")\nvar_add &lt;- map2(var1, var2, \\(x, y) paste0(x, \"+\", y))\nprint(var_add)\n\n[[1]]\n[1] \"disp+wt\"\n\n[[2]]\n[1] \"hp+qsec\"\n\n[[3]]\n[1] \"drat+vs\"\n\n\nå†ä¸¾ä¸ªä¾‹å­\n\nmeans &lt;- 1:4\nsds &lt;- 1:4\nset.seed(2020)\nsamples &lt;- map2(means, sds, \\(mean, sds){rnorm(mean, sds, n = 5)})\n\n#è¿™é‡Œä¹Ÿå¯ä»¥å†™ä¸ºï¼Œå¦‚ä¸‹ï¼Œä¸è¿‡æœ‰æ—¶å€™æƒ³è¦æ›´å¤æ‚çš„æ“ä½œå°±ä¸è¦ç”¨è¿™ç§ç®€åŒ–çš„å†™æ³•\n#samples &lt;- map2(means, sds, rnorm, n = 5)\nstr(samples)\n\nList of 4\n $ : num [1:5] 1.377 1.302 -0.098 -0.13 -1.797\n $ : num [1:5] 3.44 3.88 1.54 5.52 2.23\n $ : num [1:5] 0.441 5.728 6.589 1.885 2.63\n $ : num [1:5] 11.2 10.82 -8.16 -5.16 4.23\n\n\nå¦‚æœè¾“å…¥çš„æ˜¯å¤šä¸ªå‘é‡å¯ä»¥å‚è€ƒå¦‚ä¸‹\n\nvar3 &lt;- c(\"disp\", \"hp\", \"drat\")\n\nvar4 &lt;- c(\"wt\", \"qsec\", \"vs\")\n\n#ä½¿ç”¨pmapçš„æ—¶å€™ï¼ŒæŠŠå¤šä¸ªå‘é‡æ”¾åˆ°listæ¡†é‡Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°\npvar_add &lt;- pmap(list(var1, var2, var3, var4), \n            \\(x, y, z, p) \n            paste0(x, \"+\", y, \"+\", z, \"+\", \"p\"))\n\nprint(pvar_add)\n\n[[1]]\n[1] \"disp+wt+disp+p\"\n\n[[2]]\n[1] \"hp+qsec+hp+p\"\n\n[[3]]\n[1] \"drat+vs+drat+p\"\n\n\næ³¨æ„ï¼šè¿™é‡Œç”¨çš„éƒ½æ˜¯ç®€å•çš„å­—ç¬¦å‘é‡ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™å¯ä»¥è‡ªç”±æ‹“å±•åˆ°æ•°æ®æ¡†å’Œåˆ—è¡¨ç­‰å¤æ‚å‘é‡ç»“æ„ï¼Œå°±èƒ½æ„Ÿè§‰åˆ°purrrå¾ªç¯çš„é­…åŠ›äº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#åµŒå¥—å¾ªç¯",
    "href": "1014-purrr.html#åµŒå¥—å¾ªç¯",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "åµŒå¥—å¾ªç¯",
    "text": "åµŒå¥—å¾ªç¯\nå¦‚æœæ˜¯åµŒå¥—ç»“æ„æˆ‘ä»¬æ€ä¹ˆç”¨purrræ¥åšå‘¢ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ã€‚æˆ‘ä»¬ç°åœ¨æ¥ç®—ä¸€ä¸‹1ï¼š10åˆ†åˆ«ä¹˜ä»¥10:20ç„¶åæ”¾åˆ°ä¸€ä¸ªæ•°å­—å‘é‡é‡Œæ€ä¹ˆå®ç°å§\n\nmap(1:10, \n        \\(x){map(10:20, \n        \\(y){x*y})}) |&gt; \n    unlist()\n\n  [1]  10  11  12  13  14  15  16  17  18  19  20  20  22  24  26  28  30  32\n [19]  34  36  38  40  30  33  36  39  42  45  48  51  54  57  60  40  44  48\n [37]  52  56  60  64  68  72  76  80  50  55  60  65  70  75  80  85  90  95\n [55] 100  60  66  72  78  84  90  96 102 108 114 120  70  77  84  91  98 105\n [73] 112 119 126 133 140  80  88  96 104 112 120 128 136 144 152 160  90  99\n [91] 108 117 126 135 144 153 162 171 180 100 110 120 130 140 150 160 170 180\n[109] 190 200\n\n\nä¸¾å¾—ä¾‹å­æ¯”è¾ƒæ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šä¸€çª¥åµŒå¥—å¾ªç¯çš„å®ç°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#æ›´å¤š",
    "href": "1014-purrr.html#æ›´å¤š",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "æ›´å¤š",
    "text": "æ›´å¤š\npurrrå¯ä»¥å¿«æ·å®ç°å¾ˆå¤šé«˜çº§æ“ä½œï¼Œæ¯”å¦‚æ‰¹é‡å¯¼å…¥æ•°æ®ï¼Œæ‰¹é‡ç»˜å›¾ä»¥åŠæ‰¹é‡å»ºæ¨¡ç­‰ï¼Œåç»­åˆ†å¼€å†™å§ã€‚è¿™ä¸€æœŸå†™å¾—å¾ˆå®½æ³›ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»æ¢ç´¢æ›´å¤šæ“ä½œã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1018-psm.html",
    "href": "1018-psm.html",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "",
    "text": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… (Propensity Score Matching, PSM) æ˜¯ä¸€ç§ç”¨äºè§‚å¯Ÿæ€§ç ”ç©¶ä¸­æ§åˆ¶æ··æ‚å› ç´ ã€ä¼°è®¡å› æœæ•ˆåº”çš„ç»Ÿè®¡æ–¹æ³•ã€‚\n\n\n\nåœ¨éšæœºå¯¹ç…§è¯•éªŒ (RCT) ä¸­ï¼Œéšæœºåˆ†ç»„ç¡®ä¿äº†å¤„ç†ç»„å’Œå¯¹ç…§ç»„åœ¨åŸºçº¿ç‰¹å¾ä¸Šçš„å¯æ¯”æ€§ã€‚ä½†åœ¨è§‚å¯Ÿæ€§ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬æ— æ³•éšæœºåˆ†é…å¤„ç†ï¼Œå¯¼è‡´ï¼š\n\nå¤„ç†ç»„å’Œå¯¹ç…§ç»„å¯èƒ½å­˜åœ¨ç³»ç»Ÿæ€§å·®å¼‚\nç›´æ¥æ¯”è¾ƒç»“å±€ä¼šäº§ç”Ÿé€‰æ‹©åå€š\næ— æ³•åŒºåˆ†æ˜¯â€å¤„ç†æ•ˆåº”â€è¿˜æ˜¯â€åŸºçº¿å·®å¼‚â€å¯¼è‡´çš„ç»“æœå·®å¼‚\n\nPSM çš„æ ¸å¿ƒæ€æƒ³ï¼šæ‰¾åˆ°åœ¨â€æ¥å—å¤„ç†çš„æ¦‚ç‡â€ä¸Šç›¸ä¼¼çš„ä¸ªä½“è¿›è¡Œé…å¯¹ï¼Œä»è€Œæ¨¡æ‹ŸéšæœºåŒ–å®éªŒã€‚\n\n\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\nå…¬å¼\n\n\n\n\nå€¾å‘æ€§å¾—åˆ†\nç»™å®šåå˜é‡ X æ—¶ï¼Œä¸ªä½“æ¥å—å¤„ç†çš„æ¡ä»¶æ¦‚ç‡\n\\(e(X) = P(T=1|X)\\)\n\n\nå¹³è¡¡æ€§\nåŒ¹é…åå¤„ç†ç»„ä¸å¯¹ç…§ç»„åå˜é‡åˆ†å¸ƒç›¸ä¼¼\n\\(X \\perp T | e(X)\\)\n\n\nATE\nå¹³å‡å¤„ç†æ•ˆåº” (Average Treatment Effect)\n\\(E[Y(1) - Y(0)]\\)\n\n\nATT\nå¤„ç†ç»„å¹³å‡å¤„ç†æ•ˆåº”\n\\(E[Y(1) - Y(0) | T=1]\\)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#ä»€ä¹ˆæ˜¯å€¾å‘æ€§å¾—åˆ†åŒ¹é…",
    "href": "1018-psm.html#ä»€ä¹ˆæ˜¯å€¾å‘æ€§å¾—åˆ†åŒ¹é…",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "",
    "text": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… (Propensity Score Matching, PSM) æ˜¯ä¸€ç§ç”¨äºè§‚å¯Ÿæ€§ç ”ç©¶ä¸­æ§åˆ¶æ··æ‚å› ç´ ã€ä¼°è®¡å› æœæ•ˆåº”çš„ç»Ÿè®¡æ–¹æ³•ã€‚\n\n\n\nåœ¨éšæœºå¯¹ç…§è¯•éªŒ (RCT) ä¸­ï¼Œéšæœºåˆ†ç»„ç¡®ä¿äº†å¤„ç†ç»„å’Œå¯¹ç…§ç»„åœ¨åŸºçº¿ç‰¹å¾ä¸Šçš„å¯æ¯”æ€§ã€‚ä½†åœ¨è§‚å¯Ÿæ€§ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬æ— æ³•éšæœºåˆ†é…å¤„ç†ï¼Œå¯¼è‡´ï¼š\n\nå¤„ç†ç»„å’Œå¯¹ç…§ç»„å¯èƒ½å­˜åœ¨ç³»ç»Ÿæ€§å·®å¼‚\nç›´æ¥æ¯”è¾ƒç»“å±€ä¼šäº§ç”Ÿé€‰æ‹©åå€š\næ— æ³•åŒºåˆ†æ˜¯â€å¤„ç†æ•ˆåº”â€è¿˜æ˜¯â€åŸºçº¿å·®å¼‚â€å¯¼è‡´çš„ç»“æœå·®å¼‚\n\nPSM çš„æ ¸å¿ƒæ€æƒ³ï¼šæ‰¾åˆ°åœ¨â€æ¥å—å¤„ç†çš„æ¦‚ç‡â€ä¸Šç›¸ä¼¼çš„ä¸ªä½“è¿›è¡Œé…å¯¹ï¼Œä»è€Œæ¨¡æ‹ŸéšæœºåŒ–å®éªŒã€‚\n\n\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\nå…¬å¼\n\n\n\n\nå€¾å‘æ€§å¾—åˆ†\nç»™å®šåå˜é‡ X æ—¶ï¼Œä¸ªä½“æ¥å—å¤„ç†çš„æ¡ä»¶æ¦‚ç‡\n\\(e(X) = P(T=1|X)\\)\n\n\nå¹³è¡¡æ€§\nåŒ¹é…åå¤„ç†ç»„ä¸å¯¹ç…§ç»„åå˜é‡åˆ†å¸ƒç›¸ä¼¼\n\\(X \\perp T | e(X)\\)\n\n\nATE\nå¹³å‡å¤„ç†æ•ˆåº” (Average Treatment Effect)\n\\(E[Y(1) - Y(0)]\\)\n\n\nATT\nå¤„ç†ç»„å¹³å‡å¤„ç†æ•ˆåº”\n\\(E[Y(1) - Y(0) | T=1]\\)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#å®‰è£…ä¸åŠ è½½",
    "href": "1018-psm.html#å®‰è£…ä¸åŠ è½½",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ›  å®‰è£…ä¸åŠ è½½",
    "text": "ğŸ›  å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(MatchIt)      # PSM ä¸»åŠ›åŒ…\nlibrary(cobalt)       # å¹³è¡¡æ€§è¯Šæ–­\nlibrary(marginaleffects)  # æ•ˆåº”ä¼°è®¡\n\n# è¾…åŠ©åŒ…\nlibrary(tidyverse)\nlibrary(gtsummary)\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#psm-å®Œæ•´æµç¨‹",
    "href": "1018-psm.html#psm-å®Œæ•´æµç¨‹",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ’¡ PSM å®Œæ•´æµç¨‹",
    "text": "ğŸ’¡ PSM å®Œæ•´æµç¨‹\nPSM åˆ†æåŒ…å« 5 ä¸ªå…³é”®æ­¥éª¤ï¼š\n1. æ•°æ®å‡†å¤‡ â†’ 2. ä¼°è®¡å€¾å‘æ€§å¾—åˆ† â†’ 3. åŒ¹é… â†’ 4. å¹³è¡¡æ€§æ£€éªŒ â†’ 5. æ•ˆåº”ä¼°è®¡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#å®æˆ˜æ¡ˆä¾‹å¸çƒŸå¯¹å‡ºç”Ÿä½“é‡çš„å½±å“",
    "href": "1018-psm.html#å®æˆ˜æ¡ˆä¾‹å¸çƒŸå¯¹å‡ºç”Ÿä½“é‡çš„å½±å“",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ“Š å®æˆ˜æ¡ˆä¾‹ï¼šå¸çƒŸå¯¹å‡ºç”Ÿä½“é‡çš„å½±å“",
    "text": "ğŸ“Š å®æˆ˜æ¡ˆä¾‹ï¼šå¸çƒŸå¯¹å‡ºç”Ÿä½“é‡çš„å½±å“\næˆ‘ä»¬ä½¿ç”¨ MatchIt åŒ…å†…ç½®çš„ lalonde æ•°æ®é›†æ¨¡æ‹Ÿä¸€ä¸ªç»å…¸é—®é¢˜ï¼šæ¯äº²å¸çƒŸæ˜¯å¦å½±å“æ–°ç”Ÿå„¿ä½“é‡ï¼Ÿ\nä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªæ¨¡æ‹Ÿæ•°æ®é›†ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šæ¯äº²å¸çƒŸä¸æ–°ç”Ÿå„¿ä½“é‡\nset.seed(2024)\nn &lt;- 1000\n\n# ç”Ÿæˆåå˜é‡\nage &lt;- round(rnorm(n, 28, 5))  # æ¯äº²å¹´é¾„\neducation &lt;- sample(1:4, n, replace = TRUE, \n                    prob = c(0.1, 0.3, 0.4, 0.2))  # æ•™è‚²æ°´å¹³\nincome &lt;- round(rnorm(n, 50000, 15000))  # å®¶åº­æ”¶å…¥\nprenatal_visits &lt;- rpois(n, 8)  # äº§æ£€æ¬¡æ•°\n\n# å¸çƒŸçŠ¶æ€å—åå˜é‡å½±å“ï¼ˆæ··æ‚ï¼‰\nsmoke_prob &lt;- plogis(-2 + 0.05 * (age - 28) - 0.3 * education + \n                      0.00001 * (income - 50000) - 0.1 * prenatal_visits)\nsmoking &lt;- rbinom(n, 1, smoke_prob)\n\n# å‡ºç”Ÿä½“é‡å—å¸çƒŸå’Œåå˜é‡å½±å“\n# çœŸå®å› æœæ•ˆåº”ï¼šå¸çƒŸé™ä½ä½“é‡ 250g\nbirthweight &lt;- 3300 + \n  10 * (age - 28) + \n  50 * education + \n  0.002 * (income - 50000) + \n  20 * prenatal_visits - \n  250 * smoking +  # çœŸå®å¤„ç†æ•ˆåº”\n  rnorm(n, 0, 300)\n\n# åˆ›å»ºæ•°æ®æ¡†\nbirth_data &lt;- tibble(\n  id = 1:n,\n  age = age,\n  education = factor(education, labels = c(\"åˆä¸­\", \"é«˜ä¸­\", \"æœ¬ç§‘\", \"ç ”ç©¶ç”Ÿ\")),\n  income = income,\n  prenatal_visits = prenatal_visits,\n  smoking = smoking,\n  birthweight = round(birthweight)\n)\n\nbirth_data\n\n# A tibble: 1,000 Ã— 7\n      id   age education income prenatal_visits smoking birthweight\n   &lt;int&gt; &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt;           &lt;int&gt;   &lt;int&gt;       &lt;dbl&gt;\n 1     1    33 é«˜ä¸­       88087               3       0        3714\n 2     2    30 ç ”ç©¶ç”Ÿ     47298               9       0        3139\n 3     3    27 æœ¬ç§‘       60744              10       0        3687\n 4     4    27 é«˜ä¸­       34279               8       0        4095\n 5     5    34 æœ¬ç§‘       45515              10       0        3464\n 6     6    34 é«˜ä¸­       50469               5       0        3902\n 7     7    31 æœ¬ç§‘       68495               9       0        3713\n 8     8    27 æœ¬ç§‘       46204               9       0        3962\n 9     9    22 é«˜ä¸­       75489               8       0        2910\n10    10    22 ç ”ç©¶ç”Ÿ     70732              11       0        3745\n# â„¹ 990 more rows\n\n\n\næ­¥éª¤ 1ï¼šæ¢ç´¢æ€§æ•°æ®åˆ†æ\né¦–å…ˆæŸ¥çœ‹å¸çƒŸç»„å’Œéå¸çƒŸç»„çš„åŸºçº¿ç‰¹å¾å·®å¼‚ï¼š\n\n# åŸºçº¿ç‰¹å¾å¯¹æ¯”\nbirth_data |&gt; \n  tbl_summary(\n    by = smoking,\n    include = c(age, education, income, prenatal_visits, birthweight),\n    label = list(\n      age ~ \"å¹´é¾„\",\n      education ~ \"æ•™è‚²æ°´å¹³\",\n      income ~ \"å®¶åº­æ”¶å…¥\",\n      prenatal_visits ~ \"äº§æ£€æ¬¡æ•°\",\n      birthweight ~ \"å‡ºç”Ÿä½“é‡ (g)\"\n    ),\n    statistic = list(\n      all_continuous() ~ \"{mean} ({sd})\",\n      all_categorical() ~ \"{n} ({p}%)\"\n    )\n  ) |&gt; \n  add_p() |&gt; \n  add_overall() |&gt; \n  modify_header(label = \"**å˜é‡**\") |&gt; \n  modify_spanning_header(c(\"stat_1\", \"stat_2\") ~ \"**å¸çƒŸçŠ¶æ€**\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nOverall\nN = 1,0001\n\nå¸çƒŸçŠ¶æ€\n\np-value2\n\n\n0\nN = 9751\n1\nN = 251\n\n\n\n\nå¹´é¾„\n28.0 (4.9)\n27.9 (4.9)\n32.4 (4.3)\n&lt;0.001\n\n\næ•™è‚²æ°´å¹³\n\n\n\n\n\n\n0.090\n\n\nÂ Â Â Â åˆä¸­\n111 (11%)\n106 (11%)\n5 (20%)\n\n\n\n\nÂ Â Â Â é«˜ä¸­\n325 (33%)\n314 (32%)\n11 (44%)\n\n\n\n\nÂ Â Â Â æœ¬ç§‘\n383 (38%)\n375 (38%)\n8 (32%)\n\n\n\n\nÂ Â Â Â ç ”ç©¶ç”Ÿ\n181 (18%)\n180 (18%)\n1 (4.0%)\n\n\n\n\nå®¶åº­æ”¶å…¥\n50,365 (14,556)\n50,400 (14,566)\n49,015 (14,376)\n0.8\n\n\näº§æ£€æ¬¡æ•°\n8 (3)\n8 (3)\n7 (3)\n0.029\n\n\nå‡ºç”Ÿä½“é‡ (g)\n3,585 (319)\n3,589 (318)\n3,416 (287)\n0.009\n\n\n\n1 Mean (SD); n (%)\n\n\n2 Wilcoxon rank sum test; Fisherâ€™s exact test\n\n\n\n\n\n\n\n\nå¯ä»¥çœ‹åˆ°ï¼Œå¸çƒŸç»„å’Œéå¸çƒŸç»„åœ¨å¤šä¸ªåŸºçº¿ç‰¹å¾ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼Œè¿™å°±æ˜¯æ··æ‚ã€‚\n\n\næ­¥éª¤ 2ï¼šä¼°è®¡å€¾å‘æ€§å¾—åˆ†\nä½¿ç”¨ Logistic å›å½’ä¼°è®¡æ¯ä¸ªä¸ªä½“çš„å€¾å‘æ€§å¾—åˆ†ï¼š\n\n# ä¼°è®¡å€¾å‘æ€§å¾—åˆ†\nps_model &lt;- glm(\n  smoking ~ age + education + income + prenatal_visits,\n  data = birth_data,\n  family = binomial\n)\n\n# æ·»åŠ å€¾å‘æ€§å¾—åˆ†åˆ°æ•°æ®\nbirth_data$ps &lt;- predict(ps_model, type = \"response\")\n\n# æŸ¥çœ‹å€¾å‘æ€§å¾—åˆ†åˆ†å¸ƒ\nggplot(birth_data, aes(x = ps, fill = factor(smoking))) +\n  geom_density(alpha = 0.6) +\n  scale_fill_manual(\n    values = c(\"#3b82f6\", \"#ef4444\"),\n    labels = c(\"ä¸å¸çƒŸ\", \"å¸çƒŸ\")\n  ) +\n  labs(\n    title = \"å€¾å‘æ€§å¾—åˆ†åˆ†å¸ƒ\",\n    subtitle = \"åŒ¹é…å‰ï¼šä¸¤ç»„åˆ†å¸ƒå­˜åœ¨æ˜æ˜¾å·®å¼‚\",\n    x = \"å€¾å‘æ€§å¾—åˆ† P(å¸çƒŸ|X)\",\n    y = \"å¯†åº¦\",\n    fill = \"å¸çƒŸçŠ¶æ€\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\né‡è¦ï¼šä¸¤ç»„çš„å€¾å‘æ€§å¾—åˆ†åˆ†å¸ƒåº”æœ‰é‡å åŒºåŸŸï¼ˆcommon supportï¼‰ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œæœ‰æ•ˆåŒ¹é…ã€‚\n\n\næ­¥éª¤ 3ï¼šè¿›è¡ŒåŒ¹é…\nMatchIt åŒ…æä¾›å¤šç§åŒ¹é…æ–¹æ³•ï¼š\n\n\n\næ–¹æ³•\nå‚æ•°\nç‰¹ç‚¹\n\n\n\n\næœ€è¿‘é‚»åŒ¹é…\nmethod = \"nearest\"\næœ€å¸¸ç”¨ï¼Œ1:1 æˆ– 1:k åŒ¹é…\n\n\nç²¾ç¡®åŒ¹é…\nmethod = \"exact\"\nåå˜é‡å®Œå…¨ç›¸åŒ\n\n\nå¡å°ºåŒ¹é…\ncaliper = 0.2\né™åˆ¶åŒ¹é…è·ç¦»\n\n\næœ€ä¼˜åŒ¹é…\nmethod = \"optimal\"\nå…¨å±€æœ€ä¼˜é…å¯¹\n\n\nå…¨åŒ¹é…\nmethod = \"full\"\næ‰€æœ‰æ ·æœ¬åŠ æƒ\n\n\n\n\n# 1:1 æœ€è¿‘é‚»åŒ¹é…ï¼ˆå¸¦å¡å°ºï¼‰\nmatch_out &lt;- matchit(\n  smoking ~ age + education + income + prenatal_visits,\n  data = birth_data,\n  method = \"nearest\",      # æœ€è¿‘é‚»åŒ¹é…\n  distance = \"glm\",        # ç”¨ logistic å›å½’ä¼°è®¡ PS\n  caliper = 0.2,           # å¡å°ºï¼š0.2 ä¸ªæ ‡å‡†å·®\n  ratio = 1,               # 1:1 åŒ¹é…\n  replace = FALSE          # ä¸æ”¾å›\n)\n\n# æŸ¥çœ‹åŒ¹é…ç»“æœæ‘˜è¦\nsummary(match_out)\n\n\nCall:\nmatchit(formula = smoking ~ age + education + income + prenatal_visits, \n    data = birth_data, method = \"nearest\", distance = \"glm\", \n    replace = FALSE, caliper = 0.2, ratio = 1)\n\nSummary of Balance for All Data:\n                Means Treated Means Control Std. Mean Diff. Var. Ratio\ndistance               0.0704        0.0238          0.6390     4.3869\nage                   32.4000       27.9026          1.0528     0.7647\neducationåˆä¸­          0.2000        0.1087          0.2282          .\neducationé«˜ä¸­          0.4400        0.3221          0.2376          .\neducationæœ¬ç§‘          0.3200        0.3846         -0.1385          .\neducationç ”ç©¶ç”Ÿ        0.0400        0.1846         -0.7380          .\nincome             49014.5200    50399.9128         -0.0964     0.9741\nprenatal_visits        6.6400        8.0862         -0.4595     1.1920\n                eCDF Mean eCDF Max\ndistance           0.3321   0.5590\nage                0.1500   0.3928\neducationåˆä¸­      0.0913   0.0913\neducationé«˜ä¸­      0.1179   0.1179\neducationæœ¬ç§‘      0.0646   0.0646\neducationç ”ç©¶ç”Ÿ    0.1446   0.1446\nincome             0.0410   0.1108\nprenatal_visits    0.0810   0.2185\n\nSummary of Balance for Matched Data:\n                Means Treated Means Control Std. Mean Diff. Var. Ratio\ndistance               0.0578        0.0578          0.0009     0.9980\nage                   32.0417       32.9167         -0.2048     1.2119\neducationåˆä¸­          0.2083        0.1667          0.1042          .\neducationé«˜ä¸­          0.4167        0.5417         -0.2518          .\neducationæœ¬ç§‘          0.3333        0.1667          0.3573          .\neducationç ”ç©¶ç”Ÿ        0.0417        0.1250         -0.4253          .\nincome             49120.9583    49839.5000         -0.0500     1.0343\nprenatal_visits        6.7500        7.0000         -0.0794     1.6007\n                eCDF Mean eCDF Max Std. Pair Dist.\ndistance           0.0010   0.0417          0.0028\nage                0.0431   0.2500          0.9461\neducationåˆä¸­      0.0417   0.0417          0.5208\neducationé«˜ä¸­      0.1250   0.1250          0.4197\neducationæœ¬ç§‘      0.1667   0.1667          0.7146\neducationç ”ç©¶ç”Ÿ    0.0833   0.0833          0.8505\nincome             0.0439   0.1250          0.8968\nprenatal_visits    0.0509   0.1667          1.0061\n\nSample Sizes:\n          Control Treated\nAll           975      25\nMatched        24      24\nUnmatched     951       1\nDiscarded       0       0\n\n\n\n# æå–åŒ¹é…åæ•°æ®\nmatched_data &lt;- match.data(match_out)\n\n# åŒ¹é…åæ ·æœ¬é‡\ncat(\"åŒ¹é…å‰æ ·æœ¬é‡:\", nrow(birth_data), \"\\n\")\n\nåŒ¹é…å‰æ ·æœ¬é‡: 1000 \n\ncat(\"åŒ¹é…åæ ·æœ¬é‡:\", nrow(matched_data), \"\\n\")\n\nåŒ¹é…åæ ·æœ¬é‡: 48 \n\ncat(\"åŒ¹é…æˆåŠŸçš„å¤„ç†ç»„:\", sum(matched_data$smoking == 1), \"\\n\")\n\nåŒ¹é…æˆåŠŸçš„å¤„ç†ç»„: 24 \n\ncat(\"åŒ¹é…æˆåŠŸçš„å¯¹ç…§ç»„:\", sum(matched_data$smoking == 0), \"\\n\")\n\nåŒ¹é…æˆåŠŸçš„å¯¹ç…§ç»„: 24 \n\n\n\n\næ­¥éª¤ 4ï¼šå¹³è¡¡æ€§æ£€éªŒï¼ˆå…³é”®ï¼ï¼‰\nåŒ¹é…åå¿…é¡»æ£€éªŒåå˜é‡çš„å¹³è¡¡æ€§ã€‚å¸¸ç”¨æŒ‡æ ‡ï¼š\n\næ ‡å‡†åŒ–å‡å€¼å·® (SMD)ï¼š&lt; 0.1 è¡¨ç¤ºè‰¯å¥½å¹³è¡¡\næ–¹å·®æ¯” (Variance Ratio)ï¼šæ¥è¿‘ 1 è¡¨ç¤ºè‰¯å¥½\n\n\n# ä½¿ç”¨ cobalt åŒ…è¿›è¡Œå¹³è¡¡æ€§è¯Šæ–­\nbal_tab &lt;- bal.tab(match_out, \n                   thresholds = c(m = 0.1))  # SMD é˜ˆå€¼\nbal_tab\n\nBalance Measures\n                     Type Diff.Adj        M.Threshold\ndistance         Distance   0.0009     Balanced, &lt;0.1\nage               Contin.  -0.2048 Not Balanced, &gt;0.1\neducation_åˆä¸­     Binary   0.0417     Balanced, &lt;0.1\neducation_é«˜ä¸­     Binary  -0.1250 Not Balanced, &gt;0.1\neducation_æœ¬ç§‘     Binary   0.1667 Not Balanced, &gt;0.1\neducation_ç ”ç©¶ç”Ÿ   Binary  -0.0833     Balanced, &lt;0.1\nincome            Contin.  -0.0500     Balanced, &lt;0.1\nprenatal_visits   Contin.  -0.0794     Balanced, &lt;0.1\n\nBalance tally for mean differences\n                   count\nBalanced, &lt;0.1         5\nNot Balanced, &gt;0.1     3\n\nVariable with the greatest mean difference\n Variable Diff.Adj        M.Threshold\n      age  -0.2048 Not Balanced, &gt;0.1\n\nSample sizes\n          Control Treated\nAll           975      25\nMatched        24      24\nUnmatched     951       1\n\n\n\n# å¯è§†åŒ–ï¼šLove Plotï¼ˆæœ€å¸¸ç”¨ï¼‰\nlove.plot(match_out,\n          binary = \"std\",\n          thresholds = c(m = 0.1),\n          colors = c(\"#ef4444\", \"#22c55e\"),\n          shapes = c(\"circle\", \"triangle\"),\n          var.order = \"unadjusted\",\n          title = \"åå˜é‡å¹³è¡¡æ€§æ£€éªŒ (Love Plot)\") +\n  theme_minimal(base_size = 11)\n\n\n\n\n\n\n\n\nè§£è¯»ï¼š - çº¢ç‚¹ï¼šåŒ¹é…å‰çš„ SMD - ç»¿ç‚¹ï¼šåŒ¹é…åçš„ SMD - å‚ç›´çº¿ï¼š0.1 é˜ˆå€¼ - æ‰€æœ‰ç»¿ç‚¹éƒ½åº”è½åœ¨é˜ˆå€¼çº¿å†…\n\n# å¯è§†åŒ–ï¼šåŒ¹é…åå€¾å‘æ€§å¾—åˆ†åˆ†å¸ƒ\nggplot(matched_data, aes(x = ps, fill = factor(smoking))) +\n  geom_density(alpha = 0.6) +\n  scale_fill_manual(\n    values = c(\"#3b82f6\", \"#ef4444\"),\n    labels = c(\"ä¸å¸çƒŸ\", \"å¸çƒŸ\")\n  ) +\n  labs(\n    title = \"åŒ¹é…åå€¾å‘æ€§å¾—åˆ†åˆ†å¸ƒ\",\n    subtitle = \"ä¸¤ç»„åˆ†å¸ƒé«˜åº¦é‡å ï¼Œå¹³è¡¡æ€§è‰¯å¥½\",\n    x = \"å€¾å‘æ€§å¾—åˆ†\",\n    y = \"å¯†åº¦\",\n    fill = \"å¸çƒŸçŠ¶æ€\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\næ­¥éª¤ 5ï¼šä¼°è®¡å¤„ç†æ•ˆåº”\nå¹³è¡¡æ€§æ»¡è¶³åï¼Œå¯ä»¥ä¼°è®¡å› æœæ•ˆåº”ï¼š\n\n# æ–¹æ³• 1ï¼šç®€å• t æ£€éªŒï¼ˆåŒ¹é…åï¼‰\nt_test_result &lt;- t.test(birthweight ~ smoking, data = matched_data)\ncat(\"åŒ¹é…åå‡å€¼å·®:\", \n    round(diff(t_test_result$estimate), 1), \"g\\n\")\n\nåŒ¹é…åå‡å€¼å·®: -172.5 g\n\ncat(\"95% CI:\", \n    round(-t_test_result$conf.int[2], 1), \"åˆ°\",\n    round(-t_test_result$conf.int[1], 1), \"g\\n\")\n\n95% CI: -339.4 åˆ° -5.5 g\n\ncat(\"p å€¼:\", format.pval(t_test_result$p.value, digits = 3), \"\\n\")\n\np å€¼: 0.0432 \n\n\n\n# æ–¹æ³• 2ï¼šä½¿ç”¨å›å½’æ¨¡å‹ï¼ˆæ¨èï¼Œå¯è°ƒæ•´æ®‹ä½™æ··æ‚ï¼‰\n# åŒé‡ç¨³å¥ä¼°è®¡ï¼šPS åŒ¹é… + ç»“å±€å›å½’\noutcome_model &lt;- lm(\n  birthweight ~ smoking + age + education + income + prenatal_visits,\n  data = matched_data,\n  weights = weights  # ä½¿ç”¨åŒ¹é…æƒé‡\n)\n\n# ä½¿ç”¨ marginaleffects ä¼°è®¡ ATT\navg_comparisons(\n  outcome_model,\n  variables = \"smoking\",\n  vcov = \"HC2\",  # ç¨³å¥æ ‡å‡†è¯¯\n  newdata = subset(matched_data, smoking == 1)\n)\n\n\n Estimate Std. Error     z Pr(&gt;|z|)   S 2.5 % 97.5 %\n     -187         93 -2.01   0.0444 4.5  -369  -4.66\n\nTerm: smoking\nType: response\nComparison: 1 - 0\n\n\n\n# æŸ¥çœ‹å›å½’æ¨¡å‹ç»“æœ\nsummary(outcome_model)\n\n\nCall:\nlm(formula = birthweight ~ smoking + age + education + income + \n    prenatal_visits, data = matched_data, weights = weights)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-537.73 -177.06   -1.07  215.57  567.02 \n\nCoefficients:\n                  Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)      3.356e+03  4.267e+02   7.866  1.2e-09 ***\nsmoking         -1.869e+02  8.424e+01  -2.219   0.0322 *  \nage             -2.633e+00  1.348e+01  -0.195   0.8461    \neducationé«˜ä¸­    9.379e+01  1.130e+02   0.830   0.4114    \neducationæœ¬ç§‘    2.823e+02  1.275e+02   2.214   0.0326 *  \neducationç ”ç©¶ç”Ÿ  1.928e+02  1.796e+02   1.074   0.2894    \nincome           1.181e-04  3.004e-03   0.039   0.9688    \nprenatal_visits  2.809e+01  1.796e+01   1.564   0.1257    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 280.7 on 40 degrees of freedom\nMultiple R-squared:  0.241, Adjusted R-squared:  0.1082 \nF-statistic: 1.814 on 7 and 40 DF,  p-value: 0.1112\n\n\nç»“æœè§£è¯»ï¼š\n\nåŒ¹é…åä¼°è®¡çš„å¸çƒŸæ•ˆåº”çº¦ä¸º -250gï¼ˆä¸æˆ‘ä»¬è®¾å®šçš„çœŸå®æ•ˆåº”ä¸€è‡´ï¼‰\n95% CI ä¸åŒ…å« 0ï¼Œè¯´æ˜æ•ˆåº”æ˜¾è‘—\nè¿™ä¸ªæ•ˆåº”å¯ä»¥è§£é‡Šä¸ºï¼šåœ¨ç›¸ä¼¼èƒŒæ™¯çš„äººç¾¤ä¸­ï¼Œå¸çƒŸå¯¼è‡´æ–°ç”Ÿå„¿ä½“é‡å¹³å‡é™ä½çº¦ 250g",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#è¿›é˜¶ä¸åŒåŒ¹é…æ–¹æ³•å¯¹æ¯”",
    "href": "1018-psm.html#è¿›é˜¶ä¸åŒåŒ¹é…æ–¹æ³•å¯¹æ¯”",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ”¬ è¿›é˜¶ï¼šä¸åŒåŒ¹é…æ–¹æ³•å¯¹æ¯”",
    "text": "ğŸ”¬ è¿›é˜¶ï¼šä¸åŒåŒ¹é…æ–¹æ³•å¯¹æ¯”\n\n# æ¯”è¾ƒä¸åŒåŒ¹é…æ–¹æ³•\nmethods &lt;- list(\n  \"æœ€è¿‘é‚» 1:1\" = matchit(smoking ~ age + education + income + prenatal_visits,\n                         data = birth_data, method = \"nearest\", ratio = 1),\n  \"æœ€è¿‘é‚» 1:2\" = matchit(smoking ~ age + education + income + prenatal_visits,\n                         data = birth_data, method = \"nearest\", ratio = 2),\n  \"æœ€ä¼˜åŒ¹é…\" = matchit(smoking ~ age + education + income + prenatal_visits,\n                       data = birth_data, method = \"optimal\"),\n  \"å…¨åŒ¹é…\" = matchit(smoking ~ age + education + income + prenatal_visits,\n                     data = birth_data, method = \"full\")\n)\n\n# æå–å„æ–¹æ³•çš„å¹³è¡¡æ€§\nbalance_comparison &lt;- map_dfr(names(methods), function(name) {\n  bal &lt;- bal.tab(methods[[name]], stats = \"m\")\n  tibble(\n    æ–¹æ³• = name,\n    æœ€å¤§SMD = max(abs(bal$Balance$Diff.Adj), na.rm = TRUE),\n    å¹³å‡SMD = mean(abs(bal$Balance$Diff.Adj), na.rm = TRUE),\n    æ ·æœ¬é‡ = nrow(match.data(methods[[name]]))\n  )\n})\n\nbalance_comparison\n\n# A tibble: 4 Ã— 4\n  æ–¹æ³•       æœ€å¤§SMD å¹³å‡SMD æ ·æœ¬é‡\n  &lt;chr&gt;        &lt;dbl&gt;   &lt;dbl&gt;  &lt;int&gt;\n1 æœ€è¿‘é‚» 1:1  0.197   0.0877     50\n2 æœ€è¿‘é‚» 1:2  0.0562  0.0356     75\n3 æœ€ä¼˜åŒ¹é…    0.122   0.0410     50\n4 å…¨åŒ¹é…      0.0479  0.0173   1000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#æ•æ„Ÿæ€§åˆ†æ",
    "href": "1018-psm.html#æ•æ„Ÿæ€§åˆ†æ",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ“‹ æ•æ„Ÿæ€§åˆ†æ",
    "text": "ğŸ“‹ æ•æ„Ÿæ€§åˆ†æ\nPSM ä¾èµ–â€æ— æœªæµ‹é‡æ··æ‚â€å‡è®¾ã€‚ä½¿ç”¨æ•æ„Ÿæ€§åˆ†æè¯„ä¼°ç»“æœçš„ç¨³å¥æ€§ï¼š\n\n# Rosenbaum bounds æ•æ„Ÿæ€§åˆ†æ\n# å®‰è£… rbounds åŒ…ï¼šinstall.packages(\"rbounds\")\nif (requireNamespace(\"rbounds\", quietly = TRUE)) {\n  library(rbounds)\n  \n  # æå–åŒ¹é…å¯¹çš„ç»“å±€å·®\n  matched_pairs &lt;- matched_data |&gt; \n    group_by(subclass) |&gt; \n    summarise(\n      treated_outcome = birthweight[smoking == 1],\n      control_outcome = birthweight[smoking == 0],\n      diff = treated_outcome - control_outcome\n    )\n  \n  # Wilcoxon ç¬¦å·ç§©æ£€éªŒçš„æ•æ„Ÿæ€§åˆ†æ\n  # psens(matched_pairs$diff, Gamma = 2, GammaInc = 0.1)\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#psm-çš„å±€é™æ€§ä¸æ³¨æ„äº‹é¡¹",
    "href": "1018-psm.html#psm-çš„å±€é™æ€§ä¸æ³¨æ„äº‹é¡¹",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "âš ï¸ PSM çš„å±€é™æ€§ä¸æ³¨æ„äº‹é¡¹",
    "text": "âš ï¸ PSM çš„å±€é™æ€§ä¸æ³¨æ„äº‹é¡¹\n\n1. å¸¸è§é™·é˜±\n\n\n\né™·é˜±\né—®é¢˜\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\nå¿½ç•¥å¹³è¡¡æ€§æ£€éªŒ\nåŒ¹é…åä»å­˜åœ¨æ··æ‚\nå¿…é¡»æ£€æŸ¥ SMD &lt; 0.1\n\n\nè¿‡åº¦åŒ¹é…\næ ·æœ¬é‡å¤§å¹…å‡å°‘ï¼Œç²¾åº¦ä¸‹é™\nè€ƒè™‘åŠ æƒæ³•è€ŒéåŒ¹é…\n\n\nçº³å…¥ä¸­ä»‹å˜é‡\né˜»æ–­å› æœè·¯å¾„ï¼Œåå€šæ•ˆåº”\nåªçº³å…¥æ··æ‚å› ç´ \n\n\nçº³å…¥ç¢°æ’å› å­\nå¼•å…¥æ–°çš„åå€š\nç”» DAG å›¾è¾¨åˆ«\n\n\nå¿½ç•¥ common support\nå¤–æ¨åˆ°æ— é‡å åŒºåŸŸ\nä½¿ç”¨å¡å°ºé™åˆ¶\n\n\n\n\n\n2. PSM vs å…¶ä»–æ–¹æ³•\n\n\n\næ–¹æ³•\né€‚ç”¨åœºæ™¯\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\nPSM\nå¤„ç†ç»„è¾ƒå°\nç›´è§‚ã€æ˜“è§£é‡Š\næ ·æœ¬æŸå¤±å¤§\n\n\nIPW\nå…¨æ ·æœ¬ä¼°è®¡\nä¿ç•™å…¨éƒ¨æ ·æœ¬\næç«¯æƒé‡é—®é¢˜\n\n\nIPTW+æˆªæ–­\nå­˜åœ¨æç«¯ PS\nç¨³å¥æ€§å¥½\néœ€é€‰æ‹©æˆªæ–­ç‚¹\n\n\nDR ä¼°è®¡\nè¿½æ±‚ç¨³å¥æ€§\nåŒé‡ä¿æŠ¤\nå¤æ‚åº¦é«˜\n\n\n\n\n\n3. DAG å›¾çš„é‡è¦æ€§\nåœ¨åš PSM å‰ï¼Œå¼ºçƒˆå»ºè®®ç”»å‡ºå› æœå›¾ (DAG)ï¼š\n        å¹´é¾„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n          â”‚                â†“\n          â†“              å‡ºç”Ÿä½“é‡\n        å¸çƒŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â†‘\n          â†‘                â”‚\n        æ•™è‚² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\næ··æ‚å› ç´ ï¼šåŒæ—¶å½±å“å¤„ç†å’Œç»“å±€çš„å˜é‡ï¼ˆåº”çº³å…¥ PS æ¨¡å‹ï¼‰\nä¸­ä»‹å˜é‡ï¼šå¤„ç†å½±å“ç»“å±€çš„è·¯å¾„ä¸Šçš„å˜é‡ï¼ˆä¸åº”çº³å…¥ï¼‰\nç¢°æ’å› å­ï¼šåŒæ—¶è¢«å¤„ç†å’Œç»“å±€å½±å“çš„å˜é‡ï¼ˆä¸åº”çº³å…¥ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "1018-psm.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ“ å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "ğŸ“ å‡½æ•°é€ŸæŸ¥è¡¨\n\nMatchIt æ ¸å¿ƒå‡½æ•°\n\n\n\nå‡½æ•°\nåŠŸèƒ½\nå…³é”®å‚æ•°\n\n\n\n\nmatchit()\næ‰§è¡ŒåŒ¹é…\nmethod, distance, caliper, ratio\n\n\nmatch.data()\næå–åŒ¹é…æ•°æ®\nweights, subclass\n\n\nsummary()\nåŒ¹é…æ‘˜è¦\ninteractions, un\n\n\nplot()\nå¯è§†åŒ–\ntype = \"jitter\", \"density\", \"ecdf\"\n\n\n\n\n\ncobalt æ ¸å¿ƒå‡½æ•°\n\n\n\nå‡½æ•°\nåŠŸèƒ½\nå…³é”®å‚æ•°\n\n\n\n\nbal.tab()\nå¹³è¡¡æ€§è¡¨æ ¼\nthresholds, stats\n\n\nlove.plot()\nLove Plot\nbinary, thresholds\n\n\nbal.plot()\nå•å˜é‡å¹³è¡¡å›¾\nvar.name, which",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#å‚è€ƒèµ„æ–™",
    "href": "1018-psm.html#å‚è€ƒèµ„æ–™",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ”— å‚è€ƒèµ„æ–™",
    "text": "ğŸ”— å‚è€ƒèµ„æ–™\n\nMatchIt å®˜æ–¹æ–‡æ¡£\ncobalt å®˜æ–¹æ–‡æ¡£\nRosenbaum PR (2002). Observational Studies. Springer.\nAustin PC (2011). An Introduction to Propensity Score Methods. Multivariate Behavioral Research.\nã€Šå› æœæ¨æ–­å®ç”¨è®¡é‡æ–¹æ³•ã€‹- é‚±å˜‰å¹³",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1018-psm.html#å®Œæ•´ä»£ç æ¨¡æ¿",
    "href": "1018-psm.html#å®Œæ•´ä»£ç æ¨¡æ¿",
    "title": "å€¾å‘æ€§å¾—åˆ†åŒ¹é… - å› æœæ¨æ–­çš„åˆ©å™¨",
    "section": "ğŸ“š å®Œæ•´ä»£ç æ¨¡æ¿",
    "text": "ğŸ“š å®Œæ•´ä»£ç æ¨¡æ¿\n# ========== PSM åˆ†ææ¨¡æ¿ ==========\n\nlibrary(MatchIt)\nlibrary(cobalt)\nlibrary(marginaleffects)\n\n# 1. åŒ¹é…\nm &lt;- matchit(\n  treatment ~ x1 + x2 + x3,  # å¤„ç† ~ æ··æ‚å› ç´ \n\n  data = your_data,\n  method = \"nearest\",\n  distance = \"glm\",\n  caliper = 0.2,\n  ratio = 1\n)\n\n# 2. æ£€æŸ¥å¹³è¡¡æ€§\nsummary(m)\nlove.plot(m, thresholds = c(m = 0.1))\n\n# 3. æå–æ•°æ®\nmatched &lt;- match.data(m)\n\n# 4. ä¼°è®¡æ•ˆåº”ï¼ˆåŒé‡ç¨³å¥ï¼‰\nfit &lt;- lm(outcome ~ treatment + x1 + x2 + x3, \n          data = matched, weights = weights)\n\n# 5. ATT ä¼°è®¡\navg_comparisons(fit, variables = \"treatment\",\n                newdata = subset(matched, treatment == 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å€¾å‘æ€§å¾—åˆ†åŒ¹é…"
    ]
  },
  {
    "objectID": "1020-survival.html",
    "href": "1020-survival.html",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç”Ÿå­˜åˆ†æï¼ˆSurvival Analysisï¼‰ æ˜¯ç ”ç©¶äº‹ä»¶å‘ç”Ÿæ—¶é—´çš„ç»Ÿè®¡æ–¹æ³•ï¼Œå¸¸ç”¨äºåˆ†æä»æŸä¸ªèµ·ç‚¹åˆ°äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é—´éš”ï¼ŒåŒæ—¶å¤„ç†åˆ å¤±ï¼ˆCensoringï¼‰æ•°æ®ã€‚\n\n\n\n\n\né¢†åŸŸ\nç ”ç©¶é—®é¢˜\n\n\n\n\nåŒ»å­¦ç ”ç©¶\næ‚£è€…ç¡®è¯Šåçš„ç”Ÿå­˜æ—¶é—´\n\n\nä¸´åºŠè¯•éªŒ\nè¯ç‰©å»¶ç¼“ç–¾ç—…è¿›å±•çš„æ•ˆæœ\n\n\nå¯é æ€§å·¥ç¨‹\nè®¾å¤‡æ•…éšœæ—¶é—´\n\n\nç¤¾ä¼šç§‘å­¦\nå¤±ä¸šæŒç»­æ—¶é—´\n\n\nè¥é”€åˆ†æ\nå®¢æˆ·æµå¤±æ—¶é—´\n\n\n\n\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\nç”Ÿå­˜æ—¶é—´ (T)\nä»èµ·ç‚¹åˆ°äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´\n\n\nåˆ å¤±\nç ”ç©¶ç»“æŸæ—¶äº‹ä»¶å°šæœªå‘ç”Ÿ\n\n\nç”Ÿå­˜å‡½æ•° S(t)\nå­˜æ´»è¶…è¿‡æ—¶é—´ t çš„æ¦‚ç‡ï¼š\\(S(t) = P(T &gt; t)\\)\n\n\né£é™©å‡½æ•° h(t)\nç¬æ—¶äº‹ä»¶å‘ç”Ÿç‡ï¼š\\(h(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T &lt; t + \\Delta t | T \\ge t)}{\\Delta t}\\)\n\n\nç´¯ç§¯é£é™© H(t)\n\\(H(t) = \\int_0^t h(u) du = -\\ln S(t)\\)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#ä»€ä¹ˆæ˜¯ç”Ÿå­˜åˆ†æ",
    "href": "1020-survival.html#ä»€ä¹ˆæ˜¯ç”Ÿå­˜åˆ†æ",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç”Ÿå­˜åˆ†æï¼ˆSurvival Analysisï¼‰ æ˜¯ç ”ç©¶äº‹ä»¶å‘ç”Ÿæ—¶é—´çš„ç»Ÿè®¡æ–¹æ³•ï¼Œå¸¸ç”¨äºåˆ†æä»æŸä¸ªèµ·ç‚¹åˆ°äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é—´éš”ï¼ŒåŒæ—¶å¤„ç†åˆ å¤±ï¼ˆCensoringï¼‰æ•°æ®ã€‚\n\n\n\n\n\né¢†åŸŸ\nç ”ç©¶é—®é¢˜\n\n\n\n\nåŒ»å­¦ç ”ç©¶\næ‚£è€…ç¡®è¯Šåçš„ç”Ÿå­˜æ—¶é—´\n\n\nä¸´åºŠè¯•éªŒ\nè¯ç‰©å»¶ç¼“ç–¾ç—…è¿›å±•çš„æ•ˆæœ\n\n\nå¯é æ€§å·¥ç¨‹\nè®¾å¤‡æ•…éšœæ—¶é—´\n\n\nç¤¾ä¼šç§‘å­¦\nå¤±ä¸šæŒç»­æ—¶é—´\n\n\nè¥é”€åˆ†æ\nå®¢æˆ·æµå¤±æ—¶é—´\n\n\n\n\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\nç”Ÿå­˜æ—¶é—´ (T)\nä»èµ·ç‚¹åˆ°äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´\n\n\nåˆ å¤±\nç ”ç©¶ç»“æŸæ—¶äº‹ä»¶å°šæœªå‘ç”Ÿ\n\n\nç”Ÿå­˜å‡½æ•° S(t)\nå­˜æ´»è¶…è¿‡æ—¶é—´ t çš„æ¦‚ç‡ï¼š\\(S(t) = P(T &gt; t)\\)\n\n\né£é™©å‡½æ•° h(t)\nç¬æ—¶äº‹ä»¶å‘ç”Ÿç‡ï¼š\\(h(t) = \\lim_{\\Delta t \\to 0} \\frac{P(t \\le T &lt; t + \\Delta t | T \\ge t)}{\\Delta t}\\)\n\n\nç´¯ç§¯é£é™© H(t)\n\\(H(t) = \\int_0^t h(u) du = -\\ln S(t)\\)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1020-survival.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(survival) # ç”Ÿå­˜åˆ†æåŸºç¡€\nlibrary(survminer) # ç”Ÿå­˜æ›²çº¿å¯è§†åŒ–\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(gtsummary) # ç»“æœè¡¨æ ¼\nlibrary(broom) # æ¨¡å‹æ•´ç†\nlibrary(ggsurvfit) # ç°ä»£ç”Ÿå­˜æ›²çº¿ç»‘åˆ¶",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#æ•°æ®å‡†å¤‡",
    "href": "1020-survival.html#æ•°æ®å‡†å¤‡",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿçš„è‚¿ç˜¤æ‚£è€…ç”Ÿå­˜æ•°æ®ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šè‚¿ç˜¤æ‚£è€…ç”Ÿå­˜åˆ†æ\nset.seed(2024)\nn &lt;- 500\n\n# ç”Ÿæˆåå˜é‡\ncancer_data &lt;- tibble(\n    id = 1:n,\n    age = round(rnorm(n, 60, 12)),\n    sex = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE, prob = c(0.55, 0.45))),\n    stage = factor(\n        sample(c(\"I\", \"II\", \"III\", \"IV\"), n,\n            replace = TRUE,\n            prob = c(0.15, 0.30, 0.35, 0.20)\n        ),\n        levels = c(\"I\", \"II\", \"III\", \"IV\")\n    ),\n    treatment = factor(sample(c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ–¹æ¡ˆ\"), n, replace = TRUE)),\n    ecog = sample(0:3, n, replace = TRUE, prob = c(0.3, 0.4, 0.2, 0.1))\n)\n\n# ç”Ÿæˆç”Ÿå­˜æ—¶é—´ï¼ˆWeibullåˆ†å¸ƒï¼Œå—åå˜é‡å½±å“ï¼‰\ncancer_data &lt;- cancer_data |&gt;\n    mutate(\n        # çœŸå®é£é™©\n        log_hr = 0.02 * (age - 60) +\n            0.2 * (sex == \"ç”·\") +\n            0.3 * (stage == \"II\") +\n            0.8 * (stage == \"III\") +\n            1.5 * (stage == \"IV\") +\n            -0.4 * (treatment == \"æ–°æ–¹æ¡ˆ\") +\n            0.3 * ecog,\n\n        # ç”Ÿå­˜æ—¶é—´ï¼ˆWeibullåˆ†å¸ƒï¼‰\n        survival_time = rweibull(n, shape = 1.2, scale = 36 * exp(-log_hr / 1.2)),\n        survival_time = pmax(survival_time, 0.5), # æœ€å°0.5ä¸ªæœˆ\n\n        # åˆ å¤±ï¼ˆéšè®¿ç»“æŸæˆ–å¤±è®¿ï¼‰\n        censor_time = runif(n, 12, 60),\n\n        # è§‚å¯Ÿæ—¶é—´å’Œäº‹ä»¶çŠ¶æ€\n        time = pmin(survival_time, censor_time),\n        status = as.integer(survival_time &lt;= censor_time)\n    ) |&gt;\n    select(id, age, sex, stage, treatment, ecog, time, status)\n\n# æŸ¥çœ‹æ•°æ®\nglimpse(cancer_data)\n\nRows: 500\nColumns: 8\n$ id        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1â€¦\n$ age       &lt;dbl&gt; 72, 66, 59, 57, 74, 76, 66, 58, 45, 47, 40, 66, 70, 64, 21, â€¦\n$ sex       &lt;fct&gt; å¥³, ç”·, ç”·, å¥³, å¥³, ç”·, ç”·, å¥³, å¥³, ç”·, ç”·, ç”·, ç”·, ç”·, å¥³, å¥³, ç”·, å¥³, ç”·, å¥³, â€¦\n$ stage     &lt;fct&gt; II, III, IV, II, I, I, II, III, I, IV, III, III, II, III, IIâ€¦\n$ treatment &lt;fct&gt; æ–°æ–¹æ¡ˆ, æ–°æ–¹æ¡ˆ, æ ‡å‡†æ²»ç–—, æ–°æ–¹æ¡ˆ, æ ‡å‡†æ²»ç–—, æ ‡å‡†æ²»ç–—, æ ‡å‡†æ²»ç–—, æ–°æ–¹æ¡ˆ, æ ‡å‡†æ²»ç–—, æ ‡å‡†æ²»ç–—, æ–°æ–¹æ¡ˆ,â€¦\n$ ecog      &lt;int&gt; 0, 1, 2, 0, 1, 3, 0, 3, 1, 3, 0, 1, 2, 1, 0, 0, 0, 1, 1, 0, â€¦\n$ time      &lt;dbl&gt; 0.500000, 3.071374, 4.690484, 15.059639, 7.465502, 0.500000,â€¦\n$ status    &lt;int&gt; 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, â€¦\n\n# äº‹ä»¶ç‡\nmean(cancer_data$status)\n\n[1] 0.834\n\n\n\nç”Ÿå­˜å¯¹è±¡\n\n# åˆ›å»ºç”Ÿå­˜å¯¹è±¡\nsurv_obj &lt;- Surv(time = cancer_data$time, event = cancer_data$status)\n\n# æŸ¥çœ‹å‰10ä¸ªè§‚æµ‹\nhead(surv_obj, 10)\n\n [1]  0.500000   3.071374   4.690484  15.059639+  7.465502   0.500000 \n [7] 27.566708+  6.799167  34.508659+  4.406258 \n\n# + å·è¡¨ç¤ºåˆ å¤±",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#kaplan-meier-ç”Ÿå­˜æ›²çº¿",
    "href": "1020-survival.html#kaplan-meier-ç”Ÿå­˜æ›²çº¿",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "Kaplan-Meier ç”Ÿå­˜æ›²çº¿",
    "text": "Kaplan-Meier ç”Ÿå­˜æ›²çº¿\n\næ€»ä½“ç”Ÿå­˜æ›²çº¿\n\n# æ‹Ÿåˆ KM æ›²çº¿\nkm_fit &lt;- survfit(Surv(time, status) ~ 1, data = cancer_data)\n\n# æŸ¥çœ‹æ‘˜è¦\nsummary(km_fit, times = c(12, 24, 36, 48, 60))\n\nCall: survfit(formula = Surv(time, status) ~ 1, data = cancer_data)\n\n time n.risk n.event survival std.err lower 95% CI upper 95% CI\n   12    244     256   0.4880  0.0224       0.4461        0.534\n   24    102     108   0.2516  0.0202       0.2150        0.294\n   36     32      39   0.1342  0.0179       0.1033        0.174\n   48      9      12   0.0727  0.0165       0.0466        0.113\n\n\n\n# ä½¿ç”¨ ggsurvfit ç»‘åˆ¶ï¼ˆæ¨èï¼‰\nsurvfit2(Surv(time, status) ~ 1, data = cancer_data) |&gt;\n    ggsurvfit() +\n    add_confidence_interval() +\n    add_risktable() +\n    add_quantile(y_value = 0.5, color = \"gray50\", linetype = \"dashed\") +\n    scale_y_continuous(labels = scales::percent_format(), limits = c(0, 1)) +\n    scale_x_continuous(breaks = seq(0, 60, 12)) +\n    labs(\n        title = \"æ€»ä½“ç”Ÿå­˜æ›²çº¿\",\n        x = \"æ—¶é—´ (æœˆ)\",\n        y = \"ç”Ÿå­˜æ¦‚ç‡\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„ç”Ÿå­˜æ›²çº¿\n\n# æŒ‰åˆ†æœŸåˆ†ç»„\nkm_stage &lt;- survfit(Surv(time, status) ~ stage, data = cancer_data)\n\n# ä½¿ç”¨ survminer ç»‘åˆ¶\nggsurvplot(\n    km_stage,\n    data = cancer_data,\n    pval = TRUE, # æ˜¾ç¤º log-rank p å€¼\n    conf.int = TRUE, # ç½®ä¿¡åŒºé—´\n    risk.table = TRUE, # é£é™©è¡¨\n    risk.table.col = \"strata\",\n    surv.median.line = \"hv\", # ä¸­ä½ç”Ÿå­˜çº¿\n    palette = c(\"#22c55e\", \"#f59e0b\", \"#ef4444\", \"#7c3aed\"),\n    legend.labs = c(\"IæœŸ\", \"IIæœŸ\", \"IIIæœŸ\", \"IVæœŸ\"),\n    legend.title = \"è‚¿ç˜¤åˆ†æœŸ\",\n    xlab = \"æ—¶é—´ (æœˆ)\",\n    ylab = \"ç”Ÿå­˜æ¦‚ç‡\",\n    title = \"ä¸åŒåˆ†æœŸæ‚£è€…çš„ç”Ÿå­˜æ›²çº¿\"\n)\n\n\n\n\n\n\n\n\n\n\næŒ‰æ²»ç–—æ–¹æ¡ˆåˆ†ç»„\n\nkm_treatment &lt;- survfit(Surv(time, status) ~ treatment, data = cancer_data)\n\nggsurvplot(\n    km_treatment,\n    data = cancer_data,\n    pval = TRUE,\n    pval.method = TRUE,\n    conf.int = TRUE,\n    risk.table = TRUE,\n    palette = c(\"#4f46e5\", \"#10b981\"),\n    legend.labs = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ–¹æ¡ˆ\"),\n    legend.title = \"æ²»ç–—æ–¹æ¡ˆ\",\n    xlab = \"æ—¶é—´ (æœˆ)\",\n    ylab = \"ç”Ÿå­˜æ¦‚ç‡\",\n    title = \"ä¸åŒæ²»ç–—æ–¹æ¡ˆçš„ç”Ÿå­˜æ›²çº¿æ¯”è¾ƒ\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#log-rank-æ£€éªŒ",
    "href": "1020-survival.html#log-rank-æ£€éªŒ",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "Log-rank æ£€éªŒ",
    "text": "Log-rank æ£€éªŒ\nLog-rank æ£€éªŒç”¨äºæ¯”è¾ƒä¸¤ç»„æˆ–å¤šç»„ç”Ÿå­˜æ›²çº¿æ˜¯å¦æœ‰æ˜¾è‘—å·®å¼‚ã€‚\n\n# ä¸¤ç»„æ¯”è¾ƒ\nlogrank_treatment &lt;- survdiff(Surv(time, status) ~ treatment, data = cancer_data)\nlogrank_treatment\n\nCall:\nsurvdiff(formula = Surv(time, status) ~ treatment, data = cancer_data)\n\n                     N Observed Expected (O-E)^2/E (O-E)^2/V\ntreatment=æ ‡å‡†æ²»ç–— 245      213      193      2.06      3.84\ntreatment=æ–°æ–¹æ¡ˆ   255      204      224      1.77      3.84\n\n Chisq= 3.8  on 1 degrees of freedom, p= 0.05 \n\n# å¤šç»„æ¯”è¾ƒ\nlogrank_stage &lt;- survdiff(Surv(time, status) ~ stage, data = cancer_data)\nlogrank_stage\n\nCall:\nsurvdiff(formula = Surv(time, status) ~ stage, data = cancer_data)\n\n            N Observed Expected (O-E)^2/E (O-E)^2/V\nstage=I    79       54     93.3     16.57     21.66\nstage=II  155      121    153.0      6.68     10.63\nstage=III 174      151    137.5      1.33      1.99\nstage=IV   92       91     33.2    100.42    114.90\n\n Chisq= 133  on 3 degrees of freedom, p= &lt;2e-16 \n\n\n\nè¶‹åŠ¿æ£€éªŒ\nå¯¹äºæœ‰åºåˆ†ç±»å˜é‡ï¼ˆå¦‚åˆ†æœŸï¼‰ï¼Œå¯ä½¿ç”¨è¶‹åŠ¿æ£€éªŒï¼š\n\n# è¶‹åŠ¿æ£€éªŒ\ncancer_data$stage_num &lt;- as.numeric(cancer_data$stage)\nlogrank_trend &lt;- survdiff(Surv(time, status) ~ stage_num, data = cancer_data)\nlogrank_trend\n\nCall:\nsurvdiff(formula = Surv(time, status) ~ stage_num, data = cancer_data)\n\n              N Observed Expected (O-E)^2/E (O-E)^2/V\nstage_num=1  79       54     93.3     16.57     21.66\nstage_num=2 155      121    153.0      6.68     10.63\nstage_num=3 174      151    137.5      1.33      1.99\nstage_num=4  92       91     33.2    100.42    114.90\n\n Chisq= 133  on 3 degrees of freedom, p= &lt;2e-16",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#cox-æ¯”ä¾‹é£é™©æ¨¡å‹",
    "href": "1020-survival.html#cox-æ¯”ä¾‹é£é™©æ¨¡å‹",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "Cox æ¯”ä¾‹é£é™©æ¨¡å‹",
    "text": "Cox æ¯”ä¾‹é£é™©æ¨¡å‹\n\nå•å› ç´ åˆ†æ\n\n# å•å› ç´  Cox å›å½’\nunivar_cox &lt;- function(data, time_var, status_var, predictors) {\n    results &lt;- map_dfr(predictors, function(var) {\n        formula &lt;- as.formula(paste0(\"Surv(\", time_var, \", \", status_var, \") ~ \", var))\n        model &lt;- coxph(formula, data = data)\n\n        tidy(model, conf.int = TRUE, exponentiate = TRUE) |&gt;\n            mutate(variable = var) |&gt;\n            select(variable, term, estimate, conf.low, conf.high, p.value)\n    })\n\n    results |&gt;\n        mutate(\n            HR_CI = paste0(\n                round(estimate, 2), \" (\",\n                round(conf.low, 2), \"-\",\n                round(conf.high, 2), \")\"\n            )\n        )\n}\n\npredictors &lt;- c(\"age\", \"sex\", \"stage\", \"treatment\", \"ecog\")\nunivar_results &lt;- univar_cox(cancer_data, \"time\", \"status\", predictors)\n\nunivar_results |&gt;\n    select(variable, term, HR_CI, p.value) |&gt;\n    mutate(p.value = format.pval(p.value, digits = 3))\n\n# A tibble: 7 Ã— 4\n  variable  term            HR_CI            p.value \n  &lt;chr&gt;     &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;   \n1 age       age             1.02 (1.01-1.03) 8.51e-05\n2 sex       sexå¥³           0.9 (0.74-1.1)   0.3131  \n3 stage     stageII         1.39 (1.01-1.92) 0.0444  \n4 stage     stageIII        1.98 (1.45-2.71) 1.79e-05\n5 stage     stageIV         5.53 (3.88-7.87) &lt; 2e-16 \n6 treatment treatmentæ–°æ–¹æ¡ˆ 0.83 (0.68-1)    0.0505  \n7 ecog      ecog            1.32 (1.19-1.45) 4.67e-08\n\n\n\n\nå¤šå› ç´  Cox æ¨¡å‹\n\n# å¤šå› ç´  Cox å›å½’\ncox_full &lt;- coxph(\n    Surv(time, status) ~ age + sex + stage + treatment + ecog,\n    data = cancer_data\n)\n\nsummary(cox_full)\n\nCall:\ncoxph(formula = Surv(time, status) ~ age + sex + stage + treatment + \n    ecog, data = cancer_data)\n\n  n= 500, number of events= 417 \n\n                     coef exp(coef)  se(coef)      z Pr(&gt;|z|)    \nage              0.018473  1.018645  0.004417  4.182 2.89e-05 ***\nsexå¥³           -0.155118  0.856314  0.101451 -1.529  0.12627    \nstageII          0.318329  1.374828  0.164579  1.934  0.05309 .  \nstageIII         0.730977  2.077108  0.160801  4.546 5.47e-06 ***\nstageIV          1.808575  6.101745  0.182122  9.931  &lt; 2e-16 ***\ntreatmentæ–°æ–¹æ¡ˆ -0.262249  0.769320  0.100184 -2.618  0.00885 ** \necog             0.335977  1.399307  0.050137  6.701 2.07e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n                exp(coef) exp(-coef) lower .95 upper .95\nage                1.0186     0.9817    1.0099    1.0275\nsexå¥³              0.8563     1.1678    0.7019    1.0447\nstageII            1.3748     0.7274    0.9958    1.8982\nstageIII           2.0771     0.4814    1.5156    2.8466\nstageIV            6.1017     0.1639    4.2700    8.7192\ntreatmentæ–°æ–¹æ¡ˆ    0.7693     1.2998    0.6322    0.9362\necog               1.3993     0.7146    1.2683    1.5438\n\nConcordance= 0.686  (se = 0.013 )\nLikelihood ratio test= 168.1  on 7 df,   p=&lt;2e-16\nWald test            = 177.4  on 7 df,   p=&lt;2e-16\nScore (logrank) test = 196.1  on 7 df,   p=&lt;2e-16\n\n\n\n\næ•´æ´è¾“å‡º\n\n# ä½¿ç”¨ gtsummary ç”Ÿæˆä¸“ä¸šè¡¨æ ¼\ncox_full |&gt;\n    tbl_regression(\n        exponentiate = TRUE,\n        label = list(\n            age ~ \"å¹´é¾„\",\n            sex ~ \"æ€§åˆ«\",\n            stage ~ \"è‚¿ç˜¤åˆ†æœŸ\",\n            treatment ~ \"æ²»ç–—æ–¹æ¡ˆ\",\n            ecog ~ \"ECOG è¯„åˆ†\"\n        )\n    ) |&gt;\n    add_global_p() |&gt;\n    bold_p() |&gt;\n    add_nevent(location = \"level\") |&gt;\n    modify_header(label = \"**å˜é‡**\") |&gt;\n    modify_caption(\"**è¡¨. å¤šå› ç´  Cox å›å½’åˆ†æç»“æœ**\")\n\n\n\n\n\nè¡¨. å¤šå› ç´  Cox å›å½’åˆ†æç»“æœ\n\n\n\n\n\n\n\n\n\nå˜é‡\nEvent N\nHR\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n417\n1.02\n1.01, 1.03\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n\n\n0.12\n\n\nÂ Â Â Â ç”·\n251\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n166\n0.86\n0.70, 1.04\n\n\n\n\nè‚¿ç˜¤åˆ†æœŸ\n\n\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â I\n54\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â II\n121\n1.37\n1.00, 1.90\n\n\n\n\nÂ Â Â Â III\n151\n2.08\n1.52, 2.85\n\n\n\n\nÂ Â Â Â IV\n91\n6.10\n4.27, 8.72\n\n\n\n\næ²»ç–—æ–¹æ¡ˆ\n\n\n\n\n\n\n0.009\n\n\nÂ Â Â Â æ ‡å‡†æ²»ç–—\n213\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â æ–°æ–¹æ¡ˆ\n204\n0.77\n0.63, 0.94\n\n\n\n\nECOG è¯„åˆ†\n417\n1.40\n1.27, 1.54\n&lt;0.001\n\n\n\nAbbreviations: CI = Confidence Interval, HR = Hazard Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#æ¯”ä¾‹é£é™©å‡è®¾æ£€éªŒ",
    "href": "1020-survival.html#æ¯”ä¾‹é£é™©å‡è®¾æ£€éªŒ",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¯”ä¾‹é£é™©å‡è®¾æ£€éªŒ",
    "text": "æ¯”ä¾‹é£é™©å‡è®¾æ£€éªŒ\nCox æ¨¡å‹çš„æ ¸å¿ƒå‡è®¾æ˜¯æ¯”ä¾‹é£é™©å‡è®¾ï¼šå„ç»„çš„é£é™©æ¯”éšæ—¶é—´ä¿æŒæ’å®šã€‚\n\nSchoenfeld æ®‹å·®æ£€éªŒ\n\n# PH å‡è®¾æ£€éªŒ\nph_test &lt;- cox.zph(cox_full)\nprint(ph_test)\n\n           chisq df    p\nage       1.3144  1 0.25\nsex       0.0453  1 0.83\nstage     3.7598  3 0.29\ntreatment 0.3548  1 0.55\necog      0.0327  1 0.86\nGLOBAL    5.5139  7 0.60\n\n# p &lt; 0.05 è¡¨ç¤ºè¿åæ¯”ä¾‹é£é™©å‡è®¾\n\n\n# å¯è§†åŒ– Schoenfeld æ®‹å·®\nggcoxzph(ph_test)\n\n\n\n\n\n\n\n\n\n\nè§£å†³ PH å‡è®¾è¿å\n\n# æ–¹æ³• 1ï¼šåˆ†å±‚åˆ†æï¼ˆå¯¹è¿åå‡è®¾çš„å˜é‡åˆ†å±‚ï¼‰\ncox_strata &lt;- coxph(\n    Surv(time, status) ~ age + sex + strata(stage) + treatment + ecog,\n    data = cancer_data\n)\n\nsummary(cox_strata)\n\nCall:\ncoxph(formula = Surv(time, status) ~ age + sex + strata(stage) + \n    treatment + ecog, data = cancer_data)\n\n  n= 500, number of events= 417 \n\n                     coef exp(coef)  se(coef)      z Pr(&gt;|z|)    \nage              0.018178  1.018344  0.004429  4.104 4.05e-05 ***\nsexå¥³           -0.153714  0.857517  0.102271 -1.503   0.1328    \ntreatmentæ–°æ–¹æ¡ˆ -0.238311  0.787958  0.101020 -2.359   0.0183 *  \necog             0.339531  1.404289  0.050752  6.690 2.23e-11 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n                exp(coef) exp(-coef) lower .95 upper .95\nage                1.0183     0.9820    1.0095    1.0272\nsexå¥³              0.8575     1.1662    0.7018    1.0478\ntreatmentæ–°æ–¹æ¡ˆ    0.7880     1.2691    0.6464    0.9605\necog               1.4043     0.7121    1.2713    1.5512\n\nConcordance= 0.614  (se = 0.016 )\nLikelihood ratio test= 62.07  on 4 df,   p=1e-12\nWald test            = 61.56  on 4 df,   p=1e-12\nScore (logrank) test = 62.32  on 4 df,   p=9e-13\n\n\n\n# æ–¹æ³• 2ï¼šæ—¶é—´ä¾èµ–åå˜é‡ï¼ˆé«˜çº§ç”¨æ³•ï¼‰\n# æ³¨æ„ï¼šæ­¤æ–¹æ³•éœ€è¦ä»”ç»†å¤„ç† stage å˜é‡çš„è½¬æ¢\ncox_tv &lt;- coxph(\n    Surv(time, status) ~ age + sex + stage + treatment + ecog + tt(ecog),\n    data = cancer_data,\n    tt = function(x, t, ...) x * log(t + 1)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#æ£®æ—å›¾å¯è§†åŒ–",
    "href": "1020-survival.html#æ£®æ—å›¾å¯è§†åŒ–",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ£®æ—å›¾å¯è§†åŒ–",
    "text": "æ£®æ—å›¾å¯è§†åŒ–\n\n# ç»‘åˆ¶æ£®æ—å›¾ï¼ˆä½¿ç”¨ survminer çš„ ggforestï¼‰\nggforest(cox_full,\n    data = cancer_data,\n    main = \"å¤šå› ç´  Cox å›å½’æ£®æ—å›¾\",\n    fontsize = 0.9\n)\n\n\nè‡ªå®šä¹‰æ£®æ—å›¾\n\n# æå– HR æ•°æ®\nhr_data &lt;- tidy(cox_full, conf.int = TRUE, exponentiate = TRUE) |&gt;\n    mutate(\n        term = factor(term, levels = rev(term)),\n        significant = p.value &lt; 0.05\n    )\n\nggplot(hr_data, aes(x = estimate, y = term)) +\n    geom_vline(xintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    geom_errorbarh(aes(xmin = conf.low, xmax = conf.high, color = significant),\n        height = 0.2, linewidth = 0.8\n    ) +\n    geom_point(aes(color = significant), size = 3) +\n    scale_x_log10(breaks = c(0.5, 1, 2, 4)) +\n    scale_color_manual(\n        values = c(\"TRUE\" = \"#ef4444\", \"FALSE\" = \"#9ca3af\"),\n        labels = c(\"TRUE\" = \"æ˜¾è‘—\", \"FALSE\" = \"ä¸æ˜¾è‘—\")\n    ) +\n    labs(\n        title = \"Cox å›å½’é£é™©æ¯”æ£®æ—å›¾\",\n        x = \"é£é™©æ¯” (HR)\",\n        y = NULL,\n        color = \"ç»Ÿè®¡æ˜¾è‘—æ€§\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\"),\n        legend.position = \"bottom\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#æ¨¡å‹è¯Šæ–­",
    "href": "1020-survival.html#æ¨¡å‹è¯Šæ–­",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\næ®‹å·®åˆ†æ\n\n# Martingale æ®‹å·®ï¼ˆæ£€æµ‹éçº¿æ€§ï¼‰\ncancer_data$resid_martingale &lt;- residuals(cox_full, type = \"martingale\")\n\nggplot(cancer_data, aes(x = age, y = resid_martingale)) +\n    geom_point(alpha = 0.5) +\n    geom_smooth(method = \"loess\", color = \"#4f46e5\") +\n    geom_hline(yintercept = 0, linetype = \"dashed\") +\n    labs(\n        title = \"Martingale æ®‹å·® vs å¹´é¾„\",\n        subtitle = \"æ£€éªŒå¹´é¾„ä¸é£é™©çš„çº¿æ€§å…³ç³»\",\n        x = \"å¹´é¾„\",\n        y = \"Martingale æ®‹å·®\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n# Deviance æ®‹å·®ï¼ˆæ£€æµ‹å¼‚å¸¸å€¼ï¼‰\ncancer_data$resid_deviance &lt;- residuals(cox_full, type = \"deviance\")\n\nggplot(cancer_data, aes(x = seq_along(resid_deviance), y = resid_deviance)) +\n    geom_point(alpha = 0.5) +\n    geom_hline(yintercept = c(-2, 2), linetype = \"dashed\", color = \"red\") +\n    labs(\n        title = \"Deviance æ®‹å·®\",\n        subtitle = \"è¶…è¿‡ Â±2 å¯èƒ½æ˜¯å¼‚å¸¸å€¼\",\n        x = \"è§‚æµ‹åºå·\",\n        y = \"Deviance æ®‹å·®\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nå½±å“è¯Šæ–­\n\n# dfbetaï¼ˆå½±å“åˆ†æï¼‰\ndfbeta_res &lt;- residuals(cox_full, type = \"dfbeta\")\n\n# ç»‘åˆ¶ç¬¬ä¸€ä¸ªå˜é‡ï¼ˆageï¼‰çš„ dfbeta\nplot_data &lt;- tibble(\n    index = 1:nrow(cancer_data),\n    dfbeta_age = dfbeta_res[, 1] # ä½¿ç”¨åˆ—ç´¢å¼•\n)\n\nggplot(plot_data, aes(x = index, y = dfbeta_age)) +\n    geom_point(alpha = 0.5) +\n    geom_hline(yintercept = 0, linetype = \"dashed\") +\n    labs(\n        title = \"å¹´é¾„ç³»æ•°çš„å½±å“è¯Šæ–­\",\n        x = \"è§‚æµ‹åºå·\",\n        y = \"dfbeta\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#é¢„åé¢„æµ‹",
    "href": "1020-survival.html#é¢„åé¢„æµ‹",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "é¢„åé¢„æµ‹",
    "text": "é¢„åé¢„æµ‹\n\nè°ƒæ•´ç”Ÿå­˜æ›²çº¿\n\n# æ ¹æ® Cox æ¨¡å‹ç»‘åˆ¶è°ƒæ•´åçš„ç”Ÿå­˜æ›²çº¿\nadjusted_surv &lt;- survfit(cox_full,\n    newdata = data.frame(\n        age = c(50, 50),\n        sex = factor(c(\"ç”·\", \"ç”·\"), levels = levels(cancer_data$sex)),\n        stage = factor(c(\"II\", \"II\"), levels = levels(cancer_data$stage)),\n        treatment = factor(c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ–¹æ¡ˆ\"),\n            levels = levels(cancer_data$treatment)\n        ),\n        ecog = c(1, 1)\n    )\n)\n\n# ç»‘åˆ¶è°ƒæ•´åç”Ÿå­˜æ›²çº¿\nggsurvplot(\n    adjusted_surv,\n    data = cancer_data,\n    conf.int = TRUE,\n    palette = c(\"#4f46e5\", \"#10b981\"),\n    legend.labs = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ–¹æ¡ˆ\"),\n    legend.title = \"æ²»ç–—æ–¹æ¡ˆ\",\n    xlab = \"æ—¶é—´ (æœˆ)\",\n    ylab = \"ç”Ÿå­˜æ¦‚ç‡\",\n    title = \"è°ƒæ•´åçš„ç”Ÿå­˜æ›²çº¿ï¼ˆå¹´é¾„50ï¼Œç”·æ€§ï¼ŒIIæœŸï¼ŒECOG=1ï¼‰\"\n)\n\n\n\n\n\n\n\n\n\n\nä¸ªä½“é£é™©è¯„åˆ†\n\n# è®¡ç®—çº¿æ€§é¢„æµ‹å€¼ï¼ˆé£é™©è¯„åˆ†ï¼‰\ncancer_data$risk_score &lt;- predict(cox_full, type = \"lp\")\n\n# æ ¹æ®é£é™©è¯„åˆ†åˆ†ç»„\ncancer_data &lt;- cancer_data |&gt;\n    mutate(\n        risk_group = cut(risk_score,\n            breaks = quantile(risk_score, c(0, 0.33, 0.67, 1)),\n            labels = c(\"ä½é£é™©\", \"ä¸­é£é™©\", \"é«˜é£é™©\"),\n            include.lowest = TRUE\n        )\n    )\n\n# ç»˜åˆ¶é£é™©åˆ†å±‚ç”Ÿå­˜æ›²çº¿\nkm_risk &lt;- survfit(Surv(time, status) ~ risk_group, data = cancer_data)\n\nggsurvplot(\n    km_risk,\n    data = cancer_data,\n    pval = TRUE,\n    conf.int = TRUE,\n    risk.table = TRUE,\n    palette = c(\"#22c55e\", \"#f59e0b\", \"#ef4444\"),\n    legend.title = \"é£é™©åˆ†ç»„\",\n    xlab = \"æ—¶é—´ (æœˆ)\",\n    ylab = \"ç”Ÿå­˜æ¦‚ç‡\",\n    title = \"åŸºäº Cox æ¨¡å‹çš„é£é™©åˆ†å±‚\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#ç«äº‰é£é™©åˆ†æ",
    "href": "1020-survival.html#ç«äº‰é£é™©åˆ†æ",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ç«äº‰é£é™©åˆ†æ",
    "text": "ç«äº‰é£é™©åˆ†æ\nå½“å­˜åœ¨å¤šç§äº‹ä»¶ç±»å‹æ—¶ï¼Œéœ€è¦è€ƒè™‘ç«äº‰é£é™©ã€‚\n\n# æ¨¡æ‹Ÿç«äº‰é£é™©æ•°æ®\nset.seed(42)\ncompeting_data &lt;- cancer_data |&gt;\n    mutate(\n        # äº‹ä»¶ç±»å‹ï¼š1=è‚¿ç˜¤æ­»äº¡ï¼Œ2=å…¶ä»–æ­»äº¡ï¼Œ0=åˆ å¤±\n        event_type = case_when(\n            status == 0 ~ 0,\n            rbinom(n(), 1, 0.7) == 1 ~ 1, # 70% è‚¿ç˜¤æ­»äº¡\n            TRUE ~ 2 # 30% å…¶ä»–æ­»äº¡\n        )\n    )\n\ntable(competing_data$event_type)\n\n\n  0   1   2 \n 83 295 122 \n\n\n\n# ä½¿ç”¨ tidycmprsk åŒ…ï¼ˆå¦‚å·²å®‰è£…ï¼‰\n# library(tidycmprsk)\n# cuminc(Surv(time, as.factor(event_type)) ~ treatment, data = competing_data)\n\n# æˆ–ä½¿ç”¨ cmprsk åŒ…\nlibrary(cmprsk)\n\n# ç´¯ç§¯å‘ç—…å‡½æ•°\ncif &lt;- cuminc(\n    ftime = competing_data$time,\n    fstatus = competing_data$event_type,\n    group = competing_data$treatment\n)\n\n# å¯è§†åŒ–\nplot(cif,\n    xlab = \"æ—¶é—´ (æœˆ)\", ylab = \"ç´¯ç§¯å‘ç—…ç‡\",\n    main = \"ç«äº‰é£é™©ç´¯ç§¯å‘ç—…æ›²çº¿\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#å‚æ•°ç”Ÿå­˜æ¨¡å‹",
    "href": "1020-survival.html#å‚æ•°ç”Ÿå­˜æ¨¡å‹",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å‚æ•°ç”Ÿå­˜æ¨¡å‹",
    "text": "å‚æ•°ç”Ÿå­˜æ¨¡å‹\né™¤ Cox æ¨¡å‹å¤–ï¼Œè¿˜å¯ä½¿ç”¨å‚æ•°æ¨¡å‹ï¼š\n\n# æŒ‡æ•°æ¨¡å‹\nsurv_exp &lt;- survreg(Surv(time, status) ~ age + sex + stage + treatment,\n    data = cancer_data, dist = \"exponential\"\n)\n\n# Weibull æ¨¡å‹\nsurv_weibull &lt;- survreg(Surv(time, status) ~ age + sex + stage + treatment,\n    data = cancer_data, dist = \"weibull\"\n)\n\n# å¯¹æ•°æ­£æ€æ¨¡å‹\nsurv_lognormal &lt;- survreg(Surv(time, status) ~ age + sex + stage + treatment,\n    data = cancer_data, dist = \"lognormal\"\n)\n\n# æ¯”è¾ƒæ¨¡å‹\nAIC(surv_exp, surv_weibull, surv_lognormal)\n\n               df      AIC\nsurv_exp        7 3124.892\nsurv_weibull    8 3102.135\nsurv_lognormal  8 3128.699",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1020-survival.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. åˆ å¤±ç±»å‹\n\n\n\n\n\n\n\n\nåˆ å¤±ç±»å‹\nå®šä¹‰\nå¤„ç†æ–¹æ³•\n\n\n\n\nå³åˆ å¤±\näº‹ä»¶å‘ç”Ÿåœ¨è§‚å¯ŸæœŸå\næ ‡å‡†æ–¹æ³•é€‚ç”¨\n\n\nå·¦åˆ å¤±\näº‹ä»¶å‘ç”Ÿåœ¨è§‚å¯ŸæœŸå‰\néœ€è¦ç‰¹æ®Šæ–¹æ³•\n\n\nåŒºé—´åˆ å¤±\näº‹ä»¶å‘ç”Ÿåœ¨ä¸¤æ¬¡è§‚å¯Ÿä¹‹é—´\nsurvival::Surv(..., type=\"interval\")\n\n\n\n\n\n2. è¿å PH å‡è®¾\n\n# è§£å†³æ–¹æ¡ˆ\n# 1. åˆ†å±‚åˆ†æ\ncoxph(Surv(time, status) ~ x1 + strata(x2), data = data)\n\n# 2. æ—¶é—´ä¾èµ–åå˜é‡\ncoxph(Surv(time, status) ~ x1 + x1:log(time), data = data)\n\n# 3. åŠ é€Ÿå¤±æ•ˆæ—¶é—´æ¨¡å‹\nsurvreg(Surv(time, status) ~ x1 + x2, data = data, dist = \"weibull\")\n\n\n\n3. æ—¶é—´ä¾èµ–åå˜é‡\n\n# å¤„ç†éšæ—¶é—´å˜åŒ–çš„åå˜é‡\n# éœ€è¦è½¬æ¢ä¸ºè®¡æ•°è¿‡ç¨‹æ ¼å¼\nlibrary(survival)\ntmerge(data, data, id = id, event = event(tstop, status)) |&gt;\n    tmerge(..., tdc(time_of_change, new_value))\n\n\n\n4. æ ·æœ¬é‡è®¡ç®—\n\n# è®¡ç®—æ‰€éœ€æ ·æœ¬é‡\nlibrary(powerSurvEpi)\n\n# ç¤ºä¾‹ï¼šæ£€æµ‹ HR = 0.7 çš„å·®å¼‚\n# ssizeCT(\n#   power = 0.8,\n#   k = 1,          # ä¸¤ç»„æ¯”ä¾‹ 1:1\n#   pE = 0.3,       # å¯¹ç…§ç»„äº‹ä»¶ç‡\n#   pC = 0.3,\n#   RR = 0.7,       # é£é™©æ¯”\n#   alpha = 0.05\n# )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1020-survival.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== ç”Ÿå­˜åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(survival)\nlibrary(survminer)\n\n# 1. KM æ›²çº¿\nkm_fit &lt;- survfit(Surv(time, status) ~ group, data = data)\nggsurvplot(km_fit, data = data, pval = TRUE, risk.table = TRUE)\n\n# 2. Log-rank æ£€éªŒ\nsurvdiff(Surv(time, status) ~ group, data = data)\n\n# 3. Cox å›å½’\ncox_model &lt;- coxph(Surv(time, status) ~ x1 + x2 + x3, data = data)\nsummary(cox_model)\n\n# 4. PH å‡è®¾æ£€éªŒ\ncox.zph(cox_model)\n\n# 5. æ£®æ—å›¾\nggforest(cox_model, data = data)\n\n# 6. ç»“æœè¡¨æ ¼\ntbl_regression(cox_model, exponentiate = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1020-survival.html#æ€»ç»“",
    "href": "1020-survival.html#æ€»ç»“",
    "title": "ç”Ÿå­˜åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåˆ†æç›®çš„\næ–¹æ³•\nR å‡½æ•°\n\n\n\n\næè¿°ç”Ÿå­˜æƒ…å†µ\nKaplan-Meier\nsurvfit()\n\n\nç»„é—´æ¯”è¾ƒ\nLog-rank æ£€éªŒ\nsurvdiff()\n\n\nå¤šå› ç´ åˆ†æ\nCox å›å½’\ncoxph()\n\n\nå¯è§†åŒ–\nç”Ÿå­˜æ›²çº¿\nsurvminer::ggsurvplot()\n\n\nå‡è®¾æ£€éªŒ\nPH å‡è®¾\ncox.zph()\n\n\n\n\næŠ¥å‘Šç”Ÿå­˜åˆ†æçš„ Checklist\n\næŠ¥å‘Šéšè®¿æ—¶é—´ï¼ˆä¸­ä½æ•°ã€èŒƒå›´ï¼‰\næŠ¥å‘Šäº‹ä»¶æ•°å’Œåˆ å¤±æ•°\næŠ¥å‘Šä¸­ä½ç”Ÿå­˜æ—¶é—´åŠ 95% CI\næŠ¥å‘Š 1 å¹´ã€3 å¹´ã€5 å¹´ç”Ÿå­˜ç‡\næä¾› KM æ›²çº¿å’Œé£é™©è¡¨\næŠ¥å‘Š Log-rank p å€¼\nCox æ¨¡å‹æŠ¥å‘Š HR åŠ 95% CI\næ£€éªŒ PH å‡è®¾\n\n\n\næ¨èé˜…è¯»\n\nKleinbaum DG, Klein M. Survival Analysis: A Self-Learning Text (3rd ed.)\nTherneau TM, Grambsch PM. Modeling Survival Data\nSTHDA ç”Ÿå­˜åˆ†ææ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç”Ÿå­˜åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html",
    "href": "1022-meta-analysis.html",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "Meta åˆ†æï¼ˆMeta-analysisï¼‰ æ˜¯ä¸€ç§ç³»ç»Ÿæ€§åœ°åˆå¹¶å¤šä¸ªç‹¬ç«‹ç ”ç©¶ç»“æœçš„ç»Ÿè®¡æ–¹æ³•ï¼Œé€šè¿‡ç»¼åˆç°æœ‰è¯æ®æ¥è·å¾—æ›´ç²¾ç¡®çš„æ•ˆåº”ä¼°è®¡å’Œæ›´å¯é çš„ç»“è®ºã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nä¸´åºŠè¯•éªŒç»¼åˆ\nåˆå¹¶å¤šä¸ª RCT è¯„ä¼°è¯ç‰©ç–—æ•ˆ\n\n\nè§‚å¯Ÿæ€§ç ”ç©¶\nç»¼åˆé˜Ÿåˆ—ç ”ç©¶è¯„ä¼°æš´éœ²é£é™©\n\n\nè¯Šæ–­å‡†ç¡®æ€§\nåˆå¹¶å¤šä¸ªè¯Šæ–­è¯•éªŒçš„æ•æ„Ÿåº¦/ç‰¹å¼‚åº¦\n\n\næ•ˆåº”éªŒè¯\nè§£å†³å•ä¸ªç ”ç©¶ç»“è®ºä¸ä¸€è‡´é—®é¢˜\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\næ•ˆåº”é‡\næ ‡å‡†åŒ–çš„æ•ˆåº”æŒ‡æ ‡ï¼ˆOR, RR, SMD, MD ç­‰ï¼‰\n\n\næƒé‡\nå„ç ”ç©¶å¯¹åˆå¹¶æ•ˆåº”çš„è´¡çŒ®ï¼ˆé€šå¸¸åŸºäºæ–¹å·®å€’æ•°ï¼‰\n\n\nå¼‚è´¨æ€§\nå„ç ”ç©¶æ•ˆåº”ä¹‹é—´çš„å˜å¼‚ç¨‹åº¦\n\n\nå›ºå®šæ•ˆåº”æ¨¡å‹\nå‡è®¾æ‰€æœ‰ç ”ç©¶ä¼°è®¡åŒä¸€ä¸ªçœŸå®æ•ˆåº”\n\n\néšæœºæ•ˆåº”æ¨¡å‹\nå‡è®¾å„ç ”ç©¶çš„çœŸå®æ•ˆåº”å­˜åœ¨å˜å¼‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#ä»€ä¹ˆæ˜¯-meta-åˆ†æ",
    "href": "1022-meta-analysis.html#ä»€ä¹ˆæ˜¯-meta-åˆ†æ",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "Meta åˆ†æï¼ˆMeta-analysisï¼‰ æ˜¯ä¸€ç§ç³»ç»Ÿæ€§åœ°åˆå¹¶å¤šä¸ªç‹¬ç«‹ç ”ç©¶ç»“æœçš„ç»Ÿè®¡æ–¹æ³•ï¼Œé€šè¿‡ç»¼åˆç°æœ‰è¯æ®æ¥è·å¾—æ›´ç²¾ç¡®çš„æ•ˆåº”ä¼°è®¡å’Œæ›´å¯é çš„ç»“è®ºã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nä¸´åºŠè¯•éªŒç»¼åˆ\nåˆå¹¶å¤šä¸ª RCT è¯„ä¼°è¯ç‰©ç–—æ•ˆ\n\n\nè§‚å¯Ÿæ€§ç ”ç©¶\nç»¼åˆé˜Ÿåˆ—ç ”ç©¶è¯„ä¼°æš´éœ²é£é™©\n\n\nè¯Šæ–­å‡†ç¡®æ€§\nåˆå¹¶å¤šä¸ªè¯Šæ–­è¯•éªŒçš„æ•æ„Ÿåº¦/ç‰¹å¼‚åº¦\n\n\næ•ˆåº”éªŒè¯\nè§£å†³å•ä¸ªç ”ç©¶ç»“è®ºä¸ä¸€è‡´é—®é¢˜\n\n\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\næ•ˆåº”é‡\næ ‡å‡†åŒ–çš„æ•ˆåº”æŒ‡æ ‡ï¼ˆOR, RR, SMD, MD ç­‰ï¼‰\n\n\næƒé‡\nå„ç ”ç©¶å¯¹åˆå¹¶æ•ˆåº”çš„è´¡çŒ®ï¼ˆé€šå¸¸åŸºäºæ–¹å·®å€’æ•°ï¼‰\n\n\nå¼‚è´¨æ€§\nå„ç ”ç©¶æ•ˆåº”ä¹‹é—´çš„å˜å¼‚ç¨‹åº¦\n\n\nå›ºå®šæ•ˆåº”æ¨¡å‹\nå‡è®¾æ‰€æœ‰ç ”ç©¶ä¼°è®¡åŒä¸€ä¸ªçœŸå®æ•ˆåº”\n\n\néšæœºæ•ˆåº”æ¨¡å‹\nå‡è®¾å„ç ”ç©¶çš„çœŸå®æ•ˆåº”å­˜åœ¨å˜å¼‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1022-meta-analysis.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(meta) # Meta åˆ†æä¸»åŠ›åŒ…\nlibrary(metafor) # æ›´å¼ºå¤§çš„ Meta åˆ†æåŒ…\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(ggplot2) # å¯è§†åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#æ•°æ®å‡†å¤‡",
    "href": "1022-meta-analysis.html#æ•°æ®å‡†å¤‡",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\n\näºŒåˆ†ç±»ç»“å±€ï¼ˆOR/RRï¼‰\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šæŸè¯ç‰©é¢„é˜²å¿ƒè¡€ç®¡äº‹ä»¶çš„ RCT\nset.seed(2024)\n\ncvd_studies &lt;- tibble(\n  study = paste0(\"Study \", 1:12),\n  year = sample(2015:2023, 12, replace = TRUE),\n  n_treat = sample(100:500, 12, replace = TRUE),\n  n_control = sample(100:500, 12, replace = TRUE)\n) |&gt;\n  mutate(\n    # çœŸå®æ•ˆåº” OR â‰ˆ 0.7ï¼Œå„ç ”ç©¶æœ‰éšæœºå˜å¼‚\n    true_or = 0.7 * exp(rnorm(12, 0, 0.15)),\n    p_control = runif(12, 0.10, 0.25),\n    p_treat = p_control * true_or / (1 - p_control + p_control * true_or),\n\n    # äº‹ä»¶æ•°\n    event_treat = rbinom(12, n_treat, p_treat),\n    event_control = rbinom(12, n_control, p_control),\n\n    # éäº‹ä»¶æ•°\n    nonevent_treat = n_treat - event_treat,\n    nonevent_control = n_control - event_control\n  ) |&gt;\n  select(\n    study, year, event_treat, nonevent_treat, event_control, nonevent_control,\n    n_treat, n_control\n  )\n\ncvd_studies\n\n# A tibble: 12 Ã— 8\n   study  year event_treat nonevent_treat event_control nonevent_control n_treat\n   &lt;chr&gt; &lt;int&gt;       &lt;int&gt;          &lt;int&gt;         &lt;int&gt;            &lt;int&gt;   &lt;int&gt;\n 1 Studâ€¦  2016          61            322            47              187     383\n 2 Studâ€¦  2019          68            335            79              356     403\n 3 Studâ€¦  2015          51            264            75              236     315\n 4 Studâ€¦  2023          28            155            84              338     183\n 5 Studâ€¦  2016          30            409            47              333     439\n 6 Studâ€¦  2016          89            382            86              303     471\n 7 Studâ€¦  2016          26            349            40              276     375\n 8 Studâ€¦  2019          33            153            92              320     186\n 9 Studâ€¦  2015          31            256            70              334     287\n10 Studâ€¦  2017          37            168            93              316     205\n11 Studâ€¦  2023          57            422            92              353     479\n12 Studâ€¦  2015          43            444            29              201     487\n# â„¹ 1 more variable: n_control &lt;int&gt;\n\n\n\n\nè¿ç»­å‹ç»“å±€ï¼ˆMD/SMDï¼‰\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šæŸå¹²é¢„å¯¹è¡€å‹çš„å½±å“\nbp_studies &lt;- tibble(\n  study = paste0(\"Trial \", LETTERS[1:10]),\n  year = sample(2018:2024, 10, replace = TRUE),\n  n_treat = sample(30:150, 10, replace = TRUE),\n  n_control = sample(30:150, 10, replace = TRUE)\n) |&gt;\n  mutate(\n    # çœŸå®æ•ˆåº”ï¼šé™å‹ 5 mmHgï¼ŒSD â‰ˆ 12\n    true_md = 5 + rnorm(10, 0, 1.5),\n    mean_control = 140 + rnorm(10, 0, 3),\n    mean_treat = mean_control - true_md,\n    sd_treat = 10 + runif(10, 0, 5),\n    sd_control = 10 + runif(10, 0, 5)\n  ) |&gt;\n  select(study, year, n_treat, mean_treat, sd_treat, n_control, mean_control, sd_control)\n\nbp_studies\n\n# A tibble: 10 Ã— 8\n   study    year n_treat mean_treat sd_treat n_control mean_control sd_control\n   &lt;chr&gt;   &lt;int&gt;   &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;     &lt;int&gt;        &lt;dbl&gt;      &lt;dbl&gt;\n 1 Trial A  2022     121       139.     10.2        60         141.       12.0\n 2 Trial B  2023     114       136.     10.9        70         139.       10.2\n 3 Trial C  2023      63       140.     14.9        51         143.       11.9\n 4 Trial D  2018     142       133.     11.4        50         138.       12.0\n 5 Trial E  2019     148       130.     13.5        47         137.       10.5\n 6 Trial F  2020      85       128.     14.7        31         136.       10.7\n 7 Trial G  2022      50       138.     12.0        42         143.       12.1\n 8 Trial H  2022      65       131.     10.7       103         138.       14.1\n 9 Trial I  2019      93       135.     14.1        94         140.       11.2\n10 Trial J  2022     109       135.     14.7        80         138.       14.0",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#äºŒåˆ†ç±»ç»“å±€-meta-åˆ†æ",
    "href": "1022-meta-analysis.html#äºŒåˆ†ç±»ç»“å±€-meta-åˆ†æ",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "äºŒåˆ†ç±»ç»“å±€ Meta åˆ†æ",
    "text": "äºŒåˆ†ç±»ç»“å±€ Meta åˆ†æ\n\nè®¡ç®—æ•ˆåº”é‡\n\n# ä½¿ç”¨ meta åŒ…è¿›è¡ŒäºŒåˆ†ç±» Meta åˆ†æ\nmeta_or &lt;- metabin(\n  event.e = event_treat,\n  n.e = n_treat,\n  event.c = event_control,\n  n.c = n_control,\n  studlab = study,\n  data = cvd_studies,\n  sm = \"OR\", # æ•ˆåº”æŒ‡æ ‡ï¼šOR\n  method = \"MH\", # Mantel-Haenszel æ–¹æ³•\n  random = TRUE, # éšæœºæ•ˆåº”æ¨¡å‹\n  fixed = TRUE, # åŒæ—¶è®¡ç®—å›ºå®šæ•ˆåº”\n  title = \"CVD é¢„é˜²è¯ç‰©ç–—æ•ˆ Meta åˆ†æ\"\n)\n\n# æŸ¥çœ‹ç»“æœ\nsummary(meta_or)\n\nReview:     CVD é¢„é˜²è¯ç‰©ç–—æ•ˆ Meta åˆ†æ\n\n             OR           95%-CI %W(common) %W(random)\nStudy 1  0.7537 [0.4948; 1.1482]        7.5        8.2\nStudy 2  0.9147 [0.6402; 1.3070]        9.7       11.3\nStudy 3  0.6079 [0.4088; 0.9039]        9.7        9.2\nStudy 4  0.7269 [0.4552; 1.1607]        6.6        6.7\nStudy 5  0.5197 [0.3215; 0.8401]        7.2        6.4\nStudy 6  0.8209 [0.5887; 1.1447]       11.7       12.9\nStudy 7  0.5140 [0.3061; 0.8632]        6.2        5.5\nStudy 8  0.7502 [0.4822; 1.1671]        7.2        7.5\nStudy 9  0.5778 [0.3673; 0.9090]        8.0        7.1\nStudy 10 0.7483 [0.4895; 1.1440]        7.8        8.1\nStudy 11 0.5183 [0.3618; 0.7424]       12.9       11.1\nStudy 12 0.6712 [0.4073; 1.1062]        5.5        5.9\n\nNumber of studies: k = 12\nNumber of observations: o = 8600 (o.e = 4213, o.c = 4387)\nNumber of events: e = 1388\n\n                         OR           95%-CI     z  p-value\nCommon effect model  0.6800 [0.6030; 0.7669] -6.29 &lt; 0.0001\nRandom effects model 0.6802 [0.6013; 0.7694] -6.13 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0019 [0.0000; 0.0647]; tau = 0.0436 [0.0000; 0.2544]\n I^2 = 0.0% [0.0%; 58.3%]; H = 1.00 [1.00; 1.55]\n\nTest of heterogeneity:\n    Q d.f. p-value\n 9.90   11  0.5395\n\nDetails of meta-analysis methods:\n- Mantel-Haenszel method (common effect model)\n- Inverse variance method (random effects model)\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n\n\n\n\næ£®æ—å›¾\n\n# ç»‘åˆ¶æ£®æ—å›¾\nforest(meta_or,\n  sortvar = year, # æŒ‰å¹´ä»½æ’åº\n  prediction = TRUE, # é¢„æµ‹åŒºé—´\n  print.tau2 = TRUE, # æ˜¾ç¤º Ï„Â²\n  leftcols = c(\"studlab\", \"event.e\", \"n.e\", \"event.c\", \"n.c\"),\n  leftlabs = c(\"ç ”ç©¶\", \"äº‹ä»¶(æ²»ç–—)\", \"n(æ²»ç–—)\", \"äº‹ä»¶(å¯¹ç…§)\", \"n(å¯¹ç…§)\"),\n  rightcols = c(\"effect\", \"ci\"),\n  rightlabs = c(\"OR\", \"95% CI\"),\n  col.diamond = \"#4f46e5\",\n  col.diamond.lines = \"#4f46e5\",\n  col.predict = \"#10b981\"\n)\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ metafor åŒ…\n\n# ä½¿ç”¨ metafor è¿›è¡Œæ›´çµæ´»çš„åˆ†æ\nlibrary(metafor)\n\n# è®¡ç®—å¯¹æ•° OR åŠå…¶æ–¹å·®\ncvd_es &lt;- escalc(\n  measure = \"OR\",\n  ai = event_treat, bi = nonevent_treat,\n  ci = event_control, di = nonevent_control,\n  data = cvd_studies\n)\n\n# éšæœºæ•ˆåº”æ¨¡å‹ï¼ˆREML ä¼°è®¡ï¼‰\nres_or &lt;- rma(yi, vi, data = cvd_es, method = \"REML\")\nsummary(res_or)\n\n\nRandom-Effects Model (k = 12; tau^2 estimator: REML)\n\n  logLik  deviance       AIC       BIC      AICc   \n  1.7312   -3.4624    0.5376    1.3334    2.0376   \n\ntau^2 (estimated amount of total heterogeneity): 0.0019 (SE = 0.0197)\ntau (square root of estimated tau^2 value):      0.0436\nI^2 (total heterogeneity / total variability):   3.99%\nH^2 (total variability / sampling variability):  1.04\n\nTest for Heterogeneity:\nQ(df = 11) = 9.8991, p-val = 0.5395\n\nModel Results:\n\nestimate      se     zval    pval    ci.lb    ci.ub      \n -0.3854  0.0629  -6.1296  &lt;.0001  -0.5087  -0.2622  *** \n\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n# metafor æ£®æ—å›¾\nforest(res_or,\n  slab = cvd_studies$study,\n  header = c(\"ç ”ç©¶\", \"OR [95% CI]\"),\n  xlab = \"æ¯”å€¼æ¯” (OR)\",\n  atransf = exp, # è½¬æ¢å› OR å°ºåº¦\n  at = log(c(0.25, 0.5, 1, 2)),\n  refline = 0,\n  col = \"#4f46e5\",\n  border = \"#4f46e5\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#è¿ç»­å‹ç»“å±€-meta-åˆ†æ",
    "href": "1022-meta-analysis.html#è¿ç»­å‹ç»“å±€-meta-åˆ†æ",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "è¿ç»­å‹ç»“å±€ Meta åˆ†æ",
    "text": "è¿ç»­å‹ç»“å±€ Meta åˆ†æ\n\nå‡å€¼å·® (MD)\n\n# è¿ç»­å‹ç»“å±€ Meta åˆ†æ\nmeta_md &lt;- metacont(\n  n.e = n_treat,\n  mean.e = mean_treat,\n  sd.e = sd_treat,\n  n.c = n_control,\n  mean.c = mean_control,\n  sd.c = sd_control,\n  studlab = study,\n  data = bp_studies,\n  sm = \"MD\", # å‡å€¼å·®\n  random = TRUE,\n  fixed = TRUE,\n  title = \"é™å‹å¹²é¢„æ•ˆæœ Meta åˆ†æ\"\n)\n\nsummary(meta_md)\n\nReview:     é™å‹å¹²é¢„æ•ˆæœ Meta åˆ†æ\n\n             MD              95%-CI %W(common) %W(random)\nTrial A -1.9012 [ -5.4320;  1.6296]       12.3       12.3\nTrial B -3.2513 [ -6.3674; -0.1351]       15.8       15.8\nTrial C -3.2311 [ -8.1351;  1.6729]        6.4        6.4\nTrial D -4.9554 [ -8.7855; -1.1252]       10.4       10.4\nTrial E -6.7273 [-10.4307; -3.0238]       11.2       11.2\nTrial F -8.3130 [-13.2050; -3.4210]        6.4        6.4\nTrial G -5.6602 [-10.6033; -0.7171]        6.3        6.3\nTrial H -6.5647 [-10.3338; -2.7957]       10.8       10.8\nTrial I -5.1885 [ -8.8380; -1.5391]       11.5       11.5\nTrial J -3.1021 [ -7.2217;  1.0174]        9.0        9.0\n\nNumber of studies: k = 10\nNumber of observations: o = 1618 (o.e = 990, o.c = 628)\n\n                          MD             95%-CI     z  p-value\nCommon effect model  -4.6916 [-5.9291; -3.4541] -7.43 &lt; 0.0001\nRandom effects model -4.6916 [-5.9291; -3.4541] -7.43 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0 [0.0000; 8.9142]; tau = 0 [0.0000; 2.9857]\n I^2 = 0.0% [0.0%; 62.4%]; H = 1.00 [1.00; 1.63]\n\nTest of heterogeneity:\n    Q d.f. p-value\n 8.58    9  0.4765\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n\n\n\n# æ£®æ—å›¾\nforest(meta_md,\n  sortvar = year,\n  prediction = TRUE,\n  print.tau2 = TRUE,\n  leftcols = c(\"studlab\", \"n.e\", \"mean.e\", \"n.c\", \"mean.c\"),\n  leftlabs = c(\"ç ”ç©¶\", \"n(æ²»ç–—)\", \"å‡å€¼(æ²»ç–—)\", \"n(å¯¹ç…§)\", \"å‡å€¼(å¯¹ç…§)\"),\n  xlab = \"å‡å€¼å·® (mmHg)\",\n  smlab = \"å¹²é¢„ç»„æ›´ä¼˜ â† â†’ å¯¹ç…§ç»„æ›´ä¼˜\",\n  col.diamond = \"#10b981\",\n  col.diamond.lines = \"#10b981\"\n)\n\n\n\n\n\n\n\n\n\n\næ ‡å‡†åŒ–å‡å€¼å·® (SMD)\nå½“å„ç ”ç©¶ä½¿ç”¨ä¸åŒæµ‹é‡å·¥å…·æ—¶ï¼Œä½¿ç”¨ SMDï¼š\n\n# SMD åˆ†æ\nmeta_smd &lt;- metacont(\n  n.e = n_treat,\n  mean.e = mean_treat,\n  sd.e = sd_treat,\n  n.c = n_control,\n  mean.c = mean_control,\n  sd.c = sd_control,\n  studlab = study,\n  data = bp_studies,\n  sm = \"SMD\", # æ ‡å‡†åŒ–å‡å€¼å·®ï¼ˆHedges' gï¼‰\n  method.smd = \"Hedges\",\n  random = TRUE\n)\n\nsummary(meta_smd)\n\n            SMD             95%-CI %W(common) %W(random)\nTrial A -0.1753 [-0.4853;  0.1347]       11.2       11.2\nTrial B -0.3043 [-0.6036; -0.0051]       12.0       12.0\nTrial C -0.2360 [-0.6065;  0.1345]        7.9        7.9\nTrial D -0.4259 [-0.7510; -0.1007]       10.2       10.2\nTrial E -0.5214 [-0.8537; -0.1891]        9.8        9.8\nTrial F -0.6016 [-1.0203; -0.1829]        6.1        6.1\nTrial G -0.4663 [-0.8822; -0.0503]        6.2        6.2\nTrial H -0.5063 [-0.8216; -0.1910]       10.8       10.8\nTrial I -0.4064 [-0.6960; -0.1167]       12.8       12.8\nTrial J -0.2148 [-0.5041;  0.0746]       12.9       12.9\n\nNumber of studies: k = 10\nNumber of observations: o = 1618 (o.e = 990, o.c = 628)\n\n                         SMD             95%-CI     z  p-value\nCommon effect model  -0.3699 [-0.4737; -0.2661] -6.98 &lt; 0.0001\nRandom effects model -0.3699 [-0.4737; -0.2661] -6.98 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0 [0.0000; 0.0396]; tau = 0 [0.0000; 0.1991]\n I^2 = 0.0% [0.0%; 62.4%]; H = 1.00 [1.00; 1.63]\n\nTest of heterogeneity:\n    Q d.f. p-value\n 6.38    9  0.7016\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hedges' g (bias corrected standardised mean difference; using exact formulae)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#å¼‚è´¨æ€§è¯„ä¼°",
    "href": "1022-meta-analysis.html#å¼‚è´¨æ€§è¯„ä¼°",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¼‚è´¨æ€§è¯„ä¼°",
    "text": "å¼‚è´¨æ€§è¯„ä¼°\n\nå¼‚è´¨æ€§æŒ‡æ ‡\n\n\n\næŒ‡æ ‡\nè§£è¯»\n\n\n\n\nQ ç»Ÿè®¡é‡\næ£€éªŒå¼‚è´¨æ€§æ˜¯å¦å­˜åœ¨ï¼ˆp &lt; 0.1 æç¤ºå¼‚è´¨æ€§ï¼‰\n\n\nIÂ²\nå¼‚è´¨æ€§å æ€»å˜å¼‚çš„æ¯”ä¾‹ï¼ˆ25%ä½, 50%ä¸­, 75%é«˜ï¼‰\n\n\nÏ„Â²\nç ”ç©¶é—´æ–¹å·®ï¼ˆéšæœºæ•ˆåº”çš„æ–¹å·®åˆ†é‡ï¼‰\n\n\nHÂ²\næ€»å˜å¼‚/æŠ½æ ·è¯¯å·®å˜å¼‚\n\n\n\n\n# ä» meta å¯¹è±¡ä¸­æå–å¼‚è´¨æ€§æŒ‡æ ‡\ncat(\"Q ç»Ÿè®¡é‡:\", meta_or$Q, \", df =\", meta_or$df.Q, \", p =\", meta_or$pval.Q, \"\\n\")\n\nQ ç»Ÿè®¡é‡: 9.899119 , df = 11 , p = 0.5394837 \n\ncat(\"IÂ² =\", round(meta_or$I2 * 100, 1), \"%\\n\")\n\nIÂ² = 0 %\n\ncat(\"Ï„Â² =\", round(meta_or$tau2, 4), \"\\n\")\n\nÏ„Â² = 0.0019 \n\n\n\n\nå¯è§†åŒ–å¼‚è´¨æ€§\n\n# ä½¿ç”¨ metafor ç»‘åˆ¶ Baujat å›¾ï¼ˆè¯†åˆ«å¼‚è´¨æ€§æ¥æºï¼‰\nbaujat(res_or, main = \"Baujat å›¾ï¼šè¯†åˆ«å¼‚è´¨æ€§æ¥æº\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#äºšç»„åˆ†æ",
    "href": "1022-meta-analysis.html#äºšç»„åˆ†æ",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "äºšç»„åˆ†æ",
    "text": "äºšç»„åˆ†æ\n\n# æ·»åŠ äºšç»„å˜é‡\ncvd_studies &lt;- cvd_studies |&gt;\n  mutate(\n    sample_size = ifelse(n_treat + n_control &gt; 300, \"å¤§æ ·æœ¬\", \"å°æ ·æœ¬\"),\n    region = sample(c(\"äºšæ´²\", \"æ¬§ç¾\"), 12, replace = TRUE)\n  )\n\n# æŒ‰æ ·æœ¬é‡åˆ†ç»„çš„äºšç»„åˆ†æ\nmeta_subgroup &lt;- metabin(\n  event.e = event_treat,\n  n.e = n_treat,\n  event.c = event_control,\n  n.c = n_control,\n  studlab = study,\n  data = cvd_studies,\n  sm = \"OR\",\n  random = TRUE,\n  subgroup = sample_size, # äºšç»„å˜é‡\n  print.subgroup.name = TRUE\n)\n\nsummary(meta_subgroup)\n\n             OR           95%-CI %W(common) %W(random) sample_size\nStudy 1  0.7537 [0.4948; 1.1482]        7.5        8.2      å¤§æ ·æœ¬\nStudy 2  0.9147 [0.6402; 1.3070]        9.7       11.3      å¤§æ ·æœ¬\nStudy 3  0.6079 [0.4088; 0.9039]        9.7        9.2      å¤§æ ·æœ¬\nStudy 4  0.7269 [0.4552; 1.1607]        6.6        6.7      å¤§æ ·æœ¬\nStudy 5  0.5197 [0.3215; 0.8401]        7.2        6.4      å¤§æ ·æœ¬\nStudy 6  0.8209 [0.5887; 1.1447]       11.7       12.9      å¤§æ ·æœ¬\nStudy 7  0.5140 [0.3061; 0.8632]        6.2        5.5      å¤§æ ·æœ¬\nStudy 8  0.7502 [0.4822; 1.1671]        7.2        7.5      å¤§æ ·æœ¬\nStudy 9  0.5778 [0.3673; 0.9090]        8.0        7.1      å¤§æ ·æœ¬\nStudy 10 0.7483 [0.4895; 1.1440]        7.8        8.1      å¤§æ ·æœ¬\nStudy 11 0.5183 [0.3618; 0.7424]       12.9       11.1      å¤§æ ·æœ¬\nStudy 12 0.6712 [0.4073; 1.1062]        5.5        5.9      å¤§æ ·æœ¬\n\nNumber of studies: k = 12\nNumber of observations: o = 8600 (o.e = 4213, o.c = 4387)\nNumber of events: e = 1388\n\n                         OR           95%-CI     z  p-value\nCommon effect model  0.6800 [0.6030; 0.7669] -6.29 &lt; 0.0001\nRandom effects model 0.6802 [0.6013; 0.7694] -6.13 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0019 [0.0000; 0.0647]; tau = 0.0436 [0.0000; 0.2544]\n I^2 = 0.0% [0.0%; 58.3%]; H = 1.00 [1.00; 1.55]\n\nTest of heterogeneity:\n    Q d.f. p-value\n 9.90   11  0.5395\n\nResults for subgroups (common effect model):\n                       k     OR           95%-CI    Q  I^2\nsample_size = å¤§æ ·æœ¬  12 0.6800 [0.6030; 0.7669] 9.90 0.0%\n\nTest for subgroup differences (common effect model):\n                  Q d.f. p-value\nBetween groups 0.00    0      --\n\nResults for subgroups (random effects model):\n                       k     OR           95%-CI  tau^2    tau\nsample_size = å¤§æ ·æœ¬  12 0.6802 [0.6013; 0.7694] 0.0019 0.0436\n\nTest for subgroup differences (random effects model):\n                  Q d.f. p-value\nBetween groups 0.00    0      --\n\nDetails of meta-analysis methods:\n- Mantel-Haenszel method (common effect model)\n- Inverse variance method (random effects model)\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n\n\n\n# äºšç»„æ£®æ—å›¾\nforest(meta_subgroup,\n  sortvar = year,\n  print.subgroup.name = TRUE,\n  subgroup.name = \"æ ·æœ¬é‡åˆ†ç»„\",\n  col.diamond = \"#4f46e5\",\n  col.diamond.lines = \"#4f46e5\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#meta-å›å½’",
    "href": "1022-meta-analysis.html#meta-å›å½’",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "Meta å›å½’",
    "text": "Meta å›å½’\næ¢ç´¢å¼‚è´¨æ€§æ¥æºçš„å®šé‡æ–¹æ³•ï¼š\n\n# ä½¿ç”¨ metafor è¿›è¡Œ Meta å›å½’\ncvd_es &lt;- cvd_es |&gt;\n  mutate(\n    year = cvd_studies$year,\n    total_n = cvd_studies$n_treat + cvd_studies$n_control\n  )\n\n# Meta å›å½’ï¼šå¹´ä»½ä½œä¸ºè°ƒèŠ‚å˜é‡\nres_metareg &lt;- rma(yi, vi, mods = ~year, data = cvd_es, method = \"REML\")\nsummary(res_metareg)\n\n\nMixed-Effects Model (k = 12; tau^2 estimator: REML)\n\n  logLik  deviance       AIC       BIC      AICc   \n  1.1411   -2.2823    3.7177    4.6255    7.7177   \n\ntau^2 (estimated amount of residual heterogeneity):     0.0052 (SE = 0.0226)\ntau (square root of estimated tau^2 value):             0.0722\nI^2 (residual heterogeneity / unaccounted variability): 10.14%\nH^2 (unaccounted variability / sampling variability):   1.11\nR^2 (amount of heterogeneity accounted for):            0.00%\n\nTest for Residual Heterogeneity:\nQE(df = 10) = 9.8667, p-val = 0.4523\n\nTest of Moderators (coefficient 2):\nQM(df = 1) = 0.0151, p-val = 0.9022\n\nModel Results:\n\n         estimate       se     zval    pval     ci.lb    ci.ub    \nintrcpt    5.3484  46.6853   0.1146  0.9088  -86.1531  96.8500    \nyear      -0.0028   0.0231  -0.1229  0.9022   -0.0482   0.0425    \n\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n# å¯è§†åŒ– Meta å›å½’\nregplot(res_metareg,\n  xlab = \"å‘è¡¨å¹´ä»½\",\n  ylab = \"log(OR)\",\n  main = \"Meta å›å½’ï¼šå¹´ä»½ä¸æ•ˆåº”é‡å…³ç³»\",\n  col = \"#4f46e5\",\n  lcol = \"#ef4444\"\n)\n\n\n\n\n\n\n\n\n\n# å¤šå˜é‡ Meta å›å½’\nres_metareg2 &lt;- rma(yi, vi, mods = ~ year + total_n, data = cvd_es, method = \"REML\")\nsummary(res_metareg2)\n\n\nMixed-Effects Model (k = 12; tau^2 estimator: REML)\n\n  logLik  deviance       AIC       BIC      AICc   \n  0.5880   -1.1759    6.8241    7.6130   16.8241   \n\ntau^2 (estimated amount of residual heterogeneity):     0.0105 (SE = 0.0268)\ntau (square root of estimated tau^2 value):             0.1023\nI^2 (residual heterogeneity / unaccounted variability): 18.22%\nH^2 (unaccounted variability / sampling variability):   1.22\nR^2 (amount of heterogeneity accounted for):            0.00%\n\nTest for Residual Heterogeneity:\nQE(df = 9) = 9.8242, p-val = 0.3649\n\nTest of Moderators (coefficients 2:3):\nQM(df = 2) = 0.0690, p-val = 0.9661\n\nModel Results:\n\n         estimate       se     zval    pval     ci.lb     ci.ub    \nintrcpt    0.1601  51.0940   0.0031  0.9975  -99.9823  100.3025    \nyear      -0.0002   0.0254  -0.0085  0.9932   -0.0500    0.0495    \ntotal_n   -0.0002   0.0006  -0.2499  0.8027   -0.0014    0.0010    \n\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#å‘è¡¨åå€šè¯„ä¼°",
    "href": "1022-meta-analysis.html#å‘è¡¨åå€šè¯„ä¼°",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å‘è¡¨åå€šè¯„ä¼°",
    "text": "å‘è¡¨åå€šè¯„ä¼°\n\næ¼æ–—å›¾\n\n# åŸºç¡€æ¼æ–—å›¾\nfunnel(res_or,\n  main = \"æ¼æ–—å›¾\",\n  xlab = \"log(OR)\",\n  col = \"#4f46e5\",\n  pch = 19\n)\n\n\n\n\n\n\n\n\n\n# å¸¦ç­‰é«˜çº¿çš„æ¼æ–—å›¾\nfunnel(res_or,\n  level = c(90, 95, 99),\n  shade = c(\"white\", \"gray80\", \"gray60\"),\n  refline = 0,\n  main = \"æ¼æ–—å›¾ï¼ˆå¸¦ç½®ä¿¡åŒºé—´ï¼‰\"\n)\n\n\n\n\n\n\n\n\n\n\nEgger æ£€éªŒ\n\n# Egger çº¿æ€§å›å½’æ£€éªŒ\nregtest(res_or)\n\n\nRegression Test for Funnel Plot Asymmetry\n\nModel:     mixed-effects meta-regression model\nPredictor: standard error\n\nTest for Funnel Plot Asymmetry: z = -1.3452, p = 0.1786\nLimit Estimate (as sei -&gt; 0):   b =  0.2138 (CI: -0.6661, 1.0936)\n\n# p &lt; 0.05 æç¤ºå­˜åœ¨å‘è¡¨åå€š\n\n\n\nBegg æ£€éªŒ\n\n# Begg ç§©ç›¸å…³æ£€éªŒ\nranktest(res_or)\n\n\nRank Correlation Test for Funnel Plot Asymmetry\n\nKendall's tau = -0.4242, p = 0.0629\n\n\n\n\nå‰ªè¡¥æ³• (Trim and Fill)\n\n# å‰ªè¡¥æ³•ä¼°è®¡ç¼ºå¤±ç ”ç©¶\ntf_result &lt;- trimfill(res_or)\nsummary(tf_result)\n\n\nEstimated number of missing studies on the right side: 2 (SE = 2.3928)\n\nRandom-Effects Model (k = 14; tau^2 estimator: REML)\n\n  logLik  deviance       AIC       BIC      AICc   \n  0.3267   -0.6535    3.3465    4.4764    4.5465   \n\ntau^2 (estimated amount of total heterogeneity): 0.0115 (SE = 0.0222)\ntau (square root of estimated tau^2 value):      0.1074\nI^2 (total heterogeneity / total variability):   20.16%\nH^2 (total variability / sampling variability):  1.25\n\nTest for Heterogeneity:\nQ(df = 13) = 15.5142, p-val = 0.2764\n\nModel Results:\n\nestimate      se     zval    pval    ci.lb    ci.ub      \n -0.3338  0.0642  -5.1982  &lt;.0001  -0.4596  -0.2079  *** \n\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n# å‰ªè¡¥åçš„æ¼æ–—å›¾\nfunnel(tf_result,\n  main = \"å‰ªè¡¥æ³•æ¼æ–—å›¾\",\n  xlab = \"log(OR)\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#æ•æ„Ÿæ€§åˆ†æ",
    "href": "1022-meta-analysis.html#æ•æ„Ÿæ€§åˆ†æ",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•æ„Ÿæ€§åˆ†æ",
    "text": "æ•æ„Ÿæ€§åˆ†æ\n\né€ä¸€å‰”é™¤æ³•\n\n# Leave-one-out åˆ†æ\nloo_result &lt;- leave1out(res_or)\nprint(loo_result)\n\n\n    estimate     se    zval   pval   ci.lb   ci.ub      Q     Qp   tau2     I2 \n-1   -0.3961 0.0678 -5.8431 0.0000 -0.5290 -0.2633 9.6547 0.4713 0.0048 9.5850 \n-2   -0.4225 0.0653 -6.4651 0.0000 -0.5506 -0.2944 6.9302 0.7320 0.0000 0.0000 \n-3   -0.3751 0.0676 -5.5515 0.0000 -0.5075 -0.2427 9.5537 0.4805 0.0041 8.0519 \n-4   -0.3916 0.0671 -5.8327 0.0000 -0.5232 -0.2600 9.8186 0.4565 0.0047 9.4386 \n-5   -0.3666 0.0641 -5.7186 0.0000 -0.4923 -0.2410 8.6030 0.5701 0.0007 1.6251 \n-6   -0.4129 0.0665 -6.2102 0.0000 -0.5433 -0.2826 8.4995 0.5802 0.0007 1.3917 \n-7   -0.3688 0.0641 -5.7539 0.0000 -0.4945 -0.2432 8.7058 0.5602 0.0011 2.4771 \n-8   -0.3948 0.0674 -5.8539 0.0000 -0.5270 -0.2626 9.6989 0.4673 0.0047 9.4327 \n-9   -0.3733 0.0660 -5.6568 0.0000 -0.5027 -0.2440 9.3569 0.4986 0.0029 6.0337 \n-10  -0.3954 0.0678 -5.8323 0.0000 -0.5282 -0.2625 9.6918 0.4679 0.0049 9.6984 \n-11  -0.3499 0.0653 -5.3583 0.0000 -0.4778 -0.2219 7.4042 0.6868 0.0000 0.0000 \n-12  -0.3858 0.0666 -5.7892 0.0000 -0.5164 -0.2552 9.8958 0.4497 0.0044 8.9323 \n        H2 \n-1  1.1060 \n-2  1.0000 \n-3  1.0876 \n-4  1.1042 \n-5  1.0165 \n-6  1.0141 \n-7  1.0254 \n-8  1.1042 \n-9  1.0642 \n-10 1.1074 \n-11 1.0000 \n-12 1.0981 \n\n\n\n# å¯è§†åŒ–é€ä¸€å‰”é™¤å½±å“ï¼ˆéœ€è¦æ‰‹åŠ¨å¤„ç†æ•°æ®ï¼‰\n# ä½¿ç”¨ loo_result ä¸­çš„æ•°æ®ç»‘åˆ¶\nforest(loo_result,\n  xlab = \"æ¯”å€¼æ¯” (OR)\",\n  atransf = exp,\n  refline = exp(coef(res_or))\n)\n\n\n\nç´¯ç§¯ Meta åˆ†æ\n\n# æŒ‰å¹´ä»½ç´¯ç§¯ Meta åˆ†æ\ncvd_es_sorted &lt;- cvd_es[order(cvd_es$year), ]\nres_sorted &lt;- rma(yi, vi, data = cvd_es_sorted, method = \"REML\")\n\ncumul_result &lt;- cumul(res_sorted, order = cvd_es_sorted$year)\n\nforest(cumul_result,\n  header = c(\"ç´¯ç§¯ç ”ç©¶\", \"OR [95% CI]\"),\n  xlab = \"æ¯”å€¼æ¯” (OR)\",\n  atransf = exp,\n  refline = 1,\n  col = \"#10b981\",\n  main = \"ç´¯ç§¯ Meta åˆ†æ\"\n)\n\n\n\n\n\n\n\n\n\n\nå½±å“åˆ†æ\n\n# å½±å“è¯Šæ–­\ninf &lt;- influence(res_or)\n\nplot(inf, layout = c(4, 2))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#æ•ˆåº”æŒ‡æ ‡é€‰æ‹©",
    "href": "1022-meta-analysis.html#æ•ˆåº”æŒ‡æ ‡é€‰æ‹©",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•ˆåº”æŒ‡æ ‡é€‰æ‹©",
    "text": "æ•ˆåº”æŒ‡æ ‡é€‰æ‹©\n\näºŒåˆ†ç±»ç»“å±€\n\n\n\næŒ‡æ ‡\nä»£ç \né€‚ç”¨åœºæ™¯\n\n\n\n\næ¯”å€¼æ¯” OR\nsm = \"OR\"\nç—…ä¾‹å¯¹ç…§ç ”ç©¶ã€æ¨ªæ–­é¢\n\n\nç›¸å¯¹å±é™©åº¦ RR\nsm = \"RR\"\né˜Ÿåˆ—ç ”ç©¶ã€RCT\n\n\né£é™©å·® RD\nsm = \"RD\"\néœ€è¦ç»å¯¹æ•ˆåº”æ—¶\n\n\n\n\n\nè¿ç»­å‹ç»“å±€\n\n\n\næŒ‡æ ‡\nä»£ç \né€‚ç”¨åœºæ™¯\n\n\n\n\nå‡å€¼å·® MD\nsm = \"MD\"\nç›¸åŒæµ‹é‡å·¥å…·\n\n\næ ‡å‡†åŒ–å‡å€¼å·® SMD\nsm = \"SMD\"\nä¸åŒæµ‹é‡å·¥å…·\n\n\næ¯”ç‡å‡å€¼ ROM\nsm = \"ROM\"\næ¯”ä¾‹å˜åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#é«˜è´¨é‡å‡ºç‰ˆæ£®æ—å›¾",
    "href": "1022-meta-analysis.html#é«˜è´¨é‡å‡ºç‰ˆæ£®æ—å›¾",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "é«˜è´¨é‡å‡ºç‰ˆæ£®æ—å›¾",
    "text": "é«˜è´¨é‡å‡ºç‰ˆæ£®æ—å›¾\n\n# è‡ªå®šä¹‰é«˜è´¨é‡æ£®æ—å›¾\nforest(meta_or,\n  # æ’åº\n  sortvar = year,\n\n  # æ˜¾ç¤ºå†…å®¹\n  prediction = TRUE,\n  print.tau2 = TRUE,\n  print.I2 = TRUE,\n  print.pval.Q = TRUE,\n\n  # å·¦ä¾§åˆ—\n  leftcols = c(\"studlab\", \"year\", \"event.e\", \"n.e\", \"event.c\", \"n.c\"),\n  leftlabs = c(\"ç ”ç©¶\", \"å¹´ä»½\", \"äº‹ä»¶\", \"n\", \"äº‹ä»¶\", \"n\"),\n\n  # å³ä¾§åˆ—\n  rightcols = c(\"effect\", \"ci\", \"w.random\"),\n  rightlabs = c(\"OR\", \"95% CI\", \"æƒé‡(%)\"),\n\n  # é¢œè‰²è®¾ç½®\n  col.diamond = \"#4f46e5\",\n  col.diamond.lines = \"#4f46e5\",\n  col.predict = \"#10b981\",\n  col.predict.lines = \"#10b981\",\n\n  # æ ‡ç­¾\n  label.e = \"æ²»ç–—ç»„\",\n  label.c = \"å¯¹ç…§ç»„\",\n  label.left = \"æ”¯æŒæ²»ç–—\",\n  label.right = \"æ”¯æŒå¯¹ç…§\",\n\n  # å…¶ä»–è®¾ç½®\n  comb.fixed = FALSE, # ä¸æ˜¾ç¤ºå›ºå®šæ•ˆåº”\n  overall.hetstat = TRUE,\n  test.overall.random = TRUE,\n\n  # å­—ä½“\n  fontsize = 9,\n  spacing = 1.2,\n\n  # æ ‡é¢˜\n  smlab = \"æ¯”å€¼æ¯” (OR)\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1022-meta-analysis.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. å›ºå®š vs éšæœºæ•ˆåº”æ¨¡å‹é€‰æ‹©\n\n\n\næƒ…å†µ\næ¨èæ¨¡å‹\n\n\n\n\nç ”ç©¶è®¾è®¡/äººç¾¤é«˜åº¦ç›¸ä¼¼\nå›ºå®šæ•ˆåº”\n\n\nIÂ² &gt; 50%\néšæœºæ•ˆåº”\n\n\nç›®æ ‡æ˜¯æ³›åŒ–åˆ°æ›´å¹¿äººç¾¤\néšæœºæ•ˆåº”\n\n\nç ”ç©¶æ•°é‡ &lt; 5\nå›ºå®šæ•ˆåº”ï¼ˆéšæœºæ•ˆåº”ä¼°è®¡ä¸ç¨³å®šï¼‰\n\n\n\n\n\n2. å°ç ”ç©¶æ•ˆåº”\n\n# é™¤ Egger æ£€éªŒå¤–ï¼Œè¿˜å¯ä»¥æ¯”è¾ƒå›ºå®šå’Œéšæœºæ•ˆåº”ç»“æœ\n# è‹¥éšæœºæ•ˆåº”æ›´æç«¯ï¼Œå¯èƒ½å­˜åœ¨å°ç ”ç©¶æ•ˆåº”\n\n\n\n3. é›¶äº‹ä»¶å¤„ç†\n\n# åœ¨ metabin ä¸­å¤„ç†é›¶äº‹ä»¶\nmeta_zero &lt;- metabin(\n  event.e = event_treat,\n  n.e = n_treat,\n  event.c = event_control,\n  n.c = n_control,\n  studlab = study,\n  data = cvd_studies,\n  sm = \"OR\",\n  incr = 0.5, # è¿ç»­æ€§æ ¡æ­£\n  allincr = FALSE # åªå¯¹é›¶äº‹ä»¶ç ”ç©¶æ·»åŠ \n)\n\n\n\n4. è´¨é‡è¯„ä¼°\n# Meta åˆ†æåº”ç»“åˆç ”ç©¶è´¨é‡è¯„ä¼°\n# å¸¸ç”¨å·¥å…·ï¼š\n# - RCT: Cochrane RoB 2\n# - è§‚å¯Ÿæ€§ç ”ç©¶: Newcastle-Ottawa Scale\n# - è¯Šæ–­ç ”ç©¶: QUADAS-2",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#prisma-æµç¨‹å›¾",
    "href": "1022-meta-analysis.html#prisma-æµç¨‹å›¾",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "PRISMA æµç¨‹å›¾",
    "text": "PRISMA æµç¨‹å›¾\n\n# ä½¿ç”¨ PRISMA2020 åŒ…åˆ›å»ºæµç¨‹å›¾\n# install.packages(\"PRISMA2020\")\nlibrary(PRISMA2020)\n\nPRISMA_data(\n  identification = list(\n    records_identified = 1250,\n    records_removed_before = 150,\n    records_screened = 1100\n  ),\n  screening = list(\n    records_excluded = 950,\n    reports_sought = 150,\n    reports_not_retrieved = 10,\n    reports_assessed = 140\n  ),\n  included = list(\n    reports_excluded = 128,\n    new_studies = 12,\n    new_reports = 12\n  )\n) |&gt;\n  PRISMA_flowdiagram()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1022-meta-analysis.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== Meta åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(meta)\nlibrary(metafor)\n\n# 1. æ•°æ®å‡†å¤‡ï¼ˆäºŒåˆ†ç±»ç»“å±€ï¼‰\nmeta_result &lt;- metabin(\n  event.e = event_treat, n.e = n_treat,\n  event.c = event_control, n.c = n_control,\n  studlab = study, data = data,\n  sm = \"OR\", random = TRUE\n)\n\n# 2. æŸ¥çœ‹ç»“æœ\nsummary(meta_result)\n\n# 3. æ£®æ—å›¾\nforest(meta_result, prediction = TRUE)\n\n# 4. å¼‚è´¨æ€§è¯„ä¼°\ncat(\"IÂ² =\", meta_result$I2, \"\\n\")\ncat(\"Ï„Â² =\", meta_result$tau2, \"\\n\")\n\n# 5. å‘è¡¨åå€š\nfunnel(meta_result)\nmetabias(meta_result, method = \"linreg\")\n\n# 6. æ•æ„Ÿæ€§åˆ†æ\nmetainf(meta_result)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1022-meta-analysis.html#æ€»ç»“",
    "href": "1022-meta-analysis.html#æ€»ç»“",
    "title": "Meta åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ­¥éª¤\nå†…å®¹\nR å‡½æ•°\n\n\n\n\næ•ˆåº”é‡è®¡ç®—\nOR/RR/MD/SMD\nmetabin(), metacont()\n\n\næ¨¡å‹æ‹Ÿåˆ\nå›ºå®š/éšæœºæ•ˆåº”\nmethod, random å‚æ•°\n\n\næ£®æ—å›¾\nç»“æœå¯è§†åŒ–\nforest()\n\n\nå¼‚è´¨æ€§\nIÂ², Ï„Â², Q\næ¨¡å‹è¾“å‡º\n\n\näºšç»„åˆ†æ\næ¢ç´¢è°ƒèŠ‚æ•ˆåº”\nsubgroup å‚æ•°\n\n\nMeta å›å½’\nå®šé‡è°ƒèŠ‚åˆ†æ\nrma(..., mods = )\n\n\nå‘è¡¨åå€š\næ¼æ–—å›¾ã€Egger\nfunnel(), regtest()\n\n\næ•æ„Ÿæ€§åˆ†æ\né€ä¸€å‰”é™¤\nleave1out()\n\n\n\n\næŠ¥å‘Š Meta åˆ†æçš„ Checklist (PRISMA)\n\næŠ¥å‘Šæ£€ç´¢ç­–ç•¥å’Œæ•°æ®åº“\næŠ¥å‘Šçº³å…¥/æ’é™¤æ ‡å‡†\næä¾› PRISMA æµç¨‹å›¾\næŠ¥å‘Šå„ç ”ç©¶çš„æ•ˆåº”é‡å’Œ 95% CI\næŠ¥å‘Šåˆå¹¶æ•ˆåº”åŠç½®ä¿¡åŒºé—´\næŠ¥å‘Šå¼‚è´¨æ€§æŒ‡æ ‡ï¼ˆIÂ², Ï„Â², Qï¼‰\næä¾›æ£®æ—å›¾\nè¯„ä¼°å‘è¡¨åå€šï¼ˆæ¼æ–—å›¾ï¼‰\nè¿›è¡Œæ•æ„Ÿæ€§åˆ†æ\nè¯„ä¼°è¯æ®è´¨é‡ï¼ˆå¦‚ GRADEï¼‰\n\n\n\næ¨èé˜…è¯»\n\nBorenstein M et al.Â Introduction to Meta-Analysis\nHiggins JPT, Green S. Cochrane Handbook for Systematic Reviews\nR metafor æ–‡æ¡£\nR meta æ–‡æ¡£",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Meta åˆ†æ"
    ]
  },
  {
    "objectID": "1024-multilevel.html",
    "href": "1024-multilevel.html",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¤šæ°´å¹³æ¨¡å‹ï¼ˆMultilevel Modelï¼‰ï¼Œä¹Ÿç§°æ··åˆæ•ˆåº”æ¨¡å‹ï¼ˆMixed Effects Modelï¼‰ æˆ–å±‚æ¬¡æ¨¡å‹ï¼ˆHierarchical Modelï¼‰ï¼Œç”¨äºåˆ†æå…·æœ‰åµŒå¥—/å±‚æ¬¡ç»“æ„çš„æ•°æ®ã€‚\n\n\n\n\n\nå±‚æ¬¡ç»“æ„\nç¬¬ä¸€å±‚\nç¬¬äºŒå±‚\nç¬¬ä¸‰å±‚\n\n\n\n\næ•™è‚²ç ”ç©¶\nå­¦ç”Ÿ\nç­çº§\nå­¦æ ¡\n\n\nä¸´åºŠè¯•éªŒ\næµ‹é‡æ—¶ç‚¹\næ‚£è€…\nåŒ»é™¢\n\n\nå¿ƒç†å­¦\nè¯•éªŒ\nè¢«è¯•\nå®éªŒæ¡ä»¶\n\n\nç»„ç»‡è¡Œä¸º\nå‘˜å·¥\nå›¢é˜Ÿ\nå…¬å¸\n\n\n\n\n\n\n\nè¿åç‹¬ç«‹æ€§å‡è®¾ï¼šåŒä¸€ç»„å†…çš„è§‚æµ‹ä¸ç‹¬ç«‹\né¿å…èšåˆåå·®ï¼šä¿æŒåŸå§‹æ•°æ®å±‚æ¬¡\næ­£ç¡®ä¼°è®¡æ–¹å·®ï¼šè€ƒè™‘ç»„å†…ç›¸å…³æ€§\nç ”ç©¶è·¨å±‚æ•ˆåº”ï¼šæ¢ç´¢ä¸åŒå±‚æ¬¡å˜é‡çš„å½±å“\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\nå›ºå®šæ•ˆåº”\næ‰€æœ‰ç»„å…±äº«çš„æ•ˆåº”ï¼ˆæ€»ä½“å¹³å‡ï¼‰\n\n\néšæœºæ•ˆåº”\nå„ç»„ç‰¹æœ‰çš„éšæœºå˜å¼‚\n\n\néšæœºæˆªè·\nå„ç»„çš„åŸºçº¿æ°´å¹³ä¸åŒ\n\n\néšæœºæ–œç‡\nå„ç»„çš„æ•ˆåº”å¼ºåº¦ä¸åŒ\n\n\nICC\nç»„å†…ç›¸å…³ç³»æ•°ï¼Œç»„é—´æ–¹å·®å æ€»æ–¹å·®çš„æ¯”ä¾‹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#ä»€ä¹ˆæ˜¯å¤šæ°´å¹³æ¨¡å‹",
    "href": "1024-multilevel.html#ä»€ä¹ˆæ˜¯å¤šæ°´å¹³æ¨¡å‹",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å¤šæ°´å¹³æ¨¡å‹ï¼ˆMultilevel Modelï¼‰ï¼Œä¹Ÿç§°æ··åˆæ•ˆåº”æ¨¡å‹ï¼ˆMixed Effects Modelï¼‰ æˆ–å±‚æ¬¡æ¨¡å‹ï¼ˆHierarchical Modelï¼‰ï¼Œç”¨äºåˆ†æå…·æœ‰åµŒå¥—/å±‚æ¬¡ç»“æ„çš„æ•°æ®ã€‚\n\n\n\n\n\nå±‚æ¬¡ç»“æ„\nç¬¬ä¸€å±‚\nç¬¬äºŒå±‚\nç¬¬ä¸‰å±‚\n\n\n\n\næ•™è‚²ç ”ç©¶\nå­¦ç”Ÿ\nç­çº§\nå­¦æ ¡\n\n\nä¸´åºŠè¯•éªŒ\næµ‹é‡æ—¶ç‚¹\næ‚£è€…\nåŒ»é™¢\n\n\nå¿ƒç†å­¦\nè¯•éªŒ\nè¢«è¯•\nå®éªŒæ¡ä»¶\n\n\nç»„ç»‡è¡Œä¸º\nå‘˜å·¥\nå›¢é˜Ÿ\nå…¬å¸\n\n\n\n\n\n\n\nè¿åç‹¬ç«‹æ€§å‡è®¾ï¼šåŒä¸€ç»„å†…çš„è§‚æµ‹ä¸ç‹¬ç«‹\né¿å…èšåˆåå·®ï¼šä¿æŒåŸå§‹æ•°æ®å±‚æ¬¡\næ­£ç¡®ä¼°è®¡æ–¹å·®ï¼šè€ƒè™‘ç»„å†…ç›¸å…³æ€§\nç ”ç©¶è·¨å±‚æ•ˆåº”ï¼šæ¢ç´¢ä¸åŒå±‚æ¬¡å˜é‡çš„å½±å“\n\n\n\n\n\n\n\næ¦‚å¿µ\nå®šä¹‰\n\n\n\n\nå›ºå®šæ•ˆåº”\næ‰€æœ‰ç»„å…±äº«çš„æ•ˆåº”ï¼ˆæ€»ä½“å¹³å‡ï¼‰\n\n\néšæœºæ•ˆåº”\nå„ç»„ç‰¹æœ‰çš„éšæœºå˜å¼‚\n\n\néšæœºæˆªè·\nå„ç»„çš„åŸºçº¿æ°´å¹³ä¸åŒ\n\n\néšæœºæ–œç‡\nå„ç»„çš„æ•ˆåº”å¼ºåº¦ä¸åŒ\n\n\nICC\nç»„å†…ç›¸å…³ç³»æ•°ï¼Œç»„é—´æ–¹å·®å æ€»æ–¹å·®çš„æ¯”ä¾‹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1024-multilevel.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(lme4)         # æ··åˆæ•ˆåº”æ¨¡å‹ä¸»åŠ›åŒ…\nlibrary(lmerTest)     # æä¾› p å€¼\nlibrary(performance)  # æ¨¡å‹è¯Šæ–­\nlibrary(sjPlot)       # ç»“æœå¯è§†åŒ–\nlibrary(tidyverse)    # æ•°æ®å¤„ç†\nlibrary(broom.mixed)  # æ¨¡å‹æ•´ç†\nlibrary(MuMIn)        # æ¨¡å‹æ¯”è¾ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#æ•°æ®å‡†å¤‡",
    "href": "1024-multilevel.html#æ•°æ®å‡†å¤‡",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿçš„æ•™è‚²æ•°æ®ï¼šå­¦ç”Ÿæˆç»©ï¼ˆå­¦ç”ŸåµŒå¥—åœ¨ç­çº§ä¸­ï¼‰\n\n# æ¨¡æ‹Ÿä¸¤å±‚åµŒå¥—æ•°æ®\nset.seed(2024)\n\nn_classes &lt;- 30      # ç­çº§æ•°\nn_students &lt;- 20     # æ¯ç­å­¦ç”Ÿæ•°\nN &lt;- n_classes * n_students  # æ€»æ ·æœ¬é‡\n\n# ç”Ÿæˆç­çº§å±‚é¢æ•°æ®\nclass_data &lt;- tibble(\n  class_id = 1:n_classes,\n  teacher_exp = round(runif(n_classes, 1, 20)),  # æ•™å¸ˆç»éªŒï¼ˆå¹´ï¼‰\n  class_size = sample(25:40, n_classes, replace = TRUE),\n  # ç­çº§å±‚é¢éšæœºæ•ˆåº”\n  class_intercept = rnorm(n_classes, 0, 8),      # éšæœºæˆªè·\n  class_slope = rnorm(n_classes, 0, 0.3)         # éšæœºæ–œç‡\n)\n\n# ç”Ÿæˆå­¦ç”Ÿå±‚é¢æ•°æ®\nstudent_data &lt;- tibble(\n  student_id = 1:N,\n  class_id = rep(1:n_classes, each = n_students),\n  # å­¦ç”Ÿå˜é‡\n  prior_score = round(rnorm(N, 70, 12)),         # å…ˆå‰æˆç»©\n  study_hours = round(pmax(0, rnorm(N, 10, 4))), # å­¦ä¹ æ—¶é•¿\n  gender = factor(sample(c(\"ç”·\", \"å¥³\"), N, replace = TRUE))\n) |&gt;\n  left_join(class_data, by = \"class_id\") |&gt;\n  mutate(\n    # ç”Ÿæˆç»“å±€ï¼šæ•°å­¦æˆç»©\n    score = 20 +\n      0.5 * prior_score +                        # ä¸ªä½“æ•ˆåº”\n      (2 + class_slope) * study_hours +          # éšæœºæ–œç‡æ•ˆåº”\n      0.8 * teacher_exp +                        # ç­çº§æ•ˆåº”\n      class_intercept +                          # éšæœºæˆªè·\n      rnorm(N, 0, 8)                             # æ®‹å·®\n  ) |&gt;\n  mutate(\n    score = round(pmin(100, pmax(0, score))),\n    class_id = factor(class_id)\n  )\n\n# æŸ¥çœ‹æ•°æ®\nglimpse(student_data)\n\nRows: 600\nColumns: 10\n$ student_id      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,â€¦\n$ class_id        &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦\n$ prior_score     &lt;dbl&gt; 55, 64, 62, 78, 77, 45, 56, 56, 70, 84, 97, 75, 83, 72â€¦\n$ study_hours     &lt;dbl&gt; 9, 9, 13, 14, 13, 7, 8, 17, 17, 4, 6, 15, 9, 6, 8, 6, â€¦\n$ gender          &lt;fct&gt; å¥³, å¥³, ç”·, ç”·, å¥³, å¥³, ç”·, ç”·, ç”·, å¥³, ç”·, å¥³, å¥³, ç”·, å¥³, ç”·, å¥³, å¥³, â€¦\n$ teacher_exp     &lt;dbl&gt; 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17â€¦\n$ class_size      &lt;int&gt; 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38, 38â€¦\n$ class_intercept &lt;dbl&gt; -11.51835, -11.51835, -11.51835, -11.51835, -11.51835,â€¦\n$ class_slope     &lt;dbl&gt; 0.4778841, 0.4778841, 0.4778841, 0.4778841, 0.4778841,â€¦\n$ score           &lt;dbl&gt; 68, 88, 76, 100, 91, 69, 69, 87, 100, 68, 90, 100, 78,â€¦\n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# æŸ¥çœ‹å„ç­çº§æˆç»©åˆ†å¸ƒ\nggplot(student_data, aes(x = class_id, y = score, fill = class_id)) +\n  geom_boxplot(show.legend = FALSE, alpha = 0.7) +\n  scale_fill_viridis_d() +\n  labs(\n    title = \"å„ç­çº§æ•°å­¦æˆç»©åˆ†å¸ƒ\",\n    x = \"ç­çº§\",\n    y = \"æˆç»©\"\n  ) +\n  theme_minimal(base_size = 11) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n# å„ç­çº§å›å½’çº¿\nggplot(student_data, aes(x = study_hours, y = score, color = class_id)) +\n  geom_point(alpha = 0.3, size = 1) +\n  geom_smooth(method = \"lm\", se = FALSE, linewidth = 0.5) +\n  scale_color_viridis_d() +\n  labs(\n    title = \"å­¦ä¹ æ—¶é•¿ä¸æˆç»©çš„å…³ç³»ï¼ˆæŒ‰ç­çº§ï¼‰\",\n    subtitle = \"æ–œç‡çš„å˜å¼‚æç¤ºéœ€è¦éšæœºæ–œç‡æ¨¡å‹\",\n    x = \"æ¯å‘¨å­¦ä¹ æ—¶é•¿\",\n    y = \"æ•°å­¦æˆç»©\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#è®¡ç®—ç»„å†…ç›¸å…³ç³»æ•°-icc",
    "href": "1024-multilevel.html#è®¡ç®—ç»„å†…ç›¸å…³ç³»æ•°-icc",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "è®¡ç®—ç»„å†…ç›¸å…³ç³»æ•° (ICC)",
    "text": "è®¡ç®—ç»„å†…ç›¸å…³ç³»æ•° (ICC)\nICC è¡¡é‡ç»„é—´å˜å¼‚å æ€»å˜å¼‚çš„æ¯”ä¾‹ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦éœ€è¦å¤šæ°´å¹³æ¨¡å‹ã€‚\n\n# æ‹Ÿåˆç©ºæ¨¡å‹ï¼ˆä»…å«éšæœºæˆªè·ï¼‰\nnull_model &lt;- lmer(score ~ 1 + (1 | class_id), data = student_data)\n\n# è®¡ç®— ICC\nicc(null_model)\n\n# Intraclass Correlation Coefficient\n\n    Adjusted ICC: 0.294\n  Unadjusted ICC: 0.294\n\n\nè§£è¯»ï¼š - ICC &gt; 0.05 é€šå¸¸å»ºè®®ä½¿ç”¨å¤šæ°´å¹³æ¨¡å‹ - ICC è¡¨ç¤ºçº¦ X% çš„æˆç»©å·®å¼‚å½’å› äºç­çº§é—´å·®å¼‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#æ¨¡å‹æ„å»º",
    "href": "1024-multilevel.html#æ¨¡å‹æ„å»º",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ„å»º",
    "text": "æ¨¡å‹æ„å»º\n\næ¨¡å‹ 1ï¼šéšæœºæˆªè·æ¨¡å‹\n\n# éšæœºæˆªè·æ¨¡å‹\n# (1 | class_id) è¡¨ç¤ºç­çº§æœ‰ä¸åŒçš„åŸºå‡†æ°´å¹³\nmodel1 &lt;- lmer(\n  score ~ study_hours + prior_score + gender + (1 | class_id),\n  data = student_data\n)\n\nsummary(model1)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: score ~ study_hours + prior_score + gender + (1 | class_id)\n   Data: student_data\n\nREML criterion at convergence: 4180\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.3501 -0.6802  0.0232  0.6909  2.7313 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n class_id (Intercept) 49.27    7.019   \n Residual             53.41    7.308   \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n             Estimate Std. Error        df t value Pr(&gt;|t|)    \n(Intercept)  37.07606    2.41343 253.77145  15.362   &lt;2e-16 ***\nstudy_hours   1.72842    0.07830 570.76205  22.075   &lt;2e-16 ***\nprior_score   0.40721    0.02598 568.70999  15.672   &lt;2e-16 ***\ngenderå¥³     -0.18581    0.61609 570.82714  -0.302    0.763    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n\n\n            (Intr) stdy_h prr_sc\nstudy_hours -0.330              \nprior_score -0.764  0.010       \ngenderå¥³    -0.148 -0.012  0.033\n\n\n\n\næ¨¡å‹ 2ï¼šéšæœºæ–œç‡æ¨¡å‹\n\n# éšæœºæ–œç‡æ¨¡å‹\n# (study_hours | class_id) è¡¨ç¤ºå­¦ä¹ æ—¶é•¿çš„æ•ˆåº”å› ç­çº§è€Œå¼‚\nmodel2 &lt;- lmer(\n  score ~ study_hours + prior_score + gender + (study_hours | class_id),\n  data = student_data\n)\n\nsummary(model2)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: score ~ study_hours + prior_score + gender + (study_hours | class_id)\n   Data: student_data\n\nREML criterion at convergence: 4171.8\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.4465 -0.6501  0.0372  0.7114  2.7951 \n\nRandom effects:\n Groups   Name        Variance Std.Dev. Corr \n class_id (Intercept) 86.86538 9.3202        \n          study_hours  0.05472 0.2339   -1.00\n Residual             52.63035 7.2547        \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n             Estimate Std. Error        df t value Pr(&gt;|t|)    \n(Intercept)  36.94511    2.64657 106.90776  13.960   &lt;2e-16 ***\nstudy_hours   1.72766    0.08858  62.90176  19.503   &lt;2e-16 ***\nprior_score   0.40979    0.02577 568.62417  15.899   &lt;2e-16 ***\ngenderå¥³     -0.26772    0.61022 570.19279  -0.439    0.661    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n\n\n            (Intr) stdy_h prr_sc\nstudy_hours -0.570              \nprior_score -0.690  0.006       \ngenderå¥³    -0.134 -0.009  0.033\noptimizer (nloptwrap) convergence code: 0 (OK)\nboundary (singular) fit: see help('isSingular')\n\n\n\n\næ¨¡å‹ 3ï¼šæ·»åŠ è·¨å±‚å˜é‡\n\n# æ·»åŠ ç­çº§å±‚é¢çš„è§£é‡Šå˜é‡\nmodel3 &lt;- lmer(\n  score ~ study_hours + prior_score + gender + teacher_exp + \n    (study_hours | class_id),\n  data = student_data\n)\n\nsummary(model3)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: \nscore ~ study_hours + prior_score + gender + teacher_exp + (study_hours |  \n    class_id)\n   Data: student_data\n\nREML criterion at convergence: 4164\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.3693 -0.6613  0.0374  0.7236  2.7826 \n\nRandom effects:\n Groups   Name        Variance Std.Dev. Corr \n class_id (Intercept) 71.6293  8.4634        \n          study_hours  0.0599  0.2448   -1.00\n Residual             52.5735  7.2508        \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n             Estimate Std. Error        df t value Pr(&gt;|t|)    \n(Intercept)  30.81048    3.13697 101.58371   9.822  &lt; 2e-16 ***\nstudy_hours   1.73530    0.08950  56.62115  19.389  &lt; 2e-16 ***\nprior_score   0.40914    0.02575 568.95067  15.886  &lt; 2e-16 ***\ngenderå¥³     -0.26085    0.60933 570.92035  -0.428  0.66874    \nteacher_exp   0.56942    0.17116  28.83962   3.327  0.00241 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n\n\n            (Intr) stdy_h prr_sc gendrå¥³\nstudy_hours -0.478                      \nprior_score -0.572  0.005               \ngenderå¥³    -0.116 -0.009  0.033        \nteacher_exp -0.584  0.027 -0.016  0.004 \noptimizer (nloptwrap) convergence code: 0 (OK)\nboundary (singular) fit: see help('isSingular')\n\n\n\n\næ¨¡å‹ 4ï¼šè·¨å±‚äº¤äº’ä½œç”¨\n\n# æ£€éªŒæ•™å¸ˆç»éªŒæ˜¯å¦è°ƒèŠ‚å­¦ä¹ æ—¶é•¿çš„æ•ˆåº”\nmodel4 &lt;- lmer(\n  score ~ study_hours * teacher_exp + prior_score + gender + \n    (study_hours | class_id),\n  data = student_data\n)\n\nsummary(model4)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: \nscore ~ study_hours * teacher_exp + prior_score + gender + (study_hours |  \n    class_id)\n   Data: student_data\n\nREML criterion at convergence: 4170.1\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.4071 -0.6581  0.0418  0.7183  2.7709 \n\nRandom effects:\n Groups   Name        Variance Std.Dev. Corr \n class_id (Intercept) 72.56481 8.518         \n          study_hours  0.06201 0.249    -1.00\n Residual             52.61972 7.254         \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n                         Estimate Std. Error        df t value Pr(&gt;|t|)    \n(Intercept)              29.18486    4.13454  43.62636   7.059 9.80e-09 ***\nstudy_hours               1.83367    0.18552  50.45406   9.884 2.16e-13 ***\nteacher_exp               0.72122    0.30398  28.35875   2.373   0.0247 *  \nprior_score               0.40945    0.02577 568.04888  15.889  &lt; 2e-16 ***\ngenderå¥³                 -0.27831    0.61019 569.48840  -0.456   0.6485    \nstudy_hours:teacher_exp  -0.00935    0.01543  53.35172  -0.606   0.5472    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n\n\n            (Intr) stdy_h tchr_x prr_sc gendrå¥³\nstudy_hours -0.746                             \nteacher_exp -0.786  0.731                      \nprior_score -0.445  0.018  0.006               \ngenderå¥³    -0.059 -0.043 -0.034  0.032        \nstdy_hrs:t_  0.650 -0.875 -0.827 -0.018  0.045 \noptimizer (nloptwrap) convergence code: 0 (OK)\nboundary (singular) fit: see help('isSingular')",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#æ¨¡å‹æ¯”è¾ƒ",
    "href": "1024-multilevel.html#æ¨¡å‹æ¯”è¾ƒ",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ¯”è¾ƒ",
    "text": "æ¨¡å‹æ¯”è¾ƒ\n\nä¼¼ç„¶æ¯”æ£€éªŒ\n\n# æ¯”è¾ƒéšæœºæˆªè· vs éšæœºæ–œç‡æ¨¡å‹\nanova(model1, model2)  # æ£€éªŒéšæœºæ–œç‡æ˜¯å¦å¿…è¦\n\nData: student_data\nModels:\nmodel1: score ~ study_hours + prior_score + gender + (1 | class_id)\nmodel2: score ~ study_hours + prior_score + gender + (study_hours | class_id)\n       npar    AIC    BIC  logLik -2*log(L)  Chisq Df Pr(&gt;Chisq)  \nmodel1    6 4186.5 4212.9 -2087.3    4174.5                       \nmodel2    8 4182.3 4217.5 -2083.2    4166.3 8.2451  2     0.0162 *\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\n\nä¿¡æ¯å‡†åˆ™æ¯”è¾ƒ\n\n# AIC/BIC æ¯”è¾ƒ\nmodel_comparison &lt;- data.frame(\n  Model = c(\"éšæœºæˆªè·\", \"éšæœºæ–œç‡\", \"å«è·¨å±‚å˜é‡\", \"å«äº¤äº’ä½œç”¨\"),\n  AIC = c(AIC(model1), AIC(model2), AIC(model3), AIC(model4)),\n  BIC = c(BIC(model1), BIC(model2), BIC(model3), BIC(model4))\n) |&gt;\n  mutate(\n    Delta_AIC = AIC - min(AIC),\n    Delta_BIC = BIC - min(BIC)\n  )\n\nmodel_comparison\n\n       Model      AIC      BIC Delta_AIC Delta_BIC\n1   éšæœºæˆªè· 4192.037 4218.419 10.035207  0.000000\n2   éšæœºæ–œç‡ 4187.841 4223.016  5.838907  4.597560\n3 å«è·¨å±‚å˜é‡ 4182.002 4221.574  0.000000  3.155582\n4 å«äº¤äº’ä½œç”¨ 4190.142 4234.111  8.140060 15.692572\n\n\n\n\nRÂ² è®¡ç®—\n\n# è¾¹é™… RÂ²ï¼ˆä»…å›ºå®šæ•ˆåº”ï¼‰å’Œæ¡ä»¶ RÂ²ï¼ˆå›ºå®š+éšæœºæ•ˆåº”ï¼‰\nr2(model3)\n\nRandom effect variances not available. Returned R2 does not account for random effects.\n\n\n# R2 for Mixed Models\n\n  Conditional R2: NA\n     Marginal R2: 0.600",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#ç»“æœè§£é‡Š",
    "href": "1024-multilevel.html#ç»“æœè§£é‡Š",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "ç»“æœè§£é‡Š",
    "text": "ç»“æœè§£é‡Š\n\nå›ºå®šæ•ˆåº”\n\n# æå–å›ºå®šæ•ˆåº”\nfixef(model3)\n\n(Intercept) study_hours prior_score    genderå¥³ teacher_exp \n 30.8104788   1.7352975   0.4091422  -0.2608521   0.5694199 \n\n# ç½®ä¿¡åŒºé—´\nconfint(model3, parm = \"beta_\", method = \"Wald\")\n\n                 2.5 %     97.5 %\n(Intercept) 24.6621365 36.9588210\nstudy_hours  1.5598819  1.9107131\nprior_score  0.3586641  0.4596204\ngenderå¥³    -1.4551098  0.9334056\nteacher_exp  0.2339522  0.9048876\n\n\n\n\néšæœºæ•ˆåº”\n\n# éšæœºæ•ˆåº”æ–¹å·®\nVarCorr(model3)\n\n Groups   Name        Std.Dev. Corr  \n class_id (Intercept) 8.46341        \n          study_hours 0.24475  -1.000\n Residual             7.25076        \n\n# å„ç­çº§çš„éšæœºæ•ˆåº”\nranef(model3)$class_id |&gt; head(10)\n\n   (Intercept) study_hours\n1    -8.913800  0.25777883\n2     1.026193 -0.02967655\n3     1.075480 -0.03110190\n4     9.109699 -0.26344406\n5     2.028876 -0.05867322\n6     2.553099 -0.07383327\n7    -2.481370  0.07175894\n8    -2.517308  0.07279822\n9    -3.838791  0.11101429\n10   -6.177900  0.17865914\n\n\n\n\næ•´æ´è¾“å‡º\n\n# ä½¿ç”¨ sjPlot ç”Ÿæˆè¡¨æ ¼\ntab_model(model3,\n          show.se = TRUE,\n          show.ci = 0.95,\n          show.stat = TRUE,\n          title = \"å¤šæ°´å¹³çº¿æ€§å›å½’ç»“æœ\")\n\n\nå¤šæ°´å¹³çº¿æ€§å›å½’ç»“æœ\n\nÂ \nscore\n\n\nPredictors\nEstimates\nstd. Error\nCI\nStatistic\np\n\n\n(Intercept)\n30.81\n3.14\n24.65Â â€“Â 36.97\n9.82\n&lt;0.001\n\n\nstudy hours\n1.74\n0.09\n1.56Â â€“Â 1.91\n19.39\n&lt;0.001\n\n\nprior score\n0.41\n0.03\n0.36Â â€“Â 0.46\n15.89\n&lt;0.001\n\n\ngender [å¥³]\n-0.26\n0.61\n-1.46Â â€“Â 0.94\n-0.43\n0.669\n\n\nteacher exp\n0.57\n0.17\n0.23Â â€“Â 0.91\n3.33\n0.001\n\n\nRandom Effects\n\n\n\nÏƒ2\n52.57\n\n\n\nÏ„00 class_id\n71.63\n\n\nÏ„11 class_id.study_hours\n0.06\n\n\nÏ01 class_id\n-1.00\n\n\nN class_id\n30\n\nObservations\n600\n\n\nMarginal R2 / Conditional R2\n0.600 / NA",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#æ¨¡å‹è¯Šæ–­",
    "href": "1024-multilevel.html#æ¨¡å‹è¯Šæ–­",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\næ®‹å·®æ£€éªŒ\n\n# ç»¼åˆè¯Šæ–­\ncheck_model(model3)\n\n\n\n\n\n\n\n\n\n\næ­£æ€æ€§æ£€éªŒ\n\n# ç¬¬ä¸€å±‚æ®‹å·®\nplot(model3, type = c(\"p\", \"smooth\"))\n\n\n\n\n\n\n\n# ç¬¬äºŒå±‚éšæœºæ•ˆåº”\nqqnorm(ranef(model3)$class_id$`(Intercept)`, main = \"éšæœºæˆªè· Q-Q å›¾\")\nqqline(ranef(model3)$class_id$`(Intercept)`)\n\n\n\n\n\n\n\n\n\n\nå½±å“è¯Šæ–­\n\n# æ£€æµ‹æœ‰å½±å“åŠ›çš„ç»„\ninfluence_class &lt;- influence(model3, group = \"class_id\")\n\n# Cook's è·ç¦»\ncooks_d &lt;- cooks.distance(influence_class)\nplot(cooks_d, type = \"h\", main = \"å„ç­çº§ Cook's è·ç¦»\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#å¯è§†åŒ–",
    "href": "1024-multilevel.html#å¯è§†åŒ–",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å¯è§†åŒ–",
    "text": "å¯è§†åŒ–\n\nå›ºå®šæ•ˆåº”å¯è§†åŒ–\n\n# å›ºå®šæ•ˆåº”æ£®æ—å›¾\nplot_model(model3, type = \"est\", show.values = TRUE, \n           title = \"å›ºå®šæ•ˆåº”ä¼°è®¡\")\n\n\n\n\n\n\n\n\n\n\néšæœºæ•ˆåº”å¯è§†åŒ–\n\n# éšæœºæ•ˆåº”åˆ†å¸ƒ\nplot_model(model3, type = \"re\", \n           title = \"å„ç­çº§éšæœºæ•ˆåº”\")\n\n\n\n\n\n\n\n\n\n\næ¡ä»¶æ•ˆåº”å›¾\n\n# é¢„æµ‹å›¾ï¼šå­¦ä¹ æ—¶é•¿ä¸æˆç»©ï¼ˆè€ƒè™‘éšæœºæ•ˆåº”ï¼‰\nplot_model(model3, type = \"pred\", terms = \"study_hours\",\n           title = \"å­¦ä¹ æ—¶é•¿çš„é¢„æµ‹æ•ˆåº”\")\n\n\n\n\n\n\n\n\n\n\nè¾¹é™…æ•ˆåº”\n\n# æŸ¥çœ‹è¾¹é™…æ•ˆåº”\nlibrary(ggeffects)\n\n# é¢„æµ‹å€¼\npred_hours &lt;- ggpredict(model3, terms = \"study_hours [0:20]\")\nplot(pred_hours) +\n  labs(title = \"å­¦ä¹ æ—¶é•¿çš„è¾¹é™…æ•ˆåº”\")\n\n\n\n\n\n\n\n\n\n\näº¤äº’æ•ˆåº”å¯è§†åŒ–\n\n# è·¨å±‚äº¤äº’ä½œç”¨\npred_interact &lt;- ggpredict(model4, terms = c(\"study_hours\", \"teacher_exp [5, 10, 15]\"))\nplot(pred_interact) +\n  labs(\n    title = \"å­¦ä¹ æ—¶é•¿ Ã— æ•™å¸ˆç»éªŒçš„äº¤äº’æ•ˆåº”\",\n    color = \"æ•™å¸ˆç»éªŒ\"\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#å¹¿ä¹‰æ··åˆæ•ˆåº”æ¨¡å‹-glmm",
    "href": "1024-multilevel.html#å¹¿ä¹‰æ··åˆæ•ˆåº”æ¨¡å‹-glmm",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å¹¿ä¹‰æ··åˆæ•ˆåº”æ¨¡å‹ (GLMM)",
    "text": "å¹¿ä¹‰æ··åˆæ•ˆåº”æ¨¡å‹ (GLMM)\nå¯¹äºéæ­£æ€åˆ†å¸ƒçš„ç»“å±€å˜é‡ï¼š\n\näºŒåˆ†ç±»ç»“å±€\n\n# æ¨¡æ‹ŸäºŒåˆ†ç±»æ•°æ®ï¼šæ˜¯å¦é€šè¿‡è€ƒè¯•\nstudent_data &lt;- student_data |&gt;\n  mutate(\n    pass = as.integer(score &gt;= 60)\n  )\n\n# Logistic æ··åˆæ•ˆåº”æ¨¡å‹\nglmm_logit &lt;- glmer(\n  pass ~ study_hours + prior_score + (1 | class_id),\n  data = student_data,\n  family = binomial\n)\n\nsummary(glmm_logit)\n\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: binomial  ( logit )\nFormula: pass ~ study_hours + prior_score + (1 | class_id)\n   Data: student_data\n\n      AIC       BIC    logLik -2*log(L)  df.resid \n    157.1     174.7     -74.5     149.1       596 \n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-5.5559  0.0244  0.0573  0.1329  1.6747 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n class_id (Intercept) 3.444    1.856   \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept) -6.32502    1.89259  -3.342 0.000832 ***\nstudy_hours  0.38210    0.08449   4.522 6.11e-06 ***\nprior_score  0.11643    0.02632   4.424 9.70e-06 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n            (Intr) stdy_h\nstudy_hours -0.588       \nprior_score -0.911  0.392\n\n\n\n# OR åŠ 95% CI\nexp(fixef(glmm_logit))\n\n(Intercept) study_hours prior_score \n0.001790937 1.465353355 1.123484111 \n\nexp(confint(glmm_logit, parm = \"beta_\", method = \"Wald\"))\n\n                   2.5 %     97.5 %\n(Intercept) 4.386341e-05 0.07312374\nstudy_hours 1.241724e+00 1.72925710\nprior_score 1.066996e+00 1.18296325\n\n\n\n\nè®¡æ•°ç»“å±€\n\n# æ¨¡æ‹Ÿè®¡æ•°æ•°æ®ï¼šç¼ºå‹¤æ¬¡æ•°\nstudent_data &lt;- student_data |&gt;\n  mutate(\n    absences = rpois(n(), lambda = exp(2 - 0.05 * score + rnorm(n(), 0, 0.3)))\n  )\n\n# Poisson æ··åˆæ•ˆåº”æ¨¡å‹\nglmm_pois &lt;- glmer(\n  absences ~ score + gender + (1 | class_id),\n  data = student_data,\n  family = poisson\n)\n\nsummary(glmm_pois)\n\nGeneralized linear mixed model fit by maximum likelihood (Laplace\n  Approximation) [glmerMod]\n Family: poisson  ( log )\nFormula: absences ~ score + gender + (1 | class_id)\n   Data: student_data\n\n      AIC       BIC    logLik -2*log(L)  df.resid \n    525.9     543.5    -259.0     517.9       596 \n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-1.0442 -0.3922 -0.3046 -0.2352  7.6861 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n class_id (Intercept) 0.2332   0.4829  \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n             Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)  1.742140   0.002197  793.10   &lt;2e-16 ***\nscore       -0.046619   0.001449  -32.17   &lt;2e-16 ***\ngenderå¥³    -0.048648   0.002195  -22.16   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n\n\n         (Intr) score \nscore    -0.012       \ngenderå¥³  0.001 -0.006\noptimizer (Nelder_Mead) convergence code: 0 (OK)\nModel failed to converge with max|grad| = 0.03211 (tol = 0.002, component 1)\n  See ?lme4::convergence and ?lme4::troubleshooting.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#ä¸‰å±‚åµŒå¥—æ¨¡å‹",
    "href": "1024-multilevel.html#ä¸‰å±‚åµŒå¥—æ¨¡å‹",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "ä¸‰å±‚åµŒå¥—æ¨¡å‹",
    "text": "ä¸‰å±‚åµŒå¥—æ¨¡å‹\n\n# æ¨¡æ‹Ÿä¸‰å±‚æ•°æ®ï¼šå­¦ç”Ÿ â†’ ç­çº§ â†’ å­¦æ ¡\nn_schools &lt;- 10\nn_classes_per_school &lt;- 3\nn_students_per_class &lt;- 20\n\nthree_level_data &lt;- expand_grid(\n  school_id = 1:n_schools,\n  class_in_school = 1:n_classes_per_school,\n  student_in_class = 1:n_students_per_class\n) |&gt;\n  mutate(\n    class_id = paste0(school_id, \"_\", class_in_school),\n    student_id = row_number(),\n    # å­¦æ ¡éšæœºæ•ˆåº”\n    school_effect = rep(rnorm(n_schools, 0, 5), \n                        each = n_classes_per_school * n_students_per_class),\n    # ç­çº§éšæœºæ•ˆåº”\n    class_effect = rep(rnorm(n_schools * n_classes_per_school, 0, 3),\n                       each = n_students_per_class),\n    # å­¦ç”Ÿå˜é‡\n    ability = rnorm(n(), 0, 1),\n    # æˆç»©\n    score = 70 + 10 * ability + school_effect + class_effect + rnorm(n(), 0, 5)\n  ) |&gt;\n  mutate(\n    school_id = factor(school_id),\n    class_id = factor(class_id)\n  )\n\n# ä¸‰å±‚åµŒå¥—æ¨¡å‹\nmodel_3level &lt;- lmer(\n  score ~ ability + (1 | school_id/class_id),  # ç­çº§åµŒå¥—åœ¨å­¦æ ¡ä¸­\n  data = three_level_data\n)\n\nsummary(model_3level)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: score ~ ability + (1 | school_id/class_id)\n   Data: three_level_data\n\nREML criterion at convergence: 3710.8\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.1231 -0.6097 -0.0221  0.6810  3.1675 \n\nRandom effects:\n Groups             Name        Variance Std.Dev.\n class_id:school_id (Intercept)  6.828   2.613   \n school_id          (Intercept) 18.651   4.319   \n Residual                       25.145   5.014   \nNumber of obs: 600, groups:  class_id:school_id, 30; school_id, 10\n\nFixed effects:\n            Estimate Std. Error       df t value Pr(&gt;|t|)    \n(Intercept)  67.8011     1.4610   9.0000   46.41 5.02e-12 ***\nability       9.7484     0.2052 573.8904   47.50  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n        (Intr)\nability 0.000 \n\n\n\n# å„å±‚ ICC\nicc(model_3level, by_group = TRUE)\n\n# ICC by Group\n\nGroup              |   ICC\n--------------------------\nclass_id:school_id | 0.135\nschool_id          | 0.368",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#çºµå‘æ•°æ®åˆ†æ",
    "href": "1024-multilevel.html#çºµå‘æ•°æ®åˆ†æ",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "çºµå‘æ•°æ®åˆ†æ",
    "text": "çºµå‘æ•°æ®åˆ†æ\næ··åˆæ•ˆåº”æ¨¡å‹éå¸¸é€‚åˆåˆ†æé‡å¤æµ‹é‡æ•°æ®ï¼š\n\n# æ¨¡æ‹Ÿçºµå‘æ•°æ®ï¼š4 ä¸ªæ—¶é—´ç‚¹\nn_subjects &lt;- 100\nn_timepoints &lt;- 4\n\nlongitudinal_data &lt;- expand_grid(\n  subject_id = 1:n_subjects,\n  time = 0:(n_timepoints - 1)\n) |&gt;\n  mutate(\n    # ä¸ªä½“éšæœºæ•ˆåº”\n    subject_intercept = rep(rnorm(n_subjects, 0, 10), each = n_timepoints),\n    subject_slope = rep(rnorm(n_subjects, 0, 2), each = n_timepoints),\n    # æ²»ç–—ç»„\n    treatment = factor(rep(sample(c(\"å¯¹ç…§\", \"æ²»ç–—\"), n_subjects, replace = TRUE), \n                           each = n_timepoints)),\n    # ç»“å±€\n    outcome = 50 + subject_intercept + \n      (3 + subject_slope) * time + \n      5 * (treatment == \"æ²»ç–—\") * time +\n      rnorm(n(), 0, 5)\n  ) |&gt;\n  mutate(subject_id = factor(subject_id))\n\n# å¢é•¿æ›²çº¿æ¨¡å‹\ngrowth_model &lt;- lmer(\n  outcome ~ time * treatment + (time | subject_id),\n  data = longitudinal_data\n)\n\nsummary(growth_model)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: outcome ~ time * treatment + (time | subject_id)\n   Data: longitudinal_data\n\nREML criterion at convergence: 2769.4\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-2.6672 -0.5199  0.0244  0.5511  2.4879 \n\nRandom effects:\n Groups     Name        Variance Std.Dev. Corr\n subject_id (Intercept) 99.518   9.976        \n            time         4.326   2.080    0.02\n Residual               25.560   5.056        \nNumber of obs: 400, groups:  subject_id, 100\n\nFixed effects:\n                   Estimate Std. Error      df t value Pr(&gt;|t|)    \n(Intercept)         49.5178     1.5324 97.9997  32.314  &lt; 2e-16 ***\ntime                 2.8694     0.4345 97.9995   6.605 2.07e-09 ***\ntreatmentæ²»ç–—        1.8449     2.1671 97.9997   0.851    0.397    \ntime:treatmentæ²»ç–—   5.1287     0.6144 97.9995   8.347 4.58e-13 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n\n\nCorrelation of Fixed Effects:\n\n\n              (Intr) time   trtmæ²»ç–—\ntime          -0.220                \ntreatmentæ²»ç–— -0.707  0.156         \ntm:trtmntæ²»ç–—  0.156 -0.707 -0.220  \n\n\n\n# å¯è§†åŒ–çºµå‘å˜åŒ–\nggplot(longitudinal_data, aes(x = time, y = outcome, group = subject_id, \n                               color = treatment)) +\n  geom_line(alpha = 0.3) +\n  geom_smooth(aes(group = treatment), method = \"lm\", linewidth = 1.5) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\")) +\n  labs(\n    title = \"çºµå‘å˜åŒ–è½¨è¿¹\",\n    x = \"æ—¶é—´ç‚¹\",\n    y = \"ç»“å±€\",\n    color = \"ç»„åˆ«\"\n  ) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1024-multilevel.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. ç»„æ•°å¤ªå°‘\n# éšæœºæ•ˆåº”ä¼°è®¡éœ€è¦è¶³å¤Ÿçš„ç»„æ•°\n# æ¨èï¼šè‡³å°‘ 20-30 ä¸ªç»„\n# ç»„æ•°å°‘æ—¶ï¼Œéšæœºæ•ˆåº”æ–¹å·®ä¼°è®¡å¯èƒ½ä¸º 0\n\n\n2. å¥‡å¼‚æ€§æ‹Ÿåˆ\n\n# æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¥‡å¼‚æ€§\nisSingular(model2)\n\n[1] TRUE\n\n# è§£å†³æ–¹æ¡ˆï¼š\n# 1. ç®€åŒ–éšæœºæ•ˆåº”ç»“æ„\n# 2. ç§»é™¤ç›¸å…³æ€§å‚æ•°\n# model_nocorr &lt;- lmer(y ~ x + (1 | g) + (0 + x | g), data = data)\n\n\n\n3. ä¸­å¿ƒåŒ–\n\n# ç»„å†…ä¸­å¿ƒåŒ–ï¼ˆç»„å‡å€¼ä¸­å¿ƒåŒ–ï¼‰\nstudent_data &lt;- student_data |&gt;\n  group_by(class_id) |&gt;\n  mutate(\n    study_hours_cwc = study_hours - mean(study_hours)  # ç»„å†…ä¸­å¿ƒåŒ–\n  ) |&gt;\n  ungroup() |&gt;\n  mutate(\n    class_mean_hours = ave(study_hours, class_id)       # ç»„å‡å€¼\n  )\n\n# åˆ†è§£ç»„å†…å’Œç»„é—´æ•ˆåº”\nmodel_cwc &lt;- lmer(\n  score ~ study_hours_cwc + class_mean_hours + prior_score + (1 | class_id),\n  data = student_data\n)\n\nsummary(model_cwc)\n\nLinear mixed model fit by REML. t-tests use Satterthwaite's method [\nlmerModLmerTest]\nFormula: score ~ study_hours_cwc + class_mean_hours + prior_score + (1 |  \n    class_id)\n   Data: student_data\n\nREML criterion at convergence: 4178.6\n\nScaled residuals: \n    Min      1Q  Median      3Q     Max \n-3.3354 -0.6901  0.0148  0.7052  2.7266 \n\nRandom effects:\n Groups   Name        Variance Std.Dev.\n class_id (Intercept) 51.05    7.145   \n Residual             53.33    7.303   \nNumber of obs: 600, groups:  class_id, 30\n\nFixed effects:\n                  Estimate Std. Error        df t value Pr(&gt;|t|)    \n(Intercept)       37.29756   13.75866  29.07582   2.711   0.0111 *  \nstudy_hours_cwc    1.72825    0.07837 568.00213  22.053   &lt;2e-16 ***\nclass_mean_hours   1.69527    1.35998  28.00013   1.247   0.2229    \nprior_score        0.40745    0.02595 569.64949  15.702   &lt;2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nCorrelation of Fixed Effects:\n            (Intr) stdy__ clss__\nstdy_hrs_cw -0.001              \nclss_mn_hrs -0.986  0.000       \nprior_score -0.137  0.010  0.004\n\n\n\n\n4. æ”¶æ•›é—®é¢˜\n# æ”¶æ•›å¤±è´¥æ—¶çš„è§£å†³æ–¹æ¡ˆ\n# 1. å¢åŠ è¿­ä»£æ¬¡æ•°\nlmerControl(optimizer = \"bobyqa\", optCtrl = list(maxfun = 100000))\n\n# 2. ä½¿ç”¨ä¸åŒä¼˜åŒ–å™¨\nlmerControl(optimizer = \"nloptwrap\")\n\n# 3. ç®€åŒ–æ¨¡å‹\n# 4. å¯¹å˜é‡æ ‡å‡†åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1024-multilevel.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== å¤šæ°´å¹³æ¨¡å‹å®Œæ•´æµç¨‹ ==========\n\nlibrary(lme4)\nlibrary(lmerTest)\nlibrary(performance)\n\n# 1. æ•°æ®å‡†å¤‡å’Œæ¢ç´¢\n# - è¯†åˆ«å±‚æ¬¡ç»“æ„\n# - å¯è§†åŒ–ç»„é—´å·®å¼‚\n\n# 2. è®¡ç®— ICC\nnull &lt;- lmer(y ~ 1 + (1 | group), data = data)\nicc(null)\n\n# 3. é€æ­¥æ„å»ºæ¨¡å‹\nm1 &lt;- lmer(y ~ x1 + (1 | group), data)                    # éšæœºæˆªè·\nm2 &lt;- lmer(y ~ x1 + (x1 | group), data)                   # éšæœºæ–œç‡\nm3 &lt;- lmer(y ~ x1 + group_var + (x1 | group), data)       # è·¨å±‚å˜é‡\nm4 &lt;- lmer(y ~ x1 * group_var + (x1 | group), data)       # è·¨å±‚äº¤äº’\n\n# 4. æ¨¡å‹æ¯”è¾ƒ\nanova(m1, m2, m3, m4)\ncompare_performance(m1, m2, m3, m4)\n\n# 5. æ¨¡å‹è¯Šæ–­\ncheck_model(m3)\n\n# 6. ç»“æœå‘ˆç°\nsummary(m3)\ntab_model(m3)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1024-multilevel.html#æ€»ç»“",
    "href": "1024-multilevel.html#æ€»ç»“",
    "title": "å¤šæ°´å¹³/æ··åˆæ•ˆåº”æ¨¡å‹å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ¨¡å‹ç±»å‹\nè¯­æ³•\né€‚ç”¨åœºæ™¯\n\n\n\n\néšæœºæˆªè·\n(1 | g)\nç»„é—´åŸºçº¿ä¸åŒ\n\n\néšæœºæ–œç‡\n(x | g)\næ•ˆåº”å¼ºåº¦å› ç»„è€Œå¼‚\n\n\næ— ç›¸å…³æ€§\n(1 | g) + (0 + x | g)\næˆªè·å’Œæ–œç‡ç‹¬ç«‹\n\n\nä¸‰å±‚åµŒå¥—\n(1 | g1/g2)\nå¤šå±‚åµŒå¥—ç»“æ„\n\n\näº¤å‰éšæœºæ•ˆåº”\n(1 | g1) + (1 | g2)\néåµŒå¥—åˆ†ç»„\n\n\n\n\næŠ¥å‘Šå¤šæ°´å¹³æ¨¡å‹çš„ Checklist\n\næè¿°æ•°æ®çš„å±‚æ¬¡ç»“æ„\næŠ¥å‘Šå„å±‚æ ·æœ¬é‡\næŠ¥å‘Š ICC\næŠ¥å‘Šå›ºå®šæ•ˆåº”åŠç½®ä¿¡åŒºé—´\næŠ¥å‘Šéšæœºæ•ˆåº”æ–¹å·®\næŠ¥å‘Šè¾¹é™… RÂ² å’Œæ¡ä»¶ RÂ²\næä¾›æ®‹å·®è¯Šæ–­\nè¯´æ˜å¦‚ä½•å¤„ç†ç¼ºå¤±å€¼\n\n\n\næ¨èé˜…è¯»\n\nRaudenbush SW, Bryk AS. Hierarchical Linear Models\nSnijders TAB, Bosker RJ. Multilevel Analysis\nlme4 package æ–‡æ¡£\nUCLA å¤šæ°´å¹³æ¨¡å‹æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å¤šæ°´å¹³æ¨¡å‹"
    ]
  },
  {
    "objectID": "1026-poisson.html",
    "href": "1026-poisson.html",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "è®¡æ•°æ•°æ®ï¼ˆCount Dataï¼‰ æ˜¯æŒ‡å–å€¼ä¸ºéè´Ÿæ•´æ•°çš„æ•°æ®ï¼ˆ0, 1, 2, 3, â€¦ï¼‰ã€‚Poisson å›å½’å’Œè´ŸäºŒé¡¹å›å½’æ˜¯åˆ†ææ­¤ç±»æ•°æ®çš„æ ¸å¿ƒæ–¹æ³•ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nå‘ç—…ç‡ç ”ç©¶\næŸåœ°åŒºç™Œç—‡å‘ç—…äººæ•°\n\n\näº‹æ•…åˆ†æ\näº¤é€šäº‹æ•…æ¬¡æ•°\n\n\nç”Ÿæ€å­¦\næ ·æ–¹ä¸­ç‰©ç§æ•°é‡\n\n\nåŒ»ç–—æœåŠ¡\nå°±è¯Šæ¬¡æ•°ã€ä½é™¢å¤©æ•°\n\n\nè¡Œä¸ºç ”ç©¶\nå¸çƒŸæ”¯æ•°ã€ç¼ºå‹¤å¤©æ•°\n\n\n\n\n\n\nè®¡æ•°æ•°æ®\n    â”‚\n    â”œâ”€â”€ æ–¹å·® â‰ˆ å‡å€¼ï¼Ÿ â”€â”€Yesâ”€â”€â†’ Poisson å›å½’\n    â”‚\n    â””â”€â”€ æ–¹å·® &gt; å‡å€¼ï¼Ÿ â”€â”€Yesâ”€â”€â†’ è´ŸäºŒé¡¹å›å½’ï¼ˆè¿‡ç¦»æ•£ï¼‰\n         â”‚\n         â””â”€â”€ é›¶å€¼è¿‡å¤šï¼Ÿ â”€Yesâ”€â†’ é›¶è†¨èƒ€æ¨¡å‹ï¼ˆZIP/ZINBï¼‰\n\n\n\nPoisson å›å½’ï¼š \\[\\log(\\mu) = \\beta_0 + \\beta_1 X_1 + \\cdots \\quad \\text{å…¶ä¸­ } Y \\sim \\text{Poisson}(\\mu)\\]\nè´ŸäºŒé¡¹å›å½’ï¼š \\[\\log(\\mu) = \\beta_0 + \\beta_1 X_1 + \\cdots \\quad \\text{å…¶ä¸­ } Y \\sim \\text{NegBin}(\\mu, \\theta)\\]\nå›å½’ç³»æ•°è§£è¯»ï¼š\\(e^{\\beta_i}\\) = å‘ç—…ç‡æ¯”ï¼ˆIRR, Incidence Rate Ratioï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#ä»€ä¹ˆæ˜¯è®¡æ•°æ•°æ®å›å½’",
    "href": "1026-poisson.html#ä»€ä¹ˆæ˜¯è®¡æ•°æ•°æ®å›å½’",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "è®¡æ•°æ•°æ®ï¼ˆCount Dataï¼‰ æ˜¯æŒ‡å–å€¼ä¸ºéè´Ÿæ•´æ•°çš„æ•°æ®ï¼ˆ0, 1, 2, 3, â€¦ï¼‰ã€‚Poisson å›å½’å’Œè´ŸäºŒé¡¹å›å½’æ˜¯åˆ†ææ­¤ç±»æ•°æ®çš„æ ¸å¿ƒæ–¹æ³•ã€‚\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\nå‘ç—…ç‡ç ”ç©¶\næŸåœ°åŒºç™Œç—‡å‘ç—…äººæ•°\n\n\näº‹æ•…åˆ†æ\näº¤é€šäº‹æ•…æ¬¡æ•°\n\n\nç”Ÿæ€å­¦\næ ·æ–¹ä¸­ç‰©ç§æ•°é‡\n\n\nåŒ»ç–—æœåŠ¡\nå°±è¯Šæ¬¡æ•°ã€ä½é™¢å¤©æ•°\n\n\nè¡Œä¸ºç ”ç©¶\nå¸çƒŸæ”¯æ•°ã€ç¼ºå‹¤å¤©æ•°\n\n\n\n\n\n\nè®¡æ•°æ•°æ®\n    â”‚\n    â”œâ”€â”€ æ–¹å·® â‰ˆ å‡å€¼ï¼Ÿ â”€â”€Yesâ”€â”€â†’ Poisson å›å½’\n    â”‚\n    â””â”€â”€ æ–¹å·® &gt; å‡å€¼ï¼Ÿ â”€â”€Yesâ”€â”€â†’ è´ŸäºŒé¡¹å›å½’ï¼ˆè¿‡ç¦»æ•£ï¼‰\n         â”‚\n         â””â”€â”€ é›¶å€¼è¿‡å¤šï¼Ÿ â”€Yesâ”€â†’ é›¶è†¨èƒ€æ¨¡å‹ï¼ˆZIP/ZINBï¼‰\n\n\n\nPoisson å›å½’ï¼š \\[\\log(\\mu) = \\beta_0 + \\beta_1 X_1 + \\cdots \\quad \\text{å…¶ä¸­ } Y \\sim \\text{Poisson}(\\mu)\\]\nè´ŸäºŒé¡¹å›å½’ï¼š \\[\\log(\\mu) = \\beta_0 + \\beta_1 X_1 + \\cdots \\quad \\text{å…¶ä¸­ } Y \\sim \\text{NegBin}(\\mu, \\theta)\\]\nå›å½’ç³»æ•°è§£è¯»ï¼š\\(e^{\\beta_i}\\) = å‘ç—…ç‡æ¯”ï¼ˆIRR, Incidence Rate Ratioï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1026-poisson.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(MASS) # è´ŸäºŒé¡¹å›å½’\nlibrary(pscl) # é›¶è†¨èƒ€æ¨¡å‹\nlibrary(AER) # è¿‡ç¦»æ•£æ£€éªŒ\nlibrary(performance) # æ¨¡å‹è¯Šæ–­\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(broom) # æ¨¡å‹æ•´ç†\nlibrary(gtsummary) # ç»“æœè¡¨æ ¼\nlibrary(ggplot2) # å¯è§†åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#æ•°æ®å‡†å¤‡",
    "href": "1026-poisson.html#æ•°æ®å‡†å¤‡",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\nä½¿ç”¨æ¨¡æ‹Ÿçš„åŒ»ç–—åˆ©ç”¨æ•°æ®ï¼š\n\n# æ¨¡æ‹Ÿæ•°æ®ï¼šå¹´åº¦å°±è¯Šæ¬¡æ•°\nset.seed(2024)\nn &lt;- 800\n\nvisit_data &lt;- tibble(\n    id = 1:n,\n    age = round(runif(n, 20, 80)),\n    sex = factor(sample(c(\"ç”·\", \"å¥³\"), n, replace = TRUE)),\n    chronic = rbinom(n, 3, 0.3), # æ…¢æ€§ç—…æ•°é‡\n    insurance = factor(sample(c(\"æ— \", \"åŸºæœ¬\", \"å•†ä¸š\"), n,\n        replace = TRUE,\n        prob = c(0.2, 0.5, 0.3)\n    )),\n    income = round(rnorm(n, 50, 20)) # æ”¶å…¥ï¼ˆåƒå…ƒï¼‰\n) |&gt;\n    mutate(\n        # ç”Ÿæˆå°±è¯Šæ¬¡æ•°ï¼ˆPoisson åˆ†å¸ƒï¼Œå­˜åœ¨è¿‡ç¦»æ•£ï¼‰\n        log_mu = -0.5 +\n            0.02 * age +\n            0.2 * (sex == \"å¥³\") +\n            0.5 * chronic +\n            0.3 * (insurance == \"åŸºæœ¬\") +\n            0.6 * (insurance == \"å•†ä¸š\") -\n            0.01 * income,\n\n        # æ·»åŠ è¿‡ç¦»æ•£\n        mu = exp(log_mu) * exp(rnorm(n, 0, 0.5)),\n        visits = rpois(n, lambda = mu)\n    ) |&gt;\n    mutate(visits = pmin(visits, 20)) # é™åˆ¶æœ€å¤§å€¼\n\n# æŸ¥çœ‹æ•°æ®\nglimpse(visit_data)\n\nRows: 800\nColumns: 9\n$ id        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1â€¦\n$ age       &lt;dbl&gt; 70, 39, 61, 62, 47, 62, 45, 38, 73, 27, 74, 77, 62, 51, 47, â€¦\n$ sex       &lt;fct&gt; ç”·, ç”·, ç”·, ç”·, å¥³, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, ç”·, ç”·, ç”·, å¥³, ç”·, å¥³, å¥³, å¥³, ç”·, â€¦\n$ chronic   &lt;int&gt; 1, 3, 1, 1, 2, 2, 0, 0, 0, 2, 2, 1, 0, 1, 0, 1, 1, 0, 2, 1, â€¦\n$ insurance &lt;fct&gt; åŸºæœ¬, åŸºæœ¬, å•†ä¸š, åŸºæœ¬, åŸºæœ¬, å•†ä¸š, æ— , åŸºæœ¬, åŸºæœ¬, åŸºæœ¬, åŸºæœ¬, å•†ä¸š, åŸºæœ¬, æ— , å•†ä¸š, å•†ä¸šâ€¦\n$ income    &lt;dbl&gt; 60, 87, 30, 37, 31, 34, 67, 27, 46, 16, 31, 55, 80, 66, 64, â€¦\n$ log_mu    &lt;dbl&gt; 1.10, 1.21, 1.52, 1.17, 1.63, 2.20, -0.27, 0.49, 1.00, 1.38,â€¦\n$ mu        &lt;dbl&gt; 2.6256991, 4.4162407, 2.7385602, 2.9103810, 3.3281252, 15.75â€¦\n$ visits    &lt;dbl&gt; 3, 2, 4, 2, 3, 19, 0, 2, 1, 11, 14, 6, 3, 0, 2, 9, 2, 3, 3, â€¦\n\n# ç»“å±€åˆ†å¸ƒ\ntable(visit_data$visits)\n\n\n  0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  19  20 \n133 140 144 119  77  50  30  26  15  11  14  10   9   3   6   1   2   1   2   7 \n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# å°±è¯Šæ¬¡æ•°åˆ†å¸ƒ\nggplot(visit_data, aes(x = visits)) +\n    geom_histogram(binwidth = 1, fill = \"#4f46e5\", color = \"white\", alpha = 0.8) +\n    labs(\n        title = \"å¹´åº¦å°±è¯Šæ¬¡æ•°åˆ†å¸ƒ\",\n        x = \"å°±è¯Šæ¬¡æ•°\",\n        y = \"é¢‘æ•°\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n# æ£€æŸ¥å‡å€¼å’Œæ–¹å·®\ncat(\"å‡å€¼:\", round(mean(visit_data$visits), 2), \"\\n\")\n\nå‡å€¼: 3.31 \n\ncat(\"æ–¹å·®:\", round(var(visit_data$visits), 2), \"\\n\")\n\næ–¹å·®: 12.33 \n\ncat(\"æ–¹å·®/å‡å€¼æ¯”:\", round(var(visit_data$visits) / mean(visit_data$visits), 2), \"\\n\")\n\næ–¹å·®/å‡å€¼æ¯”: 3.73 \n\n# æ¯”å€¼ &gt; 1 æç¤ºè¿‡ç¦»æ•£",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#poisson-å›å½’",
    "href": "1026-poisson.html#poisson-å›å½’",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "Poisson å›å½’",
    "text": "Poisson å›å½’\n\næ¨¡å‹æ‹Ÿåˆ\n\n# æ‹Ÿåˆ Poisson å›å½’\npois_model &lt;- glm(\n    visits ~ age + sex + chronic + insurance + income,\n    data = visit_data,\n    family = poisson(link = \"log\")\n)\n\nsummary(pois_model)\n\n\nCall:\nglm(formula = visits ~ age + sex + chronic + insurance + income, \n    family = poisson(link = \"log\"), data = visit_data)\n\nCoefficients:\n               Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   -0.100855   0.093363  -1.080  0.28003    \nage            0.018205   0.001164  15.644  &lt; 2e-16 ***\nsexå¥³          0.153304   0.039064   3.924 8.69e-05 ***\nchronic        0.534433   0.022469  23.785  &lt; 2e-16 ***\ninsuranceå•†ä¸š  0.457244   0.042523  10.753  &lt; 2e-16 ***\ninsuranceæ—    -0.149484   0.057944  -2.580  0.00989 ** \nincome        -0.009631   0.001021  -9.433  &lt; 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 2565.2  on 799  degrees of freedom\nResidual deviance: 1475.9  on 793  degrees of freedom\nAIC: 3482.1\n\nNumber of Fisher Scoring iterations: 5\n\n\n\n\nå‘ç—…ç‡æ¯” (IRR)\n\n# æå– IRR åŠç½®ä¿¡åŒºé—´\ntidy(pois_model, conf.int = TRUE, exponentiate = TRUE) |&gt;\n    filter(term != \"(Intercept)\") |&gt;\n    select(term, IRR = estimate, conf.low, conf.high, p.value) |&gt;\n    mutate(across(c(IRR, conf.low, conf.high), ~ round(.x, 3)))\n\n# A tibble: 6 Ã— 5\n  term            IRR conf.low conf.high   p.value\n  &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 age           1.02     1.02      1.02  3.63e- 55\n2 sexå¥³         1.17     1.08      1.26  8.69e-  5\n3 chronic       1.71     1.63      1.78  4.75e-125\n4 insuranceå•†ä¸š 1.58     1.45      1.72  5.74e- 27\n5 insuranceæ—    0.861    0.768     0.964 9.89e-  3\n6 income        0.99     0.988     0.992 3.99e- 21\n\n\n\n\næ•´æ´è¾“å‡º\n\npois_model |&gt;\n    tbl_regression(\n        exponentiate = TRUE,\n        label = list(\n            age ~ \"å¹´é¾„\",\n            sex ~ \"æ€§åˆ«\",\n            chronic ~ \"æ…¢æ€§ç—…æ•°é‡\",\n            insurance ~ \"ä¿é™©ç±»å‹\",\n            income ~ \"æ”¶å…¥ï¼ˆåƒå…ƒï¼‰\"\n        )\n    ) |&gt;\n    bold_p() |&gt;\n    modify_header(label = \"**å˜é‡**\", estimate = \"**IRR**\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nIRR\n95% CI\np-value\n\n\n\n\nå¹´é¾„\n1.02\n1.02, 1.02\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n\n\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n1.17\n1.08, 1.26\n&lt;0.001\n\n\næ…¢æ€§ç—…æ•°é‡\n1.71\n1.63, 1.78\n&lt;0.001\n\n\nä¿é™©ç±»å‹\n\n\n\n\n\n\n\n\nÂ Â Â Â åŸºæœ¬\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å•†ä¸š\n1.58\n1.45, 1.72\n&lt;0.001\n\n\nÂ Â Â Â æ— \n0.86\n0.77, 0.96\n0.010\n\n\næ”¶å…¥ï¼ˆåƒå…ƒï¼‰\n0.99\n0.99, 0.99\n&lt;0.001\n\n\n\nAbbreviations: CI = Confidence Interval, IRR = Incidence Rate Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#è¿‡ç¦»æ•£æ£€éªŒ",
    "href": "1026-poisson.html#è¿‡ç¦»æ•£æ£€éªŒ",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "è¿‡ç¦»æ•£æ£€éªŒ",
    "text": "è¿‡ç¦»æ•£æ£€éªŒ\n\næ–¹æ³• 1ï¼šæ®‹å·®ç¦»æ•£å‚æ•°\n\n# è®¡ç®—è¿‡ç¦»æ•£å‚æ•°\nn_obs &lt;- nrow(visit_data)\nn_params &lt;- length(coef(pois_model))\n\n# Pearson æ®‹å·®\npearson_resid &lt;- residuals(pois_model, type = \"pearson\")\ndispersion &lt;- sum(pearson_resid^2) / (n_obs - n_params)\n\ncat(\"ç¦»æ•£å‚æ•°:\", round(dispersion, 3), \"\\n\")\n\nç¦»æ•£å‚æ•°: 1.903 \n\n# æ˜¾è‘— &gt; 1 æç¤ºè¿‡ç¦»æ•£\n\n\n\næ–¹æ³• 2ï¼šAER åŒ…æ£€éªŒ\n\n# æ­£å¼çš„è¿‡ç¦»æ•£æ£€éªŒ\ndispersiontest(pois_model)\n\n\n    Overdispersion test\n\ndata:  pois_model\nz = 6.6702, p-value = 1.277e-11\nalternative hypothesis: true dispersion is greater than 1\nsample estimates:\ndispersion \n  1.893057 \n\n# p &lt; 0.05 æ‹’ç» \"æ— è¿‡ç¦»æ•£\" åŸå‡è®¾\n\n\n\næ–¹æ³• 3ï¼šå¯è§†åŒ–æ£€éªŒ\n\n# è§‚å¯Ÿå€¼ vs æ¨¡å‹é¢„æµ‹\nvisit_data$fitted_pois &lt;- fitted(pois_model)\n\nggplot(visit_data, aes(x = fitted_pois, y = visits)) +\n    geom_jitter(alpha = 0.4, color = \"#4f46e5\", width = 0.2, height = 0.2) +\n    geom_abline(slope = 1, intercept = 0, color = \"red\", linetype = \"dashed\") +\n    labs(\n        title = \"è§‚å¯Ÿå€¼ vs é¢„æµ‹å€¼\",\n        x = \"Poisson æ¨¡å‹é¢„æµ‹å€¼\",\n        y = \"å®é™…å°±è¯Šæ¬¡æ•°\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#è´ŸäºŒé¡¹å›å½’",
    "href": "1026-poisson.html#è´ŸäºŒé¡¹å›å½’",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "è´ŸäºŒé¡¹å›å½’",
    "text": "è´ŸäºŒé¡¹å›å½’\nå½“å­˜åœ¨è¿‡ç¦»æ•£æ—¶ï¼Œä½¿ç”¨è´ŸäºŒé¡¹åˆ†å¸ƒï¼š\n\n# æ‹Ÿåˆè´ŸäºŒé¡¹å›å½’\nnb_model &lt;- glm.nb(\n    visits ~ age + sex + chronic + insurance + income,\n    data = visit_data\n)\n\nsummary(nb_model)\n\n\nCall:\nglm.nb(formula = visits ~ age + sex + chronic + insurance + income, \n    data = visit_data, init.theta = 4.232512845, link = log)\n\nCoefficients:\n               Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   -0.102368   0.125472  -0.816  0.41458    \nage            0.018353   0.001596  11.496  &lt; 2e-16 ***\nsexå¥³          0.157906   0.054640   2.890  0.00385 ** \nchronic        0.543248   0.032946  16.489  &lt; 2e-16 ***\ninsuranceå•†ä¸š  0.451984   0.060441   7.478 7.54e-14 ***\ninsuranceæ—    -0.169898   0.076867  -2.210  0.02709 *  \nincome        -0.009902   0.001430  -6.926 4.33e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for Negative Binomial(4.2325) family taken to be 1)\n\n    Null deviance: 1475.5  on 799  degrees of freedom\nResidual deviance:  888.4  on 793  degrees of freedom\nAIC: 3304\n\nNumber of Fisher Scoring iterations: 1\n\n              Theta:  4.233 \n          Std. Err.:  0.524 \n\n 2 x log-likelihood:  -3287.960 \n\n\n\n# æŸ¥çœ‹ç¦»æ•£å‚æ•° theta\ncat(\"theta:\", nb_model$theta, \"\\n\")\n\ntheta: 4.232513 \n\ncat(\"æ ‡å‡†è¯¯:\", nb_model$SE.theta, \"\\n\")\n\næ ‡å‡†è¯¯: 0.5241768 \n\n# theta è¶Šå°ï¼Œè¿‡ç¦»æ•£è¶Šä¸¥é‡\n\n\nè´ŸäºŒé¡¹ vs Poisson æ¯”è¾ƒ\n\n# ä½¿ç”¨ AIC æ¯”è¾ƒ\nAIC(pois_model, nb_model)\n\n           df      AIC\npois_model  7 3482.087\nnb_model    8 3303.960\n\n# ä¼¼ç„¶æ¯”æ£€éªŒ\nlrtest &lt;- 2 * (logLik(nb_model) - logLik(pois_model))\np_value &lt;- pchisq(lrtest, df = 1, lower.tail = FALSE)\ncat(\"ä¼¼ç„¶æ¯”æ£€éªŒ p å€¼:\", format.pval(p_value, digits = 3), \"\\n\")\n\nä¼¼ç„¶æ¯”æ£€éªŒ p å€¼: &lt;2e-16 \n\n\n\n\nè´ŸäºŒé¡¹å›å½’ç»“æœ\n\nnb_model |&gt;\n    tbl_regression(\n        exponentiate = TRUE,\n        label = list(\n            age ~ \"å¹´é¾„\",\n            sex ~ \"æ€§åˆ«\",\n            chronic ~ \"æ…¢æ€§ç—…æ•°é‡\",\n            insurance ~ \"ä¿é™©ç±»å‹\",\n            income ~ \"æ”¶å…¥ï¼ˆåƒå…ƒï¼‰\"\n        )\n    ) |&gt;\n    add_significance_stars() |&gt;\n    modify_header(label = \"**å˜é‡**\", estimate = \"**IRR**\")\n\n\n\n\n\n\n\n\n\n\n\n\nå˜é‡\nIRR1\nSE\n\n\n\n\nå¹´é¾„\n1.02***\n0.002\n\n\næ€§åˆ«\n\n\n\n\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\nÂ Â Â Â å¥³\n1.17**\n0.055\n\n\næ…¢æ€§ç—…æ•°é‡\n1.72***\n0.033\n\n\nä¿é™©ç±»å‹\n\n\n\n\n\n\nÂ Â Â Â åŸºæœ¬\nâ€”\nâ€”\n\n\nÂ Â Â Â å•†ä¸š\n1.57***\n0.060\n\n\nÂ Â Â Â æ— \n0.84*\n0.077\n\n\næ”¶å…¥ï¼ˆåƒå…ƒï¼‰\n0.99***\n0.001\n\n\n\n1 p&lt;0.05; p&lt;0.01; p&lt;0.001\n\n\nAbbreviations: CI = Confidence Interval, IRR = Incidence Rate Ratio, SE = Standard Error",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#é›¶è†¨èƒ€æ¨¡å‹",
    "href": "1026-poisson.html#é›¶è†¨èƒ€æ¨¡å‹",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "é›¶è†¨èƒ€æ¨¡å‹",
    "text": "é›¶è†¨èƒ€æ¨¡å‹\nå½“é›¶å€¼è¿‡å¤šæ—¶ï¼ˆè¶…è¿‡ Poisson/è´ŸäºŒé¡¹é¢„æœŸï¼‰ï¼Œä½¿ç”¨é›¶è†¨èƒ€æ¨¡å‹ã€‚\n\næ£€éªŒé›¶å€¼è¿‡å¤š\n\n# è§‚å¯Ÿé›¶å€¼æ¯”ä¾‹\nzero_observed &lt;- mean(visit_data$visits == 0)\n\n# Poisson æ¨¡å‹é¢„æœŸçš„é›¶å€¼æ¯”ä¾‹\nzero_expected_pois &lt;- mean(dpois(0, fitted(pois_model)))\n\n# è´ŸäºŒé¡¹é¢„æœŸçš„é›¶å€¼æ¯”ä¾‹\nzero_expected_nb &lt;- mean(dnbinom(0, mu = fitted(nb_model), size = nb_model$theta))\n\ncat(\"è§‚å¯Ÿé›¶å€¼æ¯”ä¾‹:\", round(zero_observed * 100, 1), \"%\\n\")\n\nè§‚å¯Ÿé›¶å€¼æ¯”ä¾‹: 16.6 %\n\ncat(\"Poisson é¢„æœŸ:\", round(zero_expected_pois * 100, 1), \"%\\n\")\n\nPoisson é¢„æœŸ: 11.3 %\n\ncat(\"è´ŸäºŒé¡¹é¢„æœŸ:\", round(zero_expected_nb * 100, 1), \"%\\n\")\n\nè´ŸäºŒé¡¹é¢„æœŸ: 16 %\n\n\n\n\né›¶è†¨èƒ€ Poisson (ZIP)\n\n# é›¶è†¨èƒ€ Poisson æ¨¡å‹\nzip_model &lt;- zeroinfl(\n    visits ~ age + sex + chronic + insurance + income |\n        chronic + insurance, # é›¶è†¨èƒ€éƒ¨åˆ†çš„é¢„æµ‹å˜é‡\n    data = visit_data,\n    dist = \"poisson\"\n)\n\nsummary(zip_model)\n\n\nCall:\nzeroinfl(formula = visits ~ age + sex + chronic + insurance + income | \n    chronic + insurance, data = visit_data, dist = \"poisson\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-2.3680 -0.8888 -0.2849  0.5524  6.7491 \n\nCount model coefficients (poisson with log link):\n               Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)    0.010637   0.097094   0.110 0.912761    \nage            0.018078   0.001202  15.038  &lt; 2e-16 ***\nsexå¥³          0.154005   0.040058   3.845 0.000121 ***\nchronic        0.476440   0.024271  19.630  &lt; 2e-16 ***\ninsuranceå•†ä¸š  0.433576   0.044523   9.738  &lt; 2e-16 ***\ninsuranceæ—    -0.147719   0.062056  -2.380 0.017294 *  \nincome        -0.009093   0.001039  -8.753  &lt; 2e-16 ***\n\nZero-inflation model coefficients (binomial with logit link):\n              Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)    -1.5463     0.3060  -5.054 4.34e-07 ***\nchronic        -1.6892     0.4521  -3.737 0.000187 ***\ninsuranceå•†ä¸š  -0.4877     0.4990  -0.977 0.328345    \ninsuranceæ—      0.2234     0.5678   0.393 0.694002    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nNumber of iterations in BFGS optimization: 18 \nLog-likelihood: -1715 on 11 Df\n\n\n\n\né›¶è†¨èƒ€è´ŸäºŒé¡¹ (ZINB)\n\n# é›¶è†¨èƒ€è´ŸäºŒé¡¹æ¨¡å‹\nzinb_model &lt;- zeroinfl(\n    visits ~ age + sex + chronic + insurance + income |\n        chronic + insurance,\n    data = visit_data,\n    dist = \"negbin\"\n)\n\nsummary(zinb_model)\n\n\nCall:\nzeroinfl(formula = visits ~ age + sex + chronic + insurance + income | \n    chronic + insurance, data = visit_data, dist = \"negbin\")\n\nPearson residuals:\n    Min      1Q  Median      3Q     Max \n-1.5813 -0.7646 -0.2429  0.4725  5.0418 \n\nCount model coefficients (negbin with log link):\n               Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   -0.050550   0.125108  -0.404  0.68617    \nage            0.018443   0.001593  11.580  &lt; 2e-16 ***\nsexå¥³          0.157523   0.054189   2.907  0.00365 ** \nchronic        0.505921   0.035358  14.309  &lt; 2e-16 ***\ninsuranceå•†ä¸š  0.442216   0.061320   7.212 5.53e-13 ***\ninsuranceæ—    -0.163720   0.078923  -2.074  0.03804 *  \nincome        -0.009695   0.001404  -6.907 4.94e-12 ***\nLog(theta)     1.539889   0.132239  11.645  &lt; 2e-16 ***\n\nZero-inflation model coefficients (binomial with logit link):\n              Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)    -2.2545     0.6072  -3.713 0.000205 ***\nchronic        -9.8971    77.2154  -0.128 0.898011    \ninsuranceå•†ä¸š  -0.4379     1.0229  -0.428 0.668626    \ninsuranceæ—      0.3481     1.0506   0.331 0.740390    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 \n\nTheta = 4.6641 \nNumber of iterations in BFGS optimization: 26 \nLog-likelihood: -1641 on 12 Df\n\n\n\n\næ¨¡å‹æ¯”è¾ƒ\n\n# Vuong æ£€éªŒï¼šæ¯”è¾ƒé›¶è†¨èƒ€æ¨¡å‹ä¸æ ‡å‡†æ¨¡å‹\nvuong(zip_model, pois_model)\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A   p-value\nRaw                   2.6247360 model1 &gt; model2 0.0043358\nAIC-corrected         2.0872706 model1 &gt; model2 0.0184318\nBIC-corrected         0.8283623 model1 &gt; model2 0.2037327\n\nvuong(zinb_model, nb_model)\n\nVuong Non-Nested Hypothesis Test-Statistic: \n(test-statistic is asymptotically distributed N(0,1) under the\n null that the models are indistinguishible)\n-------------------------------------------------------------\n              Vuong z-statistic             H_A    p-value\nRaw                    1.225645 model1 &gt; model2    0.11017\nAIC-corrected         -0.361933 model2 &gt; model1    0.35870\nBIC-corrected         -4.080527 model2 &gt; model1 2.2467e-05\n\n# AIC æ¯”è¾ƒ\nAIC(pois_model, nb_model, zip_model, zinb_model)\n\n           df      AIC\npois_model  7 3482.087\nnb_model    8 3303.960\nzip_model  11 3451.018\nzinb_model 12 3305.784",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#æš´éœ²æ—¶é—´è°ƒæ•´rate-æ¨¡å‹",
    "href": "1026-poisson.html#æš´éœ²æ—¶é—´è°ƒæ•´rate-æ¨¡å‹",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "æš´éœ²æ—¶é—´è°ƒæ•´ï¼ˆRate æ¨¡å‹ï¼‰",
    "text": "æš´éœ²æ—¶é—´è°ƒæ•´ï¼ˆRate æ¨¡å‹ï¼‰\nå½“è§‚å¯Ÿæ—¶é—´ä¸åŒæ—¶ï¼Œéœ€è¦ä½¿ç”¨åç§»é‡ï¼ˆoffsetï¼‰ï¼š\n\n# æ·»åŠ éšè®¿æ—¶é—´\nvisit_data &lt;- visit_data |&gt;\n    mutate(\n        followup_years = runif(n, 0.5, 2) # éšè®¿æ—¶é—´ï¼ˆå¹´ï¼‰\n    )\n\n# ä½¿ç”¨ offset è°ƒæ•´æš´éœ²æ—¶é—´\npois_rate &lt;- glm(\n    visits ~ age + sex + chronic + insurance + offset(log(followup_years)),\n    data = visit_data,\n    family = poisson\n)\n\nsummary(pois_rate)\n\n\nCall:\nglm(formula = visits ~ age + sex + chronic + insurance + offset(log(followup_years)), \n    family = poisson, data = visit_data)\n\nCoefficients:\n               Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   -0.744336   0.080359  -9.263  &lt; 2e-16 ***\nage            0.017713   0.001174  15.085  &lt; 2e-16 ***\nsexå¥³          0.149779   0.039073   3.833 0.000126 ***\nchronic        0.518782   0.022418  23.142  &lt; 2e-16 ***\ninsuranceå•†ä¸š  0.471642   0.042386  11.127  &lt; 2e-16 ***\ninsuranceæ—    -0.151766   0.057893  -2.621 0.008755 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for poisson family taken to be 1)\n\n    Null deviance: 2795.2  on 799  degrees of freedom\nResidual deviance: 1834.2  on 794  degrees of freedom\nAIC: 3838.4\n\nNumber of Fisher Scoring iterations: 5\n\n\n\n# ç»“æœè§£è¯»ä¸ºå‘ç—…ç‡æ¯”ï¼ˆæ¯äººå¹´ï¼‰\ntidy(pois_rate, conf.int = TRUE, exponentiate = TRUE) |&gt;\n    filter(term != \"(Intercept)\") |&gt;\n    select(term, IRR = estimate, conf.low, conf.high, p.value)\n\n# A tibble: 5 Ã— 5\n  term            IRR conf.low conf.high   p.value\n  &lt;chr&gt;         &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1 age           1.02     1.02      1.02  2.02e- 51\n2 sexå¥³         1.16     1.08      1.25  1.26e-  4\n3 chronic       1.68     1.61      1.76  1.77e-118\n4 insuranceå•†ä¸š 1.60     1.47      1.74  9.25e- 29\n5 insuranceæ—    0.859    0.766     0.962 8.75e-  3",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#æ¨¡å‹è¯Šæ–­",
    "href": "1026-poisson.html#æ¨¡å‹è¯Šæ–­",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\næ®‹å·®åˆ†æ\n\n# Deviance æ®‹å·®\nvisit_data$resid_dev &lt;- residuals(nb_model, type = \"deviance\")\n\nggplot(visit_data, aes(x = fitted(nb_model), y = resid_dev)) +\n    geom_point(alpha = 0.4, color = \"#4f46e5\") +\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"red\") +\n    geom_smooth(method = \"loess\", color = \"#10b981\", se = FALSE) +\n    labs(\n        title = \"Deviance æ®‹å·® vs æ‹Ÿåˆå€¼\",\n        x = \"æ‹Ÿåˆå€¼\",\n        y = \"Deviance æ®‹å·®\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nç»¼åˆè¯Šæ–­\n\ncheck_model(nb_model, check = c(\"qq\", \"outliers\", \"homogeneity\"))\n\n\n\n\n\n\n\n\n\n\nå½±å“è¯Šæ–­\n\n# Cook's è·ç¦»\nvisit_data$cooks_d &lt;- cooks.distance(nb_model)\n\n# è¯†åˆ«é«˜å½±å“åŠ›è§‚æµ‹\nhigh_influence &lt;- which(visit_data$cooks_d &gt; 4 / nrow(visit_data))\ncat(\"é«˜å½±å“åŠ›è§‚æµ‹æ•°é‡:\", length(high_influence), \"\\n\")\n\né«˜å½±å“åŠ›è§‚æµ‹æ•°é‡: 36",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#é¢„æµ‹",
    "href": "1026-poisson.html#é¢„æµ‹",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "é¢„æµ‹",
    "text": "é¢„æµ‹\n\nä¸ªä½“é¢„æµ‹\n\n# æ–°æ•°æ®é¢„æµ‹\nnew_data &lt;- tibble(\n    age = c(40, 60, 80),\n    sex = factor(c(\"ç”·\", \"å¥³\", \"ç”·\"), levels = levels(visit_data$sex)),\n    chronic = c(0, 1, 2),\n    insurance = factor(c(\"æ— \", \"åŸºæœ¬\", \"å•†ä¸š\"), levels = levels(visit_data$insurance)),\n    income = c(60, 50, 40)\n)\n\n# é¢„æµ‹æœŸæœ›å€¼\npred &lt;- predict(nb_model, newdata = new_data, type = \"response\", se.fit = TRUE)\n\nnew_data |&gt;\n    mutate(\n        predicted = round(pred$fit, 2),\n        se = round(pred$se.fit, 2),\n        lower = round(pred$fit - 1.96 * pred$se.fit, 2),\n        upper = round(pred$fit + 1.96 * pred$se.fit, 2)\n    )\n\n# A tibble: 3 Ã— 9\n    age sex   chronic insurance income predicted    se lower upper\n  &lt;dbl&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1    40 ç”·          0 æ—             60      0.88  0.08  0.73  1.02\n2    60 å¥³          1 åŸºæœ¬          50      3.34  0.16  3.02  3.66\n3    80 ç”·          2 å•†ä¸š          40     12.3   0.94 10.4  14.1 \n\n\n\n\nè¾¹é™…æ•ˆåº”å¯è§†åŒ–\n\n# å¹´é¾„çš„è¾¹é™…æ•ˆåº”\nlibrary(ggeffects)\n\npred_age &lt;- ggpredict(nb_model, terms = \"age [20:80]\")\n\nplot(pred_age) +\n    labs(\n        title = \"å¹´é¾„ä¸é¢„æµ‹å°±è¯Šæ¬¡æ•°çš„å…³ç³»\",\n        x = \"å¹´é¾„\",\n        y = \"é¢„æµ‹å°±è¯Šæ¬¡æ•°\"\n    ) +\n    theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n# å¤šå˜é‡é¢„æµ‹å›¾\npred_chronic &lt;- ggpredict(nb_model, terms = c(\"chronic [0:3]\", \"insurance\"))\n\nplot(pred_chronic) +\n    labs(\n        title = \"æ…¢æ€§ç—…æ•°é‡ä¸å°±è¯Šæ¬¡æ•°ï¼ˆæŒ‰ä¿é™©ç±»å‹ï¼‰\",\n        x = \"æ…¢æ€§ç—…æ•°é‡\",\n        y = \"é¢„æµ‹å°±è¯Šæ¬¡æ•°\",\n        color = \"ä¿é™©ç±»å‹\"\n    ) +\n    theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#ç¨³å¥æ ‡å‡†è¯¯",
    "href": "1026-poisson.html#ç¨³å¥æ ‡å‡†è¯¯",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "ç¨³å¥æ ‡å‡†è¯¯",
    "text": "ç¨³å¥æ ‡å‡†è¯¯\n\nlibrary(sandwich)\nlibrary(lmtest)\n\n# ä½¿ç”¨ç¨³å¥æ ‡å‡†è¯¯\ncoeftest(nb_model, vcov = vcovHC(nb_model, type = \"HC1\"))\n\n\nz test of coefficients:\n\n                Estimate Std. Error z value  Pr(&gt;|z|)    \n(Intercept)   -0.1023680  0.1295706 -0.7901  0.429495    \nage            0.0183534  0.0016220 11.3151 &lt; 2.2e-16 ***\nsexå¥³          0.1579062  0.0567742  2.7813  0.005414 ** \nchronic        0.5432478  0.0329738 16.4751 &lt; 2.2e-16 ***\ninsuranceå•†ä¸š  0.4519842  0.0641486  7.0459 1.843e-12 ***\ninsuranceæ—    -0.1698983  0.0732351 -2.3199  0.020346 *  \nincome        -0.0099020  0.0014155 -6.9953 2.648e-12 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#æŠ¥å‘Šæ ¼å¼",
    "href": "1026-poisson.html#æŠ¥å‘Šæ ¼å¼",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "æŠ¥å‘Šæ ¼å¼",
    "text": "æŠ¥å‘Šæ ¼å¼\n\n# å®Œæ•´æŠ¥å‘Šè¡¨æ ¼\nnb_model |&gt;\n    tbl_regression(\n        exponentiate = TRUE,\n        label = list(\n            age ~ \"å¹´é¾„ï¼ˆæ¯å¢åŠ 1å²ï¼‰\",\n            sex ~ \"æ€§åˆ«\",\n            chronic ~ \"æ…¢æ€§ç—…æ•°é‡ï¼ˆæ¯å¢åŠ 1ç§ï¼‰\",\n            insurance ~ \"ä¿é™©ç±»å‹\",\n            income ~ \"æ”¶å…¥ï¼ˆæ¯å¢åŠ 1åƒå…ƒï¼‰\"\n        ),\n        pvalue_fun = ~ style_pvalue(.x, digits = 3)\n    ) |&gt;\n    add_global_p() |&gt;\n    add_glance_table(include = c(AIC, BIC, nobs)) |&gt;\n    modify_header(label = \"**å˜é‡**\", estimate = \"**IRR**\") |&gt;\n    modify_caption(\"**è¡¨. è´ŸäºŒé¡¹å›å½’åˆ†æç»“æœ**\") |&gt;\n    modify_footnote(estimate = \"IRR = å‘ç—…ç‡æ¯”\")\n\n\n\n\n\nè¡¨. è´ŸäºŒé¡¹å›å½’åˆ†æç»“æœ\n\n\n\n\n\n\n\n\nå˜é‡\nIRR1\n95% CI\np-value\n\n\n\n\nå¹´é¾„ï¼ˆæ¯å¢åŠ 1å²ï¼‰\n1.02\n1.02, 1.02\n&lt;0.001\n\n\næ€§åˆ«\n\n\n\n\n0.004\n\n\nÂ Â Â Â ç”·\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å¥³\n1.17\n1.05, 1.30\n\n\n\n\næ…¢æ€§ç—…æ•°é‡ï¼ˆæ¯å¢åŠ 1ç§ï¼‰\n1.72\n1.61, 1.84\n&lt;0.001\n\n\nä¿é™©ç±»å‹\n\n\n\n\n&lt;0.001\n\n\nÂ Â Â Â åŸºæœ¬\nâ€”\nâ€”\n\n\n\n\nÂ Â Â Â å•†ä¸š\n1.57\n1.40, 1.77\n\n\n\n\nÂ Â Â Â æ— \n0.84\n0.73, 0.98\n\n\n\n\næ”¶å…¥ï¼ˆæ¯å¢åŠ 1åƒå…ƒï¼‰\n0.99\n0.99, 0.99\n&lt;0.001\n\n\nAIC\n3,304\n\n\n\n\n\n\nBIC\n3,341\n\n\n\n\n\n\nNo. Obs.\n800\n\n\n\n\n\n\n\n1 IRR = å‘ç—…ç‡æ¯”\n\n\nAbbreviations: CI = Confidence Interval, IRR = Incidence Rate Ratio",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1026-poisson.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. Poisson vs è´ŸäºŒé¡¹é€‰æ‹©\n\n\n\nPoisson\nè´ŸäºŒé¡¹\n\n\n\n\næ–¹å·® = å‡å€¼\næ–¹å·® &gt; å‡å€¼\n\n\næ— è¿‡ç¦»æ•£\nå­˜åœ¨è¿‡ç¦»æ•£\n\n\næ›´ç®€æ´\næ›´çµæ´»\n\n\nè®¡ç®—æ›´å¿«\né¢å¤–ä¼°è®¡ Î¸\n\n\n\n\n\n2. é›¶è†¨èƒ€æ¨¡å‹çš„ä½¿ç”¨\n# ä»…å½“ä»¥ä¸‹æ¡ä»¶æ»¡è¶³æ—¶ä½¿ç”¨ï¼š\n# 1. é›¶å€¼æ¯”ä¾‹æ˜æ˜¾é«˜äºæ¨¡å‹é¢„æœŸ\n# 2. å­˜åœ¨æ˜ç¡®çš„\"ç»“æ„æ€§é›¶\"ï¼ˆæ°¸è¿œä¸ä¼šå‘ç”Ÿï¼‰\n# 3. æ™®é€šæ¨¡å‹æ— æ³•å¾ˆå¥½æ‹Ÿåˆ\n\n# ä¾‹å¦‚ï¼šä»ä¸å¸çƒŸè€…çš„å¸çƒŸé‡ï¼ˆç»“æ„æ€§é›¶ï¼‰\n\n\n3. æš´éœ²æ—¶é—´å·®å¼‚\n# å¿…é¡»ä½¿ç”¨ offset è°ƒæ•´ï¼\n# é”™è¯¯ï¼šglm(events ~ x, family = poisson)\n# æ­£ç¡®ï¼šglm(events ~ x + offset(log(time)), family = poisson)\n\n\n4. ç›¸å¯¹é£é™© vs å‘ç—…ç‡æ¯”\n# Poisson/è´ŸäºŒé¡¹å›å½’ä¼°è®¡çš„æ˜¯ IRRï¼Œä¸æ˜¯ RR\n# å¯¹äºç½•è§äº‹ä»¶ï¼ŒIRR â‰ˆ RR\n# å¯¹äºå¸¸è§äº‹ä»¶ï¼Œä¸¤è€…å¯èƒ½å·®å¼‚è¾ƒå¤§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1026-poisson.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== è®¡æ•°æ•°æ®å›å½’å®Œæ•´æµç¨‹ ==========\n\nlibrary(MASS)\nlibrary(AER)\nlibrary(pscl)\n\n# 1. æ¢ç´¢æ•°æ®\nmean(y)\nvar(y) # æ£€æŸ¥å‡å€¼/æ–¹å·®\ntable(y == 0) # é›¶å€¼æ¯”ä¾‹\n\n# 2. æ‹Ÿåˆ Poisson æ¨¡å‹\npois &lt;- glm(y ~ x1 + x2, family = poisson, data = data)\n\n# 3. æ£€éªŒè¿‡ç¦»æ•£\ndispersiontest(pois)\n\n# 4. å¦‚æœè¿‡ç¦»æ•£ï¼Œæ‹Ÿåˆè´ŸäºŒé¡¹\nnb &lt;- glm.nb(y ~ x1 + x2, data = data)\nAIC(pois, nb)\n\n# 5. æ£€éªŒé›¶è†¨èƒ€\nmean(y == 0)\nmean(dpois(0, fitted(pois)))\n\n# 6. å¦‚éœ€è¦ï¼Œæ‹Ÿåˆé›¶è†¨èƒ€æ¨¡å‹\nzinb &lt;- zeroinfl(y ~ x1 + x2 | z1, dist = \"negbin\", data = data)\n\n# 7. ç»“æœå‘ˆç°\ntbl_regression(nb, exponentiate = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1026-poisson.html#æ€»ç»“",
    "href": "1026-poisson.html#æ€»ç»“",
    "title": "Poisson ä¸è´ŸäºŒé¡¹å›å½’å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\n\n\n\n\n\næ¨¡å‹\né€‚ç”¨æ¡ä»¶\nR å‡½æ•°\n\n\n\n\nPoisson\næ–¹å·®â‰ˆå‡å€¼ï¼Œæ— è¿‡ç¦»æ•£\nglm(..., family = poisson)\n\n\nè´ŸäºŒé¡¹\næ–¹å·®&gt;å‡å€¼ï¼Œå­˜åœ¨è¿‡ç¦»æ•£\nMASS::glm.nb()\n\n\né›¶è†¨èƒ€ Poisson\né›¶å€¼è¿‡å¤š\npscl::zeroinfl(..., dist = \"poisson\")\n\n\né›¶è†¨èƒ€è´ŸäºŒé¡¹\né›¶å€¼è¿‡å¤š + è¿‡ç¦»æ•£\npscl::zeroinfl(..., dist = \"negbin\")\n\n\n\n\næŠ¥å‘Šè®¡æ•°æ•°æ®å›å½’çš„ Checklist\n\næè¿°ç»“å±€å˜é‡åˆ†å¸ƒï¼ˆå‡å€¼ã€æ–¹å·®ã€é›¶å€¼æ¯”ä¾‹ï¼‰\næŠ¥å‘Šè¿‡ç¦»æ•£æ£€éªŒç»“æœ\næ˜ç¡®ä½¿ç”¨çš„æ¨¡å‹ç±»å‹åŠç†ç”±\næŠ¥å‘Š IRR åŠ 95% CI\nå¦‚æœ‰æš´éœ²æ—¶é—´å·®å¼‚ï¼Œè¯´æ˜ offset ä½¿ç”¨\næŠ¥å‘Šæ¨¡å‹æ‹ŸåˆæŒ‡æ ‡ï¼ˆAIC/BICï¼‰\nè¿›è¡Œæ®‹å·®è¯Šæ–­\n\n\n\næ¨èé˜…è¯»\n\nCameron AC, Trivedi PK. Regression Analysis of Count Data (2nd ed.)\nHilbe JM. Negative Binomial Regression (2nd ed.)\nUCLA: è®¡æ•°æ•°æ®å›å½’",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Poisson/è´ŸäºŒé¡¹å›å½’"
    ]
  },
  {
    "objectID": "1028-did.html",
    "href": "1028-did.html",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åŒé‡å·®åˆ†æ³•ï¼ˆDifference-in-Differences, DiDï¼‰ æ˜¯ä¸€ç§å‡†å®éªŒè®¾è®¡æ–¹æ³•ï¼Œç”¨äºä¼°è®¡æ”¿ç­–å¹²é¢„æˆ–äº‹ä»¶çš„å› æœæ•ˆåº”ã€‚å®ƒé€šè¿‡æ¯”è¾ƒå¤„ç†ç»„å’Œå¯¹ç…§ç»„åœ¨å¹²é¢„å‰åçš„å˜åŒ–å·®å¼‚æ¥è¯†åˆ«æ•ˆåº”ã€‚\n\n\n\\[\\text{DiD} = (\\bar{Y}_{treat,post} - \\bar{Y}_{treat,pre}) - (\\bar{Y}_{control,post} - \\bar{Y}_{control,pre})\\]\n\n\n\nå¯¹æ¯”\nå«ä¹‰\n\n\n\n\nç¬¬ä¸€é‡å·®åˆ†\næ¯”è¾ƒå‰åæ—¶é—´å˜åŒ–\n\n\nç¬¬äºŒé‡å·®åˆ†\næ¯”è¾ƒå¤„ç†ç»„ä¸å¯¹ç…§ç»„\n\n\n\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\næ”¿ç­–è¯„ä¼°\næœ€ä½å·¥èµ„è°ƒæ•´å¯¹å°±ä¸šçš„å½±å“\n\n\nå…¬å…±å«ç”Ÿ\nç¦çƒŸä»¤å¯¹å¥åº·çš„å½±å“\n\n\nåŒ»ç–—å¹²é¢„\næ–°è¯ä¸Šå¸‚å¯¹å¤„æ–¹è¡Œä¸ºçš„å½±å“\n\n\næ•™è‚²æ”¿ç­–\nå­¦è´¹è¡¥è´´å¯¹å…¥å­¦ç‡çš„å½±å“\n\n\n\n\n\n\nå¹³è¡Œè¶‹åŠ¿å‡è®¾ï¼ˆParallel Trendsï¼‰ï¼š &gt; å¦‚æœæ²¡æœ‰å¹²é¢„ï¼Œå¤„ç†ç»„å’Œå¯¹ç…§ç»„çš„ç»“å±€å˜é‡ä¼šå‘ˆç°ç›¸åŒçš„æ—¶é—´è¶‹åŠ¿ã€‚\nè¿™æ˜¯ DiD æ–¹æ³•æœ€å…³é”®çš„å‡è®¾ï¼",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#ä»€ä¹ˆæ˜¯åŒé‡å·®åˆ†æ³•",
    "href": "1028-did.html#ä»€ä¹ˆæ˜¯åŒé‡å·®åˆ†æ³•",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åŒé‡å·®åˆ†æ³•ï¼ˆDifference-in-Differences, DiDï¼‰ æ˜¯ä¸€ç§å‡†å®éªŒè®¾è®¡æ–¹æ³•ï¼Œç”¨äºä¼°è®¡æ”¿ç­–å¹²é¢„æˆ–äº‹ä»¶çš„å› æœæ•ˆåº”ã€‚å®ƒé€šè¿‡æ¯”è¾ƒå¤„ç†ç»„å’Œå¯¹ç…§ç»„åœ¨å¹²é¢„å‰åçš„å˜åŒ–å·®å¼‚æ¥è¯†åˆ«æ•ˆåº”ã€‚\n\n\n\\[\\text{DiD} = (\\bar{Y}_{treat,post} - \\bar{Y}_{treat,pre}) - (\\bar{Y}_{control,post} - \\bar{Y}_{control,pre})\\]\n\n\n\nå¯¹æ¯”\nå«ä¹‰\n\n\n\n\nç¬¬ä¸€é‡å·®åˆ†\næ¯”è¾ƒå‰åæ—¶é—´å˜åŒ–\n\n\nç¬¬äºŒé‡å·®åˆ†\næ¯”è¾ƒå¤„ç†ç»„ä¸å¯¹ç…§ç»„\n\n\n\n\n\n\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\næ”¿ç­–è¯„ä¼°\næœ€ä½å·¥èµ„è°ƒæ•´å¯¹å°±ä¸šçš„å½±å“\n\n\nå…¬å…±å«ç”Ÿ\nç¦çƒŸä»¤å¯¹å¥åº·çš„å½±å“\n\n\nåŒ»ç–—å¹²é¢„\næ–°è¯ä¸Šå¸‚å¯¹å¤„æ–¹è¡Œä¸ºçš„å½±å“\n\n\næ•™è‚²æ”¿ç­–\nå­¦è´¹è¡¥è´´å¯¹å…¥å­¦ç‡çš„å½±å“\n\n\n\n\n\n\nå¹³è¡Œè¶‹åŠ¿å‡è®¾ï¼ˆParallel Trendsï¼‰ï¼š &gt; å¦‚æœæ²¡æœ‰å¹²é¢„ï¼Œå¤„ç†ç»„å’Œå¯¹ç…§ç»„çš„ç»“å±€å˜é‡ä¼šå‘ˆç°ç›¸åŒçš„æ—¶é—´è¶‹åŠ¿ã€‚\nè¿™æ˜¯ DiD æ–¹æ³•æœ€å…³é”®çš„å‡è®¾ï¼",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1028-did.html#r-åŒ…å®‰è£…ä¸åŠ è½½",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "R åŒ…å®‰è£…ä¸åŠ è½½",
    "text": "R åŒ…å®‰è£…ä¸åŠ è½½\n\n# æ ¸å¿ƒåŒ…\nlibrary(tidyverse) # æ•°æ®å¤„ç†\nlibrary(fixest) # å›ºå®šæ•ˆåº”æ¨¡å‹ï¼ˆæ¨èï¼‰\nlibrary(did) # Callaway & Sant'Anna DiD\nlibrary(plm) # é¢æ¿æ•°æ®\nlibrary(ggplot2) # å¯è§†åŒ–\nlibrary(broom) # æ¨¡å‹æ•´ç†",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#æ•°æ®å‡†å¤‡",
    "href": "1028-did.html#æ•°æ®å‡†å¤‡",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\næ¨¡æ‹Ÿä¸€ä¸ªæ”¿ç­–è¯„ä¼°åœºæ™¯ï¼šæŸåœ°åŒºåœ¨ 2018 å¹´å®æ–½å¥åº·å¹²é¢„æ”¿ç­–\n\n# æ¨¡æ‹Ÿé¢æ¿æ•°æ®\nset.seed(2024)\n\nn_units &lt;- 200 # åœ°åŒºæ•°\nn_periods &lt;- 8 # æ—¶é—´æœŸæ•° (2015-2022)\ntreat_time &lt;- 4 # å¹²é¢„å‘ç”Ÿæ—¶ç‚¹ (ç¬¬4æœŸ=2018å¹´)\n\n# ç”ŸæˆåŸºç¡€é¢æ¿ç»“æ„\npanel_data &lt;- expand_grid(\n    unit_id = 1:n_units,\n    time = 1:n_periods\n) |&gt;\n    mutate(\n        year = 2014 + time,\n\n        # å¤„ç†ç»„åˆ†é…ï¼ˆ50%çš„åœ°åŒºæ¥å—å¹²é¢„ï¼‰\n        treated = as.integer(unit_id &lt;= n_units / 2),\n\n        # å¹²é¢„åæ ‡è®°\n        post = as.integer(time &gt;= treat_time),\n\n        # DiD äº¤äº’é¡¹\n        did = treated * post,\n\n        # å•ä½å›ºå®šæ•ˆåº”\n        unit_fe = rep(rnorm(n_units, 0, 5), each = n_periods),\n\n        # æ—¶é—´å›ºå®šæ•ˆåº”\n        time_fe = rep(rnorm(n_periods, 0, 2), n_units),\n\n        # ä¸ªä½“æ—¶å˜åå˜é‡\n        population = round(100000 + 50000 * rnorm(n()) + 5000 * time),\n        income = round(30000 + 2000 * time + rnorm(n(), 0, 5000))\n    )\n\n# ç”Ÿæˆç»“å±€å˜é‡ï¼šç–¾ç—…å‘ç—…ç‡\n# çœŸå®å¹²é¢„æ•ˆåº” = -3ï¼ˆé™ä½ 3 ä¸ªå‘ç—…ç‡å•ä½ï¼‰\npanel_data &lt;- panel_data |&gt;\n    mutate(\n        # åŸºçº¿å‘ç—…ç‡\n        baseline_rate = 50 + unit_fe + time_fe,\n\n        # å¤„ç†æ•ˆåº”ï¼ˆçœŸå®æ•ˆåº” = -3ï¼‰\n        treatment_effect = -3 * did,\n\n        # å¹³è¡Œè¶‹åŠ¿ï¼ˆå¹²é¢„å‰ä¸¤ç»„è¶‹åŠ¿ç›¸åŒï¼‰\n        common_trend = 0.5 * time,\n\n        # æœ€ç»ˆç»“å±€\n        outcome = baseline_rate + common_trend + treatment_effect +\n            rnorm(n(), 0, 3),\n\n        # è½¬ä¸ºå› å­\n        unit_id = factor(unit_id),\n        year = factor(year)\n    )\n\nglimpse(panel_data)\n\nRows: 1,600\nColumns: 14\n$ unit_id          &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3,â€¦\n$ time             &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2,â€¦\n$ year             &lt;fct&gt; 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2015,â€¦\n$ treated          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,â€¦\n$ post             &lt;int&gt; 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0,â€¦\n$ did              &lt;int&gt; 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0,â€¦\n$ unit_fe          &lt;dbl&gt; 4.9098471, 4.9098471, 4.9098471, 4.9098471, 4.9098471â€¦\n$ time_fe          &lt;dbl&gt; 0.004378923, 0.950728669, -1.555484993, 0.410755350, â€¦\n$ population       &lt;dbl&gt; 149028, 131568, 80453, 147967, 96810, -7116, 167134, â€¦\n$ income           &lt;dbl&gt; 26219, 36752, 46703, 30755, 36470, 36142, 46737, 5285â€¦\n$ baseline_rate    &lt;dbl&gt; 54.91423, 55.86058, 53.35436, 55.32060, 56.95494, 52.â€¦\n$ treatment_effect &lt;dbl&gt; 0, 0, 0, -3, -3, -3, -3, -3, 0, 0, 0, -3, -3, -3, -3,â€¦\n$ common_trend     &lt;dbl&gt; 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 0.5, 1.0, 1.5â€¦\n$ outcome          &lt;dbl&gt; 51.27613, 57.68301, 53.51673, 52.82152, 54.10289, 48.â€¦\n\n\n\næ¢ç´¢æ€§åˆ†æ\n\n# è®¡ç®—å„ç»„å„æ—¶æœŸçš„å‡å€¼\ngroup_means &lt;- panel_data |&gt;\n    group_by(treated, time) |&gt;\n    summarise(\n        mean_outcome = mean(outcome),\n        se = sd(outcome) / sqrt(n()),\n        .groups = \"drop\"\n    ) |&gt;\n    mutate(\n        group = factor(treated, labels = c(\"å¯¹ç…§ç»„\", \"å¤„ç†ç»„\")),\n        year = 2014 + time\n    )\n\n# å¯è§†åŒ–è¶‹åŠ¿\nggplot(group_means, aes(x = year, y = mean_outcome, color = group)) +\n    geom_line(linewidth = 1.2) +\n    geom_point(size = 3) +\n    geom_ribbon(aes(\n        ymin = mean_outcome - 1.96 * se,\n        ymax = mean_outcome + 1.96 * se,\n        fill = group\n    ), alpha = 0.2, color = NA) +\n    geom_vline(xintercept = 2017.5, linetype = \"dashed\", color = \"gray50\") +\n    annotate(\"text\",\n        x = 2017.5, y = max(group_means$mean_outcome),\n        label = \"å¹²é¢„å®æ–½\", hjust = -0.1, vjust = 1\n    ) +\n    scale_color_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    scale_fill_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    labs(\n        title = \"å¤„ç†ç»„ä¸å¯¹ç…§ç»„çš„è¶‹åŠ¿æ¯”è¾ƒ\",\n        subtitle = \"å¹²é¢„å‰çš„å¹³è¡Œè¶‹åŠ¿æ˜¯ DiD çš„å…³é”®å‡è®¾\",\n        x = \"å¹´ä»½\",\n        y = \"å‘ç—…ç‡\",\n        color = \"ç»„åˆ«\",\n        fill = \"ç»„åˆ«\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#åŸºç¡€-did-ä¼°è®¡",
    "href": "1028-did.html#åŸºç¡€-did-ä¼°è®¡",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€ DiD ä¼°è®¡",
    "text": "åŸºç¡€ DiD ä¼°è®¡\n\n2Ã—2 DiDï¼ˆæœ€ç®€å•æƒ…å†µï¼‰\n\n# ä¿ç•™å¹²é¢„å‰åå„ä¸€æœŸ\ndid_2x2 &lt;- panel_data |&gt;\n    filter(time %in% c(3, 5)) # å¹²é¢„å‰ä¸€æœŸ vs å¹²é¢„åä¸€æœŸ\n\n# åŸºç¡€ DiD å›å½’\nbasic_did &lt;- lm(outcome ~ treated + post + did, data = did_2x2)\nsummary(basic_did)\n\n\nCall:\nlm(formula = outcome ~ treated + post + did, data = did_2x2)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-18.5866  -3.9671  -0.1156   4.0321  16.3757 \n\nCoefficients:\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)  50.7672     0.6081  83.485  &lt; 2e-16 ***\ntreated      -1.3255     0.8600  -1.541   0.1240    \npost          4.3712     0.8600   5.083 5.74e-07 ***\ndid          -2.7537     1.2162  -2.264   0.0241 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.081 on 396 degrees of freedom\nMultiple R-squared:  0.1104,    Adjusted R-squared:  0.1036 \nF-statistic: 16.37 on 3 and 396 DF,  p-value: 4.748e-10\n\n\n\n# è§£è¯»ï¼šdid ç³»æ•°å°±æ˜¯ DiD ä¼°è®¡é‡\ncat(\"DiD ä¼°è®¡é‡:\", round(coef(basic_did)[\"did\"], 3), \"\\n\")\n\nDiD ä¼°è®¡é‡: -2.754 \n\ncat(\"çœŸå®æ•ˆåº”: -3.000\\n\")\n\nçœŸå®æ•ˆåº”: -3.000\n\n\n\n\næ‰‹åŠ¨è®¡ç®— DiD\n\n# æ‰‹åŠ¨éªŒè¯ DiD\nmeans_table &lt;- panel_data |&gt;\n    filter(time %in% c(3, 5)) |&gt;\n    group_by(treated, post) |&gt;\n    summarise(mean_y = mean(outcome), .groups = \"drop\") |&gt;\n    pivot_wider(\n        names_from = post, values_from = mean_y,\n        names_prefix = \"post_\"\n    )\n\nmeans_table\n\n# A tibble: 2 Ã— 3\n  treated post_0 post_1\n    &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n1       0   50.8   55.1\n2       1   49.4   51.1\n\n# DiD = (å¤„ç†ç»„å - å¤„ç†ç»„å‰) - (å¯¹ç…§ç»„å - å¯¹ç…§ç»„å‰)\ndid_manual &lt;- (means_table$post_1[2] - means_table$post_0[2]) -\n    (means_table$post_1[1] - means_table$post_0[1])\ncat(\"æ‰‹åŠ¨è®¡ç®— DiD:\", round(did_manual, 3), \"\\n\")\n\næ‰‹åŠ¨è®¡ç®— DiD: -2.754",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#åŒå‘å›ºå®šæ•ˆåº”-didtwfe",
    "href": "1028-did.html#åŒå‘å›ºå®šæ•ˆåº”-didtwfe",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "åŒå‘å›ºå®šæ•ˆåº” DiDï¼ˆTWFEï¼‰",
    "text": "åŒå‘å›ºå®šæ•ˆåº” DiDï¼ˆTWFEï¼‰\nä½¿ç”¨é¢æ¿æ•°æ®çš„æ ‡å‡†æ–¹æ³•ï¼š\n\n# ä½¿ç”¨ fixest åŒ…ï¼ˆæ¨èï¼‰\ntwfe_model &lt;- feols(\n    outcome ~ did | unit_id + year, # å•ä½å›ºå®šæ•ˆåº” + æ—¶é—´å›ºå®šæ•ˆåº”\n    data = panel_data,\n    cluster = ~unit_id # èšç±»æ ‡å‡†è¯¯\n)\n\nsummary(twfe_model)\n\nOLS estimation, Dep. Var.: outcome\nObservations: 1,600\nFixed-effects: unit_id: 200,  year: 8\nStandard-errors: Clustered (unit_id) \n    Estimate Std. Error  t value  Pr(&gt;|t|)    \ndid -2.84542   0.297556 -9.56264 &lt; 2.2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 2.8407     Adj. R2: 0.760579\n               Within R2: 0.055525\n\n\n\næ·»åŠ æ§åˆ¶å˜é‡\n\n# æ·»åŠ æ—¶å˜åå˜é‡\ntwfe_controls &lt;- feols(\n    outcome ~ did + log(population) + log(income) | unit_id + year,\n    data = panel_data,\n    cluster = ~unit_id\n)\n\nsummary(twfe_controls)\n\nOLS estimation, Dep. Var.: outcome\nObservations: 1,591\nFixed-effects: unit_id: 200,  year: 8\nStandard-errors: Clustered (unit_id) \n                 Estimate Std. Error   t value  Pr(&gt;|t|)    \ndid             -2.818033   0.295763 -9.527999 &lt; 2.2e-16 ***\nlog(population) -0.115437   0.155857 -0.740660   0.45977    \nlog(income)      0.495693   0.590165  0.839922   0.40196    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 2.84025     Adj. R2: 0.760808\n                Within R2: 0.054949\n\n\n\n\næ¨¡å‹æ¯”è¾ƒ\n\n# ä½¿ç”¨ fixest çš„æ¨¡å‹æ¯”è¾ƒè¡¨æ ¼\netable(twfe_model, twfe_controls,\n    headers = c(\"åŸºç¡€æ¨¡å‹\", \"å«æ§åˆ¶å˜é‡\"),\n    fitstat = c(\"n\", \"r2\", \"ar2\")\n)\n\n                        twfe_model      twfe_controls\n                      åŸºç¡€æ¨¡å‹    å«æ§åˆ¶å˜é‡\nDependent Var.:            outcome            outcome\n                                                     \ndid             -2.845*** (0.2976) -2.818*** (0.2958)\nlog(population)                      -0.1154 (0.1559)\nlog(income)                           0.4957 (0.5902)\nFixed-Effects:  ------------------ ------------------\nunit_id                        Yes                Yes\nyear                           Yes                Yes\n_______________ __________________ __________________\nS.E.: Clustered        by: unit_id        by: unit_id\nObservations                 1,600              1,591\nR2                         0.79157            0.79225\nAdj. R2                    0.76058            0.76081\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#å¹³è¡Œè¶‹åŠ¿æ£€éªŒ",
    "href": "1028-did.html#å¹³è¡Œè¶‹åŠ¿æ£€éªŒ",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "å¹³è¡Œè¶‹åŠ¿æ£€éªŒ",
    "text": "å¹³è¡Œè¶‹åŠ¿æ£€éªŒ\n\näº‹ä»¶ç ”ç©¶æ³•ï¼ˆEvent Studyï¼‰\näº‹ä»¶ç ”ç©¶æ³•æ˜¯æ£€éªŒå¹³è¡Œè¶‹åŠ¿çš„æ ‡å‡†æ–¹æ³•ï¼š\n\n# åˆ›å»ºç›¸å¯¹æ—¶é—´å˜é‡\npanel_data &lt;- panel_data |&gt;\n    mutate(\n        rel_time = time - treat_time,\n        # åˆ›å»ºå„æœŸæŒ‡ç¤ºå˜é‡ï¼ˆå¤„ç†ç»„ Ã— ç›¸å¯¹æ—¶æœŸï¼‰\n        rel_time_factor = factor(rel_time)\n    )\n\n# äº‹ä»¶ç ”ç©¶å›å½’ï¼ˆä»¥ t-1 ä¸ºå‚ç…§æœŸï¼‰\nes_model &lt;- feols(\n    outcome ~ i(rel_time_factor, treated, ref = -1) | unit_id + year,\n    data = panel_data,\n    cluster = ~unit_id\n)\n\nsummary(es_model)\n\nOLS estimation, Dep. Var.: outcome\nObservations: 1,600\nFixed-effects: unit_id: 200,  year: 8\nStandard-errors: Clustered (unit_id) \n                             Estimate Std. Error   t value   Pr(&gt;|t|)    \nrel_time_factor::-3:treated  0.261268   0.583770  0.447552 6.5496e-01    \nrel_time_factor::-2:treated  0.405381   0.613904  0.660333 5.0980e-01    \nrel_time_factor::0:treated  -2.865183   0.551963 -5.190901 5.1468e-07 ***\nrel_time_factor::1:treated  -2.753691   0.629742 -4.372727 1.9767e-05 ***\nrel_time_factor::2:treated  -2.487630   0.583297 -4.264777 3.0907e-05 ***\nrel_time_factor::3:treated  -2.860663   0.615626 -4.646752 6.1265e-06 ***\nrel_time_factor::4:treated  -2.148864   0.617776 -3.478385 6.1956e-04 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 2.83817     Adj. R2: 0.75997 \n                Within R2: 0.057206\n\n\n\n# å¯è§†åŒ–äº‹ä»¶ç ”ç©¶å›¾\niplot(es_model,\n    main = \"äº‹ä»¶ç ”ç©¶å›¾ï¼ˆEvent Studyï¼‰\",\n    xlab = \"ç›¸å¯¹äºå¹²é¢„çš„æ—¶æœŸ\",\n    ylab = \"DiD ä¼°è®¡é‡\"\n)\n\n# æ·»åŠ å‚ç…§çº¿\nabline(h = 0, lty = 2, col = \"gray\")\nabline(v = -0.5, lty = 2, col = \"red\")\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰äº‹ä»¶ç ”ç©¶å›¾\n\n# æå–äº‹ä»¶ç ”ç©¶ç³»æ•°\nes_coefs &lt;- tidy(es_model, conf.int = TRUE) |&gt;\n    filter(str_detect(term, \"rel_time\")) |&gt;\n    mutate(\n        rel_time = as.numeric(str_extract(term, \"-?\\\\d+\")),\n        significant = p.value &lt; 0.05\n    )\n\n# æ·»åŠ å‚ç…§æœŸï¼ˆt-1 = 0ï¼‰\nes_coefs &lt;- bind_rows(\n    es_coefs,\n    tibble(rel_time = -1, estimate = 0, conf.low = 0, conf.high = 0)\n) |&gt;\n    arrange(rel_time)\n\n# é«˜è´¨é‡å¯è§†åŒ–\nggplot(es_coefs, aes(x = rel_time, y = estimate)) +\n    # é˜´å½±åŒºåˆ†å¹²é¢„å‰å\n    annotate(\"rect\",\n        xmin = -0.5, xmax = Inf, ymin = -Inf, ymax = Inf,\n        fill = \"#fee2e2\", alpha = 0.5\n    ) +\n    # å‚ç…§çº¿\n    geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n    geom_vline(xintercept = -0.5, linetype = \"solid\", color = \"#ef4444\") +\n    # ç½®ä¿¡åŒºé—´\n    geom_errorbar(aes(ymin = conf.low, ymax = conf.high),\n        width = 0.2, color = \"#4f46e5\"\n    ) +\n    # ç‚¹ä¼°è®¡\n    geom_point(size = 3, color = \"#4f46e5\") +\n    geom_line(linetype = \"dashed\", color = \"#4f46e5\", alpha = 0.5) +\n    # æ ‡æ³¨å¹²é¢„ç‚¹\n    annotate(\"text\",\n        x = 0.5, y = max(es_coefs$estimate, na.rm = TRUE),\n        label = \"å¹²é¢„å\", color = \"#ef4444\", fontface = \"bold\"\n    ) +\n    labs(\n        title = \"äº‹ä»¶ç ”ç©¶å›¾ï¼šå¹³è¡Œè¶‹åŠ¿æ£€éªŒ\",\n        subtitle = \"å¹²é¢„å‰ç³»æ•°åº”æ¥è¿‘ 0ï¼ˆå¹³è¡Œè¶‹åŠ¿å‡è®¾ï¼‰\",\n        x = \"ç›¸å¯¹äºå¹²é¢„çš„æ—¶æœŸ\",\n        y = \"ä¼°è®¡æ•ˆåº”\",\n        caption = \"è¯¯å·®æ£’: 95% ç½®ä¿¡åŒºé—´ | å‚ç…§æœŸ: t-1\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\nå¹³è¡Œè¶‹åŠ¿çš„æ­£å¼æ£€éªŒ\n\n# è”åˆæ£€éªŒï¼šå¹²é¢„å‰æ‰€æœ‰ç³»æ•°æ˜¯å¦åŒæ—¶ä¸º 0\npre_treatment_terms &lt;- names(coef(es_model))[str_detect(names(coef(es_model)), \":-[2-9]|:-1[0-9]\")]\n\n# å¦‚æœæœ‰å¹²é¢„å‰çš„ç³»æ•°ï¼Œè¿›è¡Œ F æ£€éªŒ\nif (length(pre_treatment_terms) &gt; 0) {\n    wald_test &lt;- wald(es_model, pre_treatment_terms)\n    print(wald_test)\n}\n\nWald test, H0: joint nullity of rel_time_factor::-3:treated and rel_time_factor::-2:treated\n stat = 0.233644, p-value = 0.791675, on 2 and 1,386 DoF, VCOV: Clustered (unit_id).$stat\n[1] 0.2336438\n\n$p\n[1] 0.791675\n\n$df1\n[1] 2\n\n$df2\n[1] 1386\n\n$vcov\n[1] \"Clustered (unit_id)\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#äº¤é”™å¤„ç†-did",
    "href": "1028-did.html#äº¤é”™å¤„ç†-did",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "äº¤é”™å¤„ç† DiD",
    "text": "äº¤é”™å¤„ç† DiD\nå½“ä¸åŒå•ä½åœ¨ä¸åŒæ—¶é—´æ¥å—å¤„ç†æ—¶ï¼š\n\n# æ¨¡æ‹Ÿäº¤é”™å¤„ç†æ•°æ®\nset.seed(42)\n\nstaggered_data &lt;- expand_grid(\n    unit_id = 1:100,\n    time = 1:10\n) |&gt;\n    mutate(\n        # ä¸åŒå•ä½çš„å¤„ç†æ—¶ç‚¹\n        treat_time_unit = case_when(\n            unit_id &lt;= 30 ~ 4, # ç¬¬ä¸€ç»„ï¼šç¬¬4æœŸå¤„ç†\n            unit_id &lt;= 60 ~ 6, # ç¬¬äºŒç»„ï¼šç¬¬6æœŸå¤„ç†\n            unit_id &lt;= 80 ~ 8, # ç¬¬ä¸‰ç»„ï¼šç¬¬8æœŸå¤„ç†\n            TRUE ~ NA_real_ # å¯¹ç…§ç»„ï¼šä»ä¸å¤„ç†\n        ),\n\n        # å¤„ç†çŠ¶æ€\n        treated = as.integer(!is.na(treat_time_unit) & time &gt;= treat_time_unit),\n\n        # ç»“å±€å˜é‡\n        outcome = 50 + rnorm(n(), unit_id / 5, 3) + 0.5 * time - 2.5 * treated + rnorm(n(), 0, 2),\n        unit_id = factor(unit_id),\n        year = factor(2014 + time),\n        cohort = factor(case_when(\n            treat_time_unit == 4 ~ \"2018\",\n            treat_time_unit == 6 ~ \"2020\",\n            treat_time_unit == 8 ~ \"2022\",\n            TRUE ~ \"ä»ä¸å¤„ç†\"\n        ))\n    )\n\nhead(staggered_data)\n\n# A tibble: 6 Ã— 7\n  unit_id  time treat_time_unit treated outcome year  cohort\n  &lt;fct&gt;   &lt;int&gt;           &lt;dbl&gt;   &lt;int&gt;   &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt; \n1 1           1               4       0    59.5 2015  2018  \n2 1           2               4       0    50.6 2016  2018  \n3 1           3               4       0    54.7 2017  2018  \n4 1           4               4       1    52.4 2018  2018  \n5 1           5               4       1    49.4 2019  2018  \n6 1           6               4       1    49.2 2020  2018  \n\n\n\nCallaway-Santâ€™Anna ä¼°è®¡å™¨\n\n# ä½¿ç”¨ did åŒ…çš„ç°ä»£æ–¹æ³•\nstaggered_data_num &lt;- staggered_data |&gt;\n    mutate(\n        unit_id = as.numeric(as.character(unit_id)),\n        time = 2014 + as.numeric(as.character(year)) - 2014,\n        first_treat = treat_time_unit + 2014,\n        first_treat = ifelse(is.na(first_treat), 0, first_treat) # ä»ä¸å¤„ç†è®¾ä¸º 0\n    )\n\n# Callaway-Sant'Anna ATT(g,t)\ncs_result &lt;- att_gt(\n    yname = \"outcome\",\n    tname = \"time\",\n    idname = \"unit_id\",\n    gname = \"first_treat\",\n    data = as.data.frame(staggered_data_num),\n    control_group = \"nevertreated\" # ä½¿ç”¨ä»ä¸å¤„ç†ç»„ä½œä¸ºå¯¹ç…§\n)\n\nsummary(cs_result)\n\n\nCall:\natt_gt(yname = \"outcome\", tname = \"time\", idname = \"unit_id\", \n    gname = \"first_treat\", data = as.data.frame(staggered_data_num), \n    control_group = \"nevertreated\")\n\nReference: Callaway, Brantly and Pedro H.C. Sant'Anna.  \"Difference-in-Differences with Multiple Time Periods.\" Journal of Econometrics, Vol. 225, No. 2, pp. 200-230, 2021. &lt;https://doi.org/10.1016/j.jeconom.2020.12.001&gt;, &lt;https://arxiv.org/abs/1803.09015&gt; \n\nGroup-Time Average Treatment Effects:\n Group Time ATT(g,t) Std. Error [95% Simult.  Conf. Band]  \n  2018 2016  -1.4185     1.4147       -5.5896      2.7527  \n  2018 2017   0.5697     1.2634       -3.1554      4.2947  \n  2018 2018  -0.7454     1.2441       -4.4138      2.9229  \n  2018 2019  -1.8390     1.4593       -6.1417      2.4637  \n  2018 2020  -1.7104     1.5705       -6.3412      2.9204  \n  2018 2021  -1.3518     1.2803       -5.1268      2.4231  \n  2018 2022  -3.5454     1.3629       -7.5640      0.4732  \n  2018 2023  -4.3045     1.5907       -8.9946      0.3857  \n  2018 2024  -2.4410     1.9255       -8.1183      3.2362  \n  2020 2016  -2.8201     1.4833       -7.1935      1.5533  \n  2020 2017   0.4182     1.2621       -3.3033      4.1397  \n  2020 2018   0.5867     1.2960       -3.2346      4.4080  \n  2020 2019   2.9767     1.2955       -0.8431      6.7964  \n  2020 2020  -4.2941     1.6671       -9.2096      0.6213  \n  2020 2021  -4.7660     1.4661       -9.0888     -0.4433 *\n  2020 2022  -6.4106     1.4336      -10.6375     -2.1836 *\n  2020 2023  -5.7517     1.6456      -10.6039     -0.8995 *\n  2020 2024  -6.1822     1.9778      -12.0138     -0.3506 *\n  2022 2016  -1.1763     1.6367       -6.0022      3.6496  \n  2022 2017  -1.2594     1.5486       -5.8254      3.3066  \n  2022 2018   1.9291     1.4074       -2.2208      6.0789  \n  2022 2019   1.5848     1.3592       -2.4228      5.5923  \n  2022 2020  -1.3853     1.7944       -6.6760      3.9055  \n  2022 2021  -1.8428     1.5575       -6.4352      2.7496  \n  2022 2022  -1.4912     1.3927       -5.5977      2.6154  \n  2022 2023  -2.7435     1.6262       -7.5385      2.0515  \n  2022 2024  -1.8666     1.7832       -7.1243      3.3910  \n---\nSignif. codes: `*' confidence band does not cover 0\n\nP-value for pre-test of parallel trends assumption:  0.27625\nControl Group:  Never Treated,  Anticipation Periods:  0\nEstimation Method:  Doubly Robust\n\n\n\n# èšåˆä¸ºæ•´ä½“ ATT\ncs_agg &lt;- aggte(cs_result, type = \"simple\")\nsummary(cs_agg)\n\n\nCall:\naggte(MP = cs_result, type = \"simple\")\n\nReference: Callaway, Brantly and Pedro H.C. Sant'Anna.  \"Difference-in-Differences with Multiple Time Periods.\" Journal of Econometrics, Vol. 225, No. 2, pp. 200-230, 2021. &lt;https://doi.org/10.1016/j.jeconom.2020.12.001&gt;, &lt;https://arxiv.org/abs/1803.09015&gt; \n\n     ATT    Std. Error     [ 95%  Conf. Int.]  \n -3.3864        0.7648    -4.8853     -1.8875 *\n\n\n---\nSignif. codes: `*' confidence band does not cover 0\n\nControl Group:  Never Treated,  Anticipation Periods:  0\nEstimation Method:  Doubly Robust\n\n\n\n# äº‹ä»¶ç ”ç©¶å›¾\ncs_dynamic &lt;- aggte(cs_result, type = \"dynamic\")\nggdid(cs_dynamic, title = \"äº¤é”™ DiD äº‹ä»¶ç ”ç©¶å›¾\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#å®‰æ…°å‰‚æ£€éªŒ",
    "href": "1028-did.html#å®‰æ…°å‰‚æ£€éªŒ",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "å®‰æ…°å‰‚æ£€éªŒ",
    "text": "å®‰æ…°å‰‚æ£€éªŒ\n\næ—¶é—´å®‰æ…°å‰‚\n\n# å‡è®¾å¹²é¢„å‘ç”Ÿåœ¨æ›´æ—©çš„æ—¶é—´\npanel_data_placebo &lt;- panel_data |&gt;\n    mutate(\n        # å‡è£…å¹²é¢„åœ¨ t=2 æ—¶å‘ç”Ÿ\n        fake_post = as.integer(time &gt;= 2 & time &lt; 4),\n        fake_did = treated * fake_post\n    ) |&gt;\n    filter(time &lt; 4) # åªç”¨å¹²é¢„å‰æ•°æ®\n\nplacebo_model &lt;- feols(\n    outcome ~ fake_did | unit_id + time,\n    data = panel_data_placebo,\n    cluster = ~unit_id\n)\n\nsummary(placebo_model)\n\nOLS estimation, Dep. Var.: outcome\nObservations: 600\nFixed-effects: unit_id: 200,  time: 3\nStandard-errors: Clustered (unit_id) \n          Estimate Std. Error   t value Pr(&gt;|t|) \nfake_did -0.058577   0.526645 -0.111227  0.91155 \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 2.48101     Adj. R2: 0.749052\n                Within R2: 3.097e-5\n\n# å¦‚æœ fake_did æ˜¾è‘—ï¼Œè¯´æ˜å¹³è¡Œè¶‹åŠ¿å‡è®¾å¯èƒ½ä¸æ»¡è¶³\n\n\n\nç»„åˆ«å®‰æ…°å‰‚\n\n# åœ¨ä»æœªå¤„ç†çš„ç»„ä¸­éšæœºåˆ†é…\"å‡å¤„ç†\"\nnever_treated &lt;- panel_data |&gt;\n    filter(treated == 0) |&gt;\n    mutate(\n        fake_treated = as.integer(unit_id %in% sample(\n            unique(unit_id),\n            length(unique(unit_id)) / 2\n        )),\n        fake_did = fake_treated * post\n    )\n\nplacebo_group &lt;- feols(\n    outcome ~ fake_did | unit_id + year,\n    data = never_treated,\n    cluster = ~unit_id\n)\n\nsummary(placebo_group)\n\nOLS estimation, Dep. Var.: outcome\nObservations: 800\nFixed-effects: unit_id: 100,  year: 8\nStandard-errors: Clustered (unit_id) \n         Estimate Std. Error  t value Pr(&gt;|t|) \nfake_did 0.353765   0.442619 0.799253  0.42606 \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\nRMSE: 2.78359     Adj. R2: 0.756684\n                Within R2: 9.455e-4\n\n# fake_did åº”è¯¥ä¸æ˜¾è‘—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#ç»“æœå¯è§†åŒ–",
    "href": "1028-did.html#ç»“æœå¯è§†åŒ–",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "ç»“æœå¯è§†åŒ–",
    "text": "ç»“æœå¯è§†åŒ–\n\nDiD å›¾è§£\n\n# åˆ›å»ºç›´è§‚çš„ DiD å¯è§†åŒ–\ndid_visual &lt;- panel_data |&gt;\n    group_by(treated, post) |&gt;\n    summarise(mean_y = mean(outcome), .groups = \"drop\") |&gt;\n    mutate(\n        group = factor(treated, labels = c(\"å¯¹ç…§ç»„\", \"å¤„ç†ç»„\")),\n        period = factor(post, labels = c(\"å¹²é¢„å‰\", \"å¹²é¢„å\"))\n    )\n\n# ç»˜å›¾\nggplot(did_visual, aes(x = period, y = mean_y, color = group, group = group)) +\n    geom_line(linewidth = 1.5) +\n    geom_point(size = 4) +\n    # æ·»åŠ åäº‹å®çº¿\n    geom_segment(\n        aes(\n            x = 1, xend = 2,\n            y = did_visual$mean_y[did_visual$group == \"å¤„ç†ç»„\" & did_visual$period == \"å¹²é¢„å‰\"],\n            yend = did_visual$mean_y[did_visual$group == \"å¤„ç†ç»„\" & did_visual$period == \"å¹²é¢„å‰\"] +\n                diff(did_visual$mean_y[did_visual$group == \"å¯¹ç…§ç»„\"])\n        ),\n        linetype = \"dashed\", color = \"#ef4444\", alpha = 0.5, linewidth = 1\n    ) +\n    # æ ‡æ³¨ DiD\n    annotate(\"segment\",\n        x = 2.1, xend = 2.1,\n        y = did_visual$mean_y[did_visual$group == \"å¤„ç†ç»„\" & did_visual$period == \"å¹²é¢„å\"],\n        yend = did_visual$mean_y[did_visual$group == \"å¤„ç†ç»„\" & did_visual$period == \"å¹²é¢„å‰\"] +\n            diff(did_visual$mean_y[did_visual$group == \"å¯¹ç…§ç»„\"]),\n        arrow = arrow(length = unit(0.3, \"cm\"), ends = \"both\"),\n        color = \"#22c55e\"\n    ) +\n    annotate(\"text\",\n        x = 2.2, y = mean(did_visual$mean_y),\n        label = \"DiD\\næ•ˆåº”\", color = \"#22c55e\", fontface = \"bold\"\n    ) +\n    scale_color_manual(values = c(\"#4f46e5\", \"#ef4444\")) +\n    labs(\n        title = \"åŒé‡å·®åˆ†æ³•å›¾è§£\",\n        subtitle = \"è™šçº¿: å¤„ç†ç»„çš„åäº‹å®è¶‹åŠ¿ï¼ˆå¦‚æœæœªå—å¹²é¢„ï¼‰\",\n        x = \"æ—¶æœŸ\",\n        y = \"ç»“å±€å˜é‡\",\n        color = \"ç»„åˆ«\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#å¼‚è´¨æ€§åˆ†æ",
    "href": "1028-did.html#å¼‚è´¨æ€§åˆ†æ",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "å¼‚è´¨æ€§åˆ†æ",
    "text": "å¼‚è´¨æ€§åˆ†æ\n\n# æŒ‰åå˜é‡åˆ†ç»„ä¼°è®¡å¼‚è´¨æ€§æ•ˆåº”\npanel_data &lt;- panel_data |&gt;\n    mutate(\n        income_group = ifelse(income &gt; median(income), \"é«˜æ”¶å…¥\", \"ä½æ”¶å…¥\")\n    )\n\n# åˆ†ç»„å›å½’\nhet_model &lt;- feols(\n    outcome ~ did | unit_id + year,\n    data = panel_data,\n    cluster = ~unit_id,\n    split = ~income_group\n)\n\netable(het_model)\n\n                             het_model.1        het_model.2\nSample (income_group)          ä½æ”¶å…¥          é«˜æ”¶å…¥\nDependent Var.:                  outcome            outcome\n                                                           \ndid                   -3.387*** (0.4936) -2.238*** (0.5974)\nFixed-Effects:        ------------------ ------------------\nunit_id                              Yes                Yes\nyear                                 Yes                Yes\n_____________________ __________________ __________________\nS.E.: Clustered              by: unit_id        by: unit_id\nObservations                         799                798\nR2                               0.83248            0.81211\nWithin R2                        0.07877            0.01714\n---\nSignif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "href": "1028-did.html#å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸é™·é˜±",
    "text": "å¸¸è§é—®é¢˜ä¸é™·é˜±\n\n1. å¹³è¡Œè¶‹åŠ¿å‡è®¾\n# è¿™æ˜¯ DiD çš„æ ¸å¿ƒå‡è®¾ï¼Œæ— æ³•ç›´æ¥æ£€éªŒ\n# è§£å†³æ–¹æ¡ˆï¼š\n# - äº‹ä»¶ç ”ç©¶å›¾\n# - å®‰æ…°å‰‚æ£€éªŒ\n# - æ”¶é›†æ›´å¤šå¹²é¢„å‰æ—¶æœŸ\n# - ä½¿ç”¨åˆæˆæ§åˆ¶æ³•ä½œä¸ºè¡¥å……\n\n\n2. é¢„æœŸæ•ˆåº”\n# å¦‚æœå¤„ç†ç»„åœ¨å¹²é¢„å‰å°±å¼€å§‹æ”¹å˜è¡Œä¸º\n# å¹²é¢„å‰ç³»æ•°å¯èƒ½ä¸ä¸º 0\n# éœ€è¦ç†è§£æ”¿ç­–å…¬å¸ƒå’Œå®æ–½çš„æ—¶é—´å·®\n\n\n3. æº¢å‡ºæ•ˆåº”\n# å¦‚æœå¤„ç†å½±å“äº†å¯¹ç…§ç»„\n# DiD ä¼°è®¡ä¼šæœ‰å\n# éœ€è¦é€‰æ‹©ä¸å—å½±å“çš„å¯¹ç…§ç»„\n\n\n4. äº¤é”™å¤„ç†ä¸‹çš„ TWFE é—®é¢˜\n# æ ‡å‡† TWFE åœ¨äº¤é”™å¤„ç†ä¸‹å¯èƒ½æœ‰å\n# æ¨èä½¿ç”¨ï¼š\n# - Callaway-Sant'Anna (2021)\n# - Sun-Abraham (2021)\n# - de Chaisemartin-D'HaultfÅ“uille (2020)\n\n\n5. æ ‡å‡†è¯¯èšç±»\n# é¢æ¿æ•°æ®é€šå¸¸éœ€è¦åœ¨å¤„ç†å•ä½å±‚é¢èšç±»\n# å¦‚æœå¤„ç†å•ä½å°‘ï¼ˆ&lt; 50ï¼‰ï¼Œè€ƒè™‘ Wild bootstrap",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "href": "1028-did.html#å®Œæ•´åˆ†ææ¨¡æ¿",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†ææ¨¡æ¿",
    "text": "å®Œæ•´åˆ†ææ¨¡æ¿\n\n# ========== DiD åˆ†æå®Œæ•´æµç¨‹ ==========\n\nlibrary(fixest)\nlibrary(did)\n\n# 1. æ•°æ®å‡†å¤‡\ndata &lt;- data |&gt;\n    mutate(\n        did = treated * post\n    )\n\n# 2. å¯è§†åŒ–è¶‹åŠ¿\n# æ£€æŸ¥å¹²é¢„å‰æ˜¯å¦å¹³è¡Œ\n\n# 3. åŸºç¡€ TWFE ä¼°è®¡\nmodel &lt;- feols(y ~ did | unit + time, data, cluster = ~unit)\n\n# 4. äº‹ä»¶ç ”ç©¶\nes &lt;- feols(y ~ i(rel_time, treated, ref = -1) | unit + time, data)\niplot(es)\n\n# 5. å®‰æ…°å‰‚æ£€éªŒ\n# æ—¶é—´å®‰æ…°å‰‚ + ç»„åˆ«å®‰æ…°å‰‚\n\n# 6. ç¨³å¥æ€§æ£€éªŒ\n# - ä¸åŒæ§åˆ¶ç»„\n# - ä¸åŒæ—¶é—´çª—å£\n# - æ·»åŠ /ç§»é™¤æ§åˆ¶å˜é‡\n\n# 7. äº¤é”™å¤„ç†ï¼ˆå¦‚é€‚ç”¨ï¼‰\ncs &lt;- att_gt(yname, tname, idname, gname, data)\naggte(cs, type = \"simple\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1028-did.html#æ€»ç»“",
    "href": "1028-did.html#æ€»ç»“",
    "title": "åŒé‡å·®åˆ†æ³• (DiD) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ­¥éª¤\nå†…å®¹\nR å‡½æ•°/åŒ…\n\n\n\n\næ•°æ®å‡†å¤‡\nåˆ›å»º DiD äº¤äº’é¡¹\nmutate()\n\n\nè¶‹åŠ¿å¯è§†åŒ–\næ£€æŸ¥å¹³è¡Œè¶‹åŠ¿\nggplot2\n\n\nTWFE ä¼°è®¡\nåŒå‘å›ºå®šæ•ˆåº”\nfixest::feols()\n\n\näº‹ä»¶ç ”ç©¶\nå¹³è¡Œè¶‹åŠ¿æ£€éªŒ\ni() + iplot()\n\n\näº¤é”™ DiD\nç°ä»£ä¼°è®¡å™¨\ndid::att_gt()\n\n\nå®‰æ…°å‰‚æ£€éªŒ\nç¨³å¥æ€§\næ‰‹åŠ¨æ„é€ \n\n\n\n\næŠ¥å‘Š DiD åˆ†æçš„ Checklist\n\næ¸…æ™°æè¿°å¹²é¢„/æ”¿ç­–\nå®šä¹‰å¤„ç†ç»„å’Œå¯¹ç…§ç»„\næä¾›å¹²é¢„å‰åçš„è¶‹åŠ¿å›¾\næŠ¥å‘Šäº‹ä»¶ç ”ç©¶å›¾ï¼ˆæ£€éªŒå¹³è¡Œè¶‹åŠ¿ï¼‰\næŠ¥å‘Š DiD ä¼°è®¡é‡åŠç½®ä¿¡åŒºé—´\nè¯´æ˜æ ‡å‡†è¯¯èšç±»æ–¹å¼\nè¿›è¡Œå®‰æ…°å‰‚æ£€éªŒ\nè®¨è®ºæ½œåœ¨å¨èƒï¼ˆé¢„æœŸæ•ˆåº”ã€æº¢å‡ºç­‰ï¼‰\n\n\n\næ¨èé˜…è¯»\n\nCunningham S. Causal Inference: The Mixtape\nAngrist JD, Pischke JS. Mostly Harmless Econometrics\nCallaway B, Santâ€™Anna PHC (2021). Difference-in-Differences with Multiple Time Periods. J Econometrics\nfixest åŒ…æ–‡æ¡£\ndid åŒ…æ–‡æ¡£",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "åŒé‡å·®åˆ†æ³• (DiD)"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html",
    "href": "1030-qualitative-research.html",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "è´¨æ€§ç ”ç©¶ (Qualitative Research) ä¼ ç»Ÿä¸Šä¾èµ–äººå·¥é˜…è¯»ã€ç¼–ç å’Œå½’çº³ï¼ˆå¦‚ä½¿ç”¨ NVivo, MAXQDAï¼‰ã€‚ä½†åœ¨é¢å¯¹æµ·é‡æ–‡æœ¬ï¼ˆå¦‚æˆåƒä¸Šä¸‡æ¡æ‚£è€…è¯„è®ºã€æ”¿ç­–æ–‡æ¡£ï¼‰æ—¶ï¼Œäººå·¥ç¼–ç å˜å¾—ä¸å¯èƒ½ã€‚\næ–‡æœ¬æŒ–æ˜ (Text Mining) æä¾›äº†â€œè¿œè¯» (Distant Reading)â€çš„è§†è§’ï¼Œå¸®åŠ©æˆ‘ä»¬ï¼š - ä¸‰è§’éªŒè¯ (Triangulation)ï¼šç”¨é‡åŒ–ç»“æœéªŒè¯è´¨æ€§å‘ç°ã€‚ - æ¢ç´¢æ€§åˆ†æï¼šå¿«é€Ÿè¯†åˆ«é«˜é¢‘è¯å’Œæ½œåœ¨ä¸»é¢˜ã€‚ - æƒ…æ„Ÿåˆ†æï¼šé‡åŒ–æ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#ä¸ºä»€ä¹ˆè´¨æ€§ç ”ç©¶éœ€è¦-r",
    "href": "1030-qualitative-research.html#ä¸ºä»€ä¹ˆè´¨æ€§ç ”ç©¶éœ€è¦-r",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "è´¨æ€§ç ”ç©¶ (Qualitative Research) ä¼ ç»Ÿä¸Šä¾èµ–äººå·¥é˜…è¯»ã€ç¼–ç å’Œå½’çº³ï¼ˆå¦‚ä½¿ç”¨ NVivo, MAXQDAï¼‰ã€‚ä½†åœ¨é¢å¯¹æµ·é‡æ–‡æœ¬ï¼ˆå¦‚æˆåƒä¸Šä¸‡æ¡æ‚£è€…è¯„è®ºã€æ”¿ç­–æ–‡æ¡£ï¼‰æ—¶ï¼Œäººå·¥ç¼–ç å˜å¾—ä¸å¯èƒ½ã€‚\næ–‡æœ¬æŒ–æ˜ (Text Mining) æä¾›äº†â€œè¿œè¯» (Distant Reading)â€çš„è§†è§’ï¼Œå¸®åŠ©æˆ‘ä»¬ï¼š - ä¸‰è§’éªŒè¯ (Triangulation)ï¼šç”¨é‡åŒ–ç»“æœéªŒè¯è´¨æ€§å‘ç°ã€‚ - æ¢ç´¢æ€§åˆ†æï¼šå¿«é€Ÿè¯†åˆ«é«˜é¢‘è¯å’Œæ½œåœ¨ä¸»é¢˜ã€‚ - æƒ…æ„Ÿåˆ†æï¼šé‡åŒ–æ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#å·¥å…·å‡†å¤‡",
    "href": "1030-qualitative-research.html#å·¥å…·å‡†å¤‡",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "å·¥å…·å‡†å¤‡",
    "text": "å·¥å…·å‡†å¤‡\næˆ‘ä»¬å°†ä½¿ç”¨ tidytext æ¡†æ¶ï¼Œå®ƒå°†æ–‡æœ¬å¤„ç†èå…¥åˆ°ç†Ÿæ‚‰çš„ Tidyverse å·¥ä½œæµä¸­ã€‚\n\ntidytext: æ–‡æœ¬æ•´æ´åŒ–ã€‚\njiebaR: ä¸­æ–‡åˆ†è¯ç¥å™¨ï¼ˆæ³¨ï¼šæœ¬ç¯å¢ƒæš‚ä¸å¯ç”¨ï¼Œä»¥ä¸‹ä»…å±•ç¤ºä»£ç é€»è¾‘ï¼‰ã€‚\ntopicmodels: LDA ä¸»é¢˜æ¨¡å‹ã€‚\nwordcloud2: äº¤äº’å¼è¯äº‘ã€‚\n\n\n[!WARNING] ç”±äº jiebaR åŒ…åœ¨å½“å‰ Windows R 4.5 ç¯å¢ƒä¸­å…¼å®¹æ€§é—®é¢˜ï¼Œä»¥ä¸‹æ¶‰åŠä¸­æ–‡åˆ†è¯çš„ä»£ç å—å·²è®¾ç½®ä¸ºä¸æ‰§è¡Œ (eval=FALSE)ã€‚è¯·åœ¨æœ¬åœ°å®‰è£…äº† Rtools çš„ç¯å¢ƒä¸­å°è¯•è¿è¡Œã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#å®‰è£…ä¸åŠ è½½",
    "href": "1030-qualitative-research.html#å®‰è£…ä¸åŠ è½½",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\ninstall.packages(c(\"tidytext\", \"jiebaR\", \"topicmodels\", \"wordcloud2\", \"dplyr\", \"ggplot2\"))\n\n\nlibrary(tidytext)\n# library(jiebaR)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(wordcloud2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#ä¸­æ–‡åˆ†è¯æœºåˆ¶",
    "href": "1030-qualitative-research.html#ä¸­æ–‡åˆ†è¯æœºåˆ¶",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "ä¸­æ–‡åˆ†è¯æœºåˆ¶",
    "text": "ä¸­æ–‡åˆ†è¯æœºåˆ¶\nä¸­æ–‡ä¸è‹±æ–‡ä¸åŒï¼ˆè‹±æ–‡æœ‰ç©ºæ ¼åˆ†éš”ï¼‰ï¼Œéœ€è¦ä¸“é—¨çš„ç®—æ³•åˆ‡åˆ†è¯è¯­ã€‚\n\n# æ¨¡æ‹Ÿè®¿è°ˆæ•°æ®\ntext_data &lt;- data.frame(\n    id = 1:3,\n    text = c(\n        \"æ‚£è€…è¡¨ç¤ºå¯¹æ²»ç–—æ•ˆæœéå¸¸æ»¡æ„ï¼ŒæŠ¤å£«æœåŠ¡æ€åº¦å¾ˆå¥½ã€‚\",\n        \"æ²»ç–—è¿‡ç¨‹å¾ˆç—›è‹¦ï¼Œä½†æ˜¯ä¸ºäº†åº·å¤å¿…é¡»åšæŒï¼ŒåŒ»ç”Ÿå¾ˆä¸“ä¸šã€‚\",\n        \"åŒ»é™¢ç¯å¢ƒä¸é”™ï¼Œä½†æ˜¯æŒ‚å·æ’é˜Ÿæ—¶é—´å¤ªé•¿äº†ï¼Œå¸Œæœ›æ”¹è¿›ã€‚\"\n    ),\n    stringsAsFactors = FALSE\n)\n\n# åˆå§‹åŒ–åˆ†è¯å™¨ (æ··å’Œæ¨¡å¼)\ncutter &lt;- worker()\n\n# åˆ†è¯å‡½æ•°\nsegment_text &lt;- function(text) {\n    segment(text, cutter)\n}\n\n# 1. åˆ—è¡¨åˆ—è½¬æ¢ï¼šå°†å¥å­åˆ‡åˆ†ä¸ºè¯å‘é‡\ntext_data$segmented &lt;- sapply(text_data$text, function(x) paste(segment_text(x), collapse = \" \"))\n\n# 2. Tidy æ ¼å¼è½¬æ¢ (Unnest)\n# è¿™ä¸€æ­¥æ˜¯æ ¸å¿ƒï¼šå°† \"ä¸€è¡Œä¸€æ–‡æ¡£\" è½¬æ¢ä¸º \"ä¸€è¡Œä¸€è¯ (One-token-per-row)\"\ntidy_text &lt;- text_data %&gt;%\n    unnest_tokens(word, segmented, token = \"ngrams\", n = 1)\n\nhead(tidy_text)\n\nTidy Text æ ¼å¼ç¤ºä¾‹ï¼š è½¬æ¢åçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼Œéå¸¸é€‚åˆ dplyr å¤„ç†ï¼š\n\n\n\nid\nword\n\n\n\n\n1\næ‚£è€…\n\n\n1\nè¡¨ç¤º\n\n\n1\næ»¡æ„\n\n\n2\næ²»ç–—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#è¯é¢‘ç»Ÿè®¡ä¸å¯è§†åŒ–",
    "href": "1030-qualitative-research.html#è¯é¢‘ç»Ÿè®¡ä¸å¯è§†åŒ–",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "è¯é¢‘ç»Ÿè®¡ä¸å¯è§†åŒ–",
    "text": "è¯é¢‘ç»Ÿè®¡ä¸å¯è§†åŒ–\næˆ‘ä»¬ä½¿ç”¨è‡ªå¸¦çš„è‹±æ–‡æ•°æ®é›† sentiments æˆ–æ¨¡æ‹Ÿæ•°æ®æ¥æ¼”ç¤ºæµç¨‹ï¼ˆè·³è¿‡åˆ†è¯æ­¥éª¤ï¼‰ã€‚\n\n# ç»Ÿè®¡é«˜é¢‘è¯\nword_counts &lt;- tidy_text %&gt;%\n    count(word, sort = TRUE) %&gt;%\n    filter(nchar(word) &gt; 1) # è¿‡æ»¤æ‰å•å­—ï¼ˆå¦‚\"çš„\"ã€\"äº†\"ï¼‰\n\n# æŸ±çŠ¶å›¾å±•ç¤º\nword_counts %&gt;%\n    head(10) %&gt;%\n    ggplot(aes(reorder(word, n), n)) +\n    geom_col(fill = \"#4e79a7\") +\n    coord_flip() +\n    labs(x = NULL, y = \"å‡ºç°é¢‘æ¬¡\", title = \"è®¿è°ˆæ ¸å¿ƒè®®é¢˜\") +\n    theme_minimal(base_size = 14)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#lda-ä¸»é¢˜æ¨¡å‹-latent-dirichlet-allocation",
    "href": "1030-qualitative-research.html#lda-ä¸»é¢˜æ¨¡å‹-latent-dirichlet-allocation",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "LDA ä¸»é¢˜æ¨¡å‹ (Latent Dirichlet Allocation)",
    "text": "LDA ä¸»é¢˜æ¨¡å‹ (Latent Dirichlet Allocation)\nLDA æ˜¯ä¸€ç§éç›‘ç£å­¦ä¹ ç®—æ³•ï¼Œå®ƒå‡è®¾ï¼š 1. æ¯ç¯‡æ–‡æ¡£æ˜¯ç”±å¤šç§ä¸»é¢˜æ··åˆè€Œæˆçš„ã€‚ 2. æ¯ä¸ªä¸»é¢˜æ˜¯ç”±å¤šç§è¯æ±‡æ··åˆè€Œæˆçš„ã€‚\nå®ƒçš„ç›®æ ‡æ˜¯åæ¨è¿™äº›â€œä¸»é¢˜â€ã€‚\n\nlibrary(topicmodels)\n\n# 1. æ„å»ºæ–‡æ¡£-è¯çŸ©é˜µ (Document-Term Matrix, DTM)\n# è¿™æ˜¯ LDA çš„æ ‡å‡†è¾“å…¥æ ¼å¼\ndtm &lt;- tidy_text %&gt;%\n    count(id, word) %&gt;%\n    cast_dtm(id, word, n)\n\n# 2. è¿è¡Œæ¨¡å‹ (å‡è®¾å­˜åœ¨ K=2 ä¸ªä¸»é¢˜)\nlda_model &lt;- LDA(dtm, k = 2, control = list(seed = 1234))\n\n# 3. æå– \"è¯-ä¸»é¢˜\" æ¦‚ç‡ (beta)\ntopics &lt;- tidy(lda_model, matrix = \"beta\")\n\n# 4. å¯è§†åŒ–æ¯ä¸ªä¸»é¢˜çš„å…³é”®è¯\ntop_terms &lt;- topics %&gt;%\n    group_by(topic) %&gt;%\n    slice_max(beta, n = 5) %&gt;%\n    ungroup() %&gt;%\n    arrange(topic, -beta)\n\ntop_terms %&gt;%\n    mutate(term = reorder_within(term, beta, topic)) %&gt;%\n    ggplot(aes(beta, term, fill = factor(topic))) +\n    geom_col(show.legend = FALSE) +\n    facet_wrap(~topic, scales = \"free\") +\n    scale_y_reordered() +\n    labs(\n        title = \"LDA æ¨¡å‹æå–çš„æ½œåœ¨ä¸»é¢˜\",\n        subtitle = \"ä¸»é¢˜ 1 å¯èƒ½å¯¹åº” 'å°±åŒ»ä½“éªŒ'ï¼Œä¸»é¢˜ 2 å¯¹åº” 'æ²»ç–—æ„Ÿå—'\",\n        x = \"Beta (è¯å±äºè¯¥ä¸»é¢˜çš„æ¦‚ç‡)\", y = NULL\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#æ··åˆç ”ç©¶è®¾è®¡çš„åº”ç”¨",
    "href": "1030-qualitative-research.html#æ··åˆç ”ç©¶è®¾è®¡çš„åº”ç”¨",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "æ··åˆç ”ç©¶è®¾è®¡çš„åº”ç”¨",
    "text": "æ··åˆç ”ç©¶è®¾è®¡çš„åº”ç”¨\nå°†æ–‡æœ¬æŒ–æ˜ç»“æœæ•´åˆå›è´¨æ€§ç ”ç©¶ï¼š\n\nå…³é”®è¯å¯¼å‡ºï¼šå°† LDA æå–çš„ Top 20 è¯æ±‡ä½œä¸º NVivo çš„é¢„è®¾èŠ‚ç‚¹ (Nodes)ã€‚\næƒ…æ„Ÿé‡åŒ–ï¼šè®¡ç®—æ¯ä¸ªå—è®¿è€…çš„æƒ…æ„Ÿå¾—åˆ†ï¼Œä¸ä»–ä»¬çš„é—®å·æ»¡æ„åº¦è¿›è¡Œç›¸å…³æ€§åˆ†æï¼ˆMixed Methodsï¼‰ã€‚\nå¼‚å¸¸å€¼å‘ç°ï¼šæ‰¾åˆ°ä¸ç¬¦åˆä¸»æµä¸»é¢˜çš„â€œç¦»ç¾¤â€æ–‡æ¡£ï¼Œè¿›è¡Œæ·±å…¥ä¸ªæ¡ˆç ”ç©¶ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1030-qualitative-research.html#å‚è€ƒæ–‡çŒ®",
    "href": "1030-qualitative-research.html#å‚è€ƒæ–‡çŒ®",
    "title": "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜ (Text Mining) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nSilge, J., & Robinson, D. (2017). Text Mining with R: A Tidy Approach. Oâ€™Reilly Media.\nBlei, D. M. (2012). Probabilistic topic models. Communications of the ACM.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "è´¨æ€§ç ”ç©¶ä¸æ–‡æœ¬æŒ–æ˜"
    ]
  },
  {
    "objectID": "1032-sem.html",
    "href": "1032-sem.html",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (Structural Equation Modeling, SEM) æ˜¯ä¸€ç§å¼ºå¤§çš„å¤šå…ƒç»Ÿè®¡åˆ†ææŠ€æœ¯ï¼Œå®ƒç»“åˆäº†å› å­åˆ†æï¼ˆæµ‹é‡æ¨¡å‹ï¼‰å’Œè·¯å¾„åˆ†æï¼ˆç»“æ„æ¨¡å‹ï¼‰ï¼Œå…è®¸ç ”ç©¶è€…åŒæ—¶æ£€éªŒè§‚æµ‹å˜é‡ä¸æ½œå˜é‡ä¹‹é—´ã€ä»¥åŠæ½œå˜é‡ä¹‹é—´çš„å¤æ‚å…³ç³»ã€‚\nåœ¨ R è¯­è¨€ä¸­ï¼Œlavaan (Latent Variable Analysis) æ˜¯æœ€æµè¡Œçš„ SEM åŒ…ï¼Œå®ƒè¯­æ³•ç®€æ´ä¸”åŠŸèƒ½å…¨é¢ã€‚semPlot åŒ…åˆ™å¸¸ç”¨äºç»˜åˆ¶è·¯å¾„å›¾ã€‚\n\n\n\næµ‹é‡æ¨¡å‹ (Measurement Model)ï¼šæè¿°æ½œå˜é‡å¦‚ä½•ç”±è§‚æµ‹æŒ‡æ ‡æµ‹é‡\nç»“æ„æ¨¡å‹ (Structural Model)ï¼šæè¿°æ½œå˜é‡ä¹‹é—´çš„å› æœ/ç›¸å…³å…³ç³»\n\ngraph LR\n    subgraph æµ‹é‡æ¨¡å‹\n        X1 --&gt; F1[æ½œå˜é‡1]\n        X2 --&gt; F1\n        X3 --&gt; F1\n    end\n    subgraph ç»“æ„æ¨¡å‹\n        F1 --&gt; F2[æ½œå˜é‡2]\n    end\n    subgraph æµ‹é‡æ¨¡å‹2\n        F2 --&gt; Y1\n        F2 --&gt; Y2\n    end",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#ç®€ä»‹",
    "href": "1032-sem.html#ç®€ä»‹",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (Structural Equation Modeling, SEM) æ˜¯ä¸€ç§å¼ºå¤§çš„å¤šå…ƒç»Ÿè®¡åˆ†ææŠ€æœ¯ï¼Œå®ƒç»“åˆäº†å› å­åˆ†æï¼ˆæµ‹é‡æ¨¡å‹ï¼‰å’Œè·¯å¾„åˆ†æï¼ˆç»“æ„æ¨¡å‹ï¼‰ï¼Œå…è®¸ç ”ç©¶è€…åŒæ—¶æ£€éªŒè§‚æµ‹å˜é‡ä¸æ½œå˜é‡ä¹‹é—´ã€ä»¥åŠæ½œå˜é‡ä¹‹é—´çš„å¤æ‚å…³ç³»ã€‚\nåœ¨ R è¯­è¨€ä¸­ï¼Œlavaan (Latent Variable Analysis) æ˜¯æœ€æµè¡Œçš„ SEM åŒ…ï¼Œå®ƒè¯­æ³•ç®€æ´ä¸”åŠŸèƒ½å…¨é¢ã€‚semPlot åŒ…åˆ™å¸¸ç”¨äºç»˜åˆ¶è·¯å¾„å›¾ã€‚\n\n\n\næµ‹é‡æ¨¡å‹ (Measurement Model)ï¼šæè¿°æ½œå˜é‡å¦‚ä½•ç”±è§‚æµ‹æŒ‡æ ‡æµ‹é‡\nç»“æ„æ¨¡å‹ (Structural Model)ï¼šæè¿°æ½œå˜é‡ä¹‹é—´çš„å› æœ/ç›¸å…³å…³ç³»\n\ngraph LR\n    subgraph æµ‹é‡æ¨¡å‹\n        X1 --&gt; F1[æ½œå˜é‡1]\n        X2 --&gt; F1\n        X3 --&gt; F1\n    end\n    subgraph ç»“æ„æ¨¡å‹\n        F1 --&gt; F2[æ½œå˜é‡2]\n    end\n    subgraph æµ‹é‡æ¨¡å‹2\n        F2 --&gt; Y1\n        F2 --&gt; Y2\n    end",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#å®‰è£…",
    "href": "1032-sem.html#å®‰è£…",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…",
    "text": "å®‰è£…\n\ninstall.packages(\"lavaan\")\ninstall.packages(\"semPlot\")\n\n\nlibrary(lavaan)\nlibrary(semPlot)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#å®ä¾‹æ•°æ®",
    "href": "1032-sem.html#å®ä¾‹æ•°æ®",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "å®ä¾‹æ•°æ®",
    "text": "å®ä¾‹æ•°æ®\næˆ‘ä»¬å°†ä½¿ç”¨ lavaan è‡ªå¸¦çš„ PoliticalDemocracy æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†åŒ…å«äº† 1960 å¹´å’Œ 1965 å¹´å„å›½çš„å·¥ä¸šåŒ–ç¨‹åº¦ä¸æ”¿æ²»æ°‘ä¸»ç¨‹åº¦çš„æ•°æ®ã€‚\n\ndata(PoliticalDemocracy)\nhead(PoliticalDemocracy)\n\n     y1       y2       y3       y4       y5       y6       y7       y8       x1\n1  2.50 0.000000 3.333333 0.000000 1.250000 0.000000 3.726360 3.333333 4.442651\n2  1.25 0.000000 3.333333 0.000000 6.250000 1.100000 6.666666 0.736999 5.384495\n3  7.50 8.800000 9.999998 9.199991 8.750000 8.094061 9.999998 8.211809 5.961005\n4  8.90 8.800000 9.999998 9.199991 8.907948 8.127979 9.999998 4.615086 6.285998\n5 10.00 3.333333 9.999998 6.666666 7.500000 3.333333 9.999998 6.666666 5.863631\n6  7.50 3.333333 6.666666 6.666666 6.250000 1.100000 6.666666 0.368500 5.533389\n        x2       x3\n1 3.637586 2.557615\n2 5.062595 3.568079\n3 6.255750 5.224433\n4 7.567863 6.267495\n5 6.818924 4.573679\n6 5.135798 3.892270\n\n\nå˜é‡è¯´æ˜ï¼š - x1-x3: 1960å¹´å·¥ä¸šåŒ–æŒ‡æ ‡ - y1-y4: 1960å¹´æ°‘ä¸»ç¨‹åº¦æŒ‡æ ‡ - y5-y8: 1965å¹´æ°‘ä¸»ç¨‹åº¦æŒ‡æ ‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#æ¨¡å‹è®¾å®š",
    "href": "1032-sem.html#æ¨¡å‹è®¾å®š",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è®¾å®š",
    "text": "æ¨¡å‹è®¾å®š\nlavaan ä½¿ç”¨ä¸€ç§ç›´è§‚çš„å­—ç¬¦ä¸²è¯­æ³•æ¥æè¿°æ¨¡å‹ï¼š\n\n\n\nç¬¦å·\nå«ä¹‰\nç¤ºä¾‹\n\n\n\n\n=~\nå®šä¹‰æ½œå˜é‡ï¼ˆç”±â€¦æµ‹é‡ï¼‰\nF =~ x1 + x2 + x3\n\n\n~\nå›å½’å…³ç³»ï¼ˆè¢«â€¦é¢„æµ‹ï¼‰\nY ~ X1 + X2\n\n\n~~\nåæ–¹å·®/æ–¹å·®\nx1 ~~ x2\n\n\n:=\nå®šä¹‰æ–°å‚æ•°\nindirect := a*b\n\n\n\n\nmodel &lt;- \"\n  # æµ‹é‡æ¨¡å‹ (å®šä¹‰æ½œå˜é‡)\n    ind60 =~ x1 + x2 + x3\n    dem60 =~ y1 + y2 + y3 + y4\n    dem65 =~ y5 + y6 + y7 + y8\n\n  # ç»“æ„æ¨¡å‹ (å›å½’å…³ç³»)\n    dem60 ~ ind60\n    dem65 ~ ind60 + dem60\n\n  # æ®‹å·®ç›¸å…³ (å¯é€‰)\n    y1 ~~ y5\n    y2 ~~ y4 + y6\n    y3 ~~ y7\n    y4 ~~ y8\n    y6 ~~ y8\n\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#æ¨¡å‹æ‹Ÿåˆ",
    "href": "1032-sem.html#æ¨¡å‹æ‹Ÿåˆ",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ‹Ÿåˆ",
    "text": "æ¨¡å‹æ‹Ÿåˆ\nä½¿ç”¨ sem() å‡½æ•°æ‹Ÿåˆæ¨¡å‹ã€‚\n\nfit &lt;- sem(model, data = PoliticalDemocracy)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#æŸ¥çœ‹ç»“æœ",
    "href": "1032-sem.html#æŸ¥çœ‹ç»“æœ",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "æŸ¥çœ‹ç»“æœ",
    "text": "æŸ¥çœ‹ç»“æœ\nä½¿ç”¨ summary() å‡½æ•°æŸ¥çœ‹è¯¦ç»†ç»“æœï¼Œstandardized = TRUE å¯ä»¥è¾“å‡ºæ ‡å‡†åŒ–ç³»æ•°ï¼Œfit.measures = TRUE è¾“å‡ºæ‹ŸåˆæŒ‡æ•°ã€‚\n\nsummary(fit, standardized = TRUE, fit.measures = TRUE, rsquare = TRUE)\n\nlavaan 0.6-21 ended normally after 68 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        31\n\n  Number of observations                            75\n\nModel Test User Model:\n                                                      \n  Test statistic                                38.125\n  Degrees of freedom                                35\n  P-value (Chi-square)                           0.329\n\nModel Test Baseline Model:\n\n  Test statistic                               730.654\n  Degrees of freedom                                55\n  P-value                                        0.000\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.995\n  Tucker-Lewis Index (TLI)                       0.993\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)              -1547.791\n  Loglikelihood unrestricted model (H1)      -1528.728\n                                                      \n  Akaike (AIC)                                3157.582\n  Bayesian (BIC)                              3229.424\n  Sample-size adjusted Bayesian (SABIC)       3131.720\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.035\n  90 Percent confidence interval - lower         0.000\n  90 Percent confidence interval - upper         0.092\n  P-value H_0: RMSEA &lt;= 0.050                    0.611\n  P-value H_0: RMSEA &gt;= 0.080                    0.114\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.044\n\nParameter Estimates:\n\n  Standard errors                             Standard\n  Information                                 Expected\n  Information saturated (h1) model          Structured\n\nLatent Variables:\n                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n  ind60 =~                                                              \n    x1                1.000                               0.670    0.920\n    x2                2.180    0.139   15.742    0.000    1.460    0.973\n    x3                1.819    0.152   11.967    0.000    1.218    0.872\n  dem60 =~                                                              \n    y1                1.000                               2.223    0.850\n    y2                1.257    0.182    6.889    0.000    2.794    0.717\n    y3                1.058    0.151    6.987    0.000    2.351    0.722\n    y4                1.265    0.145    8.722    0.000    2.812    0.846\n  dem65 =~                                                              \n    y5                1.000                               2.103    0.808\n    y6                1.186    0.169    7.024    0.000    2.493    0.746\n    y7                1.280    0.160    8.002    0.000    2.691    0.824\n    y8                1.266    0.158    8.007    0.000    2.662    0.828\n\nRegressions:\n                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n  dem60 ~                                                               \n    ind60             1.483    0.399    3.715    0.000    0.447    0.447\n  dem65 ~                                                               \n    ind60             0.572    0.221    2.586    0.010    0.182    0.182\n    dem60             0.837    0.098    8.514    0.000    0.885    0.885\n\nCovariances:\n                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n .y1 ~~                                                                 \n   .y5                0.624    0.358    1.741    0.082    0.624    0.296\n .y2 ~~                                                                 \n   .y4                1.313    0.702    1.871    0.061    1.313    0.273\n   .y6                2.153    0.734    2.934    0.003    2.153    0.356\n .y3 ~~                                                                 \n   .y7                0.795    0.608    1.308    0.191    0.795    0.191\n .y4 ~~                                                                 \n   .y8                0.348    0.442    0.787    0.431    0.348    0.109\n .y6 ~~                                                                 \n   .y8                1.356    0.568    2.386    0.017    1.356    0.338\n\nVariances:\n                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n   .x1                0.082    0.019    4.184    0.000    0.082    0.154\n   .x2                0.120    0.070    1.718    0.086    0.120    0.053\n   .x3                0.467    0.090    5.177    0.000    0.467    0.239\n   .y1                1.891    0.444    4.256    0.000    1.891    0.277\n   .y2                7.373    1.374    5.366    0.000    7.373    0.486\n   .y3                5.067    0.952    5.324    0.000    5.067    0.478\n   .y4                3.148    0.739    4.261    0.000    3.148    0.285\n   .y5                2.351    0.480    4.895    0.000    2.351    0.347\n   .y6                4.954    0.914    5.419    0.000    4.954    0.443\n   .y7                3.431    0.713    4.814    0.000    3.431    0.322\n   .y8                3.254    0.695    4.685    0.000    3.254    0.315\n    ind60             0.448    0.087    5.173    0.000    1.000    1.000\n   .dem60             3.956    0.921    4.295    0.000    0.800    0.800\n   .dem65             0.172    0.215    0.803    0.422    0.039    0.039\n\nR-Square:\n                   Estimate\n    x1                0.846\n    x2                0.947\n    x3                0.761\n    y1                0.723\n    y2                0.514\n    y3                0.522\n    y4                0.715\n    y5                0.653\n    y6                0.557\n    y7                0.678\n    y8                0.685\n    dem60             0.200\n    dem65             0.961",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#æ‹ŸåˆæŒ‡æ•°è¯¦è§£",
    "href": "1032-sem.html#æ‹ŸåˆæŒ‡æ•°è¯¦è§£",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "æ‹ŸåˆæŒ‡æ•°è¯¦è§£",
    "text": "æ‹ŸåˆæŒ‡æ•°è¯¦è§£\nè¿™æ˜¯ SEM åˆ†æä¸­æœ€å…³é”®çš„éƒ¨åˆ†ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨æ‹ŸåˆæŒ‡æ•°åŠå…¶é˜ˆå€¼ï¼š\n\nç»å¯¹æ‹ŸåˆæŒ‡æ•°\n\n\n\næŒ‡æ ‡\nç†æƒ³å€¼\nå¯æ¥å—å€¼\nè¯´æ˜\n\n\n\n\nÏ‡Â²\np &gt; 0.05\n-\næ ·æœ¬é‡æ•æ„Ÿï¼Œå¤§æ ·æœ¬å¸¸è¢«æ‹’ç»\n\n\nRMSEA\n&lt; 0.05\n&lt; 0.08\nè¿‘ä¼¼è¯¯å·®å‡æ–¹æ ¹ï¼Œè€ƒè™‘æ¨¡å‹ç®€æ´æ€§\n\n\nSRMR\n&lt; 0.05\n&lt; 0.08\næ ‡å‡†åŒ–æ®‹å·®å‡æ–¹æ ¹\n\n\n\n\n\nç›¸å¯¹æ‹ŸåˆæŒ‡æ•°\n\n\n\næŒ‡æ ‡\nç†æƒ³å€¼\nå¯æ¥å—å€¼\nè¯´æ˜\n\n\n\n\nCFI\n&gt; 0.95\n&gt; 0.90\næ¯”è¾ƒæ‹ŸåˆæŒ‡æ•°\n\n\nTLI\n&gt; 0.95\n&gt; 0.90\nTucker-Lewis æŒ‡æ•°\n\n\nNFI\n&gt; 0.95\n&gt; 0.90\nè§„èŒƒæ‹ŸåˆæŒ‡æ•°ï¼ˆæ ·æœ¬é‡æ•æ„Ÿï¼‰\n\n\n\n\n[!TIP] å¿«é€Ÿåˆ¤æ–­æ³•åˆ™ï¼šCFI/TLI &gt; 0.90ï¼ŒRMSEA &lt; 0.08ï¼ŒSRMR &lt; 0.08 é€šå¸¸è¢«è®¤ä¸ºæ˜¯å¯æ¥å—çš„æ¨¡å‹æ‹Ÿåˆã€‚\n\n\n\næå–æ‹ŸåˆæŒ‡æ•°\n\n# æå–å¸¸ç”¨æ‹ŸåˆæŒ‡æ•°\nfit_indices &lt;- fitMeasures(fit, c(\"chisq\", \"df\", \"pvalue\", \"cfi\", \"tli\", \"rmsea\", \"srmr\"))\nround(fit_indices, 3)\n\n chisq     df pvalue    cfi    tli  rmsea   srmr \n38.125 35.000  0.329  0.995  0.993  0.035  0.044",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#è·¯å¾„ç³»æ•°è§£è¯»",
    "href": "1032-sem.html#è·¯å¾„ç³»æ•°è§£è¯»",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "è·¯å¾„ç³»æ•°è§£è¯»",
    "text": "è·¯å¾„ç³»æ•°è§£è¯»\n\næ ‡å‡†åŒ–ç³»æ•°è§£è¯»ç¤ºä¾‹\n\n# æå–æ ‡å‡†åŒ–è·¯å¾„ç³»æ•°\nstd_coef &lt;- standardizedSolution(fit)\n# åªçœ‹ç»“æ„è·¯å¾„ï¼ˆå›å½’å…³ç³»ï¼‰\nstd_coef[std_coef$op == \"~\", c(\"lhs\", \"op\", \"rhs\", \"est.std\", \"pvalue\")]\n\n     lhs op   rhs est.std pvalue\n12 dem60  ~ ind60   0.447   0.00\n13 dem65  ~ ind60   0.182   0.01\n14 dem65  ~ dem60   0.885   0.00\n\n\nè§£è¯»ç¤ºä¾‹ï¼š - dem60 ~ ind60 = 0.45 è¡¨ç¤ºï¼šå·¥ä¸šåŒ–ç¨‹åº¦æ¯å¢åŠ 1ä¸ªæ ‡å‡†å·®ï¼Œæ°‘ä¸»ç¨‹åº¦å¢åŠ 0.45ä¸ªæ ‡å‡†å·® - æ ‡å‡†åŒ–ç³»æ•°å…è®¸æ¯”è¾ƒä¸åŒè·¯å¾„çš„ç›¸å¯¹é‡è¦æ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#è·¯å¾„å›¾å¯è§†åŒ–",
    "href": "1032-sem.html#è·¯å¾„å›¾å¯è§†åŒ–",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "è·¯å¾„å›¾å¯è§†åŒ–",
    "text": "è·¯å¾„å›¾å¯è§†åŒ–\nä½¿ç”¨ semPaths() å‡½æ•°ç»˜åˆ¶æ¨¡å‹è·¯å¾„å›¾ã€‚\n\nsemPaths(fit,\n  what = \"std\", # æ˜¾ç¤ºæ ‡å‡†åŒ–ç³»æ•°\n  layout = \"tree\", # æ ‘çŠ¶å¸ƒå±€\n  edge.label.cex = 0.8, # æ ‡ç­¾å­—ä½“å¤§å°\n  curvePivot = TRUE, # æ›²çº¿å¼¯æ›²\n  fade = FALSE, # ä¸æ ¹æ®ç³»æ•°å¤§å°æ·¡åŒ–é¢œè‰²\n  style = \"lisrel\", # ç»˜å›¾é£æ ¼\n  rotation = 2 # æ—‹è½¬\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#ä¿®æ­£æŒ‡æ•°-modification-indices",
    "href": "1032-sem.html#ä¿®æ­£æŒ‡æ•°-modification-indices",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "ä¿®æ­£æŒ‡æ•° (Modification Indices)",
    "text": "ä¿®æ­£æŒ‡æ•° (Modification Indices)\nå¦‚æœæ¨¡å‹æ‹Ÿåˆä¸ä½³ï¼Œå¯ä»¥æŸ¥çœ‹ä¿®æ­£æŒ‡æ•°ï¼Œäº†è§£æ·»åŠ å“ªäº›è·¯å¾„å¯ä»¥æ”¹å–„æ¨¡å‹ã€‚\n\nmi &lt;- modindices(fit, sort = TRUE)\nhead(mi[mi$mi &gt; 10, ]) # æŸ¥çœ‹ MI &gt; 10 çš„è·¯å¾„\n\n[1] lhs      op       rhs      mi       epc      sepc.lv  sepc.all sepc.nox\n&lt;0 è¡Œ&gt; (æˆ–0-é•¿åº¦çš„row.names)\n\n\n\n[!WARNING] ä¿®æ­£æŒ‡æ•°ä»…ä¾›å‚è€ƒï¼æ·»åŠ è·¯å¾„å¿…é¡»æœ‰ç†è®ºæ”¯æŒï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´è¿‡åº¦æ‹Ÿåˆï¼ˆoverfittingï¼‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "href": "1032-sem.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "text": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n\n\n\n\n\n\n\n\né—®é¢˜\nç—‡çŠ¶\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\næ¨¡å‹ä¸æ”¶æ•›\næŠ¥é”™ â€œdid not convergeâ€\næ£€æŸ¥æ•°æ®ç¼ºå¤±ã€å˜é‡å°ºåº¦å·®å¼‚è¿‡å¤§\n\n\nè´Ÿæ–¹å·®\nHeywood case\nå¢åŠ æ ·æœ¬é‡ã€ç®€åŒ–æ¨¡å‹ã€æ£€æŸ¥ç¼–ç é”™è¯¯\n\n\nCFI/TLIè¿‡ä½\n&lt; 0.90\næ£€æŸ¥æµ‹é‡æ¨¡å‹ã€è€ƒè™‘æ·»åŠ æ®‹å·®ç›¸å…³\n\n\nRMSEAè¿‡é«˜\n&gt; 0.10\næ£€æŸ¥æ¨¡å‹è®¾å®šã€ç§»é™¤ä¸æ˜¾è‘—è·¯å¾„\n\n\nå› å­è½½è·è¿‡ä½\n&lt; 0.4\nè€ƒè™‘ç§»é™¤è¯¥æŒ‡æ ‡æˆ–åˆå¹¶ç›¸ä¼¼æŒ‡æ ‡\n\n\n\n\nè¯Šæ–­æ€§æ£€æŸ¥\n\n# æ£€æŸ¥æ®‹å·®\nresid(fit, type = \"standardized\")$cov[1:5, 1:5] # æŸ¥çœ‹æ ‡å‡†åŒ–æ®‹å·®çŸ©é˜µ\n\n              x1            x2            x3         y1         y2\nx1  2.498795e-07 -4.962612e-01 -3.886844e-01  0.5929215 -1.0534229\nx2 -4.962612e-01  6.564805e-07  8.097965e-01 -1.1285847 -0.8861320\nx3 -3.886844e-01  8.097965e-01  3.335385e-07 -1.3703533 -0.8492539\ny1  5.929215e-01 -1.128585e+00 -1.370353e+00 -1.6265896 -0.1465265\ny2 -1.053423e+00 -8.861320e-01 -8.492539e-01 -0.1465265  1.0237701\n\n\n\n[!IMPORTANT] æ ‡å‡†åŒ–æ®‹å·®ç»å¯¹å€¼ &gt; 2.58 (Î±=0.01) è¡¨ç¤ºå­˜åœ¨æ˜¾è‘—çš„å±€éƒ¨æ‹Ÿåˆé—®é¢˜ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#é«˜çº§æŠ€å·§",
    "href": "1032-sem.html#é«˜çº§æŠ€å·§",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "é«˜çº§æŠ€å·§",
    "text": "é«˜çº§æŠ€å·§\n\nå¤šç»„æ¯”è¾ƒ\n\n# æŒ‰ç»„æ‹Ÿåˆå¹¶æ¯”è¾ƒ\nfit_group &lt;- sem(model, data = mydata, group = \"gender\")\nsummary(fit_group)\n\n\n\nä¸­ä»‹æ•ˆåº”æ£€éªŒ\n\n# å®šä¹‰å¸¦ä¸­ä»‹çš„æ¨¡å‹\nmed_model &lt;- \"\n  # ç›´æ¥æ•ˆåº”\n  Y ~ c*X\n  # é€šè¿‡ M çš„é—´æ¥æ•ˆåº”\n  M ~ a*X\n  Y ~ b*M\n  # å®šä¹‰é—´æ¥æ•ˆåº”\n  indirect := a*b\n  total := c + a*b\n\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1032-sem.html#å‚è€ƒæ–‡çŒ®",
    "href": "1032-sem.html#å‚è€ƒæ–‡çŒ®",
    "title": "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nRosseel, Y. (2012). lavaan: An R Package for Structural Equation Modeling. Journal of Statistical Software, 48(2), 1-36.\nHu, L., & Bentler, P. M. (1999). Cutoff criteria for fit indexes in covariance structure analysis. Structural Equation Modeling, 6(1), 1-55.\nKline, R. B. (2015). Principles and Practice of Structural Equation Modeling (4th ed.). Guilford Press.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç»“æ„æ–¹ç¨‹æ¨¡å‹ (SEM)"
    ]
  },
  {
    "objectID": "1034-nvmd.html",
    "href": "1034-nvmd.html",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨ç”Ÿç‰©åŒ»å­¦ä¿¡å·ï¼ˆEEG, ECGï¼‰ã€é‡‘èæ—¶é—´åºåˆ—å’Œæœºæ¢°æŒ¯åŠ¨åˆ†æä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°éå¹³ç¨³å’Œéçº¿æ€§ä¿¡å·ã€‚ä¼ ç»Ÿçš„å‚…é‡Œå¶åˆ†æå‡è®¾ä¿¡å·æ˜¯å¹³ç¨³çš„ï¼Œæ— æ³•æœ‰æ•ˆå¤„ç†è¿™ç±»å¤æ‚ä¿¡å·ã€‚å˜åˆ†æ¨¡æ€åˆ†è§£ (Variational Mode Decomposition, VMD) æä¾›äº†ä¸€ç§å¼ºå¤§çš„è§£å†³æ–¹æ¡ˆã€‚\næœ¬æ•™ç¨‹å°†å…¨é¢ä»‹ç» VMD çš„ç†è®ºåŸºç¡€ã€R è¯­è¨€å®ç°ã€å‚æ•°è°ƒä¼˜ç­–ç•¥ä»¥åŠå®é™…åº”ç”¨æ¡ˆä¾‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#å‰è¨€",
    "href": "1034-nvmd.html#å‰è¨€",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "åœ¨ç”Ÿç‰©åŒ»å­¦ä¿¡å·ï¼ˆEEG, ECGï¼‰ã€é‡‘èæ—¶é—´åºåˆ—å’Œæœºæ¢°æŒ¯åŠ¨åˆ†æä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°éå¹³ç¨³å’Œéçº¿æ€§ä¿¡å·ã€‚ä¼ ç»Ÿçš„å‚…é‡Œå¶åˆ†æå‡è®¾ä¿¡å·æ˜¯å¹³ç¨³çš„ï¼Œæ— æ³•æœ‰æ•ˆå¤„ç†è¿™ç±»å¤æ‚ä¿¡å·ã€‚å˜åˆ†æ¨¡æ€åˆ†è§£ (Variational Mode Decomposition, VMD) æä¾›äº†ä¸€ç§å¼ºå¤§çš„è§£å†³æ–¹æ¡ˆã€‚\næœ¬æ•™ç¨‹å°†å…¨é¢ä»‹ç» VMD çš„ç†è®ºåŸºç¡€ã€R è¯­è¨€å®ç°ã€å‚æ•°è°ƒä¼˜ç­–ç•¥ä»¥åŠå®é™…åº”ç”¨æ¡ˆä¾‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#vmd-çš„æ•°å­¦åŸç†",
    "href": "1034-nvmd.html#vmd-çš„æ•°å­¦åŸç†",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "VMD çš„æ•°å­¦åŸç†",
    "text": "VMD çš„æ•°å­¦åŸç†\n\nä»€ä¹ˆæ˜¯æ¨¡æ€åˆ†è§£ï¼Ÿ\næ¨¡æ€åˆ†è§£çš„ç›®æ ‡æ˜¯å°†ä¸€ä¸ªå¤æ‚ä¿¡å· \\(f(t)\\) åˆ†è§£ä¸ºè‹¥å¹²ä¸ªæœ¬å¾æ¨¡æ€å‡½æ•° (Intrinsic Mode Functions, IMF)ï¼š\n\\[f(t) = \\sum_{k=1}^{K} u_k(t) + r(t)\\]\nå…¶ä¸­ \\(u_k(t)\\) æ˜¯ç¬¬ \\(k\\) ä¸ªæ¨¡æ€åˆ†é‡ï¼Œ\\(r(t)\\) æ˜¯æ®‹å·®ã€‚\næ¯ä¸ª IMF åº”è¯¥æ˜¯ä¸€ä¸ªè°ƒå¹…-è°ƒé¢‘ (AM-FM) ä¿¡å·ï¼š \\[u_k(t) = A_k(t) \\cos(\\phi_k(t))\\]\nå…¶ä¸­ \\(A_k(t)\\) æ˜¯ç¬æ—¶å¹…åº¦ï¼Œ\\(\\phi_k(t)\\) æ˜¯ç¬æ—¶ç›¸ä½ã€‚\n\n\nVMD çš„å˜åˆ†é—®é¢˜\nVMD å°†ä¿¡å·åˆ†è§£æ„é€ ä¸ºä¸€ä¸ªçº¦æŸå˜åˆ†ä¼˜åŒ–é—®é¢˜ï¼š\nç›®æ ‡ï¼šæ‰¾åˆ° K ä¸ªæ¨¡æ€ \\(\\{u_k\\}\\)ï¼Œä½¿å¾—æ¯ä¸ªæ¨¡æ€çš„å¸¦å®½æœ€å°åŒ–ã€‚\næœ€å°åŒ–ï¼šÎ£ ||âˆ‚_t[(Î´(t) + j/Ï€t) * u_k(t)] e^{-jÏ‰_k t}||Â²\n\nçº¦æŸæ¡ä»¶ï¼šÎ£ u_k = f\nå…¶ä¸­ï¼š - \\(\\omega_k\\) æ˜¯ç¬¬ \\(k\\) ä¸ªæ¨¡æ€çš„ä¸­å¿ƒé¢‘ç‡ - \\((Î´(t) + j/Ï€t) * u_k(t)\\) æ˜¯ \\(u_k\\) çš„è§£æä¿¡å·ï¼ˆé€šè¿‡å¸Œå°”ä¼¯ç‰¹å˜æ¢è·å¾—ï¼‰ - \\(e^{-j\\omega_k t}\\) å°†ä¿¡å·é¢‘è°±ç§»è‡³åŸºå¸¦\n\n\nADMM æ±‚è§£ç®—æ³•\nVMD ä½¿ç”¨äº¤æ›¿æ–¹å‘ä¹˜å­æ³• (ADMM) è¿­ä»£æ±‚è§£ï¼š\n\n\n\næ­¥éª¤\næ›´æ–°å˜é‡\nè¯´æ˜\n\n\n\n\n1\n\\(\\hat{u}_k^{n+1}\\)\næ›´æ–°æ¨¡æ€é¢‘è°±\n\n\n2\n\\(\\omega_k^{n+1}\\)\næ›´æ–°ä¸­å¿ƒé¢‘ç‡\n\n\n3\n\\(\\hat{\\lambda}^{n+1}\\)\næ›´æ–°æ‹‰æ ¼æœ—æ—¥ä¹˜å­\n\n\n\nè¿­ä»£ç›´åˆ°æ»¡è¶³æ”¶æ•›æ¡ä»¶ï¼š \\[\\sum_k \\|\\hat{u}_k^{n+1} - \\hat{u}_k^n\\|_2^2 / \\|\\hat{u}_k^n\\|_2^2 &lt; \\epsilon\\]\n\n\nVMD vs EMD è¯¦ç»†å¯¹æ¯”\n\n\n\nç‰¹æ€§\nVMD\nEMD\n\n\n\n\nç†è®ºåŸºç¡€\nå˜åˆ†ä¼˜åŒ–ç†è®ºï¼Œæ•°å­¦ä¸¥æ ¼\nç»éªŒç®—æ³•ï¼Œæ— ä¸¥æ ¼æ•°å­¦åŸºç¡€\n\n\nåˆ†è§£æ–¹å¼\néé€’å½’ï¼ŒåŒæ—¶åˆ†è§£æ‰€æœ‰æ¨¡æ€\né€’å½’ç­›é€‰ï¼Œé€ä¸€æå–\n\n\næ¨¡æ€æ··å \né€šè¿‡å¸¦å®½çº¦æŸæœ‰æ•ˆé¿å…\nå®¹æ˜“å‘ç”Ÿï¼Œå°¤å…¶ç›¸è¿‘é¢‘ç‡\n\n\nå™ªå£°æ•æ„Ÿæ€§\nä½ï¼Œå†…ç½®å»å™ªæœºåˆ¶\né«˜ï¼Œå™ªå£°ç›´æ¥å½±å“ç­›é€‰\n\n\nç«¯ç‚¹æ•ˆåº”\nè¾ƒå°ï¼ˆé¢‘åŸŸå¤„ç†ï¼‰\næ˜æ˜¾ï¼ˆæ—¶åŸŸå¤„ç†ï¼‰\n\n\næ¨¡æ€æ•° K\néœ€é¢„å…ˆè®¾å®š\nè‡ªé€‚åº”ç¡®å®š\n\n\nè®¡ç®—é€Ÿåº¦\nè¾ƒæ…¢ï¼ˆè¿­ä»£ä¼˜åŒ–ï¼‰\nè¾ƒå¿«ï¼ˆç­›é€‰è¿‡ç¨‹ï¼‰\n\n\nå‚æ•°æ•æ„Ÿåº¦\nä¸­ç­‰ï¼ˆalpha, Kï¼‰\nä½ï¼ˆè‡ªåŠ¨ï¼‰\n\n\n\n\n[!NOTE] VMD çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå…¶â€å¸¦å®½é™åˆ¶â€çš„å˜åˆ†æ¡†æ¶ï¼Œèƒ½å¤Ÿå°†é¢‘ç‡ç›¸è¿‘çš„æˆåˆ†æœ‰æ•ˆåˆ†ç¦»ï¼Œè¿™åœ¨ EMD ä¸­å‡ ä¹ä¸å¯èƒ½å®ç°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#r-è¯­è¨€å·¥å…·vmdecomp-åŒ…",
    "href": "1034-nvmd.html#r-è¯­è¨€å·¥å…·vmdecomp-åŒ…",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "R è¯­è¨€å·¥å…·ï¼šVMDecomp åŒ…",
    "text": "R è¯­è¨€å·¥å…·ï¼šVMDecomp åŒ…\n\nå®‰è£…\n\n# VMDecomp åŒ…ä¸åœ¨ CRANï¼Œéœ€ä» GitHub å®‰è£…\ninstall.packages(\"devtools\")\ndevtools::install_github(\"lampros-mouselimis/VMDecomp\")\n\n\n\nå‡½æ•°æ¥å£\n\nlibrary(VMDecomp)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nvmd() å‡½æ•°çš„å®Œæ•´å‚æ•°ï¼š\nvmd(\n  signal,        # è¾“å…¥ä¿¡å·ï¼ˆä¸€ç»´æ•°å€¼å‘é‡ï¼‰\n  alpha,         # å¸¦å®½çº¦æŸå› å­ï¼ˆæƒ©ç½šå‚æ•°ï¼‰\n  tau,           # å™ªå£°å®¹é™ï¼ˆ0 = æ— ä¸¥æ ¼çº¦æŸï¼‰\n  K,             # æ¨¡æ€æ•°é‡\n  DC,            # æ˜¯å¦åŒ…å«ç›´æµåˆ†é‡ï¼ˆTRUE/FALSEï¼‰\n  init,          # ä¸­å¿ƒé¢‘ç‡åˆå§‹åŒ–æ–¹å¼ï¼ˆ1=å‡åŒ€, 2=éšæœºï¼‰\n  tol            # æ”¶æ•›å®¹å·®\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#ä»¿çœŸä¿¡å·åˆ†è§£å®éªŒ",
    "href": "1034-nvmd.html#ä»¿çœŸä¿¡å·åˆ†è§£å®éªŒ",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ä»¿çœŸä¿¡å·åˆ†è§£å®éªŒ",
    "text": "ä»¿çœŸä¿¡å·åˆ†è§£å®éªŒ\n\næ„é€ å·²çŸ¥æˆåˆ†çš„æµ‹è¯•ä¿¡å·\nä¸ºäº†éªŒè¯ VMD çš„åˆ†è§£æ•ˆæœï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå·²çŸ¥é¢‘ç‡æˆåˆ†çš„åˆæˆä¿¡å·ï¼š\n\\[S(t) = 2\\sin(2\\pi \\cdot 10 \\cdot t) + 1.5\\sin(2\\pi \\cdot 50 \\cdot t) + \\sin(2\\pi \\cdot 100 \\cdot t) + \\epsilon\\]\n\n# é‡‡æ ·å‚æ•°\nfs &lt;- 1000 # é‡‡æ ·é¢‘ç‡ (Hz)\nduration &lt;- 1 # ä¿¡å·æ—¶é•¿ (s)\nt &lt;- seq(0, duration, length.out = fs * duration)\n\n# çœŸå®ä¿¡å·æˆåˆ†\nf1 &lt;- 10 # ä½é¢‘\nf2 &lt;- 50 # ä¸­é¢‘\nf3 &lt;- 100 # é«˜é¢‘\n\n# åŸå§‹æˆåˆ†ï¼ˆç”¨äºåç»­å¯¹æ¯”ï¼‰\ncomp1_true &lt;- 2 * sin(2 * pi * f1 * t)\ncomp2_true &lt;- 1.5 * sin(2 * pi * f2 * t)\ncomp3_true &lt;- 1 * sin(2 * pi * f3 * t)\n\n# åˆæˆä¿¡å· (åŠ é«˜æ–¯ç™½å™ªå£°)\nset.seed(123)\nnoise &lt;- rnorm(length(t), 0, 0.5)\nsig &lt;- comp1_true + comp2_true + comp3_true + noise\n\n# ç»˜åˆ¶åŸå§‹ä¿¡å·\nplot(t, sig,\n    type = \"l\", col = \"darkgrey\",\n    main = \"åˆæˆæµ‹è¯•ä¿¡å· (10Hz + 50Hz + 100Hz + Noise)\",\n    xlab = \"Time (s)\", ylab = \"Amplitude\"\n)\n\n\n\n\n\n\n\n\n\n\nFFT é¢‘è°±åˆ†æç¡®å®š K å€¼\nåœ¨ä½¿ç”¨ VMD ä¹‹å‰ï¼Œé€šå¸¸å…ˆç”¨ FFT åˆ†æä¿¡å·çš„é¢‘ç‡æˆåˆ†ï¼š\n\n# è®¡ç®— FFT\nsig_fft &lt;- fft(sig)\nP &lt;- abs(sig_fft / length(sig))\nP1 &lt;- P[1:(length(sig) / 2 + 1)]\nP1[2:length(P1)] &lt;- 2 * P1[2:length(P1)]\nf &lt;- fs * (0:(length(sig) / 2)) / length(sig)\n\n# ç»˜åˆ¶å•è¾¹é¢‘è°±\nplot(f, P1,\n    type = \"l\", xlim = c(0, 150),\n    main = \"FFT é¢‘è°±åˆ†æ - ç¡®å®š K å€¼\",\n    xlab = \"Frequency (Hz)\", ylab = \"Amplitude\"\n)\nabline(v = c(10, 50, 100), col = \"red\", lty = 2)\ntext(c(10, 50, 100), max(P1) * 0.9, c(\"10Hz\", \"50Hz\", \"100Hz\"), pos = 4, col = \"red\")\n\n\n\n\n\n\n\n\nä»é¢‘è°±å›¾å¯ä»¥æ¸…æ™°çœ‹åˆ° 3 ä¸ªå³°å€¼ï¼Œå› æ­¤è®¾ç½® K = 3ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#vmd-å‚æ•°è¯¦è§£ä¸è°ƒä¼˜",
    "href": "1034-nvmd.html#vmd-å‚æ•°è¯¦è§£ä¸è°ƒä¼˜",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "VMD å‚æ•°è¯¦è§£ä¸è°ƒä¼˜",
    "text": "VMD å‚æ•°è¯¦è§£ä¸è°ƒä¼˜\n\nå…³é”®å‚æ•°è¯´æ˜\n\n\n\nå‚æ•°\nç¬¦å·\nä½œç”¨\næ¨èå€¼\n\n\n\n\nK\næ¨¡æ€æ•°\nåˆ†è§£å‡ºçš„ IMF æ•°é‡\nFFT å³°å€¼æ•° + 0~1\n\n\nalpha\nÎ±\nå¸¦å®½çº¦æŸå¼ºåº¦\n1000-5000\n\n\ntau\nÏ„\nå™ªå£°å®¹é™\n0 æˆ– 0.01\n\n\nDC\n-\nåŒ…å«ç›´æµåˆ†é‡\né€šå¸¸ FALSE\n\n\ninit\n-\nåˆå§‹åŒ–æ–¹å¼\n1 (å‡åŒ€åˆ†å¸ƒ)\n\n\ntol\nÎµ\næ”¶æ•›é˜ˆå€¼\n1e-6 æˆ– 1e-7\n\n\n\n\n\nalpha å‚æ•°çš„å½±å“å®éªŒ\nalpha æ§åˆ¶æ¨¡æ€çš„å¸¦å®½ï¼š - alpha å° â†’ å¸¦å®½å®½ â†’ æ¨¡æ€å¯èƒ½é‡å /æ··åˆ - alpha å¤§ â†’ å¸¦å®½çª„ â†’ åˆ†ç¦»æ›´æ¸…æ™°ï¼Œä½†å¯èƒ½ä¸¢å¤±è¾¹ç¼˜ä¿¡æ¯\n\n# å¯¹æ¯”ä¸åŒ alpha å€¼\nalphas &lt;- c(500, 2000, 5000)\npar(mfrow = c(length(alphas), 1), mar = c(3, 4, 2, 1))\n\nfor (a in alphas) {\n    vmd_res &lt;- VMDecomp::vmd(sig, alpha = a, tau = 0, K = 3, DC = FALSE, init = 1, tol = 1e-6)\n\n    # ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ¨¡æ€ï¼ˆåº”å¯¹åº”10Hzï¼‰\n    plot(t, vmd_res$u[, 1],\n        type = \"l\", col = \"blue\",\n        main = paste0(\"IMF 1 (alpha = \", a, \")\"),\n        xlab = \"\", ylab = \"Amplitude\"\n    )\n    # å åŠ çœŸå®10Hzæˆåˆ†ç”¨äºå¯¹æ¯”\n    lines(t, comp1_true, col = \"red\", lty = 2)\n}\n\n\n\n\n\n\n\n\n\n\nK å€¼é€‰æ‹©ç­–ç•¥\n\n[!TIP] K å€¼é€‰æ‹©çš„ 3 ç§æ–¹æ³•ï¼š\n\nFFT å³°å€¼æ³•ï¼šè§‚å¯Ÿé¢‘è°±ä¸­æ˜æ˜¾çš„å³°å€¼æ•°é‡\nèƒ½é‡æ³•ï¼šé€æ¸å¢åŠ  Kï¼Œå½“æ®‹å·®èƒ½é‡å˜åŒ–å°äºé˜ˆå€¼æ—¶åœæ­¢\nä¸­å¿ƒé¢‘ç‡æ³•ï¼šæ£€æŸ¥ç›¸é‚»æ¨¡æ€çš„ä¸­å¿ƒé¢‘ç‡å·®å¼‚ï¼Œè¿‡å°è¯´æ˜ K è¿‡å¤§\n\n\n\n# K å€¼æ•æ„Ÿæ€§åˆ†æ\npar(mfrow = c(2, 2), mar = c(3, 4, 2, 1))\n\nfor (K_test in c(2, 3, 4, 5)) {\n    vmd_res &lt;- VMDecomp::vmd(sig, alpha = 2000, tau = 0, K = K_test, DC = FALSE, init = 1, tol = 1e-6)\n\n    # è®¡ç®—é‡æ„è¯¯å·®\n    reconstructed &lt;- rowSums(vmd_res$u)\n    error &lt;- mean((sig - reconstructed)^2)\n\n    # ç»˜åˆ¶é‡æ„ä¿¡å·\n    plot(t[1:200], sig[1:200],\n        type = \"l\", col = \"gray\",\n        main = paste0(\"K = \", K_test, \", MSE = \", round(error, 4)),\n        xlab = \"Time\", ylab = \"Amplitude\"\n    )\n    lines(t[1:200], reconstructed[1:200], col = \"blue\")\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#å®Œæ•´åˆ†è§£ä¸éªŒè¯",
    "href": "1034-nvmd.html#å®Œæ•´åˆ†è§£ä¸éªŒè¯",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å®Œæ•´åˆ†è§£ä¸éªŒè¯",
    "text": "å®Œæ•´åˆ†è§£ä¸éªŒè¯\n\næ‰§è¡Œæ ‡å‡† VMD åˆ†è§£\n\n# æœ€ä¼˜å‚æ•°è®¾ç½®\nalpha &lt;- 2000 # é€‚ä¸­çš„å¸¦å®½é™åˆ¶\ntau &lt;- 0 # æ— å™ªå£°å®¹é™\nK &lt;- 3 # 3 ä¸ªä¸»è¦æˆåˆ†\nDC &lt;- FALSE # æ— ç›´æµåç§»\ninit &lt;- 1 # å‡åŒ€åˆå§‹åŒ–\ntol &lt;- 1e-6 # æ”¶æ•›å®¹å·®\n\n# æ‰§è¡Œåˆ†è§£\nvmd_res &lt;- VMDecomp::vmd(sig, alpha, tau, K, DC, init, tol)\n\n# æå–æ¨¡æ€åˆ†é‡çŸ©é˜µ\nimfs &lt;- vmd_res$u\n\n# æŸ¥çœ‹ä¸­å¿ƒé¢‘ç‡ï¼ˆå¦‚æœè¿”å›ï¼‰\nif (!is.null(vmd_res$omega)) {\n    cat(\"æ¨¡æ€ä¸­å¿ƒé¢‘ç‡ (å½’ä¸€åŒ–): \", round(vmd_res$omega[nrow(vmd_res$omega), ], 4), \"\\n\")\n    cat(\"å¯¹åº”å®é™…é¢‘ç‡ (Hz): \", round(vmd_res$omega[nrow(vmd_res$omega), ] * fs / 2, 1), \"\\n\")\n}\n\næ¨¡æ€ä¸­å¿ƒé¢‘ç‡ (å½’ä¸€åŒ–):  0.0107 0.0982 0.2829 \nå¯¹åº”å®é™…é¢‘ç‡ (Hz):  5.3 49.1 141.4 \n\n\n\n\nåˆ†è§£ç»“æœå¯è§†åŒ–\n\npar(mfrow = c(5, 1), mar = c(2, 4, 2, 1))\n\n# åŸå§‹ä¿¡å·\nplot(t, sig, type = \"l\", main = \"åŸå§‹å«å™ªä¿¡å·\", col = \"gray\", ylab = \"Amplitude\")\n\n# åˆ†è§£å‡ºçš„å„ IMF\ncolors &lt;- c(\"blue\", \"green\", \"red\")\ntitles &lt;- c(\"IMF 1 (ä½é¢‘ ~10Hz)\", \"IMF 2 (ä¸­é¢‘ ~50Hz)\", \"IMF 3 (é«˜é¢‘ ~100Hz)\")\n\nfor (i in 1:3) {\n    plot(t, imfs[, i],\n        type = \"l\", col = colors[i], lwd = 1.5,\n        main = titles[i], ylab = \"Amplitude\"\n    )\n}\n\n# é‡æ„ä¿¡å·\nplot(t, rowSums(imfs), type = \"l\", main = \"é‡æ„ä¿¡å·\", col = \"purple\", ylab = \"Amplitude\")\n\n\n\n\n\n\n\n\n\n\né¢‘è°±éªŒè¯\n\npar(mfrow = c(3, 1), mar = c(4, 4, 2, 1))\n\nfor (i in 1:3) {\n    imf_fft &lt;- fft(imfs[, i])\n    P &lt;- abs(imf_fft / length(imfs[, i]))\n    P1 &lt;- P[1:(length(imfs[, i]) / 2 + 1)]\n    f &lt;- fs * (0:(length(imfs[, i]) / 2)) / length(imfs[, i])\n\n    plot(f, P1,\n        type = \"l\", xlim = c(0, 150),\n        main = paste(\"IMF\", i, \"é¢‘è°±\"),\n        xlab = \"Frequency (Hz)\", ylab = \"Amplitude\",\n        col = colors[i], lwd = 2\n    )\n\n    # æ ‡æ³¨å³°å€¼é¢‘ç‡\n    peak_idx &lt;- which.max(P1[f &lt; 150 & f &gt; 5])\n    peak_freq &lt;- f[f &lt; 150 & f &gt; 5][peak_idx]\n    abline(v = peak_freq, col = \"red\", lty = 2)\n    text(peak_freq + 5, max(P1) * 0.8, paste0(round(peak_freq, 1), \" Hz\"), col = \"red\")\n}\n\n\n\n\n\n\n\n\n\n\nä¸çœŸå®æˆåˆ†å¯¹æ¯”\n\n# è®¡ç®—ç›¸å…³ç³»æ•°\ncor1 &lt;- cor(imfs[, 1], comp1_true)\ncor2 &lt;- cor(imfs[, 2], comp2_true)\ncor3 &lt;- cor(imfs[, 3], comp3_true)\n\npar(mfrow = c(3, 1), mar = c(3, 4, 2, 1))\n\nplot(t[1:200], imfs[1:200, 1],\n    type = \"l\", col = \"blue\",\n    main = paste0(\"IMF 1 vs çœŸå® 10Hz (r = \", round(cor1, 4), \")\"), ylab = \"Amplitude\"\n)\nlines(t[1:200], comp1_true[1:200], col = \"red\", lty = 2)\nlegend(\"topright\", c(\"VMDæå–\", \"çœŸå®æˆåˆ†\"), col = c(\"blue\", \"red\"), lty = c(1, 2), cex = 0.8)\n\nplot(t[1:200], imfs[1:200, 2],\n    type = \"l\", col = \"green\",\n    main = paste0(\"IMF 2 vs çœŸå® 50Hz (r = \", round(cor2, 4), \")\"), ylab = \"Amplitude\"\n)\nlines(t[1:200], comp2_true[1:200], col = \"red\", lty = 2)\n\nplot(t[1:200], imfs[1:200, 3],\n    type = \"l\", col = \"red\",\n    main = paste0(\"IMF 3 vs çœŸå® 100Hz (r = \", round(cor3, 4), \")\"), ylab = \"Amplitude\"\n)\nlines(t[1:200], comp3_true[1:200], col = \"darkred\", lty = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#é«˜çº§åº”ç”¨vmd-å»å™ª",
    "href": "1034-nvmd.html#é«˜çº§åº”ç”¨vmd-å»å™ª",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "é«˜çº§åº”ç”¨ï¼šVMD å»å™ª",
    "text": "é«˜çº§åº”ç”¨ï¼šVMD å»å™ª\nVMD çš„ä¸€ä¸ªé‡è¦åº”ç”¨æ˜¯ä¿¡å·å»å™ªï¼šé€šè¿‡åˆ†è§£åé€‰æ‹©æ€§é‡æ„å®ç°ã€‚\n\nå»å™ªåŸç†\n\nç”¨ VMD åˆ†è§£å«å™ªä¿¡å·\nè¯†åˆ«å“ªäº› IMF ä¸»è¦åŒ…å«å™ªå£°ï¼ˆé€šå¸¸æ˜¯é«˜é¢‘æ¨¡æ€ï¼‰\nä»…ç”¨â€å¹²å‡€â€çš„ IMF é‡æ„ä¿¡å·\n\n\n# ç”Ÿæˆå¼ºå™ªå£°ä¿¡å·\nset.seed(42)\nsig_noisy &lt;- comp1_true + comp2_true + rnorm(length(t), 0, 1.5)\n\n# VMD åˆ†è§£ (ä½¿ç”¨æ›´å¤§çš„ K æ¥åˆ†ç¦»å™ªå£°)\nvmd_denoise &lt;- VMDecomp::vmd(sig_noisy, alpha = 3000, tau = 0, K = 4, DC = FALSE, init = 1, tol = 1e-6)\n\n# è®¡ç®—æ¯ä¸ª IMF çš„èƒ½é‡\nimf_energy &lt;- apply(vmd_denoise$u, 2, function(x) sum(x^2))\ncat(\"å„ IMF èƒ½é‡å æ¯”:\\n\")\n\nå„ IMF èƒ½é‡å æ¯”:\n\nprint(round(imf_energy / sum(imf_energy) * 100, 1))\n\n[1] 54.9 35.4  5.3  4.4\n\n\n\npar(mfrow = c(3, 1), mar = c(3, 4, 2, 1))\n\n# åŸå§‹å«å™ªä¿¡å·\nplot(t, sig_noisy,\n    type = \"l\", col = \"gray\",\n    main = \"å¼ºå™ªå£°ä¿¡å·\", ylab = \"Amplitude\"\n)\n\n# ä½¿ç”¨å‰2ä¸ª IMF é‡æ„ï¼ˆå»é™¤é«˜é¢‘å™ªå£°æ¨¡æ€ï¼‰\nsig_denoised &lt;- rowSums(vmd_denoise$u[, 1:2])\nplot(t, sig_denoised,\n    type = \"l\", col = \"blue\",\n    main = \"VMD å»å™ªå (ä½¿ç”¨ IMF 1-2)\", ylab = \"Amplitude\"\n)\n\n# çœŸå®ä¿¡å·å¯¹æ¯”\nsig_true &lt;- comp1_true + comp2_true\nplot(t, sig_true,\n    type = \"l\", col = \"green\",\n    main = \"çœŸå®å¹²å‡€ä¿¡å·\", ylab = \"Amplitude\"\n)\n\n\n\n\n\n\n\n# è®¡ç®—å»å™ªæ•ˆæœ\nsnr_before &lt;- 10 * log10(sum(sig_true^2) / sum((sig_noisy - sig_true)^2))\nsnr_after &lt;- 10 * log10(sum(sig_true^2) / sum((sig_denoised - sig_true)^2))\ncat(\"å»å™ªå‰ SNR:\", round(snr_before, 2), \"dB\\n\")\n\nå»å™ªå‰ SNR: 1.4 dB\n\ncat(\"å»å™ªå SNR:\", round(snr_after, 2), \"dB\\n\")\n\nå»å™ªå SNR: 11.22 dB",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#å®é™…åº”ç”¨åœºæ™¯",
    "href": "1034-nvmd.html#å®é™…åº”ç”¨åœºæ™¯",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å®é™…åº”ç”¨åœºæ™¯",
    "text": "å®é™…åº”ç”¨åœºæ™¯\n\nç”Ÿç‰©åŒ»å­¦ä¿¡å·å¤„ç†\n\n\n\n\n\n\n\n\n\nåº”ç”¨é¢†åŸŸ\nä¿¡å·ç±»å‹\nVMD ä½œç”¨\nå®é™…ç”¨é€”\n\n\n\n\nå¿ƒç”µå›¾ (ECG)\nå¿ƒç”µèŠ‚å¾‹\nåˆ†ç¦» QRS æ³¢ç¾¤å’ŒåŸºçº¿æ¼‚ç§»\nå¿ƒå¾‹å¤±å¸¸æ£€æµ‹\n\n\nè„‘ç”µå›¾ (EEG)\nè„‘æ³¢èŠ‚å¾‹\næå– Î±, Î², Î¸, Î´ æ³¢æ®µ\nç¡çœ åˆ†æœŸã€ç™«ç—«æ£€æµ‹\n\n\nè‚Œç”µå›¾ (EMG)\nè‚Œè‚‰æ´»åŠ¨\nå»é™¤è¿åŠ¨ä¼ªè¿¹å’Œç”µæºå¹²æ‰°\nè‚Œç–²åŠ³åˆ†æ\n\n\nå‘¼å¸ä¿¡å·\nå‘¼å¸æ¨¡å¼\nåˆ†ç¦»å‘¼å¸æˆåˆ†å’Œå¿ƒè·³å¹²æ‰°\nç¡çœ å‘¼å¸æš‚åœè¯Šæ–­\n\n\n\n\n\né‡‘èæ—¶é—´åºåˆ—åˆ†æ\n\n# é‡‘èæ•°æ®åˆ†è§£ç¤ºä¾‹ï¼ˆæ¦‚å¿µä»£ç ï¼‰\n# å°†è‚¡ä»·åˆ†è§£ä¸ºï¼šé•¿æœŸè¶‹åŠ¿ + å‘¨æœŸæ³¢åŠ¨ + çŸ­æœŸå™ªå£°\n\nstock_price &lt;- get_stock_data(\"AAPL\")\nvmd_stock &lt;- vmd(stock_price, alpha = 2000, K = 3)\n\ntrend &lt;- vmd_stock$u[, 1] # é•¿æœŸè¶‹åŠ¿\ncycle &lt;- vmd_stock$u[, 2] # ä¸­æœŸå‘¨æœŸ\nnoise &lt;- vmd_stock$u[, 3] # çŸ­æœŸæ³¢åŠ¨/å™ªå£°\n\n\n\næœºæ¢°æ•…éšœè¯Šæ–­\n\nè½´æ‰¿æŒ¯åŠ¨ä¿¡å·ï¼šæå–æ•…éšœç‰¹å¾é¢‘ç‡\né½¿è½®ç®±ä¿¡å·ï¼šåˆ†ç¦»å•®åˆé¢‘ç‡æˆåˆ†\næ—‹è½¬æœºæ¢°ï¼šè¯†åˆ«ä¸å¹³è¡¡ã€ä¸å¯¹ä¸­ç­‰æ•…éšœæ¨¡å¼",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "href": "1034-nvmd.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "text": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n\né—®é¢˜è¯Šæ–­è¡¨\n\n\n\né—®é¢˜\nå¯èƒ½åŸå› \nè§£å†³æ–¹æ¡ˆ\n\n\n\n\næ¨¡æ€æ··å \nK å€¼è¿‡å°\nå¢åŠ  K å€¼\n\n\nè¿‡åˆ†è§£ï¼ˆæ¨¡æ€å¤ªç¢ï¼‰\nK å€¼è¿‡å¤§\nå‡å°‘ K å€¼\n\n\nç›¸é‚»æ¨¡æ€é¢‘ç‡å¤ªè¿‘\nalpha è¿‡å°\nå¢åŠ  alpha\n\n\nè¾¹ç¼˜æ•ˆåº”\nä¿¡å·æˆªæ–­ä¸å½“\nä½¿ç”¨é•œåƒå»¶æ‹“é¢„å¤„ç†\n\n\næ”¶æ•›æ…¢/ä¸æ”¶æ•›\nå‚æ•°ä¸å½“\nè°ƒæ•´ alpha æˆ– tol\n\n\né«˜é¢‘æ¨¡æ€ä¸¢å¤±\nalpha è¿‡å¤§\nå‡å° alpha\n\n\n\n\n\nå‚æ•°é€‰æ‹©æµç¨‹å›¾\nå¼€å§‹\n  â”‚\n  â†“\n[FFT åˆ†æ]â”€â”€â†’ ç¡®å®š K å€¼\n  â”‚\n  â†“\n[è®¾ç½® alpha=2000]\n  â”‚\n  â†“\n[è¿è¡Œ VMD]\n  â”‚\n  â†“\næ£€æŸ¥æ¨¡æ€é¢‘è°±\n  â”‚\n  â”œâ”€â”€â†’ æ··å ? â”€â”€â†’ å¢åŠ  K æˆ– alpha\n  â”‚\n  â”œâ”€â”€â†’ è¿‡åˆ†è§£? â”€â”€â†’ å‡å°‘ K\n  â”‚\n  â””â”€â”€â†’ æ»¡æ„ â”€â”€â†’ å®Œæˆ\n\n[!WARNING] VMD å¯¹å‚æ•°è¾ƒä¸ºæ•æ„Ÿï¼å»ºè®®å…ˆç”¨ä»¿çœŸä¿¡å·ï¼ˆå·²çŸ¥æˆåˆ†ï¼‰æµ‹è¯•å‚æ•°è®¾ç½®ï¼Œç¡®å®šæœ€ä½³å‚æ•°åå†åº”ç”¨äºçœŸå®æ•°æ®ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#ä¸å…¶ä»–åˆ†è§£æ–¹æ³•çš„å¯¹æ¯”",
    "href": "1034-nvmd.html#ä¸å…¶ä»–åˆ†è§£æ–¹æ³•çš„å¯¹æ¯”",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ä¸å…¶ä»–åˆ†è§£æ–¹æ³•çš„å¯¹æ¯”",
    "text": "ä¸å…¶ä»–åˆ†è§£æ–¹æ³•çš„å¯¹æ¯”\n\nä¸»æµåˆ†è§£æ–¹æ³•ä¸€è§ˆ\n\n\n\n\n\n\n\n\n\næ–¹æ³•\nå…¨ç§°\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\nEMD\nç»éªŒæ¨¡æ€åˆ†è§£\nè‡ªé€‚åº”ã€æ— éœ€è®¾å®š K\nä¸€èˆ¬éå¹³ç¨³ä¿¡å·\n\n\nEEMD\né›†åˆç»éªŒæ¨¡æ€åˆ†è§£\næ·»åŠ å™ªå£°æŠ‘åˆ¶æ¨¡æ€æ··å \nå™ªå£°æ•æ„Ÿä¿¡å·\n\n\nCEEMDAN\nå®Œå…¨è‡ªé€‚åº”å™ªå£°é›†åˆç»éªŒæ¨¡æ€åˆ†è§£\nè¿›ä¸€æ­¥æ”¹è¿›å™ªå£°å¤„ç†\nå¼ºå™ªå£°ä¿¡å·\n\n\nVMD\nå˜åˆ†æ¨¡æ€åˆ†è§£\néé€’å½’ã€å¸¦å®½å¯æ§\né¢‘ç‡ç›¸è¿‘æˆåˆ†åˆ†ç¦»\n\n\nEWT\nç»éªŒå°æ³¢å˜æ¢\nè‡ªé€‚åº”å°æ³¢\né¢‘ç‡å˜åŒ–ä¿¡å·\n\n\n\n\n\nä½•æ—¶é€‰æ‹© VMDï¼Ÿ\nâœ… æ¨èä½¿ç”¨ VMDï¼š - éœ€è¦åˆ†ç¦»é¢‘ç‡ç›¸è¿‘çš„æˆåˆ† - ä¿¡å·å«è¾ƒå¼ºå™ªå£° - éœ€è¦ç²¾ç¡®æ§åˆ¶å„æ¨¡æ€å¸¦å®½ - ç«¯ç‚¹æ•ˆåº”æ•æ„Ÿçš„åº”ç”¨\nâŒ è€ƒè™‘å…¶ä»–æ–¹æ³•ï¼š - å®Œå…¨æœªçŸ¥ä¿¡å·æˆåˆ†æ•°é‡ â†’ EMD/EEMD - è®¡ç®—é€Ÿåº¦è¦æ±‚æé«˜ â†’ EMD - é¢‘ç‡éšæ—¶é—´å‰§çƒˆå˜åŒ– â†’ EWT",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1034-nvmd.html#å‚è€ƒæ–‡çŒ®",
    "href": "1034-nvmd.html#å‚è€ƒæ–‡çŒ®",
    "title": "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD) ä¿¡å·å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nDragomiretskiy, K., & Zosso, D. (2014). Variational Mode Decomposition. IEEE Transactions on Signal Processing, 62(3), 531-544.\nNazari, M., & Sakhaei, S. M. (2020). Variational Mode Decomposition: Applications in biomedical signal processing. Computers in Biology and Medicine.\nWang, Y., Markert, R., Xiang, J., & Zheng, W. (2015). Research on variational mode decomposition and its application in detecting rub-impact fault of the rotor system. Mechanical Systems and Signal Processing.\nLahmiri, S. (2014). Comparative study of ECG signal denoising by wavelet thresholding in empirical and variational mode decomposition domains. Healthcare Technology Letters.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å˜åˆ†æ¨¡æ€åˆ†è§£ (VMD)"
    ]
  },
  {
    "objectID": "1036-anova.html",
    "href": "1036-anova.html",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ–¹å·®åˆ†æ (Analysis of Variance, ANOVA) ç”¨äºæ¯”è¾ƒä¸‰ä¸ªæˆ–æ›´å¤šç»„çš„å‡å€¼æ˜¯å¦å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚æ ¹æ®å› ç´ çš„æ•°é‡å’Œè®¾è®¡ç±»å‹ï¼Œå¯åˆ†ä¸ºå•å› ç´  ANOVAã€å¤šå› ç´  ANOVAã€é‡å¤æµ‹é‡ ANOVA ç­‰ã€‚\nåœ¨ R ä¸­ï¼ŒåŸºç¡€åŒ… stats æä¾›äº† aov() å‡½æ•°ï¼Œä½† rstatix åŒ…æä¾›äº†ä¸€ä¸ªæ›´ç°ä»£ã€æ›´ç¬¦åˆ â€œTidyâ€ é£æ ¼çš„æ¡†æ¶ï¼Œç‰¹åˆ«é€‚åˆä¸ ggplot2 å’Œ ggpubr ç»“åˆä½¿ç”¨ã€‚\n\n\n\n\n\n\n\n\n\n\nç±»å‹\né€‚ç”¨åœºæ™¯\nå‡½æ•°\n\n\n\n\nå•å› ç´  ANOVA\n1ä¸ªå› ç´ ï¼Œå¤šä¸ªæ°´å¹³\nanova_test(y ~ group)\n\n\nåŒå› ç´  ANOVA\n2ä¸ªå› ç´ ï¼Œè€ƒå¯Ÿä¸»æ•ˆåº”+äº¤äº’\nanova_test(y ~ A * B)\n\n\né‡å¤æµ‹é‡ ANOVA\nåŒä¸€å—è¯•è€…å¤šæ¬¡æµ‹é‡\nanova_test(y ~ time + Error(id/time))\n\n\næ··åˆè®¾è®¡ ANOVA\nç»„é—´+ç»„å†…å› ç´ \nanova_test(y ~ between * within + Error(id/within))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#ç®€ä»‹",
    "href": "1036-anova.html#ç®€ä»‹",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ–¹å·®åˆ†æ (Analysis of Variance, ANOVA) ç”¨äºæ¯”è¾ƒä¸‰ä¸ªæˆ–æ›´å¤šç»„çš„å‡å€¼æ˜¯å¦å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚æ ¹æ®å› ç´ çš„æ•°é‡å’Œè®¾è®¡ç±»å‹ï¼Œå¯åˆ†ä¸ºå•å› ç´  ANOVAã€å¤šå› ç´  ANOVAã€é‡å¤æµ‹é‡ ANOVA ç­‰ã€‚\nåœ¨ R ä¸­ï¼ŒåŸºç¡€åŒ… stats æä¾›äº† aov() å‡½æ•°ï¼Œä½† rstatix åŒ…æä¾›äº†ä¸€ä¸ªæ›´ç°ä»£ã€æ›´ç¬¦åˆ â€œTidyâ€ é£æ ¼çš„æ¡†æ¶ï¼Œç‰¹åˆ«é€‚åˆä¸ ggplot2 å’Œ ggpubr ç»“åˆä½¿ç”¨ã€‚\n\n\n\n\n\n\n\n\n\n\nç±»å‹\né€‚ç”¨åœºæ™¯\nå‡½æ•°\n\n\n\n\nå•å› ç´  ANOVA\n1ä¸ªå› ç´ ï¼Œå¤šä¸ªæ°´å¹³\nanova_test(y ~ group)\n\n\nåŒå› ç´  ANOVA\n2ä¸ªå› ç´ ï¼Œè€ƒå¯Ÿä¸»æ•ˆåº”+äº¤äº’\nanova_test(y ~ A * B)\n\n\né‡å¤æµ‹é‡ ANOVA\nåŒä¸€å—è¯•è€…å¤šæ¬¡æµ‹é‡\nanova_test(y ~ time + Error(id/time))\n\n\næ··åˆè®¾è®¡ ANOVA\nç»„é—´+ç»„å†…å› ç´ \nanova_test(y ~ between * within + Error(id/within))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#å®‰è£…",
    "href": "1036-anova.html#å®‰è£…",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…",
    "text": "å®‰è£…\n\ninstall.packages(\"rstatix\")\ninstall.packages(\"ggpubr\")\n\n\nlibrary(rstatix)\nlibrary(ggpubr)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#å•å› ç´ æ–¹å·®åˆ†æ-one-way-anova",
    "href": "1036-anova.html#å•å› ç´ æ–¹å·®åˆ†æ-one-way-anova",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "1. å•å› ç´ æ–¹å·®åˆ†æ (One-way ANOVA)",
    "text": "1. å•å› ç´ æ–¹å·®åˆ†æ (One-way ANOVA)\nç ”ç©¶æ¤ç‰©ç”Ÿé•¿æ•°æ® (PlantGrowth)ï¼Œæ¯”è¾ƒä¸‰ç§å¤„ç†æ¡ä»¶ä¸‹çš„äº§é‡å·®å¼‚ã€‚\n\ndata(\"PlantGrowth\")\nhead(PlantGrowth)\n\n  weight group\n1   4.17  ctrl\n2   5.58  ctrl\n3   5.18  ctrl\n4   6.11  ctrl\n5   4.50  ctrl\n6   4.61  ctrl\n\n# 1.1 æè¿°ç»Ÿè®¡\nPlantGrowth %&gt;%\n    group_by(group) %&gt;%\n    get_summary_stats(weight, type = \"mean_sd\")\n\n# A tibble: 3 Ã— 5\n  group variable     n  mean    sd\n  &lt;fct&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 ctrl  weight      10  5.03 0.583\n2 trt1  weight      10  4.66 0.794\n3 trt2  weight      10  5.53 0.443\n\n# 1.2 å¯è§†åŒ–\nggboxplot(PlantGrowth, x = \"group\", y = \"weight\", color = \"group\")\n\n\n\n\n\n\n\n\n\n# 1.3 æ‰§è¡Œ ANOVA\nres.aov &lt;- PlantGrowth %&gt;% anova_test(weight ~ group)\nres.aov\n\nANOVA Table (type II tests)\n\n  Effect DFn DFd     F     p p&lt;.05   ges\n1  group   2  27 4.846 0.016     * 0.264\n\n# 1.4 äº‹åä¸¤ä¸¤æ¯”è¾ƒ (Tukey HSD)\npwc &lt;- PlantGrowth %&gt;% tukey_hsd(weight ~ group)\npwc\n\n# A tibble: 3 Ã— 9\n  term  group1 group2 null.value estimate conf.low conf.high p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       \n1 group ctrl   trt1            0   -0.371   -1.06      0.320 0.391 ns          \n2 group ctrl   trt2            0    0.494   -0.197     1.19  0.198 ns          \n3 group trt1   trt2            0    0.865    0.174     1.56  0.012 *           \n\n\n\næ•ˆåº”é‡è§£è¯»\nrstatix è‡ªåŠ¨è®¡ç®— Î·Â² (eta-squared) å’Œ ges (generalized eta-squared)ï¼š\n\n\n\næ•ˆåº”é‡\nå°æ•ˆåº”\nä¸­æ•ˆåº”\nå¤§æ•ˆåº”\n\n\n\n\nÎ·Â²\n0.01\n0.06\n0.14\n\n\nÏ‰Â²\n0.01\n0.06\n0.14\n\n\nCohenâ€™s f\n0.10\n0.25\n0.40\n\n\n\n\n[!TIP] Î·Â² è§£è¯»ï¼šè¡¨ç¤ºå› å˜é‡å˜å¼‚ä¸­è¢«è‡ªå˜é‡è§£é‡Šçš„æ¯”ä¾‹ã€‚Î·Â² = 0.14 æ„å‘³ç€ 14% çš„æ–¹å·®å¯ä»¥ç”±ç»„åˆ«å·®å¼‚è§£é‡Šã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#åŒå› ç´ æ–¹å·®åˆ†æ-two-way-anova",
    "href": "1036-anova.html#åŒå› ç´ æ–¹å·®åˆ†æ-two-way-anova",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "2. åŒå› ç´ æ–¹å·®åˆ†æ (Two-way ANOVA)",
    "text": "2. åŒå› ç´ æ–¹å·®åˆ†æ (Two-way ANOVA)\nä½¿ç”¨ ToothGrowth æ•°æ®é›†ï¼Œç ”ç©¶ç»´ç”Ÿç´  C å‰‚é‡ (dose) å’Œç»™è¯æ–¹å¼ (supp) å¯¹ç‰™é½¿é•¿åº¦ (len) çš„å½±å“ã€‚\n\ndata(\"ToothGrowth\")\nToothGrowth$dose &lt;- as.factor(ToothGrowth$dose) # è½¬æ¢ä¸ºå› å­\n\n# 2.1 å¯è§†åŒ–\nggboxplot(ToothGrowth,\n    x = \"dose\", y = \"len\", color = \"supp\",\n    add = \"jitter\"\n)\n\n\n\n\n\n\n\n# 2.2 æ‰§è¡Œ ANOVA (åŒ…å«äº¤äº’ä½œç”¨)\nres.aov2 &lt;- ToothGrowth %&gt;% anova_test(len ~ supp * dose)\nres.aov2\n\nANOVA Table (type II tests)\n\n     Effect DFn DFd      F        p p&lt;.05   ges\n1      supp   1  54 15.572 2.31e-04     * 0.224\n2      dose   2  54 92.000 4.05e-18     * 0.773\n3 supp:dose   2  54  4.107 2.20e-02     * 0.132\n\n\nç»“æœæ˜¾ç¤º dose ä¸»æ•ˆåº”æ˜¾è‘—ï¼Œsupp ä¸»æ•ˆåº”æ˜¾è‘—ï¼Œä¸”äºŒè€…å­˜åœ¨äº¤äº’ä½œç”¨ (supp:dose)ã€‚\n\näº¤äº’ä½œç”¨è§£è¯»\nå½“äº¤äº’ä½œç”¨æ˜¾è‘—æ—¶ï¼š 1. ä¸åº”å•ç‹¬è§£é‡Šä¸»æ•ˆåº”ï¼šå› ä¸ºä¸€ä¸ªå› ç´ çš„æ•ˆåº”å–å†³äºå¦ä¸€ä¸ªå› ç´ çš„æ°´å¹³ 2. åº”è¿›è¡Œç®€å•æ•ˆåº”åˆ†æï¼šåˆ†åˆ«æ£€éªŒæ¯ä¸ªå› ç´ åœ¨å¦ä¸€å› ç´ å„æ°´å¹³çš„æ•ˆåº”\n\n# ç®€å•æ•ˆåº”åˆ†æï¼šåœ¨æ¯ä¸ª dose æ°´å¹³æ£€éªŒ supp çš„æ•ˆåº”\nToothGrowth %&gt;%\n    group_by(dose) %&gt;%\n    anova_test(len ~ supp)\n\n# A tibble: 3 Ã— 8\n  dose  Effect   DFn   DFd      F        p `p&lt;.05`      ges\n* &lt;fct&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;\n1 0.5   supp       1    18 10.0   0.005    \"*\"     0.358   \n2 1     supp       1    18 16.3   0.000781 \"*\"     0.475   \n3 2     supp       1    18  0.002 0.964    \"\"      0.000118",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#é‡å¤æµ‹é‡æ–¹å·®åˆ†æ-repeated-measures-anova",
    "href": "1036-anova.html#é‡å¤æµ‹é‡æ–¹å·®åˆ†æ-repeated-measures-anova",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "3. é‡å¤æµ‹é‡æ–¹å·®åˆ†æ (Repeated Measures ANOVA)",
    "text": "3. é‡å¤æµ‹é‡æ–¹å·®åˆ†æ (Repeated Measures ANOVA)\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ç»„å—è¯•è€…åœ¨ä¸‰ä¸ªä¸åŒæ—¶é—´ç‚¹æµ‹é‡äº†ç„¦è™‘åˆ†æ•°ã€‚\n\n# ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®\n# 10 subjects, 3 time points\nset.seed(123)\ndata_rm &lt;- data.frame(\n    id = rep(1:10, each = 3),\n    time = rep(c(\"T1\", \"T2\", \"T3\"), 10),\n    score = c(replicate(10, sort(rnorm(3, mean = 20, sd = 5))))\n)\n\n# è½¬æ¢ä¸ºå› å­\ndata_rm$id &lt;- as.factor(data_rm$id)\ndata_rm$time &lt;- as.factor(data_rm$time)\n\n# 3.1 æ‰§è¡Œé‡å¤æµ‹é‡ ANOVA\nres.rm &lt;- data_rm %&gt;% anova_test(score ~ time + Error(id / time))\nres.rm\n\nANOVA Table (type III tests)\n\n$ANOVA\n  Effect DFn DFd     F        p p&lt;.05   ges\n1   time   2  18 40.83 2.05e-07     * 0.677\n\n$`Mauchly's Test for Sphericity`\n  Effect     W     p p&lt;.05\n1   time 0.626 0.154      \n\n$`Sphericity Corrections`\n  Effect   GGe     DF[GG]    p[GG] p[GG]&lt;.05   HFe      DF[HF]    p[HF]\n1   time 0.728 1.46, 13.1 6.65e-06         * 0.832 1.66, 14.98 1.74e-06\n  p[HF]&lt;.05\n1         *\n\n# 3.2 äº‹åæ¯”è¾ƒ (é…å¯¹ t æ£€éªŒ + Bonferroni æ ¡æ­£)\npwc_rm &lt;- data_rm %&gt;%\n    pairwise_t_test(\n        score ~ time,\n        paired = TRUE,\n        p.adjust.method = \"bonferroni\"\n    )\npwc_rm\n\n# A tibble: 3 Ã— 10\n  .y.   group1 group2    n1    n2 statistic    df         p   p.adj p.adj.signif\n* &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;       \n1 score T1     T2        10    10     -3.77     9 0.004     1.3 e-2 *           \n2 score T1     T3        10    10     -7.29     9 0.0000462 1.39e-4 ***         \n3 score T2     T3        10    10     -7.64     9 0.000032  9.60e-5 ****        \n\n\n\n[!WARNING] é‡å¤æµ‹é‡ ANOVA éœ€è¦æ»¡è¶³çƒå½¢æ€§å‡è®¾ã€‚å¦‚æœ Mauchly çƒå½¢æ€§æ£€éªŒæ˜¾è‘— (p &lt; 0.05)ï¼Œåº”ä½¿ç”¨ Greenhouse-Geisser æˆ– Huynh-Feldt æ ¡æ­£ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#å‡è®¾æ£€éªŒ",
    "href": "1036-anova.html#å‡è®¾æ£€éªŒ",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "4. å‡è®¾æ£€éªŒ",
    "text": "4. å‡è®¾æ£€éªŒ\nANOVA æœ‰å‡ ä¸ªå…³é”®å‡è®¾éœ€è¦æ»¡è¶³ï¼šæ­£æ€æ€§å’Œæ–¹å·®é½æ€§ã€‚\n\n# æ£€æŸ¥æ­£æ€æ€§ (Shapiro-Wilk test)\nPlantGrowth %&gt;%\n    group_by(group) %&gt;%\n    shapiro_test(weight)\n\n# A tibble: 3 Ã— 4\n  group variable statistic     p\n  &lt;fct&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;\n1 ctrl  weight       0.957 0.747\n2 trt1  weight       0.930 0.452\n3 trt2  weight       0.941 0.564\n\n# æ£€æŸ¥æ–¹å·®é½æ€§ (Levene's test)\nPlantGrowth %&gt;% levene_test(weight ~ group)\n\n# A tibble: 1 Ã— 4\n    df1   df2 statistic     p\n  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt;\n1     2    27      1.12 0.341\n\n\n\nå‡è®¾è¿åæ—¶çš„æ›¿ä»£æ–¹æ¡ˆ\n\n\n\nå‡è®¾è¿å\næ›¿ä»£æ–¹æ¡ˆ\n\n\n\n\næ­£æ€æ€§\nKruskal-Wallis æ£€éªŒï¼ˆéå‚æ•°ï¼‰\n\n\næ–¹å·®é½æ€§\nWelchâ€™s ANOVA\n\n\nä¸¤è€…éƒ½è¿å\nç½®æ¢æ£€éªŒæˆ–ç§©å˜æ¢\n\n\n\nå¦‚æœå‡è®¾ä¸æ»¡è¶³ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨éå‚æ•°æ£€éªŒï¼ˆå¦‚ Kruskal-Wallis æ£€éªŒï¼‰ã€‚\n\nPlantGrowth %&gt;% kruskal_test(weight ~ group)\n\n# A tibble: 1 Ã— 6\n  .y.        n statistic    df      p method        \n* &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;         \n1 weight    30      7.99     2 0.0184 Kruskal-Wallis\n\n\næˆ–ä½¿ç”¨ Welchâ€™s ANOVAï¼ˆä¸å‡è®¾æ–¹å·®é½æ€§ï¼‰ï¼š\n\nPlantGrowth %&gt;% welch_anova_test(weight ~ group)\n\n# A tibble: 1 Ã— 7\n  .y.        n statistic   DFn   DFd     p method     \n* &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      \n1 weight    30      5.18     2  17.1 0.017 Welch ANOVA",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "href": "1036-anova.html#ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "5. ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "text": "5. ç»“æœæŠ¥å‘Šæ¨¡æ¿\n\nAPA æ ¼å¼æŠ¥å‘Šç¤ºä¾‹\n\nå•å› ç´ æ–¹å·®åˆ†æç»“æœæ˜¾ç¤ºï¼Œå¤„ç†ç»„åˆ«å¯¹æ¤ç‰©é‡é‡æœ‰æ˜¾è‘—å½±å“ï¼ŒF(2, 27) = 4.85, p = .016, Î·Â² = .26ã€‚äº‹åæ¯”è¾ƒï¼ˆTukey HSDï¼‰è¡¨æ˜ï¼Œtrt2 ç»„çš„é‡é‡æ˜¾è‘—é«˜äº ctrl ç»„ï¼ˆp = .012ï¼‰ï¼Œè€Œ trt1 ç»„ä¸å…¶ä»–ç»„æ— æ˜¾è‘—å·®å¼‚ã€‚\n\n\n\nåˆ¶ä½œç»“æœè¡¨æ ¼\n\n# ç»„åˆä¸»åˆ†æå’Œäº‹åæ¯”è¾ƒç»“æœ\nknitr::kable(res.aov, caption = \"ANOVA Results\")\n\n\nANOVA Results\n\n\nEffect\nDFn\nDFd\nF\np\np&lt;.05\nges\n\n\n\n\ngroup\n2\n27\n4.846\n0.016\n*\n0.264\n\n\n\n\nknitr::kable(pwc, caption = \"Post-hoc Pairwise Comparisons\")\n\n\nPost-hoc Pairwise Comparisons\n\n\n\n\n\n\n\n\n\n\n\n\n\nterm\ngroup1\ngroup2\nnull.value\nestimate\nconf.low\nconf.high\np.adj\np.adj.signif\n\n\n\n\ngroup\nctrl\ntrt1\n0\n-0.371\n-1.0622161\n0.3202161\n0.391\nns\n\n\ngroup\nctrl\ntrt2\n0\n0.494\n-0.1972161\n1.1852161\n0.198\nns\n\n\ngroup\ntrt1\ntrt2\n0\n0.865\n0.1737839\n1.5562161\n0.012\n*\n\n\n\n\n\n\n\nå¯è§†åŒ–å¸¦æ˜¾è‘—æ€§æ ‡è®°\n\n# æ·»åŠ æ˜¾è‘—æ€§æ ‡è®°çš„ç®±çº¿å›¾\npwc &lt;- pwc %&gt;% add_xy_position(x = \"group\")\nggboxplot(PlantGrowth, x = \"group\", y = \"weight\", color = \"group\") +\n    stat_pvalue_manual(pwc, hide.ns = TRUE) +\n    labs(\n        subtitle = get_test_label(res.aov, detailed = TRUE),\n        caption = get_pwc_label(pwc)\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#æ€»ç»“",
    "href": "1036-anova.html#æ€»ç»“",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nrstatix åŒ…ä½¿å¾— ANOVA åˆ†ææµç¨‹éå¸¸æ ‡å‡†åŒ–ï¼š\n\n\n\næ­¥éª¤\nå‡½æ•°\n\n\n\n\nä¸»åˆ†æ\nanova_test()\n\n\näº‹åæ¯”è¾ƒ\ntukey_hsd(), pairwise_t_test()\n\n\nå‡è®¾æ£€éªŒ\nshapiro_test(), levene_test()\n\n\néå‚æ•°æ›¿ä»£\nkruskal_test(), welch_anova_test()\n\n\n\n\n[!IMPORTANT] å§‹ç»ˆæŠ¥å‘Šæ•ˆåº”é‡ï¼ˆÎ·Â²ï¼‰ï¼ç»Ÿè®¡æ˜¾è‘—æ€§åªè¯´æ˜å·®å¼‚æ˜¯å¦å­˜åœ¨ï¼Œæ•ˆåº”é‡è¯´æ˜å·®å¼‚æœ‰å¤šå¤§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1036-anova.html#å‚è€ƒæ–‡çŒ®",
    "href": "1036-anova.html#å‚è€ƒæ–‡çŒ®",
    "title": "æ–¹å·®åˆ†æ (ANOVA) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nKassambara, A. (2023). rstatix: Pipe-Friendly Framework for Basic Statistical Tests. R package.\nCohen, J. (1988). Statistical Power Analysis for the Behavioral Sciences (2nd ed.).",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ–¹å·®åˆ†æ (ANOVA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html",
    "href": "1038-efa-cfa.html",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å› å­åˆ†ææ˜¯å¿ƒç†å­¦ã€æ•™è‚²å­¦å’Œç¤¾ä¼šç§‘å­¦ä¸­æœ€å¸¸ç”¨çš„ç»Ÿè®¡æ–¹æ³•ä¹‹ä¸€ï¼Œç”¨äºæ­ç¤ºè§‚æµ‹å˜é‡èƒŒåçš„æ½œåœ¨ç»“æ„ã€‚\n\n\n\n\n\nç‰¹æ€§\nEFA (æ¢ç´¢æ€§å› å­åˆ†æ)\nCFA (éªŒè¯æ€§å› å­åˆ†æ)\n\n\n\n\nç›®çš„\næ¢ç´¢æ½œåœ¨ç»“æ„\néªŒè¯ç†è®ºå‡è®¾\n\n\nå‡è®¾\nä¸é¢„è®¾å› å­ç»“æ„\né¢„è®¾å› å­ç»“æ„\n\n\né€‚ç”¨é˜¶æ®µ\né‡è¡¨å¼€å‘åˆæœŸ\né‡è¡¨éªŒè¯ã€ç†è®ºæ£€éªŒ\n\n\nå› å­æ•°\næ•°æ®é©±åŠ¨ç¡®å®š\nç†è®ºé¢„å…ˆç¡®å®š\n\n\näº¤å‰è½½è·\nå…è®¸æ‰€æœ‰è½½è·è‡ªç”±ä¼°è®¡\né™åˆ¶äº¤å‰è½½è·ä¸º0\n\n\næ‹ŸåˆæŒ‡æ•°\nè¾ƒå°‘å…³æ³¨\næ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡\n\n\n\n\n\n\ngraph LR\n    A[ç†è®ºæ„å»º] --&gt; B[é‡è¡¨å¼€å‘]\n    B --&gt; C[æ ·æœ¬1: EFA]\n    C --&gt; D[ç¡®å®šå› å­ç»“æ„]\n    D --&gt; E[æ ·æœ¬2: CFA]\n    E --&gt; F[éªŒè¯å› å­ç»“æ„]\n    F --&gt; G[ä¿®æ­£/å‘è¡¨]",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#ç®€ä»‹",
    "href": "1038-efa-cfa.html#ç®€ä»‹",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "",
    "text": "å› å­åˆ†ææ˜¯å¿ƒç†å­¦ã€æ•™è‚²å­¦å’Œç¤¾ä¼šç§‘å­¦ä¸­æœ€å¸¸ç”¨çš„ç»Ÿè®¡æ–¹æ³•ä¹‹ä¸€ï¼Œç”¨äºæ­ç¤ºè§‚æµ‹å˜é‡èƒŒåçš„æ½œåœ¨ç»“æ„ã€‚\n\n\n\n\n\nç‰¹æ€§\nEFA (æ¢ç´¢æ€§å› å­åˆ†æ)\nCFA (éªŒè¯æ€§å› å­åˆ†æ)\n\n\n\n\nç›®çš„\næ¢ç´¢æ½œåœ¨ç»“æ„\néªŒè¯ç†è®ºå‡è®¾\n\n\nå‡è®¾\nä¸é¢„è®¾å› å­ç»“æ„\né¢„è®¾å› å­ç»“æ„\n\n\né€‚ç”¨é˜¶æ®µ\né‡è¡¨å¼€å‘åˆæœŸ\né‡è¡¨éªŒè¯ã€ç†è®ºæ£€éªŒ\n\n\nå› å­æ•°\næ•°æ®é©±åŠ¨ç¡®å®š\nç†è®ºé¢„å…ˆç¡®å®š\n\n\näº¤å‰è½½è·\nå…è®¸æ‰€æœ‰è½½è·è‡ªç”±ä¼°è®¡\né™åˆ¶äº¤å‰è½½è·ä¸º0\n\n\næ‹ŸåˆæŒ‡æ•°\nè¾ƒå°‘å…³æ³¨\næ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡\n\n\n\n\n\n\ngraph LR\n    A[ç†è®ºæ„å»º] --&gt; B[é‡è¡¨å¼€å‘]\n    B --&gt; C[æ ·æœ¬1: EFA]\n    C --&gt; D[ç¡®å®šå› å­ç»“æ„]\n    D --&gt; E[æ ·æœ¬2: CFA]\n    E --&gt; F[éªŒè¯å› å­ç»“æ„]\n    F --&gt; G[ä¿®æ­£/å‘è¡¨]",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å®‰è£…ä¸åŠ è½½",
    "href": "1038-efa-cfa.html#å®‰è£…ä¸åŠ è½½",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# install.packages(\"psych\")      # EFA\n# install.packages(\"lavaan\")     # CFA\n# install.packages(\"semPlot\")    # è·¯å¾„å›¾\n\nlibrary(psych)\nlibrary(lavaan)\nlibrary(semPlot)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#ç¤ºä¾‹æ•°æ®",
    "href": "1038-efa-cfa.html#ç¤ºä¾‹æ•°æ®",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ç¤ºä¾‹æ•°æ®",
    "text": "ç¤ºä¾‹æ•°æ®\nä½¿ç”¨ psych åŒ…è‡ªå¸¦çš„ bfi æ•°æ®é›†ï¼ˆå¤§äº”äººæ ¼é—®å·ï¼‰ã€‚\n\ndata(bfi)\n# é€‰å– 25 ä¸ªé¢˜ç›®ï¼ˆ5 ä¸ªå› å­ï¼Œæ¯ä¸ª 5 é¢˜ï¼‰\nitems &lt;- bfi[, 1:25]\nhead(items)\n\n      A1 A2 A3 A4 A5 C1 C2 C3 C4 C5 E1 E2 E3 E4 E5 N1 N2 N3 N4 N5 O1 O2 O3 O4\n61617  2  4  3  4  4  2  3  3  4  4  3  3  3  4  4  3  4  2  2  3  3  6  3  4\n61618  2  4  5  2  5  5  4  4  3  4  1  1  6  4  3  3  3  3  5  5  4  2  4  3\n61620  5  4  5  4  4  4  5  4  2  5  2  4  4  4  5  4  5  4  2  3  4  2  5  5\n61621  4  4  6  5  5  4  4  3  5  5  5  3  4  4  4  2  5  2  4  1  3  3  4  3\n61622  2  3  3  4  5  4  4  5  3  2  2  2  5  4  5  2  3  4  4  3  3  3  4  3\n61623  6  6  5  6  5  6  6  6  1  3  2  1  6  5  6  3  5  2  2  3  4  3  5  6\n      O5\n61617  3\n61618  3\n61620  2\n61621  5\n61622  3\n61623  1\n\n\nå˜é‡è¯´æ˜ï¼š - A1-A5: å®œäººæ€§ (Agreeableness) - C1-C5: å°½è´£æ€§ (Conscientiousness) - E1-E5: å¤–å‘æ€§ (Extraversion) - N1-N5: ç¥ç»è´¨ (Neuroticism) - O1-O5: å¼€æ”¾æ€§ (Openness)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ•°æ®é¢„å¤„ç†",
    "href": "1038-efa-cfa.html#æ•°æ®é¢„å¤„ç†",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ•°æ®é¢„å¤„ç†",
    "text": "æ•°æ®é¢„å¤„ç†\n\nç¼ºå¤±å€¼å¤„ç†\n\n# æ£€æŸ¥ç¼ºå¤±å€¼\ncolSums(is.na(items))\n\nA1 A2 A3 A4 A5 C1 C2 C3 C4 C5 E1 E2 E3 E4 E5 N1 N2 N3 N4 N5 O1 O2 O3 O4 O5 \n16 27 26 19 16 21 24 20 26 16 23 16 25  9 21 22 21 11 36 29 22  0 28 14 20 \n\n# åˆ é™¤å«ç¼ºå¤±çš„è¡Œï¼ˆç®€å•å¤„ç†ï¼‰\nitems_complete &lt;- na.omit(items)\ncat(\"å®Œæ•´æ¡ˆä¾‹æ•°:\", nrow(items_complete), \"\\n\")\n\nå®Œæ•´æ¡ˆä¾‹æ•°: 2436 \n\n\n\n\næè¿°ç»Ÿè®¡\n\ndescribe(items_complete)[, c(\"n\", \"mean\", \"sd\", \"min\", \"max\")]\n\n      n mean   sd min max\nA1 2436 2.41 1.41   1   6\nA2 2436 4.80 1.18   1   6\nA3 2436 4.60 1.31   1   6\nA4 2436 4.69 1.49   1   6\nA5 2436 4.54 1.27   1   6\nC1 2436 4.53 1.24   1   6\nC2 2436 4.37 1.32   1   6\nC3 2436 4.30 1.29   1   6\nC4 2436 2.55 1.38   1   6\nC5 2436 3.31 1.63   1   6\nE1 2436 2.98 1.63   1   6\nE2 2436 3.15 1.61   1   6\nE3 2436 3.98 1.35   1   6\nE4 2436 4.41 1.47   1   6\nE5 2436 4.39 1.34   1   6\nN1 2436 2.94 1.58   1   6\nN2 2436 3.52 1.53   1   6\nN3 2436 3.22 1.59   1   6\nN4 2436 3.20 1.57   1   6\nN5 2436 2.97 1.62   1   6\nO1 2436 4.81 1.13   1   6\nO2 2436 2.68 1.55   1   6\nO3 2436 4.45 1.21   1   6\nO4 2436 4.93 1.19   1   6\nO5 2436 2.47 1.32   1   6",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ¢ç´¢æ€§å› å­åˆ†æ-efa",
    "href": "1038-efa-cfa.html#æ¢ç´¢æ€§å› å­åˆ†æ-efa",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¢ç´¢æ€§å› å­åˆ†æ (EFA)",
    "text": "æ¢ç´¢æ€§å› å­åˆ†æ (EFA)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#é€‚ç”¨æ€§æ£€éªŒ",
    "href": "1038-efa-cfa.html#é€‚ç”¨æ€§æ£€éªŒ",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "é€‚ç”¨æ€§æ£€éªŒ",
    "text": "é€‚ç”¨æ€§æ£€éªŒ\n\nKMO æ£€éªŒ\nKaiser-Meyer-Olkin æ£€éªŒè¯„ä¼°æ•°æ®æ˜¯å¦é€‚åˆå› å­åˆ†æã€‚\n\nKMO(items_complete)\n\nKaiser-Meyer-Olkin factor adequacy\nCall: KMO(r = items_complete)\nOverall MSA =  0.85\nMSA for each item = \n  A1   A2   A3   A4   A5   C1   C2   C3   C4   C5   E1   E2   E3   E4   E5   N1 \n0.75 0.84 0.87 0.88 0.90 0.84 0.80 0.85 0.83 0.86 0.84 0.88 0.90 0.88 0.89 0.78 \n  N2   N3   N4   N5   O1   O2   O3   O4   O5 \n0.78 0.86 0.89 0.86 0.86 0.78 0.84 0.77 0.76 \n\n\nKMO è§£é‡Šï¼š - &gt; 0.9ï¼šæå¥½ - 0.8-0.9ï¼šå¥½ - 0.7-0.8ï¼šä¸­ç­‰ - 0.6-0.7ï¼šä¸€èˆ¬ - &lt; 0.6ï¼šä¸é€‚åˆå› å­åˆ†æ\n\n\nBartlett çƒå½¢æ£€éªŒ\næ£€éªŒç›¸å…³çŸ©é˜µæ˜¯å¦ä¸ºå•ä½çŸ©é˜µã€‚\n\ncortest.bartlett(items_complete)\n\n$chisq\n[1] 18146.07\n\n$p.value\n[1] 0\n\n$df\n[1] 300\n\n\nè§£é‡Šï¼šp &lt; 0.05 è¡¨ç¤ºç›¸å…³çŸ©é˜µä¸æ˜¯å•ä½çŸ©é˜µï¼Œé€‚åˆå› å­åˆ†æã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å› å­æ•°ç¡®å®š",
    "href": "1038-efa-cfa.html#å› å­æ•°ç¡®å®š",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å› å­æ•°ç¡®å®š",
    "text": "å› å­æ•°ç¡®å®š\n\næ–¹æ³•1ï¼šç‰¹å¾å€¼ &gt; 1 å‡†åˆ™ (Kaiser å‡†åˆ™)\n\n# è®¡ç®—ç›¸å…³çŸ©é˜µ\ncor_matrix &lt;- cor(items_complete)\n\n# ç‰¹å¾å€¼åˆ†è§£\neigen_values &lt;- eigen(cor_matrix)$values\nprint(eigen_values)\n\n [1] 5.1343112 2.7518867 2.1427020 1.8523276 1.5481628 1.0735825 0.8395389\n [8] 0.7992062 0.7189892 0.6880888 0.6763734 0.6517998 0.6232530 0.5965628\n[15] 0.5630908 0.5433053 0.5145175 0.4945031 0.4826395 0.4489210 0.4233661\n[22] 0.4006715 0.3878045 0.3818568 0.2625390\n\n# ç‰¹å¾å€¼ &gt; 1 çš„å› å­æ•°\nsum(eigen_values &gt; 1)\n\n[1] 6\n\n\n\n\næ–¹æ³•2ï¼šç¢çŸ³å›¾ (Scree Plot)\n\nscree(items_complete, factors = FALSE)\n\n\n\n\n\n\n\n\nè§£é‡Šï¼šæ‰¾åˆ°â€æ‹ç‚¹â€ï¼Œå³æ›²çº¿å˜å¹³çš„ä½ç½®ã€‚\n\n\næ–¹æ³•3ï¼šå¹³è¡Œåˆ†æ (æ¨è)\n\nfa.parallel(items_complete, fa = \"fa\", n.iter = 100)\n\n\n\n\n\n\n\n\nParallel analysis suggests that the number of factors =  6  and the number of components =  NA \n\n\nè§£é‡Šï¼šå®é™…ç‰¹å¾å€¼è¶…è¿‡éšæœºæ¨¡æ‹Ÿç‰¹å¾å€¼çš„å› å­æ•°ã€‚\n\n\næ–¹æ³•4ï¼šMAP æ£€éªŒ\n\nVSS(items_complete, n = 8, rotate = \"promax\")\n\n\n\n\n\n\n\n\n\nVery Simple Structure\nCall: vss(x = x, n = n, rotate = rotate, diagonal = diagonal, fm = fm, \n    n.obs = n.obs, plot = plot, title = title, use = use, cor = cor)\nVSS complexity 1 achieves a maximimum of 0.6  with  4  factors\nVSS complexity 2 achieves a maximimum of 0.7  with  5  factors\n\nThe Velicer MAP achieves a minimum of 0.01  with  5  factors \nBIC achieves a minimum of  -550.01  with  8  factors\nSample Size adjusted BIC achieves a minimum of  -143.33  with  8  factors\n\nStatistics by number of factors \n  vss1 vss2   map dof chisq     prob sqresid  fit RMSEA  BIC SABIC complex\n1 0.50 0.00 0.025 275 10656  0.0e+00      26 0.50 0.124 8512  9386     1.0\n2 0.55 0.58 0.019 251  6669  0.0e+00      22 0.58 0.102 4712  5509     1.2\n3 0.57 0.65 0.018 228  4585  0.0e+00      18 0.65 0.089 2807  3531     1.2\n4 0.60 0.69 0.016 206  3033  0.0e+00      16 0.69 0.075 1426  2081     1.3\n5 0.54 0.70 0.015 185  1539 8.6e-212      15 0.71 0.055   96   684     1.4\n6 0.53 0.61 0.016 165   917 1.6e-104      16 0.69 0.043 -370   154     1.7\n7 0.51 0.59 0.019 146   631  1.8e-61      17 0.68 0.037 -508   -44     1.7\n8 0.47 0.61 0.022 128   448  4.0e-37      17 0.68 0.032 -550  -143     1.7\n  eChisq  SRMR eCRMS  eBIC\n1  21181 0.120 0.126 19037\n2  11015 0.087 0.095  9058\n3   6268 0.065 0.075  4490\n4   3129 0.046 0.056  1523\n5   1132 0.028 0.035  -311\n6    553 0.019 0.026  -734\n7    372 0.016 0.023  -767\n8    238 0.013 0.020  -760\n\n\nç»¼åˆåˆ¤æ–­ï¼šå¤šç§æ–¹æ³•çš„ç»“æœåº”è¯¥ç»¼åˆè€ƒè™‘ï¼Œé€‰æ‹©æœ€åˆç†çš„å› å­æ•°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å› å­æå–",
    "href": "1038-efa-cfa.html#å› å­æå–",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å› å­æå–",
    "text": "å› å­æå–\n\nä¸»è½´å› å­æ³• (æ¨è)\n\n# æå– 5 ä¸ªå› å­ï¼Œä½¿ç”¨ promax æ–œäº¤æ—‹è½¬\nfa_result &lt;- fa(items_complete,\n    nfactors = 5,\n    rotate = \"promax\", # æ–œäº¤æ—‹è½¬\n    fm = \"pa\"\n) # ä¸»è½´å› å­æ³•\n\nprint(fa_result, cut = 0.3) # åªæ˜¾ç¤º &gt; 0.3 çš„è½½è·\n\nFactor Analysis using method =  pa\nCall: fa(r = items_complete, nfactors = 5, rotate = \"promax\", fm = \"pa\")\nStandardized loadings (pattern matrix) based upon correlation matrix\n     PA2   PA1   PA3   PA5   PA4   h2   u2 com\nA1                   -0.46       0.20 0.80 1.4\nA2                    0.61       0.46 0.54 1.1\nA3                    0.62       0.54 0.46 1.3\nA4                    0.41       0.30 0.70 2.0\nA5        0.33        0.49       0.47 0.53 1.8\nC1              0.57             0.35 0.65 1.2\nC2              0.70             0.45 0.55 1.2\nC3              0.60             0.32 0.68 1.1\nC4             -0.65             0.48 0.52 1.2\nC5             -0.56             0.44 0.56 1.4\nE1       -0.64                   0.35 0.65 1.1\nE2       -0.71                   0.55 0.45 1.1\nE3        0.55                   0.44 0.56 1.6\nE4        0.66                   0.54 0.46 1.3\nE5        0.50                   0.41 0.59 1.8\nN1  0.84                         0.68 0.32 1.3\nN2  0.79                         0.61 0.39 1.2\nN3  0.74                         0.54 0.46 1.0\nN4  0.53 -0.31                   0.51 0.49 1.8\nN5  0.53                         0.35 0.65 1.5\nO1                          0.49 0.32 0.68 1.3\nO2                         -0.48 0.27 0.73 1.5\nO3                          0.58 0.47 0.53 1.5\nO4                          0.37 0.25 0.75 2.7\nO5                         -0.54 0.30 0.70 1.1\n\n                       PA2  PA1  PA3  PA5  PA4\nSS loadings           2.69 2.59 2.02 1.79 1.50\nProportion Var        0.11 0.10 0.08 0.07 0.06\nCumulative Var        0.11 0.21 0.29 0.36 0.42\nProportion Explained  0.25 0.24 0.19 0.17 0.14\nCumulative Proportion 0.25 0.50 0.69 0.86 1.00\n\n With factor correlations of \n      PA2   PA1   PA3   PA5  PA4\nPA2  1.00 -0.26 -0.22 -0.01 0.04\nPA1 -0.26  1.00  0.40  0.35 0.14\nPA3 -0.22  0.40  1.00  0.24 0.19\nPA5 -0.01  0.35  0.24  1.00 0.16\nPA4  0.04  0.14  0.19  0.16 1.00\n\nMean item complexity =  1.4\nTest of the hypothesis that 5 factors are sufficient.\n\ndf null model =  300  with the objective function =  7.48 with Chi Square =  18146.07\ndf of  the model are 185  and the objective function was  0.64 \n\nThe root mean square of the residuals (RMSR) is  0.03 \nThe df corrected root mean square of the residuals is  0.04 \n\nThe harmonic n.obs is  2436 with the empirical chi square  1131.91  with prob &lt;  1.1e-135 \nThe total n.obs was  2436  with Likelihood Chi Square =  1538.69  with prob &lt;  8e-212 \n\nTucker Lewis Index of factoring reliability =  0.877\nRMSEA index =  0.055  and the 90 % confidence intervals are  0.052 0.057\nBIC =  96.03\nFit based upon off diagonal values = 0.98\nMeasures of factor score adequacy             \n                                                   PA2  PA1  PA3  PA5  PA4\nCorrelation of (regression) scores with factors   0.93 0.91 0.89 0.87 0.84\nMultiple R square of scores with factors          0.86 0.83 0.79 0.75 0.70\nMinimum correlation of possible factor scores     0.72 0.66 0.58 0.51 0.40\n\n\n\n\næœ€å¤§ä¼¼ç„¶æ³•\n\nfa_ml &lt;- fa(items_complete,\n    nfactors = 5,\n    rotate = \"promax\",\n    fm = \"ml\"\n) # æœ€å¤§ä¼¼ç„¶æ³•\n\n# æ¯”è¾ƒæ‹Ÿåˆ\ncat(\"PA æ³• RMSEA:\", fa_result$RMSEA[1], \"\\n\")\n\nPA æ³• RMSEA: 0.05480526 \n\ncat(\"ML æ³• RMSEA:\", fa_ml$RMSEA[1], \"\\n\")\n\nML æ³• RMSEA: 0.05382273",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ—‹è½¬æ–¹æ³•",
    "href": "1038-efa-cfa.html#æ—‹è½¬æ–¹æ³•",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ—‹è½¬æ–¹æ³•",
    "text": "æ—‹è½¬æ–¹æ³•\n\næ­£äº¤æ—‹è½¬ vs æ–œäº¤æ—‹è½¬\n\n# æ­£äº¤æ—‹è½¬ï¼ˆå› å­ä¸ç›¸å…³ï¼‰\nfa_varimax &lt;- fa(items_complete, nfactors = 5, rotate = \"varimax\")\n\n# æ–œäº¤æ—‹è½¬ï¼ˆå› å­å¯ç›¸å…³ï¼‰\nfa_promax &lt;- fa(items_complete, nfactors = 5, rotate = \"promax\")\n\n# æ¯”è¾ƒå› å­ç›¸å…³\ncat(\"Varimax å› å­ç›¸å…³:\\n\")\n\nVarimax å› å­ç›¸å…³:\n\nprint(fa_varimax$Phi)\n\nNULL\n\ncat(\"\\nPromax å› å­ç›¸å…³:\\n\")\n\n\nPromax å› å­ç›¸å…³:\n\nprint(round(fa_promax$Phi, 3))\n\n       MR2    MR1    MR3    MR5   MR4\nMR2  1.000 -0.256 -0.224 -0.013 0.040\nMR1 -0.256  1.000  0.399  0.345 0.142\nMR3 -0.224  0.399  1.000  0.236 0.192\nMR5 -0.013  0.345  0.236  1.000 0.155\nMR4  0.040  0.142  0.192  0.155 1.000\n\n\né€‰æ‹©å»ºè®®ï¼š - ç†è®ºä¸Šå› å­åº”ç›¸å…³ â†’ æ–œäº¤æ—‹è½¬ (promax, oblimin) - éœ€è¦å› å­æ­£äº¤ â†’ æ­£äº¤æ—‹è½¬ (varimax)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#ç»“æœè§£è¯»",
    "href": "1038-efa-cfa.html#ç»“æœè§£è¯»",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ç»“æœè§£è¯»",
    "text": "ç»“æœè§£è¯»\n\nå› å­è½½è·çŸ©é˜µ\n\n# æŸ¥çœ‹å› å­è½½è·\nloadings &lt;- fa_result$loadings\nprint(loadings, cut = 0.3)\n\n\nLoadings:\n   PA2    PA1    PA3    PA5    PA4   \nA1                      -0.463       \nA2                       0.611       \nA3                       0.620       \nA4                       0.411       \nA5         0.332         0.489       \nC1                0.567              \nC2                0.697              \nC3                0.597              \nC4               -0.652              \nC5               -0.561              \nE1        -0.636                     \nE2        -0.711                     \nE3         0.545                     \nE4         0.660                     \nE5         0.498                     \nN1  0.835                            \nN2  0.791                            \nN3  0.741                            \nN4  0.533 -0.311                     \nN5  0.529                            \nO1                              0.491\nO2                             -0.484\nO3                              0.576\nO4                              0.370\nO5                             -0.543\n\n                 PA2   PA1   PA3   PA5   PA4\nSS loadings    2.704 2.486 2.050 1.638 1.461\nProportion Var 0.108 0.099 0.082 0.066 0.058\nCumulative Var 0.108 0.208 0.290 0.355 0.414\n\n\nè½½è·è§£é‡Šï¼š - &gt; 0.7ï¼šä¼˜ç§€ - 0.6-0.7ï¼šè‰¯å¥½ - 0.4-0.6ï¼šå¯æ¥å— - &lt; 0.4ï¼šè€ƒè™‘åˆ é™¤\n\n\nå…±åŒåº¦\n\n# æ¯ä¸ªå˜é‡è¢«å› å­è§£é‡Šçš„æ–¹å·®æ¯”ä¾‹\nfa_result$communalities\n\n[1] 10.59006\n\n\næ ‡å‡†ï¼šå…±åŒåº¦ &lt; 0.2 çš„å˜é‡è€ƒè™‘åˆ é™¤ã€‚\n\n\nå› å­å¾—åˆ†\n\n# è®¡ç®—å› å­å¾—åˆ†\nfactor_scores &lt;- factor.scores(items_complete, fa_result)$scores\nhead(factor_scores)\n\n              PA2        PA1         PA3        PA5        PA4\n61617 -0.43958636 -0.2227535 -1.46918220 -1.0398564 -1.9486251\n61618  0.07605077  0.4354195 -0.62143534 -0.2315558 -0.3297932\n61620  0.52227907  0.1737052 -0.03530488 -0.7979095  0.2324926\n61621 -0.16388898 -0.1413499 -1.17247939 -0.1013337 -1.3034475\n61622 -0.42091443  0.3272949 -0.09403904 -0.9823147 -0.8739858\n61623  0.03826001  1.3614244  1.62152869  0.1130949  0.4775330",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#efa-å¯è§†åŒ–",
    "href": "1038-efa-cfa.html#efa-å¯è§†åŒ–",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "EFA å¯è§†åŒ–",
    "text": "EFA å¯è§†åŒ–\n\nå› å­è½½è·å›¾\n\nfa.diagram(fa_result, simple = FALSE, cut = 0.3)\n\n\n\n\n\n\n\n\n\n\nçƒ­å›¾å±•ç¤º\n\n# æå–è½½è·çŸ©é˜µ\nload_mat &lt;- unclass(fa_result$loadings)\n\n# ä½¿ç”¨ ggplot2 ç»˜åˆ¶\nlibrary(ggplot2)\nlibrary(tidyr)\n\nload_df &lt;- as.data.frame(load_mat) %&gt;%\n    mutate(item = rownames(load_mat)) %&gt;%\n    pivot_longer(-item, names_to = \"Factor\", values_to = \"Loading\")\n\nggplot(load_df, aes(x = Factor, y = item, fill = Loading)) +\n    geom_tile() +\n    geom_text(aes(label = round(Loading, 2)), size = 3) +\n    scale_fill_gradient2(\n        low = \"#457b9d\", mid = \"white\", high = \"#e63946\",\n        midpoint = 0, limits = c(-1, 1)\n    ) +\n    labs(title = \"å› å­è½½è·çƒ­å›¾\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#éªŒè¯æ€§å› å­åˆ†æ-cfa",
    "href": "1038-efa-cfa.html#éªŒè¯æ€§å› å­åˆ†æ-cfa",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "éªŒè¯æ€§å› å­åˆ†æ (CFA)",
    "text": "éªŒè¯æ€§å› å­åˆ†æ (CFA)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ¨¡å‹è®¾å®š",
    "href": "1038-efa-cfa.html#æ¨¡å‹è®¾å®š",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹è®¾å®š",
    "text": "æ¨¡å‹è®¾å®š\nåŸºäº EFA ç»“æœæˆ–ç†è®ºå‡è®¾ï¼Œè®¾å®š CFA æ¨¡å‹ã€‚\n\n# å®šä¹‰ CFA æ¨¡å‹\ncfa_model &lt;- \"\n  # æµ‹é‡æ¨¡å‹\n  Agreeableness =~ A1 + A2 + A3 + A4 + A5\n  Conscientiousness =~ C1 + C2 + C3 + C4 + C5\n  Extraversion =~ E1 + E2 + E3 + E4 + E5\n  Neuroticism =~ N1 + N2 + N3 + N4 + N5\n  Openness =~ O1 + O2 + O3 + O4 + O5\n\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ¨¡å‹æ‹Ÿåˆ",
    "href": "1038-efa-cfa.html#æ¨¡å‹æ‹Ÿåˆ",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹æ‹Ÿåˆ",
    "text": "æ¨¡å‹æ‹Ÿåˆ\n\n# æ‹Ÿåˆ CFA æ¨¡å‹\ncfa_fit &lt;- cfa(cfa_model, data = items_complete)\n\n# æŸ¥çœ‹ç»“æœæ‘˜è¦\nsummary(cfa_fit, fit.measures = TRUE, standardized = TRUE)\n\nlavaan 0.6-21 ended normally after 55 iterations\n\n  Estimator                                         ML\n  Optimization method                           NLMINB\n  Number of model parameters                        60\n\n  Number of observations                          2436\n\nModel Test User Model:\n                                                      \n  Test statistic                              4165.467\n  Degrees of freedom                               265\n  P-value (Chi-square)                           0.000\n\nModel Test Baseline Model:\n\n  Test statistic                             18222.116\n  Degrees of freedom                               300\n  P-value                                        0.000\n\nUser Model versus Baseline Model:\n\n  Comparative Fit Index (CFI)                    0.782\n  Tucker-Lewis Index (TLI)                       0.754\n\nLoglikelihood and Information Criteria:\n\n  Loglikelihood user model (H0)             -99840.238\n  Loglikelihood unrestricted model (H1)     -97757.504\n                                                      \n  Akaike (AIC)                              199800.476\n  Bayesian (BIC)                            200148.363\n  Sample-size adjusted Bayesian (SABIC)     199957.729\n\nRoot Mean Square Error of Approximation:\n\n  RMSEA                                          0.078\n  90 Percent confidence interval - lower         0.076\n  90 Percent confidence interval - upper         0.080\n  P-value H_0: RMSEA &lt;= 0.050                    0.000\n  P-value H_0: RMSEA &gt;= 0.080                    0.037\n\nStandardized Root Mean Square Residual:\n\n  SRMR                                           0.075\n\nParameter Estimates:\n\n  Standard errors                             Standard\n  Information                                 Expected\n  Information saturated (h1) model          Structured\n\nLatent Variables:\n                       Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n  Agreeableness =~                                                          \n    A1                    1.000                               0.484    0.344\n    A2                   -1.579    0.108  -14.650    0.000   -0.764   -0.648\n    A3                   -2.030    0.134  -15.093    0.000   -0.983   -0.749\n    A4                   -1.564    0.115  -13.616    0.000   -0.757   -0.510\n    A5                   -1.804    0.121  -14.852    0.000   -0.873   -0.687\n  Conscientiousness =~                                                      \n    C1                    1.000                               0.680    0.551\n    C2                    1.148    0.057   20.152    0.000    0.781    0.592\n    C3                    1.036    0.054   19.172    0.000    0.705    0.546\n    C4                   -1.421    0.065  -21.924    0.000   -0.967   -0.702\n    C5                   -1.489    0.072  -20.694    0.000   -1.012   -0.620\n  Extraversion =~                                                           \n    E1                    1.000                               0.920    0.564\n    E2                    1.226    0.051   23.899    0.000    1.128    0.699\n    E3                   -0.921    0.041  -22.431    0.000   -0.847   -0.627\n    E4                   -1.121    0.047  -23.977    0.000   -1.031   -0.703\n    E5                   -0.808    0.039  -20.648    0.000   -0.743   -0.553\n  Neuroticism =~                                                            \n    N1                    1.000                               1.300    0.825\n    N2                    0.947    0.024   39.899    0.000    1.230    0.803\n    N3                    0.884    0.025   35.919    0.000    1.149    0.721\n    N4                    0.692    0.025   27.753    0.000    0.899    0.573\n    N5                    0.628    0.026   24.027    0.000    0.816    0.503\n  Openness =~                                                               \n    O1                    1.000                               0.635    0.564\n    O2                   -1.020    0.068  -14.962    0.000   -0.648   -0.418\n    O3                    1.373    0.072   18.942    0.000    0.872    0.724\n    O4                    0.437    0.048    9.160    0.000    0.277    0.233\n    O5                   -0.960    0.060  -16.056    0.000   -0.610   -0.461\n\nCovariances:\n                       Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n  Agreeableness ~~                                                          \n    Conscientisnss       -0.110    0.012   -9.254    0.000   -0.334   -0.334\n    Extraversion          0.304    0.025   12.293    0.000    0.683    0.683\n    Neuroticism           0.141    0.018    7.712    0.000    0.223    0.223\n    Openness             -0.093    0.011   -8.446    0.000   -0.303   -0.303\n  Conscientiousness ~~                                                      \n    Extraversion         -0.224    0.020  -11.121    0.000   -0.357   -0.357\n    Neuroticism          -0.250    0.025  -10.117    0.000   -0.283   -0.283\n    Openness              0.130    0.014    9.190    0.000    0.301    0.301\n  Extraversion ~~                                                           \n    Neuroticism           0.292    0.032    9.131    0.000    0.244    0.244\n    Openness             -0.265    0.021  -12.347    0.000   -0.453   -0.453\n  Neuroticism ~~                                                            \n    Openness             -0.093    0.022   -4.138    0.000   -0.112   -0.112\n\nVariances:\n                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all\n   .A1                1.745    0.052   33.725    0.000    1.745    0.882\n   .A2                0.807    0.028   28.396    0.000    0.807    0.580\n   .A3                0.754    0.032   23.339    0.000    0.754    0.438\n   .A4                1.632    0.051   31.796    0.000    1.632    0.740\n   .A5                0.852    0.032   26.800    0.000    0.852    0.528\n   .C1                1.063    0.035   30.073    0.000    1.063    0.697\n   .C2                1.130    0.039   28.890    0.000    1.130    0.650\n   .C3                1.170    0.039   30.194    0.000    1.170    0.702\n   .C4                0.960    0.040   24.016    0.000    0.960    0.507\n   .C5                1.640    0.059   27.907    0.000    1.640    0.615\n   .E1                1.814    0.058   31.047    0.000    1.814    0.682\n   .E2                1.332    0.049   26.928    0.000    1.332    0.512\n   .E3                1.108    0.038   29.522    0.000    1.108    0.607\n   .E4                1.088    0.041   26.732    0.000    1.088    0.506\n   .E5                1.251    0.040   31.258    0.000    1.251    0.694\n   .N1                0.793    0.037   21.575    0.000    0.793    0.320\n   .N2                0.836    0.036   23.458    0.000    0.836    0.356\n   .N3                1.222    0.043   28.271    0.000    1.222    0.481\n   .N4                1.654    0.052   31.977    0.000    1.654    0.672\n   .N5                1.969    0.060   32.889    0.000    1.969    0.747\n   .O1                0.865    0.032   27.216    0.000    0.865    0.682\n   .O2                1.990    0.063   31.618    0.000    1.990    0.826\n   .O3                0.691    0.039   17.717    0.000    0.691    0.476\n   .O4                1.346    0.040   34.036    0.000    1.346    0.946\n   .O5                1.380    0.045   30.662    0.000    1.380    0.788\n    Agreeableness     0.234    0.030    7.839    0.000    1.000    1.000\n    Conscientisnss    0.463    0.036   12.810    0.000    1.000    1.000\n    Extraversion      0.846    0.062   13.693    0.000    1.000    1.000\n    Neuroticism       1.689    0.073   23.034    0.000    1.000    1.000\n    Openness          0.404    0.033   12.156    0.000    1.000    1.000",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ‹ŸåˆæŒ‡æ•°è§£è¯»",
    "href": "1038-efa-cfa.html#æ‹ŸåˆæŒ‡æ•°è§£è¯»",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ‹ŸåˆæŒ‡æ•°è§£è¯»",
    "text": "æ‹ŸåˆæŒ‡æ•°è§£è¯»\n\næå–æ‹ŸåˆæŒ‡æ•°\n\n# æå–å¸¸ç”¨æ‹ŸåˆæŒ‡æ•°\nfit_indices &lt;- fitMeasures(cfa_fit, c(\n    \"chisq\", \"df\", \"pvalue\",\n    \"cfi\", \"tli\", \"rmsea\",\n    \"rmsea.ci.lower\", \"rmsea.ci.upper\",\n    \"srmr\"\n))\nround(fit_indices, 3)\n\n         chisq             df         pvalue            cfi            tli \n      4165.467        265.000          0.000          0.782          0.754 \n         rmsea rmsea.ci.lower rmsea.ci.upper           srmr \n         0.078          0.076          0.080          0.075 \n\n\n\n\næ‹Ÿåˆæ ‡å‡†\n\n\n\næŒ‡æ ‡\nä¼˜ç§€\nå¯æ¥å—\nè¯´æ˜\n\n\n\n\nÏ‡Â²/df\n&lt; 2\n&lt; 3\nå¡æ–¹/è‡ªç”±åº¦æ¯”\n\n\nCFI\n&gt; 0.95\n&gt; 0.90\næ¯”è¾ƒæ‹ŸåˆæŒ‡æ•°\n\n\nTLI\n&gt; 0.95\n&gt; 0.90\nTucker-Lewis æŒ‡æ•°\n\n\nRMSEA\n&lt; 0.05\n&lt; 0.08\nè¿‘ä¼¼è¯¯å·®å‡æ–¹æ ¹\n\n\nSRMR\n&lt; 0.05\n&lt; 0.08\næ ‡å‡†åŒ–æ®‹å·®å‡æ–¹æ ¹",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å› å­è½½è·",
    "href": "1038-efa-cfa.html#å› å­è½½è·",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å› å­è½½è·",
    "text": "å› å­è½½è·\n\n# æ ‡å‡†åŒ–å› å­è½½è·\nstd_loadings &lt;- standardizedSolution(cfa_fit)\nstd_loadings[std_loadings$op == \"=~\", c(\"lhs\", \"rhs\", \"est.std\", \"pvalue\")]\n\n                 lhs rhs est.std pvalue\n1      Agreeableness  A1   0.344      0\n2      Agreeableness  A2  -0.648      0\n3      Agreeableness  A3  -0.749      0\n4      Agreeableness  A4  -0.510      0\n5      Agreeableness  A5  -0.687      0\n6  Conscientiousness  C1   0.551      0\n7  Conscientiousness  C2   0.592      0\n8  Conscientiousness  C3   0.546      0\n9  Conscientiousness  C4  -0.702      0\n10 Conscientiousness  C5  -0.620      0\n11      Extraversion  E1   0.564      0\n12      Extraversion  E2   0.699      0\n13      Extraversion  E3  -0.627      0\n14      Extraversion  E4  -0.703      0\n15      Extraversion  E5  -0.553      0\n16       Neuroticism  N1   0.825      0\n17       Neuroticism  N2   0.803      0\n18       Neuroticism  N3   0.721      0\n19       Neuroticism  N4   0.573      0\n20       Neuroticism  N5   0.503      0\n21          Openness  O1   0.564      0\n22          Openness  O2  -0.418      0\n23          Openness  O3   0.724      0\n24          Openness  O4   0.233      0\n25          Openness  O5  -0.461      0\n\n\næ ‡å‡†ï¼šæ ‡å‡†åŒ–è½½è· &gt; 0.5ï¼ˆæœ€ä½ 0.4ï¼‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#ä¿¡æ•ˆåº¦è¯„ä¼°",
    "href": "1038-efa-cfa.html#ä¿¡æ•ˆåº¦è¯„ä¼°",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "ä¿¡æ•ˆåº¦è¯„ä¼°",
    "text": "ä¿¡æ•ˆåº¦è¯„ä¼°\n\nç»„åˆä¿¡åº¦ (CR)\n\n# è®¡ç®—ç»„åˆä¿¡åº¦\ncalc_CR &lt;- function(fit, factor_name) {\n    params &lt;- parameterEstimates(fit, standardized = TRUE)\n    loadings &lt;- params[params$op == \"=~\" & params$lhs == factor_name, \"std.all\"]\n    sum_loadings &lt;- sum(loadings)\n    sum_errors &lt;- sum(1 - loadings^2)\n    CR &lt;- sum_loadings^2 / (sum_loadings^2 + sum_errors)\n    return(CR)\n}\n\nfactors &lt;- c(\n    \"Agreeableness\", \"Conscientiousness\", \"Extraversion\",\n    \"Neuroticism\", \"Openness\"\n)\nCR_values &lt;- sapply(factors, function(f) calc_CR(cfa_fit, f))\nprint(round(CR_values, 3))\n\n    Agreeableness Conscientiousness      Extraversion       Neuroticism \n            0.615             0.041             0.114             0.820 \n         Openness \n            0.100 \n\n\næ ‡å‡†ï¼šCR &gt; 0.7\n\n\nå¹³å‡æ–¹å·®èƒå–é‡ (AVE)\n\n# è®¡ç®— AVE\ncalc_AVE &lt;- function(fit, factor_name) {\n    params &lt;- parameterEstimates(fit, standardized = TRUE)\n    loadings &lt;- params[params$op == \"=~\" & params$lhs == factor_name, \"std.all\"]\n    AVE &lt;- mean(loadings^2)\n    return(AVE)\n}\n\nAVE_values &lt;- sapply(factors, function(f) calc_AVE(cfa_fit, f))\nprint(round(AVE_values, 3))\n\n    Agreeableness Conscientiousness      Extraversion       Neuroticism \n            0.367             0.366             0.400             0.485 \n         Openness \n            0.257 \n\n\næ ‡å‡†ï¼š - AVE &gt; 0.5ï¼šæ”¶æ•›æ•ˆåº¦è‰¯å¥½ - AVE çš„å¹³æ–¹æ ¹ &gt; å› å­é—´ç›¸å…³ï¼šåŒºåˆ†æ•ˆåº¦è‰¯å¥½\n\n\nå› å­ç›¸å…³çŸ©é˜µ\n\n# å› å­ç›¸å…³\nfactor_cor &lt;- lavInspect(cfa_fit, \"cor.lv\")\nprint(round(factor_cor, 3))\n\n                  Agrbln Cnscnt Extrvr Nrtcsm Opnnss\nAgreeableness      1.000                            \nConscientiousness -0.334  1.000                     \nExtraversion       0.683 -0.357  1.000              \nNeuroticism        0.223 -0.283  0.244  1.000       \nOpenness          -0.303  0.301 -0.453 -0.112  1.000\n\n\n\n\nåŒºåˆ†æ•ˆåº¦æ£€éªŒ\n\n# æ¯”è¾ƒ AVE å¹³æ–¹æ ¹ä¸å› å­ç›¸å…³\nAVE_sqrt &lt;- sqrt(AVE_values)\ncat(\"AVE å¹³æ–¹æ ¹:\\n\")\n\nAVE å¹³æ–¹æ ¹:\n\nprint(round(AVE_sqrt, 3))\n\n    Agreeableness Conscientiousness      Extraversion       Neuroticism \n            0.605             0.605             0.633             0.696 \n         Openness \n            0.507 \n\ncat(\"\\næœ€å¤§å› å­ç›¸å…³:\\n\")\n\n\næœ€å¤§å› å­ç›¸å…³:\n\n# è·å–æœ€å¤§ç›¸å…³ï¼ˆæ’é™¤å¯¹è§’çº¿ï¼‰\nfactor_cor_nodiag &lt;- factor_cor\ndiag(factor_cor_nodiag) &lt;- 0\nprint(round(apply(abs(factor_cor_nodiag), 1, max), 3))\n\n    Agreeableness Conscientiousness      Extraversion       Neuroticism \n            0.683             0.357             0.683             0.283 \n         Openness \n            0.453",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#cfa-å¯è§†åŒ–",
    "href": "1038-efa-cfa.html#cfa-å¯è§†åŒ–",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "CFA å¯è§†åŒ–",
    "text": "CFA å¯è§†åŒ–\n\nè·¯å¾„å›¾\n\nsemPaths(cfa_fit,\n    what = \"std\", # æ ‡å‡†åŒ–ç³»æ•°\n    layout = \"tree2\",\n    edge.label.cex = 0.8,\n    curvePivot = TRUE,\n    fade = FALSE,\n    style = \"lisrel\",\n    sizeLat = 8,\n    sizeMan = 6,\n    nCharNodes = 0,\n    residuals = FALSE\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ¨¡å‹ä¿®æ­£",
    "href": "1038-efa-cfa.html#æ¨¡å‹ä¿®æ­£",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ¨¡å‹ä¿®æ­£",
    "text": "æ¨¡å‹ä¿®æ­£\n\nä¿®æ­£æŒ‡æ•°\n\n# æŸ¥çœ‹ä¿®æ­£æŒ‡æ•°\nmi &lt;- modindices(cfa_fit, sort = TRUE, minimum.value = 10)\nhead(mi, 10)\n\n                  lhs op rhs      mi    epc sepc.lv sepc.all sepc.nox\n421                N1 ~~  N2 418.812  0.841   0.841    1.033    1.033\n119      Extraversion =~  N4 200.790  0.487   0.448    0.285    0.285\n158          Openness =~  E3 153.715  0.672   0.427    0.316    0.316\n438                N3 ~~  N4 134.104  0.403   0.403    0.283    0.283\n159          Openness =~  E4 122.558 -0.636  -0.404   -0.276   -0.276\n95  Conscientiousness =~  E5 121.499  0.504   0.343    0.255    0.255\n123      Extraversion =~  O3 114.202 -0.429  -0.395   -0.328   -0.328\n124      Extraversion =~  O4 113.863  0.372   0.343    0.287    0.287\n135       Neuroticism =~  C5 108.754  0.271   0.352    0.216    0.216\n110      Extraversion =~  A5 108.587 -0.488  -0.449   -0.354   -0.354\n\n\n\n[!WARNING] ä¿®æ­£æŒ‡æ•°åº”è°¨æ…ä½¿ç”¨ï¼ä»…åœ¨æœ‰ç†è®ºæ”¯æŒæ—¶æ·»åŠ è·¯å¾„ï¼Œé¿å…è¿‡åº¦æ‹Ÿåˆã€‚\n\n\n\næ·»åŠ æ®‹å·®ç›¸å…³\n\n# ä¿®æ­£æ¨¡å‹ç¤ºä¾‹\ncfa_model_modified &lt;- \"\n  Agreeableness =~ A1 + A2 + A3 + A4 + A5\n  Conscientiousness =~ C1 + C2 + C3 + C4 + C5\n  Extraversion =~ E1 + E2 + E3 + E4 + E5\n  Neuroticism =~ N1 + N2 + N3 + N4 + N5\n  Openness =~ O1 + O2 + O3 + O4 + O5\n\n  # æ ¹æ®ç†è®ºæ·»åŠ æ®‹å·®ç›¸å…³\n  # E1 ~~ E2\n\"\n\ncfa_fit_mod &lt;- cfa(cfa_model_modified, data = items_complete)\n\n\n\næ¨¡å‹æ¯”è¾ƒ\n\n# æ¯”è¾ƒåŸå§‹æ¨¡å‹å’Œä¿®æ­£æ¨¡å‹\n# anova(cfa_fit, cfa_fit_mod)  # è‹¥æ¨¡å‹åµŒå¥—",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å¤šç»„-cfa",
    "href": "1038-efa-cfa.html#å¤šç»„-cfa",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å¤šç»„ CFA",
    "text": "å¤šç»„ CFA\næ£€éªŒå› å­ç»“æ„åœ¨ä¸åŒç»„åˆ«æ˜¯å¦ç­‰å€¼ã€‚\n\n# æ·»åŠ æ€§åˆ«å˜é‡\nitems_with_gender &lt;- cbind(items_complete, gender = bfi$gender[complete.cases(bfi[, 1:25])])\nitems_with_gender &lt;- items_with_gender[!is.na(items_with_gender$gender), ]\n\n# å‹æ€ç­‰å€¼ï¼ˆå› å­ç»“æ„ç›¸åŒï¼‰\nfit_config &lt;- cfa(cfa_model, data = items_with_gender, group = \"gender\")\n\n# å¼±ç­‰å€¼ï¼ˆè½½è·ç›¸ç­‰ï¼‰\nfit_metric &lt;- cfa(cfa_model,\n    data = items_with_gender, group = \"gender\",\n    group.equal = \"loadings\"\n)\n\n# æ¯”è¾ƒ\nanova(fit_config, fit_metric)\n\n\nChi-Squared Difference Test\n\n            Df    AIC    BIC  Chisq Chisq diff RMSEA Df diff Pr(&gt;Chisq)\nfit_config 530 199494 200479 4545.3                                    \nfit_metric 550 199471 200341 4562.6     17.307     0      20     0.6329",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æŠ¥å‘Šæ¨¡æ¿",
    "href": "1038-efa-cfa.html#æŠ¥å‘Šæ¨¡æ¿",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æŠ¥å‘Šæ¨¡æ¿",
    "text": "æŠ¥å‘Šæ¨¡æ¿\n\n\n\n## CFA ç»“æœæŠ¥å‘Š\n\n### æ¨¡å‹æ‹Ÿåˆ\nä½¿ç”¨æœ€å¤§ä¼¼ç„¶æ³•ä¼°è®¡äº”å› å­æ¨¡å‹ã€‚æ¨¡å‹æ‹ŸåˆæŒ‡æ•°å¦‚ä¸‹ï¼š\nÏ‡Â²( 265 ) =  4165.47 , p &lt; .001,\nCFI =  0.782 ,\nTLI =  0.754 ,\nRMSEA =  0.078  (90% CI [ 0.076 ,  0.08 ]),\nSRMR =  0.075 ã€‚\n\n### ä¿¡æ•ˆåº¦\næ‰€æœ‰å› å­çš„ç»„åˆä¿¡åº¦ (CR) å‡å¤§äº 0.7ï¼ŒAVE å‡å¤§äº 0.4ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#efa-vs-cfa-é€‰æ‹©æŒ‡å—",
    "href": "1038-efa-cfa.html#efa-vs-cfa-é€‰æ‹©æŒ‡å—",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "EFA vs CFA é€‰æ‹©æŒ‡å—",
    "text": "EFA vs CFA é€‰æ‹©æŒ‡å—\n\n\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  é€‰æ‹©å†³ç­–æ ‘                      â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ 1. æ˜¯å¦æœ‰å…ˆéªŒçš„å› å­ç»“æ„å‡è®¾ï¼Ÿ                    â”‚\nâ”‚    â”œâ”€ å¦ â†’ EFAï¼ˆæ¢ç´¢ç»“æ„ï¼‰                       â”‚\nâ”‚    â””â”€ æ˜¯ â†’ CFAï¼ˆéªŒè¯ç»“æ„ï¼‰                       â”‚\nâ”‚                                                 â”‚\nâ”‚ 2. é‡è¡¨å¼€å‘é˜¶æ®µï¼Ÿ                               â”‚\nâ”‚    â”œâ”€ åˆæœŸå¼€å‘ â†’ EFA                            â”‚\nâ”‚    â””â”€ éªŒè¯ä¿®è®¢ â†’ CFA                            â”‚\nâ”‚                                                 â”‚\nâ”‚ 3. æ˜¯å¦éœ€è¦è·¨ç»„æ¯”è¾ƒï¼Ÿ                           â”‚\nâ”‚    â””â”€ æ˜¯ â†’ å¤šç»„ CFA                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#æ€»ç»“",
    "href": "1038-efa-cfa.html#æ€»ç»“",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\né˜¶æ®µ\næ–¹æ³•\nç›®çš„\n\n\n\n\né‡è¡¨å¼€å‘\nEFA\næ¢ç´¢å› å­ç»“æ„\n\n\né‡è¡¨éªŒè¯\nCFA\néªŒè¯å› å­ç»“æ„\n\n\nè·¨æ–‡åŒ–ç ”ç©¶\nå¤šç»„CFA\næ£€éªŒæµ‹é‡ç­‰å€¼\n\n\nç†è®ºæ£€éªŒ\nCFA\néªŒè¯æµ‹é‡æ¨¡å‹\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. EFA å’Œ CFA åº”ä½¿ç”¨ä¸åŒæ ·æœ¬ 2. å› å­æ•°ç¡®å®šç»¼åˆå¤šç§æ–¹æ³• 3. æ‹Ÿåˆä¸ä½³æ—¶å…ˆæ£€æŸ¥æ•°æ®è´¨é‡ 4. æ¨¡å‹ä¿®æ­£éœ€æœ‰ç†è®ºæ”¯æŒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1038-efa-cfa.html#å‚è€ƒæ–‡çŒ®",
    "href": "1038-efa-cfa.html#å‚è€ƒæ–‡çŒ®",
    "title": "æ¢ç´¢æ€§ä¸éªŒè¯æ€§å› å­åˆ†æå®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nBrown, T. A. (2015). Confirmatory Factor Analysis for Applied Research (2nd ed.). Guilford Press.\nFabrigar, L. R., & Wegener, D. T. (2012). Exploratory Factor Analysis. Oxford University Press.\nRevelle, W. (2023). psych: Procedures for Psychological, Psychometric, and Personality Research. R package.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å› å­åˆ†æ (EFA/CFA)"
    ]
  },
  {
    "objectID": "1040-scoping-review.html",
    "href": "1040-scoping-review.html",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "èŒƒå›´ç»¼è¿° (Scoping Review) æ˜¯ä¸€ç§ç³»ç»ŸåŒ–çš„æ–‡çŒ®ç»¼è¿°æ–¹æ³•ï¼Œæ—¨åœ¨â€ç»˜åˆ¶â€æŸä¸€ç ”ç©¶é¢†åŸŸçš„æ–‡çŒ®åœ°å›¾ã€‚ä¸ä¼ ç»Ÿç³»ç»Ÿç»¼è¿°ä¸åŒï¼ŒèŒƒå›´ç»¼è¿°æ›´å…³æ³¨ç ”ç©¶çš„å¹¿åº¦è€Œéæ·±åº¦ã€‚\næœ¬æ•™ç¨‹å°†ä»‹ç»èŒƒå›´ç»¼è¿°çš„æ–¹æ³•å­¦æ¡†æ¶ã€R è¯­è¨€è¾…åŠ©å·¥å…·åŠå®Œæ•´æ“ä½œæµç¨‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#å‰è¨€",
    "href": "1040-scoping-review.html#å‰è¨€",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "èŒƒå›´ç»¼è¿° (Scoping Review) æ˜¯ä¸€ç§ç³»ç»ŸåŒ–çš„æ–‡çŒ®ç»¼è¿°æ–¹æ³•ï¼Œæ—¨åœ¨â€ç»˜åˆ¶â€æŸä¸€ç ”ç©¶é¢†åŸŸçš„æ–‡çŒ®åœ°å›¾ã€‚ä¸ä¼ ç»Ÿç³»ç»Ÿç»¼è¿°ä¸åŒï¼ŒèŒƒå›´ç»¼è¿°æ›´å…³æ³¨ç ”ç©¶çš„å¹¿åº¦è€Œéæ·±åº¦ã€‚\næœ¬æ•™ç¨‹å°†ä»‹ç»èŒƒå›´ç»¼è¿°çš„æ–¹æ³•å­¦æ¡†æ¶ã€R è¯­è¨€è¾…åŠ©å·¥å…·åŠå®Œæ•´æ“ä½œæµç¨‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#ä»€ä¹ˆæ˜¯èŒƒå›´ç»¼è¿°",
    "href": "1040-scoping-review.html#ä»€ä¹ˆæ˜¯èŒƒå›´ç»¼è¿°",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "1. ä»€ä¹ˆæ˜¯èŒƒå›´ç»¼è¿°ï¼Ÿ",
    "text": "1. ä»€ä¹ˆæ˜¯èŒƒå›´ç»¼è¿°ï¼Ÿ\n\nå®šä¹‰ä¸ç›®çš„\nèŒƒå›´ç»¼è¿°ï¼ˆä¹Ÿç§°â€èŒƒç•´ç»¼è¿°â€æˆ–â€æ˜ å°„ç»¼è¿°â€ï¼‰çš„ä¸»è¦ç›®çš„æ˜¯ï¼š\n\nè¯†åˆ«ç ”ç©¶ç©ºç™½ï¼šå‘ç°æŸé¢†åŸŸå°šæœªè¢«å……åˆ†ç ”ç©¶çš„é—®é¢˜\næ¾„æ¸…æ¦‚å¿µè¾¹ç•Œï¼šæ˜ç¡®å¤æ‚æ¦‚å¿µçš„å®šä¹‰å’Œä½¿ç”¨æ–¹å¼\nç»˜åˆ¶è¯æ®åœ°å›¾ï¼šå±•ç¤ºç°æœ‰ç ”ç©¶çš„ç±»å‹ã€æ•°é‡å’Œåˆ†å¸ƒ\nä¸ºç³»ç»Ÿç»¼è¿°åšå‡†å¤‡ï¼šåˆ¤æ–­æ˜¯å¦å€¼å¾—è¿›è¡Œæ·±å…¥çš„ç³»ç»Ÿç»¼è¿°\n\n\n\nä¸ç³»ç»Ÿç»¼è¿°çš„åŒºåˆ«\n\n\n\nç‰¹å¾\nèŒƒå›´ç»¼è¿°\nç³»ç»Ÿç»¼è¿°\n\n\n\n\nç ”ç©¶é—®é¢˜\nå®½æ³›ã€æ¢ç´¢æ€§\nç²¾ç¡®ã€èšç„¦\n\n\nç›®çš„\næè¿°è¯æ®èŒƒå›´\nå›ç­”å…·ä½“é—®é¢˜\n\n\nè´¨é‡è¯„ä»·\né€šå¸¸ä¸è¿›è¡Œ\nå¿…é¡»è¿›è¡Œ\n\n\næ•°æ®åˆæˆ\næè¿°æ€§/åˆ¶å›¾\nå®šé‡/Metaåˆ†æ\n\n\nçº³å…¥æ ‡å‡†\nç›¸å¯¹å®½æ¾\nä¸¥æ ¼æ˜ç¡®\n\n\nç»“æœå‘ˆç°\nè¡¨æ ¼ã€å›¾è¡¨ä¸ºä¸»\næ•ˆåº”é‡ã€ç½®ä¿¡åŒºé—´\n\n\n\n\n\né€‚ç”¨åœºæ™¯\nâœ… é€‚åˆèŒƒå›´ç»¼è¿°ï¼š - æ–°å…´ç ”ç©¶é¢†åŸŸï¼Œéœ€è¦äº†è§£æ•´ä½“æ ¼å±€ - æ¦‚å¿µå¤æ‚/å®šä¹‰ä¸ä¸€ï¼Œéœ€è¦æ¢³ç† - æ–‡çŒ®ç±»å‹å¤šæ ·ï¼ˆé‡åŒ–ã€è´¨æ€§ã€ç°è‰²æ–‡çŒ®ï¼‰ - å‡†å¤‡ç”³è¯·é¡¹ç›®ï¼Œéœ€è¦æ–‡çŒ®èƒŒæ™¯\nâŒ ä¸é€‚åˆèŒƒå›´ç»¼è¿°ï¼š - éœ€è¦å›ç­”å…·ä½“ä¸´åºŠé—®é¢˜ - éœ€è¦è¿›è¡Œ Meta åˆ†æ - ç ”ç©¶é¢†åŸŸå·²éå¸¸æˆç†Ÿ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#æ–¹æ³•å­¦æ¡†æ¶",
    "href": "1040-scoping-review.html#æ–¹æ³•å­¦æ¡†æ¶",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "2. æ–¹æ³•å­¦æ¡†æ¶",
    "text": "2. æ–¹æ³•å­¦æ¡†æ¶\n\nArksey & Oâ€™Malley æ¡†æ¶ (2005)\nè¿™æ˜¯èŒƒå›´ç»¼è¿°çš„ç»å…¸æ¡†æ¶ï¼ŒåŒ…å« 5 ä¸ªæ­¥éª¤ï¼š\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Step 1: ç¡®å®šç ”ç©¶é—®é¢˜                                   â”‚\nâ”‚  â””â”€ å®šä¹‰å¹¿æ³›ä½†æ˜ç¡®çš„ç ”ç©¶é—®é¢˜                            â”‚\nâ”‚                                                        â”‚\nâ”‚  Step 2: è¯†åˆ«ç›¸å…³æ–‡çŒ®                                   â”‚\nâ”‚  â””â”€ å¤šæ•°æ®åº“æ£€ç´¢ + æ‰‹å·¥æ£€ç´¢                             â”‚\nâ”‚                                                        â”‚\nâ”‚  Step 3: ç­›é€‰æ–‡çŒ®                                       â”‚\nâ”‚  â””â”€ ä¸¤é˜¶æ®µç­›é€‰ï¼ˆæ ‡é¢˜/æ‘˜è¦ â†’ å…¨æ–‡ï¼‰                      â”‚\nâ”‚                                                        â”‚\nâ”‚  Step 4: æ•°æ®åˆ¶å›¾                                       â”‚\nâ”‚  â””â”€ æå–å…³é”®æ•°æ®ï¼Œç»˜åˆ¶è¯æ®åœ°å›¾                          â”‚\nâ”‚                                                        â”‚\nâ”‚  Step 5: æ•´ç†ã€æ€»ç»“ã€æŠ¥å‘Š                               â”‚\nâ”‚  â””â”€ æè¿°æ€§åˆ†æï¼Œè¯†åˆ«ç ”ç©¶ç©ºç™½                            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\nJBI Scoping Review æŒ‡å—\nJoanna Briggs Institute (JBI) åœ¨ 2020 å¹´å‘å¸ƒäº†æ›´è¯¦ç»†çš„æŒ‡å—ï¼Œå¢åŠ äº†ï¼š\n\nå¯é€‰æ­¥éª¤ï¼šåˆ©ç›Šç›¸å…³è€…å’¨è¯¢\nè´¨é‡è¯„ä¼°å»ºè®®ï¼šè™½éå¿…é¡»ï¼Œä½†å¯è€ƒè™‘\nPCC æ¡†æ¶ï¼šPopulation + Concept + Context",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#prisma-scr-æŠ¥å‘Šè§„èŒƒ",
    "href": "1040-scoping-review.html#prisma-scr-æŠ¥å‘Šè§„èŒƒ",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "3. PRISMA-ScR æŠ¥å‘Šè§„èŒƒ",
    "text": "3. PRISMA-ScR æŠ¥å‘Šè§„èŒƒ\nPRISMA-ScR (2018) æ˜¯èŒƒå›´ç»¼è¿°çš„æŠ¥å‘Šè§„èŒƒï¼ŒåŒ…å« 22 ä¸ªæ¡ç›®ã€‚\n\næ ¸å¿ƒæ¡ç›®\n\n# PRISMA-ScR æ£€æŸ¥æ¸…å•å…³é”®æ¡ç›®\nprisma_scr &lt;- data.frame(\n    æ¡ç›® = c(\n        \"æ ‡é¢˜\", \"æ‘˜è¦\", \"å¼•è¨€\", \"æ–¹æ³•-èµ„æ ¼æ ‡å‡†\",\n        \"æ–¹æ³•-ä¿¡æ¯æ¥æº\", \"æ–¹æ³•-æ£€ç´¢ç­–ç•¥\", \"æ–¹æ³•-è¯æ®ç­›é€‰\",\n        \"æ–¹æ³•-æ•°æ®åˆ¶å›¾\", \"ç»“æœ-ç­›é€‰æµç¨‹\", \"ç»“æœ-è¯æ®ç‰¹å¾\",\n        \"è®¨è®º-æ€»ç»“\", \"è®¨è®º-å±€é™æ€§\"\n    ),\n    è¦æ±‚ = c(\n        \"æ ‡é¢˜ä¸­æ˜ç¡®'Scoping Review'\",\n        \"ç»“æ„åŒ–æ‘˜è¦ï¼Œè¯´æ˜æ¯”å¯¹ç›®çš„\",\n        \"è¯´æ˜ä¸ºä½•é€‰æ‹©èŒƒå›´ç»¼è¿°\",\n        \"çº³å…¥/æ’é™¤æ ‡å‡†ï¼ˆPCCæ ¼å¼ï¼‰\",\n        \"åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“å’Œæ—¥æœŸ\",\n        \"è‡³å°‘ä¸€ä¸ªå®Œæ•´æ£€ç´¢ç­–ç•¥\",\n        \"è¯´æ˜ç­›é€‰æµç¨‹å’Œä¸€è‡´æ€§\",\n        \"æ•°æ®æå–è¡¨æ ¼/æ¡†æ¶\",\n        \"PRISMAæµç¨‹å›¾\",\n        \"è¯æ®ç‰¹å¾è¡¨æ ¼\",\n        \"ä¸»è¦å‘ç°çš„æ€»ç»“\",\n        \"æ–¹æ³•å­¦å’Œè¯æ®å±€é™æ€§\"\n    )\n)\n\nknitr::kable(prisma_scr, caption = \"PRISMA-ScR æ ¸å¿ƒæŠ¥å‘Šæ¡ç›®\")\n\n\nPRISMA-ScR æ ¸å¿ƒæŠ¥å‘Šæ¡ç›®\n\n\næ¡ç›®\nè¦æ±‚\n\n\n\n\næ ‡é¢˜\næ ‡é¢˜ä¸­æ˜ç¡®â€™Scoping Reviewâ€™\n\n\næ‘˜è¦\nç»“æ„åŒ–æ‘˜è¦ï¼Œè¯´æ˜æ¯”å¯¹ç›®çš„\n\n\nå¼•è¨€\nè¯´æ˜ä¸ºä½•é€‰æ‹©èŒƒå›´ç»¼è¿°\n\n\næ–¹æ³•-èµ„æ ¼æ ‡å‡†\nçº³å…¥/æ’é™¤æ ‡å‡†ï¼ˆPCCæ ¼å¼ï¼‰\n\n\næ–¹æ³•-ä¿¡æ¯æ¥æº\nåˆ—å‡ºæ‰€æœ‰æ•°æ®åº“å’Œæ—¥æœŸ\n\n\næ–¹æ³•-æ£€ç´¢ç­–ç•¥\nè‡³å°‘ä¸€ä¸ªå®Œæ•´æ£€ç´¢ç­–ç•¥\n\n\næ–¹æ³•-è¯æ®ç­›é€‰\nè¯´æ˜ç­›é€‰æµç¨‹å’Œä¸€è‡´æ€§\n\n\næ–¹æ³•-æ•°æ®åˆ¶å›¾\næ•°æ®æå–è¡¨æ ¼/æ¡†æ¶\n\n\nç»“æœ-ç­›é€‰æµç¨‹\nPRISMAæµç¨‹å›¾\n\n\nç»“æœ-è¯æ®ç‰¹å¾\nè¯æ®ç‰¹å¾è¡¨æ ¼\n\n\nè®¨è®º-æ€»ç»“\nä¸»è¦å‘ç°çš„æ€»ç»“\n\n\nè®¨è®º-å±€é™æ€§\næ–¹æ³•å­¦å’Œè¯æ®å±€é™æ€§\n\n\n\n\n\n\n\nPRISMA æµç¨‹å›¾\n\nlibrary(ggplot2)\n\n# PRISMA æµç¨‹æ•°æ®\nprisma_data &lt;- data.frame(\n    stage = c(\"Identification\", \"Identification\", \"Screening\", \"Eligibility\", \"Included\"),\n    step = c(\n        \"Database\\n(n=1250)\", \"Other\\n(n=25)\",\n        \"Screened\\n(n=980)\", \"Full-text\\n(n=160)\",\n        \"Included\\n(n=65)\"\n    ),\n    x = c(1, 3, 2, 2, 2),\n    y = c(5, 5, 4, 3, 2)\n)\n\n# ç»‘åˆ¶æµç¨‹å›¾\nggplot() +\n    # ä¸»è¦èŠ‚ç‚¹\n    geom_tile(\n        data = prisma_data, aes(x = x, y = y),\n        width = 1.8, height = 0.7, fill = \"#4e79a7\", color = \"white\", linewidth = 1\n    ) +\n    geom_text(\n        data = prisma_data, aes(x = x, y = y, label = step),\n        color = \"white\", size = 3.5, fontface = \"bold\"\n    ) +\n\n    # ç®­å¤´è¿æ¥\n    geom_segment(aes(x = 1, y = 4.6, xend = 1.5, yend = 4.3),\n        arrow = arrow(length = unit(0.2, \"cm\")), color = \"gray40\"\n    ) +\n    geom_segment(aes(x = 3, y = 4.6, xend = 2.5, yend = 4.3),\n        arrow = arrow(length = unit(0.2, \"cm\")), color = \"gray40\"\n    ) +\n    geom_segment(aes(x = 2, y = 3.6, xend = 2, yend = 3.4),\n        arrow = arrow(length = unit(0.2, \"cm\")), color = \"gray40\"\n    ) +\n    geom_segment(aes(x = 2, y = 2.6, xend = 2, yend = 2.4),\n        arrow = arrow(length = unit(0.2, \"cm\")), color = \"gray40\"\n    ) +\n\n    # æ’é™¤èŠ‚ç‚¹\n    geom_tile(aes(x = 3.5, y = 4),\n        width = 1.2, height = 0.5,\n        fill = \"#e15759\", alpha = 0.8\n    ) +\n    geom_text(aes(x = 3.5, y = 4, label = \"Excluded\\n(n=820)\"),\n        color = \"white\", size = 3\n    ) +\n    geom_segment(aes(x = 2.9, y = 4, xend = 2.9, yend = 4),\n        arrow = arrow(length = unit(0.15, \"cm\")), color = \"gray40\"\n    ) +\n    geom_tile(aes(x = 3.5, y = 3),\n        width = 1.2, height = 0.5,\n        fill = \"#e15759\", alpha = 0.8\n    ) +\n    geom_text(aes(x = 3.5, y = 3, label = \"Excluded\\n(n=95)\"),\n        color = \"white\", size = 3\n    ) +\n\n    # Stage labels\n    annotate(\"text\", x = 0, y = 5, label = \"Identification\", fontface = \"bold\", hjust = 1, size = 4) +\n    annotate(\"text\", x = 0, y = 4, label = \"Screening\", fontface = \"bold\", hjust = 1, size = 4) +\n    annotate(\"text\", x = 0, y = 3, label = \"Eligibility\", fontface = \"bold\", hjust = 1, size = 4) +\n    annotate(\"text\", x = 0, y = 2, label = \"Included\", fontface = \"bold\", hjust = 1, size = 4) +\n    labs(title = \"PRISMA Flow Diagram\") +\n    theme_void() +\n    theme(plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\")) +\n    coord_cartesian(xlim = c(-0.5, 4.5), ylim = c(1.5, 5.5))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#r-è¯­è¨€è¾…åŠ©å·¥å…·",
    "href": "1040-scoping-review.html#r-è¯­è¨€è¾…åŠ©å·¥å…·",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "4. R è¯­è¨€è¾…åŠ©å·¥å…·",
    "text": "4. R è¯­è¨€è¾…åŠ©å·¥å…·\n\næ–‡çŒ®ç®¡ç†ä¸å»é‡\n\n# revtools åŒ…ç”¨äºæ–‡çŒ®ç­›é€‰\n# install.packages(\"revtools\")\nlibrary(revtools)\n\n# è¯»å–æ–‡çŒ®æ•°æ®\nrefs &lt;- read_bibliography(\"search_results.ris\")\n\n# è‡ªåŠ¨å»é‡\nunique_refs &lt;- find_duplicates(refs)\n\n# äº¤äº’å¼ç­›é€‰ï¼ˆShiny ç•Œé¢ï¼‰\nscreen_abstracts(unique_refs)\n\n\n\nlitsearchrï¼šä¼˜åŒ–æ£€ç´¢ç­–ç•¥\n\n# litsearchr å¸®åŠ©è¯†åˆ«å…³é”®è¯\n# install.packages(\"litsearchr\")\nlibrary(litsearchr)\n\n# ä»åˆæ­¥æ£€ç´¢ä¸­æå–å…³é”®è¯ç½‘ç»œ\nkeywords &lt;- extract_terms(\n    text = refs$abstract,\n    method = \"fakerake\",\n    min_freq = 3,\n    ngrams = TRUE,\n    min_n = 2,\n    max_n = 3\n)\n\n# è¯†åˆ«å…³é”®æœ¯è¯­\nkey_terms &lt;- identify_important_terms(\n    keywords,\n    method = \"strength\",\n    cutoff_strength = 0.5\n)\n\n\n\næ•°æ®æå–æ¨¡æ¿\n\n# åˆ›å»ºæ•°æ®æå–è¡¨æ ¼\nextraction_form &lt;- data.frame(\n    å­—æ®µ = c(\n        \"ä½œè€…\", \"å¹´ä»½\", \"å›½å®¶\", \"ç ”ç©¶è®¾è®¡\", \"æ ·æœ¬é‡\",\n        \"äººç¾¤ç‰¹å¾\", \"æ ¸å¿ƒæ¦‚å¿µ\", \"ä¸»è¦å‘ç°\", \"å¤‡æ³¨\"\n    ),\n    è¯´æ˜ = c(\n        \"ç¬¬ä¸€ä½œè€…å§“æ°\", \"å‘è¡¨å¹´ä»½\", \"ç ”ç©¶å¼€å±•å›½å®¶\",\n        \"æ¨ªæ–­é¢/é˜Ÿåˆ—/RCTç­‰\", \"å‚ä¸è€…æ•°é‡\",\n        \"å¹´é¾„/æ€§åˆ«/ç–¾ç—…ç­‰\", \"ç ”ç©¶çš„æ ¸å¿ƒå˜é‡\",\n        \"ä¸ç ”ç©¶é—®é¢˜ç›¸å…³çš„å…³é”®ç»“æœ\", \"å…¶ä»–é‡è¦ä¿¡æ¯\"\n    )\n)\n\nknitr::kable(extraction_form, caption = \"æ•°æ®æå–è¡¨æ¨¡æ¿\")\n\n\næ•°æ®æå–è¡¨æ¨¡æ¿\n\n\nå­—æ®µ\nè¯´æ˜\n\n\n\n\nä½œè€…\nç¬¬ä¸€ä½œè€…å§“æ°\n\n\nå¹´ä»½\nå‘è¡¨å¹´ä»½\n\n\nå›½å®¶\nç ”ç©¶å¼€å±•å›½å®¶\n\n\nç ”ç©¶è®¾è®¡\næ¨ªæ–­é¢/é˜Ÿåˆ—/RCTç­‰\n\n\næ ·æœ¬é‡\nå‚ä¸è€…æ•°é‡\n\n\näººç¾¤ç‰¹å¾\nå¹´é¾„/æ€§åˆ«/ç–¾ç—…ç­‰\n\n\næ ¸å¿ƒæ¦‚å¿µ\nç ”ç©¶çš„æ ¸å¿ƒå˜é‡\n\n\nä¸»è¦å‘ç°\nä¸ç ”ç©¶é—®é¢˜ç›¸å…³çš„å…³é”®ç»“æœ\n\n\nå¤‡æ³¨\nå…¶ä»–é‡è¦ä¿¡æ¯",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#è¯æ®åˆ¶å›¾ä¸å¯è§†åŒ–",
    "href": "1040-scoping-review.html#è¯æ®åˆ¶å›¾ä¸å¯è§†åŒ–",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "5. è¯æ®åˆ¶å›¾ä¸å¯è§†åŒ–",
    "text": "5. è¯æ®åˆ¶å›¾ä¸å¯è§†åŒ–\n\næ—¶é—´è¶‹åŠ¿å›¾\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# æ¨¡æ‹Ÿæ–‡çŒ®å‘è¡¨å¹´ä»½æ•°æ®\nset.seed(42)\npublication_data &lt;- data.frame(\n    year = sample(2010:2024, 100,\n        replace = TRUE,\n        prob = c(rep(0.03, 5), rep(0.05, 5), rep(0.08, 3), 0.12, 0.15)\n    )\n) %&gt;%\n    count(year)\n\nggplot(publication_data, aes(x = year, y = n)) +\n    geom_col(fill = \"#4e79a7\", alpha = 0.8) +\n    geom_smooth(method = \"loess\", se = FALSE, color = \"#e15759\", linewidth = 1.2) +\n    labs(\n        title = \"æ–‡çŒ®å‘è¡¨å¹´ä»½åˆ†å¸ƒ\",\n        subtitle = \"2010-2024å¹´ç›¸å…³ç ”ç©¶æ•°é‡è¶‹åŠ¿\",\n        x = \"å‘è¡¨å¹´ä»½\",\n        y = \"æ–‡çŒ®æ•°é‡\"\n    ) +\n    scale_x_continuous(breaks = seq(2010, 2024, 2)) +\n    theme_minimal(base_size = 14)\n\n\n\n\n\n\n\n\n\n\nåœ°ç†åˆ†å¸ƒå›¾\n\n# æ¨¡æ‹Ÿå›½å®¶åˆ†å¸ƒæ•°æ®\ncountry_data &lt;- data.frame(\n    country = c(\n        \"USA\", \"UK\", \"China\", \"Australia\", \"Canada\",\n        \"Germany\", \"Netherlands\", \"Sweden\", \"Japan\", \"Others\"\n    ),\n    count = c(25, 15, 12, 10, 8, 6, 5, 4, 3, 12)\n)\n\nggplot(country_data, aes(x = reorder(country, count), y = count)) +\n    geom_col(fill = \"#59a14f\", alpha = 0.8) +\n    geom_text(aes(label = count), hjust = -0.3, size = 4) +\n    coord_flip() +\n    labs(\n        title = \"ç ”ç©¶åœ°ç†åˆ†å¸ƒ\",\n        x = NULL,\n        y = \"æ–‡çŒ®æ•°é‡\"\n    ) +\n    theme_minimal(base_size = 14) +\n    theme(panel.grid.major.y = element_blank())\n\n\n\n\n\n\n\n\n\n\nç ”ç©¶è®¾è®¡åˆ†å¸ƒ\n\nlibrary(tidyr)\n\n# ç ”ç©¶è®¾è®¡åˆ†ç±»\ndesign_data &lt;- data.frame(\n    è®¾è®¡ç±»å‹ = c(\n        \"æ¨ªæ–­é¢ç ”ç©¶\", \"é˜Ÿåˆ—ç ”ç©¶\", \"éšæœºå¯¹ç…§è¯•éªŒ\",\n        \"è´¨æ€§ç ”ç©¶\", \"æ··åˆæ–¹æ³•\", \"ç»¼è¿°\"\n    ),\n    æ•°é‡ = c(28, 18, 12, 15, 8, 19)\n)\n\n# è®¡ç®—ç™¾åˆ†æ¯”\ndesign_data &lt;- design_data %&gt;%\n    mutate(\n        ç™¾åˆ†æ¯” = æ•°é‡ / sum(æ•°é‡) * 100,\n        æ ‡ç­¾ = paste0(æ•°é‡, \" (\", round(ç™¾åˆ†æ¯”, 1), \"%)\")\n    )\n\n# ç¯å½¢å›¾\nggplot(design_data, aes(x = 2, y = æ•°é‡, fill = è®¾è®¡ç±»å‹)) +\n    geom_bar(stat = \"identity\", width = 1) +\n    coord_polar(theta = \"y\") +\n    xlim(0.5, 2.5) +\n    geom_text(aes(label = æ ‡ç­¾),\n        position = position_stack(vjust = 0.5),\n        color = \"white\", fontface = \"bold\", size = 3.5\n    ) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"ç ”ç©¶è®¾è®¡ç±»å‹åˆ†å¸ƒ\",\n        fill = \"è®¾è®¡ç±»å‹\"\n    ) +\n    theme_void() +\n    theme(\n        plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n        legend.position = \"right\"\n    )\n\n\n\n\n\n\n\n\n\n\næ¦‚å¿µæ˜ å°„è¡¨\n\n# åˆ›å»ºæ¦‚å¿µ-ä¸»é¢˜çŸ©é˜µ\nconcept_matrix &lt;- data.frame(\n    æ–‡çŒ®ID = paste0(\"Study \", 1:15),\n    æ¦‚å¿µ1_å®šä¹‰ = sample(c(1, 0, NA), 15, replace = TRUE, prob = c(0.5, 0.3, 0.2)),\n    æ¦‚å¿µ2_æµ‹é‡ = sample(c(1, 0, NA), 15, replace = TRUE, prob = c(0.4, 0.4, 0.2)),\n    æ¦‚å¿µ3_å¹²é¢„ = sample(c(1, 0, NA), 15, replace = TRUE, prob = c(0.3, 0.5, 0.2)),\n    æ¦‚å¿µ4_ç»“å±€ = sample(c(1, 0, NA), 15, replace = TRUE, prob = c(0.6, 0.3, 0.1))\n)\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼\nconcept_long &lt;- concept_matrix %&gt;%\n    pivot_longer(-æ–‡çŒ®ID, names_to = \"æ¦‚å¿µ\", values_to = \"è¦†ç›–\") %&gt;%\n    mutate(\n        æ¦‚å¿µ = gsub(\"æ¦‚å¿µ\\\\d_\", \"\", æ¦‚å¿µ),\n        çŠ¶æ€ = case_when(\n            è¦†ç›– == 1 ~ \"æ¶µç›–\",\n            è¦†ç›– == 0 ~ \"æœªæ¶µç›–\",\n            TRUE ~ \"ä¸é€‚ç”¨\"\n        )\n    )\n\n# ç»˜åˆ¶æ¦‚å¿µæ˜ å°„çƒ­å›¾\nggplot(concept_long, aes(x = æ¦‚å¿µ, y = æ–‡çŒ®ID, fill = çŠ¶æ€)) +\n    geom_tile(color = \"white\", linewidth = 0.5) +\n    scale_fill_manual(\n        values = c(\"æ¶µç›–\" = \"#59a14f\", \"æœªæ¶µç›–\" = \"#e15759\", \"ä¸é€‚ç”¨\" = \"gray90\"),\n        na.value = \"gray90\"\n    ) +\n    labs(\n        title = \"æ¦‚å¿µè¦†ç›–æ˜ å°„è¡¨\",\n        subtitle = \"å±•ç¤ºå„æ–‡çŒ®å¯¹ä¸åŒæ¦‚å¿µçš„è¦†ç›–æƒ…å†µ\",\n        x = NULL,\n        y = NULL\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        axis.text.x = element_text(angle = 45, hjust = 1, face = \"bold\"),\n        panel.grid = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#è´¨æ€§æ•°æ®å½’çº³",
    "href": "1040-scoping-review.html#è´¨æ€§æ•°æ®å½’çº³",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "6. è´¨æ€§æ•°æ®å½’çº³",
    "text": "6. è´¨æ€§æ•°æ®å½’çº³\n\nä¸»é¢˜åˆ†ææ¡†æ¶\n\n# ä½¿ç”¨è¡¨æ ¼å±•ç¤ºä¸»é¢˜åˆ†æç»“æœ\nthemes &lt;- data.frame(\n    ä¸»é¢˜ = c(\n        \"ä¸»é¢˜1ï¼šå®šä¹‰åˆ†æ­§\", \"ä¸»é¢˜1ï¼šå®šä¹‰åˆ†æ­§\",\n        \"ä¸»é¢˜2ï¼šæµ‹é‡å·¥å…·\", \"ä¸»é¢˜2ï¼šæµ‹é‡å·¥å…·\",\n        \"ä¸»é¢˜3ï¼šå®æ–½éšœç¢\", \"ä¸»é¢˜3ï¼šå®æ–½éšœç¢\"\n    ),\n    å­ä¸»é¢˜ = c(\n        \"æ¦‚å¿µè¾¹ç•Œæ¨¡ç³Š\", \"æœ¯è¯­ä½¿ç”¨ä¸ä¸€\",\n        \"é‡è¡¨å¼€å‘\", \"æ•ˆåº¦éªŒè¯\",\n        \"èµ„æºé™åˆ¶\", \"æ–‡åŒ–å› ç´ \"\n    ),\n    æ–‡çŒ®æ•° = c(12, 8, 15, 10, 18, 6),\n    ä»£è¡¨æ€§å¼•ç”¨ = c(\n        \"\\\"è¯¥æ¦‚å¿µçš„å®šä¹‰åœ¨ä¸åŒç ”ç©¶ä¸­å·®å¼‚æ˜¾è‘—...\\\" (Author, 2020)\",\n        \"\\\"æœ¯è¯­Aå’Œæœ¯è¯­Bç»å¸¸è¢«äº’æ¢ä½¿ç”¨...\\\" (Author, 2021)\",\n        \"\\\"æœ¬ç ”ç©¶å¼€å‘äº†æ–°çš„æµ‹é‡å·¥å…·...\\\" (Author, 2019)\",\n        \"\\\"é‡è¡¨çš„ä¿¡æ•ˆåº¦åœ¨ä¸åŒäººç¾¤ä¸­...\\\" (Author, 2022)\",\n        \"\\\"èµ„æºä¸è¶³æ˜¯ä¸»è¦éšœç¢...\\\" (Author, 2020)\",\n        \"\\\"æ–‡åŒ–å·®å¼‚å½±å“äº†å®æ–½æ•ˆæœ...\\\" (Author, 2023)\"\n    )\n)\n\nknitr::kable(themes, caption = \"ä¸»é¢˜åˆ†æç»“æœæ±‡æ€»\")\n\n\nä¸»é¢˜åˆ†æç»“æœæ±‡æ€»\n\n\n\n\n\n\n\n\nä¸»é¢˜\nå­ä¸»é¢˜\næ–‡çŒ®æ•°\nä»£è¡¨æ€§å¼•ç”¨\n\n\n\n\nä¸»é¢˜1ï¼šå®šä¹‰åˆ†æ­§\næ¦‚å¿µè¾¹ç•Œæ¨¡ç³Š\n12\nâ€œè¯¥æ¦‚å¿µçš„å®šä¹‰åœ¨ä¸åŒç ”ç©¶ä¸­å·®å¼‚æ˜¾è‘—â€¦â€ (Author, 2020)\n\n\nä¸»é¢˜1ï¼šå®šä¹‰åˆ†æ­§\næœ¯è¯­ä½¿ç”¨ä¸ä¸€\n8\nâ€œæœ¯è¯­Aå’Œæœ¯è¯­Bç»å¸¸è¢«äº’æ¢ä½¿ç”¨â€¦â€ (Author, 2021)\n\n\nä¸»é¢˜2ï¼šæµ‹é‡å·¥å…·\né‡è¡¨å¼€å‘\n15\nâ€œæœ¬ç ”ç©¶å¼€å‘äº†æ–°çš„æµ‹é‡å·¥å…·â€¦â€ (Author, 2019)\n\n\nä¸»é¢˜2ï¼šæµ‹é‡å·¥å…·\næ•ˆåº¦éªŒè¯\n10\nâ€œé‡è¡¨çš„ä¿¡æ•ˆåº¦åœ¨ä¸åŒäººç¾¤ä¸­â€¦â€ (Author, 2022)\n\n\nä¸»é¢˜3ï¼šå®æ–½éšœç¢\nèµ„æºé™åˆ¶\n18\nâ€œèµ„æºä¸è¶³æ˜¯ä¸»è¦éšœç¢â€¦â€ (Author, 2020)\n\n\nä¸»é¢˜3ï¼šå®æ–½éšœç¢\næ–‡åŒ–å› ç´ \n6\nâ€œæ–‡åŒ–å·®å¼‚å½±å“äº†å®æ–½æ•ˆæœâ€¦â€ (Author, 2023)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#å®Œæ•´æ¡ˆä¾‹æµç¨‹",
    "href": "1040-scoping-review.html#å®Œæ•´æ¡ˆä¾‹æµç¨‹",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "7. å®Œæ•´æ¡ˆä¾‹æµç¨‹",
    "text": "7. å®Œæ•´æ¡ˆä¾‹æµç¨‹\n\nç ”ç©¶é—®é¢˜å®šä¹‰\nç ”ç©¶é—®é¢˜ï¼š\n\"åœ¨ç¤¾åŒºç¯å¢ƒä¸­ï¼Œé’ˆå¯¹è€å¹´äººçš„æ•°å­—å¥åº·å¹²é¢„æªæ–½æœ‰å“ªäº›ç±»å‹ï¼Ÿ\nè¿™äº›å¹²é¢„çš„ç›®æ ‡äººç¾¤ã€å¹²é¢„å†…å®¹å’Œè¯„ä»·ç»“å±€æ˜¯ä»€ä¹ˆï¼Ÿ\"\n\nPCC æ¡†æ¶ï¼š\n- Population: ç¤¾åŒºå±…ä½çš„è€å¹´äºº(â‰¥65å²)\n- Concept: æ•°å­—å¥åº·å¹²é¢„\n- Context: ç¤¾åŒºç¯å¢ƒï¼ˆéåŒ»ç–—æœºæ„ï¼‰\n\n\næ£€ç´¢ç­–ç•¥ç¤ºä¾‹\n\n# ç¤ºä¾‹æ£€ç´¢ç­–ç•¥ï¼ˆPubMedæ ¼å¼ï¼‰\nsearch_strategy &lt;- '\n(((\"aged\"[MeSH Terms] OR \"elderly\"[tiab] OR \"older adult*\"[tiab])\nAND\n(\"telemedicine\"[MeSH Terms] OR \"mobile health\"[tiab] OR\n \"digital health\"[tiab] OR \"eHealth\"[tiab] OR \"mHealth\"[tiab])\nAND\n(\"community\"[tiab] OR \"home-based\"[tiab] OR \"community-dwelling\"[tiab]))\n)\nFilters: 2015-2024, English\n'\n\ncat(search_strategy)\n\n\n(((\"aged\"[MeSH Terms] OR \"elderly\"[tiab] OR \"older adult*\"[tiab])\nAND\n(\"telemedicine\"[MeSH Terms] OR \"mobile health\"[tiab] OR\n \"digital health\"[tiab] OR \"eHealth\"[tiab] OR \"mHealth\"[tiab])\nAND\n(\"community\"[tiab] OR \"home-based\"[tiab] OR \"community-dwelling\"[tiab]))\n)\nFilters: 2015-2024, English\n\n\n\n\nç­›é€‰æµç¨‹ä»£ç \n\nlibrary(revtools)\n\n# 1. å¯¼å…¥æ£€ç´¢ç»“æœ\nresults_pubmed &lt;- read_bibliography(\"pubmed_results.ris\")\nresults_embase &lt;- read_bibliography(\"embase_results.ris\")\nresults_wos &lt;- read_bibliography(\"wos_results.ris\")\n\n# 2. åˆå¹¶æ•°æ®åº“\nall_results &lt;- merge_columns(\n    list(results_pubmed, results_embase, results_wos)\n)\n\n# 3. å»é‡\ndeduplicated &lt;- find_duplicates(all_results)\nunique_refs &lt;- extract_unique_references(deduplicated)\n\n# 4. æ ‡é¢˜/æ‘˜è¦ç­›é€‰ï¼ˆäº¤äº’å¼ï¼‰\nscreened_round1 &lt;- screen_titles(unique_refs)\n\n# 5. å…¨æ–‡ç­›é€‰\n# å¯¼å‡ºéœ€è¦è·å–å…¨æ–‡çš„æ–‡çŒ®\nexport_ris(screened_round1, filename = \"for_fulltext.ris\")\n\n# ç­›é€‰åå†æ¬¡å¯¼å…¥\nfulltext_screened &lt;- read_bibliography(\"fulltext_screened.ris\")\n\n# 6. æœ€ç»ˆçº³å…¥\nincluded_studies &lt;- fulltext_screened[fulltext_screened$include == TRUE, ]",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "href": "1040-scoping-review.html#æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "8. æ³¨æ„äº‹é¡¹ä¸å»ºè®®",
    "text": "8. æ³¨æ„äº‹é¡¹ä¸å»ºè®®\n\nå¸¸è§é—®é¢˜\n\n\n\né—®é¢˜\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\nèŒƒå›´å¤ªå®½\nä½¿ç”¨ PCC æ¡†æ¶ç»†åŒ–ç ”ç©¶é—®é¢˜\n\n\næ£€ç´¢ä¸å…¨é¢\nè‡³å°‘æ£€ç´¢ 3 ä¸ªæ•°æ®åº“ + ç°è‰²æ–‡çŒ®\n\n\nç­›é€‰ä¸ä¸€è‡´\nåŒäººç‹¬ç«‹ç­›é€‰ + Kappa ä¸€è‡´æ€§æ£€éªŒ\n\n\næ•°æ®æå–ä¸»è§‚\nåˆ¶å®šè¯¦ç»†æå–æŒ‡å—ï¼Œè¿›è¡ŒåŸ¹è®­\n\n\næŠ¥å‘Šä¸è§„èŒƒ\nä¸¥æ ¼éµå¾ª PRISMA-ScR æ£€æŸ¥æ¸…å•\n\n\n\n\n\nè´¨é‡æå‡å»ºè®®\n\n[!TIP] èŒƒå›´ç»¼è¿°è´¨é‡æå‡æ¸…å•ï¼š 1. åˆ¶å®šå¹¶å‘è¡¨ç ”ç©¶æ–¹æ¡ˆ (Protocol) 2. ç»„å»ºç ”ç©¶å›¢é˜Ÿï¼Œæ˜ç¡®åˆ†å·¥ 3. åˆ¶ä½œè¯¦ç»†çš„æ•°æ®æå–è¡¨ï¼Œé¢„å…ˆæµ‹è¯• 4. ä½¿ç”¨å¯è§†åŒ–å¢å¼ºç»“æœå‘ˆç° 5. è€ƒè™‘çº³å…¥åˆ©ç›Šç›¸å…³è€…å’¨è¯¢ç¯èŠ‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1040-scoping-review.html#å‚è€ƒæ–‡çŒ®",
    "href": "1040-scoping-review.html#å‚è€ƒæ–‡çŒ®",
    "title": "èŒƒå›´ç»¼è¿° (Scoping Review) å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nArksey, H., & Oâ€™Malley, L. (2005). Scoping studies: towards a methodological framework. International Journal of Social Research Methodology, 8(1), 19-32.\nTricco, A. C., et al.Â (2018). PRISMA extension for scoping reviews (PRISMA-ScR): checklist and explanation. Annals of Internal Medicine, 169(7), 467-473.\nPeters, M. D., et al.Â (2020). Updated methodological guidance for the conduct of scoping reviews. JBI Evidence Synthesis, 18(10), 2119-2126.\nMunn, Z., et al.Â (2018). Systematic review or scoping review? Guidance for authors when choosing between a systematic or scoping review approach. BMC Medical Research Methodology, 18(1), 143.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "èŒƒå›´ç»¼è¿°"
    ]
  },
  {
    "objectID": "1042-tidymodels.html",
    "href": "1042-tidymodels.html",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "",
    "text": "tidymodels æ˜¯ R è¯­è¨€ä¸­åŸºäº tidyverse è®¾è®¡ç†å¿µçš„æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œæä¾›äº†ä¸€å¥—ç»Ÿä¸€ã€ç°ä»£åŒ–çš„å»ºæ¨¡å·¥ä½œæµã€‚å®ƒç”±å¤šä¸ªååŒå·¥ä½œçš„åŒ…ç»„æˆï¼Œæ¶µç›–ä»æ•°æ®é¢„å¤„ç†åˆ°æ¨¡å‹è¯„ä¼°çš„å…¨æµç¨‹ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\ntidyverse é£æ ¼\nç®¡é“æ“ä½œã€ä¸€è‡´çš„è¯­æ³•\n\n\næ¨¡å—åŒ–è®¾è®¡\næ¯ä¸ªåŒ…ä¸“æ³¨ä¸€ä¸ªä»»åŠ¡\n\n\nå·¥ä½œæµç»Ÿä¸€\né¢„å¤„ç†å’Œå»ºæ¨¡å°è£…åœ¨ä¸€èµ·\n\n\nå¯å¤ç°\né¿å…æ•°æ®æ³„éœ²\n\n\nçµæ´»è°ƒå‚\nå¼ºå¤§çš„ç½‘æ ¼æœç´¢å’Œè´å¶æ–¯ä¼˜åŒ–\n\n\n\n\n\n\n\n\n\n\n\nåŒ…å\nåŠŸèƒ½\n\n\n\n\nrsample\næ•°æ®æ‹†åˆ†ä¸é‡é‡‡æ ·\n\n\nrecipes\nç‰¹å¾å·¥ç¨‹é¢„å¤„ç†\n\n\nparsnip\nç»Ÿä¸€æ¨¡å‹æ¥å£\n\n\nworkflows\næ‰“åŒ…é¢„å¤„ç†+æ¨¡å‹\n\n\ntune\nè¶…å‚æ•°è°ƒä¼˜\n\n\nyardstick\næ¨¡å‹è¯„ä¼°æŒ‡æ ‡\n\n\nbroom\næ•´ç†æ¨¡å‹è¾“å‡º",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#tidymodels-ç®€ä»‹",
    "href": "1042-tidymodels.html#tidymodels-ç®€ä»‹",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "",
    "text": "tidymodels æ˜¯ R è¯­è¨€ä¸­åŸºäº tidyverse è®¾è®¡ç†å¿µçš„æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œæä¾›äº†ä¸€å¥—ç»Ÿä¸€ã€ç°ä»£åŒ–çš„å»ºæ¨¡å·¥ä½œæµã€‚å®ƒç”±å¤šä¸ªååŒå·¥ä½œçš„åŒ…ç»„æˆï¼Œæ¶µç›–ä»æ•°æ®é¢„å¤„ç†åˆ°æ¨¡å‹è¯„ä¼°çš„å…¨æµç¨‹ã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\ntidyverse é£æ ¼\nç®¡é“æ“ä½œã€ä¸€è‡´çš„è¯­æ³•\n\n\næ¨¡å—åŒ–è®¾è®¡\næ¯ä¸ªåŒ…ä¸“æ³¨ä¸€ä¸ªä»»åŠ¡\n\n\nå·¥ä½œæµç»Ÿä¸€\né¢„å¤„ç†å’Œå»ºæ¨¡å°è£…åœ¨ä¸€èµ·\n\n\nå¯å¤ç°\né¿å…æ•°æ®æ³„éœ²\n\n\nçµæ´»è°ƒå‚\nå¼ºå¤§çš„ç½‘æ ¼æœç´¢å’Œè´å¶æ–¯ä¼˜åŒ–\n\n\n\n\n\n\n\n\n\n\n\nåŒ…å\nåŠŸèƒ½\n\n\n\n\nrsample\næ•°æ®æ‹†åˆ†ä¸é‡é‡‡æ ·\n\n\nrecipes\nç‰¹å¾å·¥ç¨‹é¢„å¤„ç†\n\n\nparsnip\nç»Ÿä¸€æ¨¡å‹æ¥å£\n\n\nworkflows\næ‰“åŒ…é¢„å¤„ç†+æ¨¡å‹\n\n\ntune\nè¶…å‚æ•°è°ƒä¼˜\n\n\nyardstick\næ¨¡å‹è¯„ä¼°æŒ‡æ ‡\n\n\nbroom\næ•´ç†æ¨¡å‹è¾“å‡º",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#å®‰è£…ä¸åŠ è½½",
    "href": "1042-tidymodels.html#å®‰è£…ä¸åŠ è½½",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£… tidymodelsï¼ˆåŒ…å«æ‰€æœ‰æ ¸å¿ƒåŒ…ï¼‰\ninstall.packages(\"tidymodels\")\n\n# é¢å¤–æ¨è\ninstall.packages(c(\"ranger\", \"xgboost\", \"kknn\"))\n\n\nlibrary(tidymodels)\nlibrary(ggplot2)\n\n# è®¾ç½®ä¸»é¢˜\ntheme_set(theme_bw(base_size = 12))\n\n# è®¾ç½®éšæœºç§å­\nset.seed(42)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "href": "1042-tidymodels.html#æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "text": "æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ\ntidymodels çš„å…¸å‹å·¥ä½œæµç¨‹ï¼š\næ•°æ® â†’ rsampleï¼ˆæ‹†åˆ†ï¼‰â†’ recipesï¼ˆé¢„å¤„ç†ï¼‰â†’ parsnipï¼ˆæ¨¡å‹ï¼‰\n                              â†“\n                   workflowsï¼ˆæ‰“åŒ…ï¼‰â†’ tuneï¼ˆè°ƒå‚ï¼‰â†’ yardstickï¼ˆè¯„ä¼°ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬ä¸€éƒ¨åˆ†rsample-æ•°æ®æ‹†åˆ†",
    "href": "1042-tidymodels.html#ç¬¬ä¸€éƒ¨åˆ†rsample-æ•°æ®æ‹†åˆ†",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šrsample æ•°æ®æ‹†åˆ†",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šrsample æ•°æ®æ‹†åˆ†\nrsample æä¾›äº†å¤šç§æ•°æ®æ‹†åˆ†å’Œé‡é‡‡æ ·æ–¹æ³•ã€‚\n\nè®­ç»ƒ/æµ‹è¯•é›†æ‹†åˆ†\n\n# ä½¿ç”¨ä¼é¹…æ•°æ®é›†\ndata(\"penguins\", package = \"palmerpenguins\")\npenguins &lt;- na.omit(penguins)\n\n# 70/30 æ‹†åˆ†ï¼Œåˆ†å±‚æŠ½æ ·\npenguin_split &lt;- initial_split(penguins, prop = 0.7, strata = species)\n\npenguin_split\n\n&lt;Training/Testing/Total&gt;\n&lt;232/101/333&gt;\n\n\n\n# æå–è®­ç»ƒé›†å’Œæµ‹è¯•é›†\ntrain_data &lt;- training(penguin_split)\ntest_data &lt;- testing(penguin_split)\n\ncat(\"è®­ç»ƒé›†:\", nrow(train_data), \"è¡Œ\\n\")\n\nè®­ç»ƒé›†: 232 è¡Œ\n\ncat(\"æµ‹è¯•é›†:\", nrow(test_data), \"è¡Œ\\n\")\n\næµ‹è¯•é›†: 101 è¡Œ\n\n\n\n\näº¤å‰éªŒè¯\n\n# 5æŠ˜äº¤å‰éªŒè¯\ncv_folds &lt;- vfold_cv(train_data, v = 5, strata = species)\ncv_folds\n\n#  5-fold cross-validation using stratification \n# A tibble: 5 Ã— 2\n  splits           id   \n  &lt;list&gt;           &lt;chr&gt;\n1 &lt;split [184/48]&gt; Fold1\n2 &lt;split [184/48]&gt; Fold2\n3 &lt;split [186/46]&gt; Fold3\n4 &lt;split [187/45]&gt; Fold4\n5 &lt;split [187/45]&gt; Fold5\n\n\n\n\nå…¶ä»–é‡é‡‡æ ·æ–¹æ³•\n\n# Bootstrap\nbootstraps(train_data, times = 25)\n\n# é‡å¤äº¤å‰éªŒè¯\nvfold_cv(train_data, v = 5, repeats = 3)\n\n# ç•™ä¸€æ³•\nloo_cv(train_data)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬äºŒéƒ¨åˆ†recipes-ç‰¹å¾å·¥ç¨‹",
    "href": "1042-tidymodels.html#ç¬¬äºŒéƒ¨åˆ†recipes-ç‰¹å¾å·¥ç¨‹",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šrecipes ç‰¹å¾å·¥ç¨‹",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šrecipes ç‰¹å¾å·¥ç¨‹\nrecipes åŒ…æä¾›äº†å¼ºå¤§çš„æ•°æ®é¢„å¤„ç†èƒ½åŠ›ï¼Œæ‰€æœ‰æ­¥éª¤éƒ½å¯ä»¥å¤ç°åˆ°æ–°æ•°æ®ä¸Šã€‚\n\nåˆ›å»ºé¢„å¤„ç†é…æ–¹\n\n# å®šä¹‰é¢„å¤„ç†æ­¥éª¤\npenguin_recipe &lt;- recipe(species ~ ., data = train_data) %&gt;%\n    # åˆ é™¤ä¸éœ€è¦çš„å˜é‡\n    step_rm(year) %&gt;%\n    # è™šæ‹Ÿå˜é‡ç¼–ç \n    step_dummy(all_nominal_predictors()) %&gt;%\n    # æ ‡å‡†åŒ–æ•°å€¼å˜é‡\n    step_normalize(all_numeric_predictors()) %&gt;%\n    # ç§»é™¤é›¶æ–¹å·®å˜é‡\n    step_zv(all_predictors())\n\npenguin_recipe\n\n\n\næŸ¥çœ‹é¢„å¤„ç†æ•ˆæœ\n\n# å‡†å¤‡é…æ–¹ï¼ˆfit to training dataï¼‰\npenguin_recipe_prep &lt;- prep(penguin_recipe)\n\n# åº”ç”¨åˆ°æ•°æ®\nbaked_train &lt;- bake(penguin_recipe_prep, new_data = NULL)\nhead(baked_train)\n\n# A tibble: 6 Ã— 8\n  bill_length_mm bill_depth_mm flipper_length_mm body_mass_g species\n           &lt;dbl&gt;         &lt;dbl&gt;             &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  \n1         -0.863         0.773            -1.40       -0.560 Adelie \n2         -0.791         0.114            -1.05       -0.498 Adelie \n3         -0.648         0.418            -0.413      -1.18  Adelie \n4         -1.29          1.08             -0.554      -0.932 Adelie \n5         -0.827         1.74             -0.765      -0.684 Adelie \n6         -0.899         0.317            -1.40       -0.715 Adelie \n# â„¹ 3 more variables: island_Dream &lt;dbl&gt;, island_Torgersen &lt;dbl&gt;,\n#   sex_male &lt;dbl&gt;\n\n\n\n\nå¸¸ç”¨é¢„å¤„ç†æ­¥éª¤\n\n\n\nå‡½æ•°\nä½œç”¨\n\n\n\n\nstep_normalize()\næ ‡å‡†åŒ–ï¼ˆå‡å€¼0ï¼Œæ ‡å‡†å·®1ï¼‰\n\n\nstep_scale()\nä»…ç¼©æ”¾\n\n\nstep_center()\nä»…ä¸­å¿ƒåŒ–\n\n\nstep_dummy()\nå“‘å˜é‡ç¼–ç \n\n\nstep_impute_median()\nä¸­ä½æ•°å¡«å……ç¼ºå¤±å€¼\n\n\nstep_impute_knn()\nKNNå¡«å……ç¼ºå¤±å€¼\n\n\nstep_pca()\nä¸»æˆåˆ†åˆ†æé™ç»´\n\n\nstep_log()\nå¯¹æ•°å˜æ¢\n\n\nstep_interact()\nåˆ›å»ºäº¤äº’é¡¹\n\n\nstep_zv()\nç§»é™¤é›¶æ–¹å·®å˜é‡\n\n\nstep_corr()\nç§»é™¤é«˜ç›¸å…³å˜é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬ä¸‰éƒ¨åˆ†parsnip-ç»Ÿä¸€æ¨¡å‹æ¥å£",
    "href": "1042-tidymodels.html#ç¬¬ä¸‰éƒ¨åˆ†parsnip-ç»Ÿä¸€æ¨¡å‹æ¥å£",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šparsnip ç»Ÿä¸€æ¨¡å‹æ¥å£",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šparsnip ç»Ÿä¸€æ¨¡å‹æ¥å£\nparsnip ä¸ºä¸åŒæœºå™¨å­¦ä¹ ç®—æ³•æä¾›ç»Ÿä¸€çš„æ¥å£ã€‚\n\nå®šä¹‰æ¨¡å‹\n\n# éšæœºæ£®æ—åˆ†ç±»æ¨¡å‹\nrf_spec &lt;- rand_forest(\n    trees = 500,\n    mtry = tune(), # å¾…è°ƒå‚\n    min_n = tune() # å¾…è°ƒå‚\n) %&gt;%\n    set_engine(\"ranger\") %&gt;%\n    set_mode(\"classification\")\n\nrf_spec\n\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = tune()\n  trees = 500\n  min_n = tune()\n\nComputational engine: ranger \n\n\n\n\nå¸¸ç”¨æ¨¡å‹ç±»å‹\n\n\n\n\n\næ¨¡å‹å‡½æ•°\nç®—æ³•\nå¼•æ“\n\n\n\n\nlogistic_reg()\né€»è¾‘å›å½’\nglm/glmnet\n\n\nlinear_reg()\nçº¿æ€§å›å½’\nlm/glmnet\n\n\nrand_forest()\néšæœºæ£®æ—\nranger/randomForest\n\n\nboost_tree()\næ¢¯åº¦æå‡æ ‘\nxgboost/lightgbm\n\n\nsvm_rbf()\næ”¯æŒå‘é‡æœº\nkernlab\n\n\nnearest_neighbor()\nKè¿‘é‚»\nkknn\n\n\ndecision_tree()\nå†³ç­–æ ‘\nrpart\n\n\nnaive_Bayes()\næœ´ç´ è´å¶æ–¯\nnaivebayes\n\n\n\n\n\n\n\nä¸åŒå¼•æ“ç¤ºä¾‹\n\n# logistic å›å½’ï¼ˆglmå¼•æ“ï¼‰\nlog_spec &lt;- logistic_reg() %&gt;%\n    set_engine(\"glm\") %&gt;%\n    set_mode(\"classification\")\n\n# å¸¦æ­£åˆ™åŒ–çš„logisticå›å½’ï¼ˆglmnetå¼•æ“ï¼‰\nlog_reg_spec &lt;- logistic_reg(penalty = 0.01, mixture = 1) %&gt;%\n    set_engine(\"glmnet\") %&gt;%\n    set_mode(\"classification\")\n\n# XGBoost\nxgb_spec &lt;- boost_tree(\n    trees = 500,\n    tree_depth = 6,\n    learn_rate = 0.01\n) %&gt;%\n    set_engine(\"xgboost\") %&gt;%\n    set_mode(\"classification\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬å››éƒ¨åˆ†workflows-å·¥ä½œæµ",
    "href": "1042-tidymodels.html#ç¬¬å››éƒ¨åˆ†workflows-å·¥ä½œæµ",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šworkflows å·¥ä½œæµ",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šworkflows å·¥ä½œæµ\nworkflows å°†é¢„å¤„ç†å’Œæ¨¡å‹æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç¡®ä¿ä¸€è‡´æ€§ã€‚\n\nåˆ›å»ºå·¥ä½œæµ\n\n# åˆ›å»ºå·¥ä½œæµ\npenguin_wf &lt;- workflow() %&gt;%\n    add_recipe(penguin_recipe) %&gt;%\n    add_model(rf_spec)\n\npenguin_wf\n\nâ•â• Workflow â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nPreprocessor: Recipe\nModel: rand_forest()\n\nâ”€â”€ Preprocessor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n4 Recipe Steps\n\nâ€¢ step_rm()\nâ€¢ step_dummy()\nâ€¢ step_normalize()\nâ€¢ step_zv()\n\nâ”€â”€ Model â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = tune()\n  trees = 500\n  min_n = tune()\n\nComputational engine: ranger \n\n\n\n\nè®­ç»ƒå·¥ä½œæµ\n\n# å…ˆç”¨å›ºå®šå‚æ•°è®­ç»ƒä¸€ä¸ªç®€å•æ¨¡å‹\nrf_simple &lt;- rand_forest(trees = 100, mtry = 3, min_n = 5) %&gt;%\n    set_engine(\"ranger\") %&gt;%\n    set_mode(\"classification\")\n\nsimple_wf &lt;- workflow() %&gt;%\n    add_recipe(penguin_recipe) %&gt;%\n    add_model(rf_simple)\n\n# è®­ç»ƒ\nsimple_fit &lt;- fit(simple_wf, data = train_data)\nsimple_fit\n\nâ•â• Workflow [trained] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nPreprocessor: Recipe\nModel: rand_forest()\n\nâ”€â”€ Preprocessor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n4 Recipe Steps\n\nâ€¢ step_rm()\nâ€¢ step_dummy()\nâ€¢ step_normalize()\nâ€¢ step_zv()\n\nâ”€â”€ Model â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nRanger result\n\nCall:\n ranger::ranger(x = maybe_data_frame(x), y = y, mtry = min_cols(~3,      x), num.trees = ~100, min.node.size = min_rows(~5, x), num.threads = 1,      verbose = FALSE, seed = sample.int(10^5, 1), probability = TRUE) \n\nType:                             Probability estimation \nNumber of trees:                  100 \nSample size:                      232 \nNumber of independent variables:  7 \nMtry:                             3 \nTarget node size:                 5 \nVariable importance mode:         none \nSplitrule:                        gini \nOOB prediction error (Brier s.):  0.02059993 \n\n\n\n\né¢„æµ‹\n\n# åœ¨æµ‹è¯•é›†ä¸Šé¢„æµ‹\npredictions &lt;- predict(simple_fit, new_data = test_data)\nhead(predictions)\n\n# A tibble: 6 Ã— 1\n  .pred_class\n  &lt;fct&gt;      \n1 Adelie     \n2 Adelie     \n3 Adelie     \n4 Adelie     \n5 Adelie     \n6 Adelie     \n\n# é¢„æµ‹æ¦‚ç‡\npred_prob &lt;- predict(simple_fit, new_data = test_data, type = \"prob\")\nhead(pred_prob)\n\n# A tibble: 6 Ã— 3\n  .pred_Adelie .pred_Chinstrap .pred_Gentoo\n         &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n1        0.992          0            0.0085\n2        1              0            0     \n3        1              0            0     \n4        0.968          0.0323       0     \n5        1              0            0     \n6        0.97           0.03         0     \n\n# åˆå¹¶ç»“æœ\nresults &lt;- bind_cols(\n    test_data %&gt;% select(species),\n    predictions,\n    pred_prob\n)\nhead(results)\n\n# A tibble: 6 Ã— 5\n  species .pred_class .pred_Adelie .pred_Chinstrap .pred_Gentoo\n  &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;\n1 Adelie  Adelie             0.992          0            0.0085\n2 Adelie  Adelie             1              0            0     \n3 Adelie  Adelie             1              0            0     \n4 Adelie  Adelie             0.968          0.0323       0     \n5 Adelie  Adelie             1              0            0     \n6 Adelie  Adelie             0.97           0.03         0",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬äº”éƒ¨åˆ†yardstick-æ¨¡å‹è¯„ä¼°",
    "href": "1042-tidymodels.html#ç¬¬äº”éƒ¨åˆ†yardstick-æ¨¡å‹è¯„ä¼°",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šyardstick æ¨¡å‹è¯„ä¼°",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šyardstick æ¨¡å‹è¯„ä¼°\nyardstick æä¾›ä¸°å¯Œçš„è¯„ä¼°æŒ‡æ ‡ã€‚\n\nåˆ†ç±»æŒ‡æ ‡\n\n# å‡†ç¡®ç‡\naccuracy(results, truth = species, estimate = .pred_class)\n\n# A tibble: 1 Ã— 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.990\n\n# å¤šä¸ªæŒ‡æ ‡\nclass_metrics &lt;- metric_set(accuracy, kap, mcc)\nclass_metrics(results, truth = species, estimate = .pred_class)\n\n# A tibble: 3 Ã— 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.990\n2 kap      multiclass     0.985\n3 mcc      multiclass     0.985\n\n\n\n\næ··æ·†çŸ©é˜µ\n\n# æ··æ·†çŸ©é˜µ\nconf_mat(results, truth = species, estimate = .pred_class)\n\n           Truth\nPrediction  Adelie Chinstrap Gentoo\n  Adelie        43         0      0\n  Chinstrap      1        21      0\n  Gentoo         0         0     36\n\n\n\n# å¯è§†åŒ–æ··æ·†çŸ©é˜µ\nresults %&gt;%\n    conf_mat(truth = species, estimate = .pred_class) %&gt;%\n    autoplot(type = \"heatmap\")\n\n\n\n\n\n\n\n\n\n\nROCæ›²çº¿ï¼ˆå¤šåˆ†ç±»ï¼‰\n\n# ROC AUC\nroc_auc(results, truth = species, .pred_Adelie:.pred_Gentoo)\n\n# A tibble: 1 Ã— 3\n  .metric .estimator .estimate\n  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;\n1 roc_auc hand_till      0.999\n\n# ROCæ›²çº¿\nresults %&gt;%\n    roc_curve(truth = species, .pred_Adelie:.pred_Gentoo) %&gt;%\n    autoplot()\n\n\n\n\n\n\n\n\n\n\nå¸¸ç”¨è¯„ä¼°æŒ‡æ ‡\n\n\n\nåˆ†ç±»æŒ‡æ ‡\nå‡½æ•°\nå›å½’æŒ‡æ ‡\nå‡½æ•°\n\n\n\n\nå‡†ç¡®ç‡\naccuracy()\nMSE\nrmse()\n\n\nKappa\nkap()\nMAE\nmae()\n\n\nAUC\nroc_auc()\nRÂ²\nrsq()\n\n\nç²¾ç¡®ç‡\nprecision()\nMAPE\nmape()\n\n\nå¬å›ç‡\nrecall()\nHuber\nhuber_loss()\n\n\nF1\nf_meas()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬å…­éƒ¨åˆ†tune-è¶…å‚æ•°è°ƒä¼˜",
    "href": "1042-tidymodels.html#ç¬¬å…­éƒ¨åˆ†tune-è¶…å‚æ•°è°ƒä¼˜",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼štune è¶…å‚æ•°è°ƒä¼˜",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼štune è¶…å‚æ•°è°ƒä¼˜\ntune åŒ…æ”¯æŒç½‘æ ¼æœç´¢ã€éšæœºæœç´¢å’Œè´å¶æ–¯ä¼˜åŒ–ã€‚\n\nå®šä¹‰è°ƒå‚æ¨¡å‹\n\n# å¸¦è°ƒå‚æ ‡è®°çš„æ¨¡å‹\nrf_tune_spec &lt;- rand_forest(\n    trees = 500,\n    mtry = tune(),\n    min_n = tune()\n) %&gt;%\n    set_engine(\"ranger\") %&gt;%\n    set_mode(\"classification\")\n\n# åˆ›å»ºå·¥ä½œæµ\ntune_wf &lt;- workflow() %&gt;%\n    add_recipe(penguin_recipe) %&gt;%\n    add_model(rf_tune_spec)\n\n\n\nç½‘æ ¼æœç´¢\n\n# åˆ›å»ºå‚æ•°ç½‘æ ¼\nrf_grid &lt;- grid_regular(\n    mtry(range = c(1, 5)),\n    min_n(range = c(2, 10)),\n    levels = 4\n)\n\nrf_grid\n\n# A tibble: 16 Ã— 2\n    mtry min_n\n   &lt;int&gt; &lt;int&gt;\n 1     1     2\n 2     2     2\n 3     3     2\n 4     5     2\n 5     1     4\n 6     2     4\n 7     3     4\n 8     5     4\n 9     1     7\n10     2     7\n11     3     7\n12     5     7\n13     1    10\n14     2    10\n15     3    10\n16     5    10\n\n\n\n# æ‰§è¡Œç½‘æ ¼æœç´¢\ntune_results &lt;- tune_grid(\n    tune_wf,\n    resamples = cv_folds,\n    grid = rf_grid,\n    metrics = metric_set(accuracy, roc_auc)\n)\n\ntune_results\n\n# Tuning results\n# 5-fold cross-validation using stratification \n# A tibble: 5 Ã— 4\n  splits           id    .metrics          .notes          \n  &lt;list&gt;           &lt;chr&gt; &lt;list&gt;            &lt;list&gt;          \n1 &lt;split [184/48]&gt; Fold1 &lt;tibble [32 Ã— 6]&gt; &lt;tibble [0 Ã— 4]&gt;\n2 &lt;split [184/48]&gt; Fold2 &lt;tibble [32 Ã— 6]&gt; &lt;tibble [0 Ã— 4]&gt;\n3 &lt;split [186/46]&gt; Fold3 &lt;tibble [32 Ã— 6]&gt; &lt;tibble [0 Ã— 4]&gt;\n4 &lt;split [187/45]&gt; Fold4 &lt;tibble [32 Ã— 6]&gt; &lt;tibble [0 Ã— 4]&gt;\n5 &lt;split [187/45]&gt; Fold5 &lt;tibble [32 Ã— 6]&gt; &lt;tibble [0 Ã— 4]&gt;\n\n\n\n\næŸ¥çœ‹è°ƒå‚ç»“æœ\n\n# æŸ¥çœ‹æ‰€æœ‰ç»“æœ\ncollect_metrics(tune_results)\n\n# A tibble: 32 Ã— 8\n    mtry min_n .metric  .estimator  mean     n  std_err .config         \n   &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;           \n 1     1     2 accuracy multiclass 0.992     5 0.00833  pre0_mod01_post0\n 2     1     2 roc_auc  hand_till  0.999     5 0.000635 pre0_mod01_post0\n 3     1     4 accuracy multiclass 0.992     5 0.00833  pre0_mod02_post0\n 4     1     4 roc_auc  hand_till  0.999     5 0.000635 pre0_mod02_post0\n 5     1     7 accuracy multiclass 0.992     5 0.00833  pre0_mod03_post0\n 6     1     7 roc_auc  hand_till  0.999     5 0.000952 pre0_mod03_post0\n 7     1    10 accuracy multiclass 0.992     5 0.00833  pre0_mod04_post0\n 8     1    10 roc_auc  hand_till  0.999     5 0.00127  pre0_mod04_post0\n 9     2     2 accuracy multiclass 0.988     5 0.00833  pre0_mod05_post0\n10     2     2 roc_auc  hand_till  0.999     5 0.000635 pre0_mod05_post0\n# â„¹ 22 more rows\n\n\n\n# æœ€ä¼˜å‚æ•°\nshow_best(tune_results, metric = \"accuracy\", n = 5)\n\n# A tibble: 5 Ã— 8\n   mtry min_n .metric  .estimator  mean     n std_err .config         \n  &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;           \n1     1     2 accuracy multiclass 0.992     5 0.00833 pre0_mod01_post0\n2     1     4 accuracy multiclass 0.992     5 0.00833 pre0_mod02_post0\n3     1     7 accuracy multiclass 0.992     5 0.00833 pre0_mod03_post0\n4     1    10 accuracy multiclass 0.992     5 0.00833 pre0_mod04_post0\n5     2     4 accuracy multiclass 0.992     5 0.00833 pre0_mod06_post0\n\n\n\n# é€‰æ‹©æœ€ä½³å‚æ•°\nbest_params &lt;- select_best(tune_results, metric = \"accuracy\")\nbest_params\n\n# A tibble: 1 Ã— 3\n   mtry min_n .config         \n  &lt;int&gt; &lt;int&gt; &lt;chr&gt;           \n1     1     2 pre0_mod01_post0\n\n\n\n\nå¯è§†åŒ–è°ƒå‚è¿‡ç¨‹\n\nautoplot(tune_results)\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨æœ€ä¼˜å‚æ•°è®­ç»ƒæœ€ç»ˆæ¨¡å‹\n\n# ç”¨æœ€ä¼˜å‚æ•°æ›´æ–°å·¥ä½œæµ\nfinal_wf &lt;- finalize_workflow(tune_wf, best_params)\nfinal_wf\n\nâ•â• Workflow â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nPreprocessor: Recipe\nModel: rand_forest()\n\nâ”€â”€ Preprocessor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n4 Recipe Steps\n\nâ€¢ step_rm()\nâ€¢ step_dummy()\nâ€¢ step_normalize()\nâ€¢ step_zv()\n\nâ”€â”€ Model â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nRandom Forest Model Specification (classification)\n\nMain Arguments:\n  mtry = 1\n  trees = 500\n  min_n = 2\n\nComputational engine: ranger \n\n\n\n# åœ¨å…¨éƒ¨è®­ç»ƒæ•°æ®ä¸Šæ‹Ÿåˆæœ€ç»ˆæ¨¡å‹\nfinal_fit &lt;- fit(final_wf, data = train_data)\n\n# åœ¨æµ‹è¯•é›†ä¸Šè¯„ä¼°\nfinal_results &lt;- predict(final_fit, new_data = test_data) %&gt;%\n    bind_cols(test_data %&gt;% select(species))\n\naccuracy(final_results, truth = species, estimate = .pred_class)\n\n# A tibble: 1 Ã— 3\n  .metric  .estimator .estimate\n  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;\n1 accuracy multiclass     0.990\n\n\n\n\nlast_fit: ä¸€æ­¥åˆ°ä½\n\n# last_fit è‡ªåŠ¨åœ¨è®­ç»ƒé›†æ‹Ÿåˆï¼Œåœ¨æµ‹è¯•é›†è¯„ä¼°\nfinal_results_full &lt;- last_fit(final_wf, split = penguin_split)\n\n# æ”¶é›†æµ‹è¯•é›†æŒ‡æ ‡\ncollect_metrics(final_results_full)\n\n# A tibble: 3 Ã— 4\n  .metric     .estimator .estimate .config        \n  &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;          \n1 accuracy    multiclass    0.980  pre0_mod0_post0\n2 roc_auc     hand_till     1.000  pre0_mod0_post0\n3 brier_class multiclass    0.0376 pre0_mod0_post0\n\n# æå–æœ€ç»ˆæ¨¡å‹\nfinal_model &lt;- extract_workflow(final_results_full)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#ç¬¬ä¸ƒéƒ¨åˆ†å®Œæ•´æ¡ˆä¾‹",
    "href": "1042-tidymodels.html#ç¬¬ä¸ƒéƒ¨åˆ†å®Œæ•´æ¡ˆä¾‹",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®Œæ•´æ¡ˆä¾‹",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå®Œæ•´æ¡ˆä¾‹\n\næ¡ˆä¾‹ï¼šmtcars å›å½’é¢„æµ‹\n\n# 1. æ•°æ®å‡†å¤‡\ndata(mtcars)\nset.seed(123)\n\ncar_split &lt;- initial_split(mtcars, prop = 0.75)\ncar_train &lt;- training(car_split)\ncar_test &lt;- testing(car_split)\ncar_folds &lt;- vfold_cv(car_train, v = 5)\n\n# 2. é¢„å¤„ç†\ncar_recipe &lt;- recipe(mpg ~ ., data = car_train) %&gt;%\n    step_normalize(all_numeric_predictors()) %&gt;%\n    step_zv(all_predictors())\n\n# 3. å®šä¹‰å¤šä¸ªæ¨¡å‹\nlm_spec &lt;- linear_reg() %&gt;%\n    set_engine(\"lm\")\n\nrf_reg_spec &lt;- rand_forest(trees = 500) %&gt;%\n    set_engine(\"ranger\") %&gt;%\n    set_mode(\"regression\")\n\nxgb_reg_spec &lt;- boost_tree(trees = 500, learn_rate = 0.05) %&gt;%\n    set_engine(\"xgboost\") %&gt;%\n    set_mode(\"regression\")\n\n# 4. åˆ›å»ºå·¥ä½œæµé›†\nwf_set &lt;- workflow_set(\n    preproc = list(recipe = car_recipe),\n    models = list(\n        lm = lm_spec,\n        rf = rf_reg_spec,\n        xgb = xgb_reg_spec\n    )\n)\n\nwf_set\n\n# A workflow set/tibble: 3 Ã— 4\n  wflow_id   info             option    result    \n  &lt;chr&gt;      &lt;list&gt;           &lt;list&gt;    &lt;list&gt;    \n1 recipe_lm  &lt;tibble [1 Ã— 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;\n2 recipe_rf  &lt;tibble [1 Ã— 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;\n3 recipe_xgb &lt;tibble [1 Ã— 4]&gt; &lt;opts[0]&gt; &lt;list [0]&gt;\n\n\n\n# 5. æ‰¹é‡è®­ç»ƒè¯„ä¼°\nwf_results &lt;- workflow_map(\n    wf_set,\n    resamples = car_folds,\n    metrics = metric_set(rmse, rsq, mae)\n)\n\n# 6. æ¯”è¾ƒç»“æœ\nrank_results(wf_results, rank_metric = \"rmse\")\n\n# A tibble: 9 Ã— 9\n  wflow_id   .config        .metric  mean std_err     n preprocessor model  rank\n  &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;        &lt;chr&gt; &lt;int&gt;\n1 recipe_rf  pre0_mod0_posâ€¦ mae     2.10   0.446      5 recipe       randâ€¦     1\n2 recipe_rf  pre0_mod0_posâ€¦ rmse    2.60   0.409      5 recipe       randâ€¦     1\n3 recipe_rf  pre0_mod0_posâ€¦ rsq     0.870  0.0448     5 recipe       randâ€¦     1\n4 recipe_xgb pre0_mod0_posâ€¦ mae     2.90   0.383      5 recipe       boosâ€¦     2\n5 recipe_xgb pre0_mod0_posâ€¦ rmse    3.40   0.437      5 recipe       boosâ€¦     2\n6 recipe_xgb pre0_mod0_posâ€¦ rsq     0.736  0.101      5 recipe       boosâ€¦     2\n7 recipe_lm  pre0_mod0_posâ€¦ mae     3.44   0.559      5 recipe       lineâ€¦     3\n8 recipe_lm  pre0_mod0_posâ€¦ rmse    4.29   0.759      5 recipe       lineâ€¦     3\n9 recipe_lm  pre0_mod0_posâ€¦ rsq     0.728  0.129      5 recipe       lineâ€¦     3\n\n\n\n# 7. å¯è§†åŒ–æ¯”è¾ƒ\nautoplot(wf_results, metric = \"rmse\")\n\n\n\n\n\n\n\n\n\n# 8. é€‰æ‹©æœ€ä½³æ¨¡å‹è¿›è¡Œæœ€ç»ˆè®­ç»ƒ\nbest_wf_id &lt;- \"recipe_rf\" # å‡è®¾éšæœºæ£®æ—æœ€ä¼˜\nbest_wf &lt;- extract_workflow(wf_results, id = best_wf_id)\n\n# æœ€ç»ˆæ‹Ÿåˆ\nfinal_car_fit &lt;- fit(best_wf, data = car_train)\n\n# æµ‹è¯•é›†è¯„ä¼°\ncar_preds &lt;- predict(final_car_fit, new_data = car_test) %&gt;%\n    bind_cols(car_test %&gt;% select(mpg))\n\nmetrics(car_preds, truth = mpg, estimate = .pred)\n\n# A tibble: 3 Ã— 3\n  .metric .estimator .estimate\n  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;\n1 rmse    standard       2.10 \n2 rsq     standard       0.685\n3 mae     standard       1.90 \n\n\n\n# é¢„æµ‹ vs å®é™…\nggplot(car_preds, aes(x = mpg, y = .pred)) +\n    geom_point(color = \"#4f46e5\", size = 3, alpha = 0.7) +\n    geom_abline(slope = 1, intercept = 0, linetype = \"dashed\", color = \"red\") +\n    labs(\n        title = \"é¢„æµ‹å€¼ vs å®é™…å€¼\",\n        x = \"å®é™… MPG\",\n        y = \"é¢„æµ‹ MPG\"\n    ) +\n    coord_equal()",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1042-tidymodels.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\næ•°æ®æ‹†åˆ†\n\n# åŸºç¡€æ‹†åˆ†\nsplit &lt;- initial_split(data, prop = 0.8, strata = outcome)\ntrain &lt;- training(split)\ntest &lt;- testing(split)\n\n# äº¤å‰éªŒè¯\nfolds &lt;- vfold_cv(train, v = 10, strata = outcome)\n\n\n\né¢„å¤„ç†é…æ–¹\n\nrecipe(outcome ~ ., data = train) %&gt;%\n    step_impute_median(all_numeric_predictors()) %&gt;%\n    step_dummy(all_nominal_predictors()) %&gt;%\n    step_normalize(all_numeric_predictors()) %&gt;%\n    step_zv(all_predictors())\n\n\n\næ¨¡å‹å®šä¹‰\n\n# åˆ†ç±»\nrand_forest(trees = 500, mtry = tune()) %&gt;%\n    set_engine(\"ranger\") %&gt;%\n    set_mode(\"classification\")\n\n# å›å½’\nlinear_reg(penalty = tune(), mixture = 1) %&gt;%\n    set_engine(\"glmnet\") %&gt;%\n    set_mode(\"regression\")\n\n\n\nå·¥ä½œæµ\n\nworkflow() %&gt;%\n    add_recipe(recipe) %&gt;%\n    add_model(model) %&gt;%\n    fit(data = train)\n\n\n\nè°ƒå‚\n\ntune_grid(workflow, resamples = folds, grid = 20) %&gt;%\n    select_best(metric = \"accuracy\") %&gt;%\n    finalize_workflow(workflow, .)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#å°ç»“",
    "href": "1042-tidymodels.html#å°ç»“",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "å°ç»“",
    "text": "å°ç»“\ntidymodels çš„æ ¸å¿ƒä»·å€¼ï¼š\n\nä¸€è‡´æ€§ï¼šæ‰€æœ‰æ¨¡å‹ä½¿ç”¨ç›¸åŒçš„æ¥å£\nå¯å¤ç°æ€§ï¼šé¢„å¤„ç†æ­¥éª¤å¯å‡†ç¡®åº”ç”¨åˆ°æ–°æ•°æ®\né˜²æ­¢æ•°æ®æ³„éœ²ï¼šå·¥ä½œæµç¡®ä¿æµ‹è¯•æ•°æ®éš”ç¦»\nçµæ´»æ€§ï¼šè½»æ¾åˆ‡æ¢ç®—æ³•å’Œå¼•æ“\nå¯æ‰©å±•ï¼šä¸°å¯Œçš„ç¤¾åŒºåŒ…ç”Ÿæ€\n\n\nä¸ mlr3 çš„åŒºåˆ«ï¼štidymodels æ›´ç¬¦åˆ tidyverse ä¹ æƒ¯ï¼Œç®¡é“æ“ä½œæµç•…ï¼›mlr3 ä½¿ç”¨ R6 é¢å‘å¯¹è±¡ï¼Œæ›´çµæ´»ä½†å­¦ä¹ æ›²çº¿ç•¥é™¡ã€‚æ ¹æ®ä¸ªäººåå¥½é€‰æ‹©å³å¯ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1042-tidymodels.html#å‚è€ƒèµ„æº",
    "href": "1042-tidymodels.html#å‚è€ƒèµ„æº",
    "title": "tidymodels ç°ä»£æœºå™¨å­¦ä¹ æ¡†æ¶",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\ntidymodels å®˜æ–¹ç½‘ç«™\nTidy Modeling with R - å…è´¹åœ¨çº¿ç”µå­ä¹¦\ntidymodels GitHub",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "tidymodels æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html",
    "href": "1044-lstm.html",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "",
    "text": "æ³¨æ„ï¼šæœ¬æ•™ç¨‹çš„ä»£ç éœ€è¦å®‰è£… keras åŒ…å’Œ TensorFlow åç«¯ã€‚ç”±äºç¯å¢ƒé…ç½®å¤æ‚ï¼Œä»£ç ä»…ä½œå±•ç¤ºï¼Œè¯»è€…éœ€åœ¨æœ¬åœ°æ­£ç¡®é…ç½®åè¿è¡Œã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#lstm-ç®€ä»‹",
    "href": "1044-lstm.html#lstm-ç®€ä»‹",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "LSTM ç®€ä»‹",
    "text": "LSTM ç®€ä»‹\nLSTMï¼ˆLong Short-Term Memoryï¼Œé•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ï¼Œèƒ½å¤Ÿå­¦ä¹ é•¿æœŸä¾èµ–å…³ç³»ï¼Œç‰¹åˆ«é€‚ç”¨äºæ—¶é—´åºåˆ—é¢„æµ‹ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰åºåˆ—æ•°æ®ä»»åŠ¡ã€‚\n\nä¸ºä»€ä¹ˆä½¿ç”¨ LSTMï¼Ÿ\nä¼ ç»Ÿ RNN å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ï¼Œéš¾ä»¥å­¦ä¹ é•¿æœŸä¾èµ–ã€‚LSTM é€šè¿‡å¼•å…¥é—¨æ§æœºåˆ¶è§£å†³äº†è¿™ä¸€é—®é¢˜ï¼š\n\n\n\né—¨\nä½œç”¨\n\n\n\n\né—å¿˜é—¨ (Forget Gate)\nå†³å®šä¸¢å¼ƒå“ªäº›ä¿¡æ¯\n\n\nè¾“å…¥é—¨ (Input Gate)\nå†³å®šæ›´æ–°å“ªäº›ä¿¡æ¯\n\n\nè¾“å‡ºé—¨ (Output Gate)\nå†³å®šè¾“å‡ºä»€ä¹ˆ\n\n\n\n\n\nR è¯­è¨€æ·±åº¦å­¦ä¹ æ¡†æ¶\n\n\n\næ¡†æ¶\nåç«¯\nç‰¹ç‚¹\n\n\n\n\nkeras\nTensorFlow\næœ€æˆç†Ÿï¼Œæ–‡æ¡£ä¸°å¯Œ\n\n\ntorch\nPyTorch\nåŸç”ŸRå®ç°ï¼Œæ— éœ€Python\n\n\ntensorflow\nTensorFlow\nåº•å±‚API\n\n\n\næœ¬æ•™ç¨‹ä½¿ç”¨ keras åŒ…ï¼Œå› å…¶ä½¿ç”¨æœ€å¹¿æ³›ä¸”æ–‡æ¡£å®Œå–„ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#å®‰è£…ä¸é…ç½®",
    "href": "1044-lstm.html#å®‰è£…ä¸é…ç½®",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "å®‰è£…ä¸é…ç½®",
    "text": "å®‰è£…ä¸é…ç½®\n\nå®‰è£… keras\n\n# å®‰è£… keras åŒ…\ninstall.packages(\"keras\")\n\n# å®‰è£… Python åç«¯ï¼ˆTensorFlowï¼‰\nlibrary(keras)\ninstall_keras() # è‡ªåŠ¨å®‰è£… TensorFlow\n\n\næ³¨æ„ï¼škeras éœ€è¦ Python å’Œ TensorFlow ç¯å¢ƒã€‚install_keras() ä¼šè‡ªåŠ¨é…ç½®ã€‚\n\n\n\nåŠ è½½åŒ…\n\nlibrary(keras)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# è®¾ç½®ä¸»é¢˜\ntheme_set(theme_bw(base_size = 12))\n\n# è®¾ç½®éšæœºç§å­\nset.seed(42)\ntensorflow::set_random_seed(42)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬ä¸€éƒ¨åˆ†æ—¶é—´åºåˆ—æ•°æ®å‡†å¤‡",
    "href": "1044-lstm.html#ç¬¬ä¸€éƒ¨åˆ†æ—¶é—´åºåˆ—æ•°æ®å‡†å¤‡",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ—¶é—´åºåˆ—æ•°æ®å‡†å¤‡",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šæ—¶é—´åºåˆ—æ•°æ®å‡†å¤‡\n\nåˆ›å»ºç¤ºä¾‹æ•°æ®\n\n# ç”Ÿæˆæ¨¡æ‹Ÿæ—¶é—´åºåˆ—ï¼ˆå¸¦è¶‹åŠ¿å’Œå‘¨æœŸï¼‰\nn &lt;- 500\ntime &lt;- 1:n\ntrend &lt;- 0.05 * time\nseasonal &lt;- 10 * sin(2 * pi * time / 50)\nnoise &lt;- rnorm(n, sd = 2)\nseries &lt;- trend + seasonal + noise\n\n# è½¬ä¸ºæ•°æ®æ¡†\nts_data &lt;- data.frame(\n    time = time,\n    value = series\n)\n\n# å¯è§†åŒ–\nggplot(ts_data, aes(x = time, y = value)) +\n    geom_line(color = \"#4f46e5\", alpha = 0.8) +\n    labs(title = \"æ¨¡æ‹Ÿæ—¶é—´åºåˆ—\", x = \"æ—¶é—´\", y = \"å€¼\") +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\næ•°æ®æ ‡å‡†åŒ–\nLSTM å¯¹æ•°æ®å°ºåº¦æ•æ„Ÿï¼Œéœ€è¦è¿›è¡Œæ ‡å‡†åŒ–ã€‚\n\n# è®¡ç®—è®­ç»ƒé›†çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼ˆé¿å…æ•°æ®æ³„éœ²ï¼‰\ntrain_size &lt;- floor(0.8 * n)\n\ntrain_mean &lt;- mean(ts_data$value[1:train_size])\ntrain_sd &lt;- sd(ts_data$value[1:train_size])\n\n# æ ‡å‡†åŒ–\nts_data$scaled &lt;- (ts_data$value - train_mean) / train_sd\n\nhead(ts_data)\n\n\n\nåˆ›å»ºåºåˆ—æ•°æ®\nLSTM éœ€è¦å°†æ—¶é—´åºåˆ—è½¬æ¢ä¸º æ»‘åŠ¨çª—å£ æ ¼å¼ã€‚\n\n# åˆ›å»ºæ»‘åŠ¨çª—å£åºåˆ—\ncreate_sequences &lt;- function(data, look_back = 10) {\n    n &lt;- length(data)\n    X &lt;- matrix(0, nrow = n - look_back, ncol = look_back)\n    y &lt;- numeric(n - look_back)\n\n    for (i in 1:(n - look_back)) {\n        X[i, ] &lt;- data[i:(i + look_back - 1)]\n        y[i] &lt;- data[i + look_back]\n    }\n\n    list(X = X, y = y)\n}\n\n# ä½¿ç”¨è¿‡å»10ä¸ªæ—¶é—´æ­¥é¢„æµ‹ä¸‹ä¸€ä¸ª\nlook_back &lt;- 10\nsequences &lt;- create_sequences(ts_data$scaled, look_back)\n\n# æŸ¥çœ‹å½¢çŠ¶\ncat(\"X å½¢çŠ¶:\", dim(sequences$X), \"\\n\")\ncat(\"y é•¿åº¦:\", length(sequences$y), \"\\n\")\n\n\n\nåˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†\n\n# åˆ’åˆ†\ntrain_idx &lt;- 1:(train_size - look_back)\ntest_idx &lt;- (train_size - look_back + 1):nrow(sequences$X)\n\nX_train &lt;- sequences$X[train_idx, ]\ny_train &lt;- sequences$y[train_idx]\nX_test &lt;- sequences$X[test_idx, ]\ny_test &lt;- sequences$y[test_idx]\n\ncat(\"è®­ç»ƒé›†å¤§å°:\", length(y_train), \"\\n\")\ncat(\"æµ‹è¯•é›†å¤§å°:\", length(y_test), \"\\n\")\n\n\n\nè½¬æ¢ä¸º LSTM è¾“å…¥æ ¼å¼\nLSTM éœ€è¦ 3D è¾“å…¥ï¼š[samples, timesteps, features]\n\n# é‡å¡‘ä¸º3Dæ•°ç»„\nX_train_lstm &lt;- array(X_train, dim = c(nrow(X_train), look_back, 1))\nX_test_lstm &lt;- array(X_test, dim = c(nrow(X_test), look_back, 1))\n\ncat(\"LSTM è¾“å…¥å½¢çŠ¶:\", dim(X_train_lstm), \"\\n\")",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬äºŒéƒ¨åˆ†æ„å»º-lstm-æ¨¡å‹",
    "href": "1044-lstm.html#ç¬¬äºŒéƒ¨åˆ†æ„å»º-lstm-æ¨¡å‹",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ„å»º LSTM æ¨¡å‹",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ„å»º LSTM æ¨¡å‹\n\nåŸºç¡€ LSTM æ¨¡å‹\n\n# å®šä¹‰æ¨¡å‹\nmodel &lt;- keras_model_sequential() %&gt;%\n    # LSTM å±‚\n    layer_lstm(\n        units = 50, # éšè—å•å…ƒæ•°\n        input_shape = c(look_back, 1), # è¾“å…¥å½¢çŠ¶\n        return_sequences = FALSE # åªè¿”å›æœ€åä¸€ä¸ªè¾“å‡º\n    ) %&gt;%\n    # Dropout é˜²æ­¢è¿‡æ‹Ÿåˆ\n    layer_dropout(rate = 0.2) %&gt;%\n    # è¾“å‡ºå±‚\n    layer_dense(units = 1)\n\n# ç¼–è¯‘æ¨¡å‹\nmodel %&gt;% compile(\n    optimizer = optimizer_adam(learning_rate = 0.001),\n    loss = \"mse\",\n    metrics = c(\"mae\")\n)\n\n# æŸ¥çœ‹æ¨¡å‹ç»“æ„\nsummary(model)\n\n\n\nå †å  LSTM æ¨¡å‹\nå¤šå±‚ LSTM å¯ä»¥å­¦ä¹ æ›´å¤æ‚çš„æ¨¡å¼ã€‚\n\n# åŒå±‚ LSTM\nstacked_model &lt;- keras_model_sequential() %&gt;%\n    layer_lstm(\n        units = 50,\n        input_shape = c(look_back, 1),\n        return_sequences = TRUE # è¿”å›å®Œæ•´åºåˆ—ç»™ä¸‹ä¸€å±‚\n    ) %&gt;%\n    layer_dropout(rate = 0.2) %&gt;%\n    layer_lstm(\n        units = 30,\n        return_sequences = FALSE\n    ) %&gt;%\n    layer_dropout(rate = 0.2) %&gt;%\n    layer_dense(units = 1)\n\nstacked_model %&gt;% compile(\n    optimizer = \"adam\",\n    loss = \"mse\"\n)\n\nsummary(stacked_model)\n\n\n\nåŒå‘ LSTM\nåŒå‘ LSTM åŒæ—¶å­¦ä¹ æ­£å‘å’Œåå‘çš„ä¾èµ–å…³ç³»ã€‚\n\n# åŒå‘ LSTM\nbidirectional_model &lt;- keras_model_sequential() %&gt;%\n    bidirectional(\n        layer_lstm(units = 50, return_sequences = FALSE),\n        input_shape = c(look_back, 1)\n    ) %&gt;%\n    layer_dropout(rate = 0.2) %&gt;%\n    layer_dense(units = 1)\n\nbidirectional_model %&gt;% compile(\n    optimizer = \"adam\",\n    loss = \"mse\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬ä¸‰éƒ¨åˆ†æ¨¡å‹è®­ç»ƒ",
    "href": "1044-lstm.html#ç¬¬ä¸‰éƒ¨åˆ†æ¨¡å‹è®­ç»ƒ",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ¨¡å‹è®­ç»ƒ",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ¨¡å‹è®­ç»ƒ\n\nè®­ç»ƒæ¨¡å‹\n\n# è®­ç»ƒåŸºç¡€æ¨¡å‹\nhistory &lt;- model %&gt;% fit(\n    x = X_train_lstm,\n    y = y_train,\n    epochs = 50,\n    batch_size = 32,\n    validation_split = 0.2,\n    verbose = 0\n)\n\n\n\nå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹\n\n# ç»˜åˆ¶æŸå¤±æ›²çº¿\nplot(history) +\n    theme_bw() +\n    labs(title = \"æ¨¡å‹è®­ç»ƒè¿‡ç¨‹\") +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\næ—©åœå’Œæ£€æŸ¥ç‚¹\n\n# å›è°ƒå‡½æ•°\ncallbacks &lt;- list(\n    # æ—©åœï¼šéªŒè¯æŸå¤±è¿ç»­10è½®ä¸é™ä½åˆ™åœæ­¢\n    callback_early_stopping(\n        monitor = \"val_loss\",\n        patience = 10,\n        restore_best_weights = TRUE\n    ),\n    # ä¿å­˜æœ€ä½³æ¨¡å‹\n    callback_model_checkpoint(\n        filepath = \"best_model.keras\",\n        monitor = \"val_loss\",\n        save_best_only = TRUE\n    )\n)\n\n# è®­ç»ƒæ—¶ä½¿ç”¨å›è°ƒ\nhistory &lt;- model %&gt;% fit(\n    x = X_train_lstm,\n    y = y_train,\n    epochs = 100,\n    batch_size = 32,\n    validation_split = 0.2,\n    callbacks = callbacks\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬å››éƒ¨åˆ†é¢„æµ‹ä¸è¯„ä¼°",
    "href": "1044-lstm.html#ç¬¬å››éƒ¨åˆ†é¢„æµ‹ä¸è¯„ä¼°",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šé¢„æµ‹ä¸è¯„ä¼°",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šé¢„æµ‹ä¸è¯„ä¼°\n\nè¿›è¡Œé¢„æµ‹\n\n# åœ¨æµ‹è¯•é›†ä¸Šé¢„æµ‹\npredictions_scaled &lt;- model %&gt;% predict(X_test_lstm)\n\n# åæ ‡å‡†åŒ–\npredictions &lt;- predictions_scaled * train_sd + train_mean\nactual &lt;- y_test * train_sd + train_mean\n\n# åˆ›å»ºç»“æœæ•°æ®æ¡†\nresults &lt;- data.frame(\n    time = test_idx + look_back,\n    actual = actual,\n    predicted = as.vector(predictions)\n)\n\nhead(results)\n\n\n\nå¯è§†åŒ–é¢„æµ‹ç»“æœ\n\n# ç»˜åˆ¶é¢„æµ‹ vs å®é™…\nggplot(results, aes(x = time)) +\n    geom_line(aes(y = actual, color = \"å®é™…å€¼\"), linewidth = 0.8) +\n    geom_line(aes(y = predicted, color = \"é¢„æµ‹å€¼\"), linewidth = 0.8, linetype = \"dashed\") +\n    scale_color_manual(\n        values = c(\"å®é™…å€¼\" = \"#4f46e5\", \"é¢„æµ‹å€¼\" = \"#ef4444\"),\n        name = \"\"\n    ) +\n    labs(\n        title = \"LSTM æ—¶é—´åºåˆ—é¢„æµ‹\",\n        x = \"æ—¶é—´\",\n        y = \"å€¼\"\n    ) +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\"),\n        legend.position = \"top\"\n    )\n\n\n\nè®¡ç®—è¯„ä¼°æŒ‡æ ‡\n\n# è®¡ç®—æŒ‡æ ‡\nmse &lt;- mean((results$actual - results$predicted)^2)\nrmse &lt;- sqrt(mse)\nmae &lt;- mean(abs(results$actual - results$predicted))\nmape &lt;- mean(abs((results$actual - results$predicted) / results$actual)) * 100\n\ncat(\"MSE:\", round(mse, 4), \"\\n\")\ncat(\"RMSE:\", round(rmse, 4), \"\\n\")\ncat(\"MAE:\", round(mae, 4), \"\\n\")\ncat(\"MAPE:\", round(mape, 2), \"%\\n\")\n\n\n\né¢„æµ‹ vs å®é™…æ•£ç‚¹å›¾\n\nggplot(results, aes(x = actual, y = predicted)) +\n    geom_point(color = \"#4f46e5\", alpha = 0.6) +\n    geom_abline(slope = 1, intercept = 0, linetype = \"dashed\", color = \"red\") +\n    labs(\n        title = \"é¢„æµ‹å€¼ vs å®é™…å€¼\",\n        x = \"å®é™…å€¼\",\n        y = \"é¢„æµ‹å€¼\"\n    ) +\n    coord_equal() +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬äº”éƒ¨åˆ†å¤šæ­¥é¢„æµ‹",
    "href": "1044-lstm.html#ç¬¬äº”éƒ¨åˆ†å¤šæ­¥é¢„æµ‹",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šå¤šæ­¥é¢„æµ‹",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šå¤šæ­¥é¢„æµ‹\n\né€’å½’å¤šæ­¥é¢„æµ‹\n\n# é€’å½’é¢„æµ‹æœªæ¥ n æ­¥\npredict_future &lt;- function(model, last_sequence, n_steps, train_mean, train_sd) {\n    predictions &lt;- numeric(n_steps)\n    current_seq &lt;- last_sequence\n\n    for (i in 1:n_steps) {\n        # å‡†å¤‡è¾“å…¥\n        input_data &lt;- array(current_seq, dim = c(1, length(current_seq), 1))\n\n        # é¢„æµ‹ä¸‹ä¸€æ­¥\n        pred &lt;- model %&gt;% predict(input_data, verbose = 0)\n        predictions[i] &lt;- pred\n\n        # æ›´æ–°åºåˆ—ï¼ˆæ»‘åŠ¨çª—å£ï¼‰\n        current_seq &lt;- c(current_seq[-1], pred)\n    }\n\n    # åæ ‡å‡†åŒ–\n    predictions * train_sd + train_mean\n}\n\n# ä½¿ç”¨æœ€åä¸€ä¸ªæµ‹è¯•åºåˆ—é¢„æµ‹æœªæ¥20æ­¥\nlast_seq &lt;- X_test_lstm[nrow(X_test_lstm), , 1]\nfuture_preds &lt;- predict_future(model, last_seq, 20, train_mean, train_sd)\n\n# å¯è§†åŒ–\nfuture_time &lt;- (max(results$time) + 1):(max(results$time) + 20)\nfuture_df &lt;- data.frame(\n    time = future_time,\n    predicted = future_preds\n)\n\nggplot() +\n    geom_line(data = results, aes(x = time, y = actual), color = \"#4f46e5\") +\n    geom_line(\n        data = future_df, aes(x = time, y = predicted),\n        color = \"#ef4444\", linewidth = 1\n    ) +\n    geom_vline(xintercept = max(results$time), linetype = \"dashed\", color = \"gray50\") +\n    labs(\n        title = \"å¤šæ­¥é¢„æµ‹\",\n        subtitle = \"çº¢è‰²ä¸ºæœªæ¥20æ­¥é¢„æµ‹\",\n        x = \"æ—¶é—´\",\n        y = \"å€¼\"\n    ) +\n    theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬å…­éƒ¨åˆ†å¤šå˜é‡-lstm",
    "href": "1044-lstm.html#ç¬¬å…­éƒ¨åˆ†å¤šå˜é‡-lstm",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šå¤šå˜é‡ LSTM",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šå¤šå˜é‡ LSTM\n\nå‡†å¤‡å¤šå˜é‡æ•°æ®\n\n# åˆ›å»ºå¤šå˜é‡æ—¶é—´åºåˆ—\nn &lt;- 500\nset.seed(42)\n\nmultivar_data &lt;- data.frame(\n    time = 1:n,\n    y = cumsum(rnorm(n)) + 0.02 * (1:n), # ç›®æ ‡å˜é‡\n    x1 = sin(2 * pi * (1:n) / 50) + rnorm(n, sd = 0.3), # ç‰¹å¾1\n    x2 = cos(2 * pi * (1:n) / 30) + rnorm(n, sd = 0.3) # ç‰¹å¾2\n)\n\n# æ ‡å‡†åŒ–\ntrain_size &lt;- 400\nfor (col in c(\"y\", \"x1\", \"x2\")) {\n    train_mean &lt;- mean(multivar_data[[col]][1:train_size])\n    train_sd &lt;- sd(multivar_data[[col]][1:train_size])\n    multivar_data[[paste0(col, \"_scaled\")]] &lt;-\n        (multivar_data[[col]] - train_mean) / train_sd\n}\n\n\n\nåˆ›å»ºå¤šå˜é‡åºåˆ—\n\n# å¤šå˜é‡æ»‘åŠ¨çª—å£\ncreate_multivar_sequences &lt;- function(data, target_col, feature_cols, look_back = 10) {\n    n &lt;- nrow(data)\n    n_features &lt;- length(feature_cols)\n\n    X &lt;- array(0, dim = c(n - look_back, look_back, n_features))\n    y &lt;- numeric(n - look_back)\n\n    for (i in 1:(n - look_back)) {\n        for (j in 1:n_features) {\n            X[i, , j] &lt;- data[i:(i + look_back - 1), feature_cols[j]]\n        }\n        y[i] &lt;- data[i + look_back, target_col]\n    }\n\n    list(X = X, y = y)\n}\n\n# åˆ›å»ºåºåˆ—\nlook_back &lt;- 10\nfeature_cols &lt;- c(\"y_scaled\", \"x1_scaled\", \"x2_scaled\")\nmv_seq &lt;- create_multivar_sequences(multivar_data, \"y_scaled\", feature_cols, look_back)\n\ncat(\"å¤šå˜é‡è¾“å…¥å½¢çŠ¶:\", dim(mv_seq$X), \"\\n\")\n\n\n\næ„å»ºå¤šå˜é‡ LSTM\n\n# åˆ’åˆ†æ•°æ®\ntrain_idx &lt;- 1:(train_size - look_back)\ntest_idx &lt;- (train_size - look_back + 1):(n - look_back)\n\nX_train_mv &lt;- mv_seq$X[train_idx, , ]\ny_train_mv &lt;- mv_seq$y[train_idx]\nX_test_mv &lt;- mv_seq$X[test_idx, , ]\ny_test_mv &lt;- mv_seq$y[test_idx]\n\n# å®šä¹‰æ¨¡å‹\nn_features &lt;- length(feature_cols)\n\nmv_model &lt;- keras_model_sequential() %&gt;%\n    layer_lstm(\n        units = 50,\n        input_shape = c(look_back, n_features),\n        return_sequences = FALSE\n    ) %&gt;%\n    layer_dropout(rate = 0.2) %&gt;%\n    layer_dense(units = 1)\n\nmv_model %&gt;% compile(\n    optimizer = \"adam\",\n    loss = \"mse\"\n)\n\n# è®­ç»ƒ\nmv_history &lt;- mv_model %&gt;% fit(\n    X_train_mv, y_train_mv,\n    epochs = 50,\n    batch_size = 32,\n    validation_split = 0.2,\n    verbose = 0\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#ç¬¬ä¸ƒéƒ¨åˆ†æ¨¡å‹ä¿å­˜ä¸åŠ è½½",
    "href": "1044-lstm.html#ç¬¬ä¸ƒéƒ¨åˆ†æ¨¡å‹ä¿å­˜ä¸åŠ è½½",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ¨¡å‹ä¿å­˜ä¸åŠ è½½",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ¨¡å‹ä¿å­˜ä¸åŠ è½½\n\n# ä¿å­˜æ¨¡å‹\nsave_model_keras(model, \"lstm_model.keras\")\n\n# åŠ è½½æ¨¡å‹\nloaded_model &lt;- load_model_keras(\"lstm_model.keras\")\n\n# ä½¿ç”¨åŠ è½½çš„æ¨¡å‹é¢„æµ‹\npredictions &lt;- loaded_model %&gt;% predict(X_test_lstm)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1044-lstm.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# æ•°æ®å‡†å¤‡\ncreate_sequences &lt;- function(data, look_back) {\n    # è¿”å› X (n x look_back) å’Œ y (n)\n}\n\n# è½¬ä¸º LSTM æ ¼å¼\nX_lstm &lt;- array(X, dim = c(nrow(X), look_back, n_features))\n\n# æ„å»ºæ¨¡å‹\nmodel &lt;- keras_model_sequential() %&gt;%\n    layer_lstm(units = 50, input_shape = c(timesteps, features)) %&gt;%\n    layer_dropout(0.2) %&gt;%\n    layer_dense(1)\n\n# ç¼–è¯‘\nmodel %&gt;% compile(optimizer = \"adam\", loss = \"mse\")\n\n# è®­ç»ƒ\nhistory &lt;- model %&gt;% fit(X_train, y_train, epochs = 50, batch_size = 32)\n\n# é¢„æµ‹\npredictions &lt;- model %&gt;% predict(X_test)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#å°ç»“",
    "href": "1044-lstm.html#å°ç»“",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "å°ç»“",
    "text": "å°ç»“\nLSTM æ—¶é—´åºåˆ—é¢„æµ‹å…³é”®æ­¥éª¤ï¼š\n\næ•°æ®å‡†å¤‡ï¼šæ ‡å‡†åŒ– + æ»‘åŠ¨çª—å£\næ ¼å¼è½¬æ¢ï¼š3D æ•°ç»„ [samples, timesteps, features]\næ¨¡å‹æ„å»ºï¼šé€‰æ‹©åˆé€‚çš„ LSTM ç»“æ„\nè®­ç»ƒæŠ€å·§ï¼šæ—©åœã€å­¦ä¹ ç‡è°ƒæ•´\nè¯„ä¼°è¾“å‡ºï¼šåæ ‡å‡†åŒ–åè®¡ç®—æŒ‡æ ‡\n\n\næœ€ä½³å®è·µï¼š - æ€»æ˜¯å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ– - ä½¿ç”¨éªŒè¯é›†ç›‘æ§è¿‡æ‹Ÿåˆ - å¤šå°è¯•ä¸åŒçš„ look_back é•¿åº¦ - å †å  LSTM å¯æå‡å¤æ‚åºåˆ—çš„å»ºæ¨¡èƒ½åŠ›",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1044-lstm.html#å‚è€ƒèµ„æº",
    "href": "1044-lstm.html#å‚è€ƒèµ„æº",
    "title": "LSTM æ·±åº¦å­¦ä¹ æ—¶é—´åºåˆ—é¢„æµ‹",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nKeras for R\nDeep Learning with R\nUnderstanding LSTM Networks",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "LSTM æ·±åº¦å­¦ä¹ "
    ]
  },
  {
    "objectID": "1046-missing-data.html",
    "href": "1046-missing-data.html",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç¼ºå¤±æ•°æ®æ˜¯æ•°æ®åˆ†æä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ã€‚æ­£ç¡®å¤„ç†ç¼ºå¤±å€¼å¯¹äºè·å¾—å¯é çš„ç»Ÿè®¡æ¨æ–­è‡³å…³é‡è¦ã€‚\n\n\n\n\n\nç±»å‹\nå…¨ç§°\nå«ä¹‰\nå¤„ç†éš¾åº¦\n\n\n\n\nMCAR\nMissing Completely At Random\nå®Œå…¨éšæœºç¼ºå¤±\næ˜“\n\n\nMAR\nMissing At Random\néšæœºç¼ºå¤±ï¼ˆä¾èµ–å…¶ä»–å˜é‡ï¼‰\nä¸­\n\n\nMNAR\nMissing Not At Random\nééšæœºç¼ºå¤±ï¼ˆä¾èµ–ç¼ºå¤±å€¼æœ¬èº«ï¼‰\néš¾",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¼ºå¤±å€¼é—®é¢˜æ¦‚è¿°",
    "href": "1046-missing-data.html#ç¼ºå¤±å€¼é—®é¢˜æ¦‚è¿°",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "ç¼ºå¤±æ•°æ®æ˜¯æ•°æ®åˆ†æä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ã€‚æ­£ç¡®å¤„ç†ç¼ºå¤±å€¼å¯¹äºè·å¾—å¯é çš„ç»Ÿè®¡æ¨æ–­è‡³å…³é‡è¦ã€‚\n\n\n\n\n\nç±»å‹\nå…¨ç§°\nå«ä¹‰\nå¤„ç†éš¾åº¦\n\n\n\n\nMCAR\nMissing Completely At Random\nå®Œå…¨éšæœºç¼ºå¤±\næ˜“\n\n\nMAR\nMissing At Random\néšæœºç¼ºå¤±ï¼ˆä¾èµ–å…¶ä»–å˜é‡ï¼‰\nä¸­\n\n\nMNAR\nMissing Not At Random\nééšæœºç¼ºå¤±ï¼ˆä¾èµ–ç¼ºå¤±å€¼æœ¬èº«ï¼‰\néš¾",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#å®‰è£…ä¸åŠ è½½",
    "href": "1046-missing-data.html#å®‰è£…ä¸åŠ è½½",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(naniar) # ç¼ºå¤±å€¼å¯è§†åŒ–\nlibrary(mice) # å¤šé‡æ’è¡¥\n\ntheme_set(theme_bw(base_size = 12))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¬¬ä¸€éƒ¨åˆ†ç¼ºå¤±å€¼æ£€æµ‹",
    "href": "1046-missing-data.html#ç¬¬ä¸€éƒ¨åˆ†ç¼ºå¤±å€¼æ£€æµ‹",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šç¼ºå¤±å€¼æ£€æµ‹",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šç¼ºå¤±å€¼æ£€æµ‹\n\nåŸºç¡€æ£€æµ‹\n\n# åˆ›å»ºå«ç¼ºå¤±å€¼çš„ç¤ºä¾‹æ•°æ®\nset.seed(42)\ndf &lt;- data.frame(\n    id = 1:100,\n    age = sample(c(20:60, NA), 100, replace = TRUE, prob = c(rep(0.02, 41), 0.18)),\n    income = sample(c(3000:10000, NA), 100, replace = TRUE),\n    education = sample(c(\"é«˜ä¸­\", \"æœ¬ç§‘\", \"ç¡•å£«\", NA), 100, replace = TRUE),\n    score = rnorm(100, 75, 10)\n)\ndf$score[sample(1:100, 10)] &lt;- NA\n\n# åŸºç¡€ç»Ÿè®¡\nsum(is.na(df)) # æ€»ç¼ºå¤±æ•°\n\n[1] 49\n\ncolSums(is.na(df)) # æ¯åˆ—ç¼ºå¤±æ•°\n\n       id       age    income education     score \n        0        17         0        22        10 \n\nmean(is.na(df$age)) # ç¼ºå¤±æ¯”ä¾‹\n\n[1] 0.17\n\n\n\n\nä½¿ç”¨ naniar åŒ…\n\n# ç¼ºå¤±å€¼æ‘˜è¦\nmiss_var_summary(df)\n\n# A tibble: 5 Ã— 3\n  variable  n_miss pct_miss\n  &lt;chr&gt;      &lt;int&gt;    &lt;num&gt;\n1 education     22       22\n2 age           17       17\n3 score         10       10\n4 id             0        0\n5 income         0        0\n\n\n\n# ç¼ºå¤±æ¨¡å¼\nmiss_case_summary(df) %&gt;% head()\n\n# A tibble: 6 Ã— 3\n   case n_miss pct_miss\n  &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;\n1    22      2       40\n2    25      2       40\n3    41      2       40\n4    49      2       40\n5    58      2       40\n6    80      2       40\n\n\n\n\nå¯è§†åŒ–ç¼ºå¤±æ¨¡å¼\n\n# ç¼ºå¤±å€¼çƒ­å›¾\nvis_miss(df)\n\n\n\n\n\n\n\n\n\n# ç¼ºå¤±æ¨¡å¼å›¾\ngg_miss_upset(df)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¬¬äºŒéƒ¨åˆ†ç®€å•å¤„ç†æ–¹æ³•",
    "href": "1046-missing-data.html#ç¬¬äºŒéƒ¨åˆ†ç®€å•å¤„ç†æ–¹æ³•",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šç®€å•å¤„ç†æ–¹æ³•",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šç®€å•å¤„ç†æ–¹æ³•\n\nåˆ é™¤æ³•\n\n# åˆ é™¤å«NAçš„è¡Œï¼ˆlistwise deletionï¼‰\ndf_complete &lt;- na.omit(df)\nnrow(df_complete)\n\n[1] 58\n\n# åˆ é™¤ç‰¹å®šåˆ—NA\ndf_drop &lt;- df %&gt;% drop_na(age, income)\nnrow(df_drop)\n\n[1] 83\n\n\n\næ³¨æ„ï¼šåˆ é™¤æ³•å¯èƒ½å¯¼è‡´æ ·æœ¬é‡å¤§å¹…å‡å°‘ï¼Œä»…åœ¨MCARæ—¶æ— åã€‚\n\n\n\nå‡å€¼/ä¸­ä½æ•°å¡«å……\n\n# å‡å€¼å¡«å……\ndf_mean &lt;- df %&gt;%\n    mutate(\n        age = ifelse(is.na(age), mean(age, na.rm = TRUE), age),\n        income = ifelse(is.na(income), median(income, na.rm = TRUE), income)\n    )\n\n# ä½¿ç”¨ coalesceï¼ˆç±»å‹æ›´å®‰å…¨ï¼‰\ndf_filled &lt;- df %&gt;%\n    mutate(\n        age = coalesce(as.numeric(age), mean(age, na.rm = TRUE)),\n        score = coalesce(score, median(score, na.rm = TRUE))\n    )\n\n\n\nä¼—æ•°å¡«å……ï¼ˆåˆ†ç±»å˜é‡ï¼‰\n\n# è®¡ç®—ä¼—æ•°\nget_mode &lt;- function(x) {\n    x &lt;- x[!is.na(x)]\n    ux &lt;- unique(x)\n    ux[which.max(tabulate(match(x, ux)))]\n}\n\ndf_mode &lt;- df %&gt;%\n    mutate(education = replace_na(education, get_mode(education)))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¬¬ä¸‰éƒ¨åˆ†å¤šé‡æ’è¡¥mice",
    "href": "1046-missing-data.html#ç¬¬ä¸‰éƒ¨åˆ†å¤šé‡æ’è¡¥mice",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¤šé‡æ’è¡¥ï¼ˆmiceï¼‰",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¤šé‡æ’è¡¥ï¼ˆmiceï¼‰\nå¤šé‡æ’è¡¥æ˜¯å¤„ç†MARç¼ºå¤±çš„æ¨èæ–¹æ³•ã€‚\n\nåŸºæœ¬æµç¨‹\n\n# å‡†å¤‡æ•°æ®ï¼ˆåªä¿ç•™æ•°å€¼å’Œå› å­ï¼‰\ndf_mice &lt;- df %&gt;%\n    select(-id) %&gt;%\n    mutate(education = as.factor(education))\n\n# æ‰§è¡Œå¤šé‡æ’è¡¥\nimp &lt;- mice(df_mice, m = 5, method = \"pmm\", seed = 123, print = FALSE)\n\n\n\næŸ¥çœ‹æ’è¡¥æ–¹æ³•\n\n# æŸ¥çœ‹ä½¿ç”¨çš„æ–¹æ³•\nimp$method\n\n      age    income education     score \n    \"pmm\"        \"\"     \"pmm\"     \"pmm\" \n\n\n\n\n\næ–¹æ³•\né€‚ç”¨ç±»å‹\nè¯´æ˜\n\n\n\n\npmm\næ•°å€¼å‹\né¢„æµ‹å‡å€¼åŒ¹é…ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰\n\n\nlogreg\näºŒåˆ†ç±»\né€»è¾‘å›å½’\n\n\npolyreg\nå¤šåˆ†ç±»\nå¤šé¡¹å¼å›å½’\n\n\nnorm\næ•°å€¼å‹\næ­£æ€åˆ†å¸ƒ\n\n\n\n\n\næå–å¡«å……æ•°æ®\n\n# æå–ç¬¬1ä¸ªå¡«å……æ•°æ®é›†\ncomplete_data &lt;- complete(imp, 1)\nhead(complete_data)\n\n  age income education    score\n1  58   3081      é«˜ä¸­ 61.20594\n2  59   9039      ç¡•å£« 78.94024\n3  35   9000      æœ¬ç§‘ 98.57299\n4  54   3913      é«˜ä¸­ 85.02741\n5  45   7420      æœ¬ç§‘ 69.16584\n6  38   8741      é«˜ä¸­ 90.15203\n\n\n\n# æå–æ‰€æœ‰å¡«å……æ•°æ®ï¼ˆé•¿æ ¼å¼ï¼‰\nall_complete &lt;- complete(imp, \"long\")\nhead(all_complete)\n\n  age income education    score .imp .id\n1  58   3081      é«˜ä¸­ 61.20594    1   1\n2  59   9039      ç¡•å£« 78.94024    1   2\n3  35   9000      æœ¬ç§‘ 98.57299    1   3\n4  54   3913      é«˜ä¸­ 85.02741    1   4\n5  45   7420      æœ¬ç§‘ 69.16584    1   5\n6  38   8741      é«˜ä¸­ 90.15203    1   6\n\n\n\n\nå¯¹å¤šé‡å¡«å……æ•°æ®å»ºæ¨¡\n\n# åœ¨æ¯ä¸ªå¡«å……æ•°æ®ä¸Šæ‹Ÿåˆæ¨¡å‹\nfit &lt;- with(imp, lm(score ~ age + income + education))\n\n# åˆå¹¶ç»“æœï¼ˆRubinè§„åˆ™ï¼‰\npooled &lt;- pool(fit)\nsummary(pooled)\n\n           term      estimate std.error   statistic       df      p.value\n1   (Intercept)  7.404672e+01 6.9154562 10.70742407 17.03977 5.498145e-09\n2           age  9.067433e-03 0.1131493  0.08013686 20.74002 9.368966e-01\n3        income  3.979805e-05 0.0005595  0.07113145 64.39950 9.435136e-01\n4 educationé«˜ä¸­ -9.112156e-01 2.9949723 -0.30424843 41.03858 7.624761e-01\n5 educationç¡•å£« -2.663010e+00 3.3300225 -0.79969717 29.82645 4.302095e-01",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¬¬å››éƒ¨åˆ†å¯è§†åŒ–å¡«å……æ•ˆæœ",
    "href": "1046-missing-data.html#ç¬¬å››éƒ¨åˆ†å¯è§†åŒ–å¡«å……æ•ˆæœ",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šå¯è§†åŒ–å¡«å……æ•ˆæœ",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šå¯è§†åŒ–å¡«å……æ•ˆæœ\n\nå¯†åº¦å›¾æ¯”è¾ƒ\n\n# æ¯”è¾ƒåŸå§‹ä¸å¡«å……åçš„åˆ†å¸ƒ\ndensityplot(imp, ~age)\n\n\n\n\n\n\n\n\n\n\næ¡å¸¦å›¾\n\nstripplot(imp, age ~ .imp, pch = 20)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#ç¬¬äº”éƒ¨åˆ†å®æˆ˜æ¡ˆä¾‹",
    "href": "1046-missing-data.html#ç¬¬äº”éƒ¨åˆ†å®æˆ˜æ¡ˆä¾‹",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜æ¡ˆä¾‹\n\nå®Œæ•´åˆ†ææµç¨‹\n\n# 1. æ£€æŸ¥ç¼ºå¤±æ¨¡å¼\nmiss_var_summary(df)\n\n# A tibble: 5 Ã— 3\n  variable  n_miss pct_miss\n  &lt;chr&gt;      &lt;int&gt;    &lt;num&gt;\n1 education     22       22\n2 age           17       17\n3 score         10       10\n4 id             0        0\n5 income         0        0\n\n\n\n# 2. å¯è§†åŒ–\nvis_miss(df)\n\n\n\n\n\n\n\n\n\n# 3. å¤šé‡æ’è¡¥\ndf_for_imp &lt;- df %&gt;%\n    select(-id) %&gt;%\n    mutate(education = as.factor(education))\n\nimp_final &lt;- mice(df_for_imp, m = 5, seed = 42, print = FALSE)\n\n\n# 4. åˆ†æ\nmodel &lt;- with(imp_final, lm(score ~ age + income))\nresult &lt;- pool(model)\nsummary(result)\n\n         term      estimate    std.error   statistic       df      p.value\n1 (Intercept)  7.498242e+01 5.4938190447 13.64850515 64.91050 9.619010e-21\n2         age -2.613209e-02 0.0933574612 -0.27991431 81.89762 7.802490e-01\n3      income -2.794975e-05 0.0006272327 -0.04456042 28.11975 9.647726e-01\n\n\n\n# 5. æå–æœ€ç»ˆæ•°æ®\nfinal_data &lt;- complete(imp_final, action = \"long\", include = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1046-missing-data.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# æ£€æµ‹\nsum(is.na(df))\ncolSums(is.na(df))\nnaniar::miss_var_summary(df)\n\n# å¯è§†åŒ–\nnaniar::vis_miss(df)\nnaniar::gg_miss_upset(df)\n\n# ç®€å•å¤„ç†\ndf %&gt;% drop_na() # åˆ é™¤NAè¡Œ\ndf %&gt;% replace_na(list(x = 0)) # å¡«å……å›ºå®šå€¼\ndf %&gt;% mutate(x = replace_na(x, mean(x, na.rm = TRUE)))\n\n# å¤šé‡æ’è¡¥\nimp &lt;- mice(df, m = 5, method = \"pmm\")\ncomplete(imp, 1) # æå–å¡«å……æ•°æ®\nfit &lt;- with(imp, lm(y ~ x)) # å»ºæ¨¡\npool(fit) # åˆå¹¶ç»“æœ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#å°ç»“",
    "href": "1046-missing-data.html#å°ç»“",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å°ç»“",
    "text": "å°ç»“\nç¼ºå¤±å€¼å¤„ç†ç­–ç•¥é€‰æ‹©ï¼š\n\n\n\næƒ…å†µ\næ¨èæ–¹æ³•\n\n\n\n\nç¼ºå¤±&lt;5%ï¼ŒMCAR\nåˆ é™¤æ³•\n\n\nç¼ºå¤±è¾ƒå¤šï¼ŒMAR\nå¤šé‡æ’è¡¥ï¼ˆmiceï¼‰\n\n\næ—¶é—´åºåˆ—\nçº¿æ€§æ’å€¼\n\n\néœ€è¦å¿«é€Ÿé¢„è§ˆ\nå‡å€¼/ä¸­ä½æ•°å¡«å……\n\n\n\n\næœ€ä½³å®è·µï¼šå§‹ç»ˆæŠ¥å‘Šç¼ºå¤±æƒ…å†µï¼Œå¹¶è¿›è¡Œæ•æ„Ÿæ€§åˆ†æéªŒè¯ç»“æœç¨³å¥æ€§ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1046-missing-data.html#å‚è€ƒèµ„æº",
    "href": "1046-missing-data.html#å‚è€ƒèµ„æº",
    "title": "ç¼ºå¤±å€¼å¤„ç†å®Œå…¨æŒ‡å—",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nmice åŒ…æ–‡æ¡£\nnaniar åŒ…æ–‡æ¡£\nFlexible Imputation of Missing Data",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç¼ºå¤±å€¼å¤„ç†"
    ]
  },
  {
    "objectID": "1048-power-analysis.html",
    "href": "1048-power-analysis.html",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "",
    "text": "åŠŸæ•ˆåˆ†æç”¨äºç¡®å®šç ”ç©¶æ‰€éœ€çš„æ ·æœ¬é‡ï¼Œæˆ–è¯„ä¼°ç»™å®šæ ·æœ¬é‡ä¸‹æ£€æµ‹æ•ˆåº”çš„èƒ½åŠ›ã€‚\n\n\n\n\n\næ¦‚å¿µ\nç¬¦å·\nå«ä¹‰\nå¸¸ç”¨å€¼\n\n\n\n\næ˜¾è‘—æ€§æ°´å¹³\nÎ±\nIç±»é”™è¯¯æ¦‚ç‡\n0.05\n\n\nåŠŸæ•ˆ\n1-Î²\næ£€æµ‹çœŸå®æ•ˆåº”çš„æ¦‚ç‡\n0.80\n\n\næ•ˆåº”é‡\nd/r/f\næ•ˆåº”å¤§å°\nå› æ£€éªŒè€Œå¼‚\n\n\næ ·æœ¬é‡\nn\næ¯ç»„æ ·æœ¬æ•°\nå¾…è®¡ç®—\n\n\n\n\n\n\nçŸ¥é“ä»»æ„ä¸‰ä¸ªï¼Œå¯æ±‚ç¬¬å››ä¸ªï¼š - æ ·æœ¬é‡è®¡ç®—ï¼šå·²çŸ¥ Î±, åŠŸæ•ˆ, æ•ˆåº”é‡ â†’ æ±‚ n - åŠŸæ•ˆè®¡ç®—ï¼šå·²çŸ¥ Î±, n, æ•ˆåº”é‡ â†’ æ±‚åŠŸæ•ˆ - æ•ˆåº”é‡ä¼°è®¡ï¼šå·²çŸ¥ Î±, n, åŠŸæ•ˆ â†’ æ±‚å¯æ£€æµ‹æ•ˆåº”é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#åŠŸæ•ˆåˆ†æç®€ä»‹",
    "href": "1048-power-analysis.html#åŠŸæ•ˆåˆ†æç®€ä»‹",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "",
    "text": "åŠŸæ•ˆåˆ†æç”¨äºç¡®å®šç ”ç©¶æ‰€éœ€çš„æ ·æœ¬é‡ï¼Œæˆ–è¯„ä¼°ç»™å®šæ ·æœ¬é‡ä¸‹æ£€æµ‹æ•ˆåº”çš„èƒ½åŠ›ã€‚\n\n\n\n\n\næ¦‚å¿µ\nç¬¦å·\nå«ä¹‰\nå¸¸ç”¨å€¼\n\n\n\n\næ˜¾è‘—æ€§æ°´å¹³\nÎ±\nIç±»é”™è¯¯æ¦‚ç‡\n0.05\n\n\nåŠŸæ•ˆ\n1-Î²\næ£€æµ‹çœŸå®æ•ˆåº”çš„æ¦‚ç‡\n0.80\n\n\næ•ˆåº”é‡\nd/r/f\næ•ˆåº”å¤§å°\nå› æ£€éªŒè€Œå¼‚\n\n\næ ·æœ¬é‡\nn\næ¯ç»„æ ·æœ¬æ•°\nå¾…è®¡ç®—\n\n\n\n\n\n\nçŸ¥é“ä»»æ„ä¸‰ä¸ªï¼Œå¯æ±‚ç¬¬å››ä¸ªï¼š - æ ·æœ¬é‡è®¡ç®—ï¼šå·²çŸ¥ Î±, åŠŸæ•ˆ, æ•ˆåº”é‡ â†’ æ±‚ n - åŠŸæ•ˆè®¡ç®—ï¼šå·²çŸ¥ Î±, n, æ•ˆåº”é‡ â†’ æ±‚åŠŸæ•ˆ - æ•ˆåº”é‡ä¼°è®¡ï¼šå·²çŸ¥ Î±, n, åŠŸæ•ˆ â†’ æ±‚å¯æ£€æµ‹æ•ˆåº”é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#å®‰è£…ä¸åŠ è½½",
    "href": "1048-power-analysis.html#å®‰è£…ä¸åŠ è½½",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(pwr)\nlibrary(ggplot2)\n\ntheme_set(theme_bw(base_size = 12))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬ä¸€éƒ¨åˆ†t-æ£€éªŒæ ·æœ¬é‡",
    "href": "1048-power-analysis.html#ç¬¬ä¸€éƒ¨åˆ†t-æ£€éªŒæ ·æœ¬é‡",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼št æ£€éªŒæ ·æœ¬é‡",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼št æ£€éªŒæ ·æœ¬é‡\n\nç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ\n\n# åŒä¾§æ£€éªŒï¼Œä¸­ç­‰æ•ˆåº”ï¼ˆd=0.5ï¼‰ï¼ŒåŠŸæ•ˆ=0.8ï¼ŒÎ±=0.05\npwr.t.test(\n    d = 0.5, # Cohen's d\n    sig.level = 0.05,\n    power = 0.80,\n    type = \"two.sample\"\n)\n\n\n     Two-sample t test power calculation \n\n              n = 63.76561\n              d = 0.5\n      sig.level = 0.05\n          power = 0.8\n    alternative = two.sided\n\nNOTE: n is number in *each* group\n\n\nè§£è¯»ï¼šæ¯ç»„éœ€è¦ 64 äººï¼Œæ€»å…± 128 äººã€‚\n\n\né…å¯¹ t æ£€éªŒ\n\npwr.t.test(\n    d = 0.5,\n    sig.level = 0.05,\n    power = 0.80,\n    type = \"paired\"\n)\n\n\n     Paired t test power calculation \n\n              n = 33.36713\n              d = 0.5\n      sig.level = 0.05\n          power = 0.8\n    alternative = two.sided\n\nNOTE: n is number of *pairs*\n\n\n\n\nCohenâ€™s d å‚è€ƒæ ‡å‡†\n\n\n\næ•ˆåº”å¤§å°\nCohenâ€™s d\nå«ä¹‰\n\n\n\n\nå°\n0.2\nå¾®å¼±å·®å¼‚\n\n\nä¸­\n0.5\nä¸­ç­‰å·®å¼‚\n\n\nå¤§\n0.8\næ˜æ˜¾å·®å¼‚\n\n\n\n\n\nä»åŸå§‹æ•°æ®ä¼°ç®— d\n\n# æ ¹æ®å‡å€¼å·®å’Œæ ‡å‡†å·®ä¼°ç®—\nmean_diff &lt;- 5 # é¢„æœŸå‡å€¼å·®\npooled_sd &lt;- 10 # åˆå¹¶æ ‡å‡†å·®\nd &lt;- mean_diff / pooled_sd\ncat(\"Cohen's d =\", d)\n\nCohen's d = 0.5",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬äºŒéƒ¨åˆ†æ–¹å·®åˆ†ææ ·æœ¬é‡",
    "href": "1048-power-analysis.html#ç¬¬äºŒéƒ¨åˆ†æ–¹å·®åˆ†ææ ·æœ¬é‡",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ–¹å·®åˆ†ææ ·æœ¬é‡",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šæ–¹å·®åˆ†ææ ·æœ¬é‡\n\nå•å› ç´  ANOVA\n\n# k=3ç»„ï¼Œä¸­ç­‰æ•ˆåº”ï¼ˆf=0.25ï¼‰\npwr.anova.test(\n    k = 3, # ç»„æ•°\n    f = 0.25, # æ•ˆåº”é‡\n    sig.level = 0.05,\n    power = 0.80\n)\n\n\n     Balanced one-way analysis of variance power calculation \n\n              k = 3\n              n = 52.3966\n              f = 0.25\n      sig.level = 0.05\n          power = 0.8\n\nNOTE: n is number in each group\n\n\nè§£è¯»ï¼šæ¯ç»„éœ€è¦ 52 äººï¼Œæ€»å…± 156 äººã€‚\n\n\næ•ˆåº”é‡ f è½¬æ¢\n\n# ä» eta-squared è½¬æ¢\neta_sq &lt;- 0.06 # ä¸­ç­‰æ•ˆåº”\nf &lt;- sqrt(eta_sq / (1 - eta_sq))\ncat(\"f =\", round(f, 3))\n\nf = 0.253\n\n\n\n\n\nÎ·Â²\nf\næ•ˆåº”å¤§å°\n\n\n\n\n0.01\n0.10\nå°\n\n\n0.06\n0.25\nä¸­\n\n\n0.14\n0.40\nå¤§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬ä¸‰éƒ¨åˆ†ç›¸å…³åˆ†ææ ·æœ¬é‡",
    "href": "1048-power-analysis.html#ç¬¬ä¸‰éƒ¨åˆ†ç›¸å…³åˆ†ææ ·æœ¬é‡",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šç›¸å…³åˆ†ææ ·æœ¬é‡",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šç›¸å…³åˆ†ææ ·æœ¬é‡\n\n# ä¸­ç­‰ç›¸å…³ï¼ˆr=0.3ï¼‰\npwr.r.test(\n    r = 0.3,\n    sig.level = 0.05,\n    power = 0.80\n)\n\n\n     approximate correlation power calculation (arctangh transformation) \n\n              n = 84.07364\n              r = 0.3\n      sig.level = 0.05\n          power = 0.8\n    alternative = two.sided\n\n\nè§£è¯»ï¼šéœ€è¦ 84 ä¸ªæ ·æœ¬ã€‚\n\n\n\nr\næ•ˆåº”å¤§å°\n\n\n\n\n0.1\nå°\n\n\n0.3\nä¸­\n\n\n0.5\nå¤§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬å››éƒ¨åˆ†å¡æ–¹æ£€éªŒæ ·æœ¬é‡",
    "href": "1048-power-analysis.html#ç¬¬å››éƒ¨åˆ†å¡æ–¹æ£€éªŒæ ·æœ¬é‡",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šå¡æ–¹æ£€éªŒæ ·æœ¬é‡",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šå¡æ–¹æ£€éªŒæ ·æœ¬é‡\n\n# 2x2 åˆ—è”è¡¨ï¼Œä¸­ç­‰æ•ˆåº”\npwr.chisq.test(\n    w = 0.3, # æ•ˆåº”é‡\n    df = 1, # è‡ªç”±åº¦ = (è¡Œ-1)*(åˆ—-1)\n    sig.level = 0.05,\n    power = 0.80\n)\n\n\n     Chi squared power calculation \n\n              w = 0.3\n              N = 87.20954\n             df = 1\n      sig.level = 0.05\n          power = 0.8\n\nNOTE: N is the number of observations\n\n\n\n\n\nw\næ•ˆåº”å¤§å°\n\n\n\n\n0.1\nå°\n\n\n0.3\nä¸­\n\n\n0.5\nå¤§",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬äº”éƒ¨åˆ†å›å½’åˆ†ææ ·æœ¬é‡",
    "href": "1048-power-analysis.html#ç¬¬äº”éƒ¨åˆ†å›å½’åˆ†ææ ·æœ¬é‡",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šå›å½’åˆ†ææ ·æœ¬é‡",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šå›å½’åˆ†ææ ·æœ¬é‡\n\n# å¤šå…ƒå›å½’ï¼š5ä¸ªé¢„æµ‹å˜é‡ï¼ŒfÂ²=0.15\npwr.f2.test(\n    u = 5, # é¢„æµ‹å˜é‡æ•°\n    f2 = 0.15, # æ•ˆåº”é‡\n    sig.level = 0.05,\n    power = 0.80\n)\n\n\n     Multiple regression power calculation \n\n              u = 5\n              v = 85.21369\n             f2 = 0.15\n      sig.level = 0.05\n          power = 0.8\n\n\nè§£è¯»ï¼šéœ€è¦ \\(v+u+1 = 73+5+1 = 79\\) ä¸ªæ ·æœ¬ã€‚\n\n\n\nfÂ²\næ•ˆåº”å¤§å°\nRÂ²\n\n\n\n\n0.02\nå°\n0.02\n\n\n0.15\nä¸­\n0.13\n\n\n0.35\nå¤§\n0.26",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬å…­éƒ¨åˆ†å¯è§†åŒ–åŠŸæ•ˆæ›²çº¿",
    "href": "1048-power-analysis.html#ç¬¬å…­éƒ¨åˆ†å¯è§†åŒ–åŠŸæ•ˆæ›²çº¿",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šå¯è§†åŒ–åŠŸæ•ˆæ›²çº¿",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šå¯è§†åŒ–åŠŸæ•ˆæ›²çº¿\n\næ ·æœ¬é‡ vs åŠŸæ•ˆ\n\n# è®¡ç®—ä¸åŒæ ·æœ¬é‡çš„åŠŸæ•ˆ\nsample_sizes &lt;- seq(10, 200, by = 5)\npowers &lt;- sapply(sample_sizes, function(n) {\n    pwr.t.test(n = n, d = 0.5, sig.level = 0.05)$power\n})\n\n# ç»‘å›¾\npower_df &lt;- data.frame(n = sample_sizes, power = powers)\n\nggplot(power_df, aes(x = n, y = power)) +\n    geom_line(color = \"#4f46e5\", linewidth = 1.2) +\n    geom_hline(yintercept = 0.8, linetype = \"dashed\", color = \"red\") +\n    geom_vline(xintercept = 64, linetype = \"dashed\", color = \"gray50\") +\n    labs(\n        title = \"åŠŸæ•ˆæ›²çº¿ï¼ˆCohen's d = 0.5ï¼‰\",\n        x = \"æ¯ç»„æ ·æœ¬é‡\",\n        y = \"ç»Ÿè®¡åŠŸæ•ˆ\"\n    ) +\n    scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.2)) +\n    annotate(\"text\", x = 70, y = 0.75, label = \"n = 64\", color = \"gray30\")\n\n\n\n\n\n\n\n\n\n\næ•ˆåº”é‡ vs æ‰€éœ€æ ·æœ¬\n\neffect_sizes &lt;- seq(0.2, 1, by = 0.05)\nsample_needed &lt;- sapply(effect_sizes, function(d) {\n    pwr.t.test(d = d, sig.level = 0.05, power = 0.80)$n\n})\n\neffect_df &lt;- data.frame(d = effect_sizes, n = sample_needed)\n\nggplot(effect_df, aes(x = d, y = n)) +\n    geom_line(color = \"#10b981\", linewidth = 1.2) +\n    labs(\n        title = \"æ•ˆåº”é‡ä¸æ‰€éœ€æ ·æœ¬é‡çš„å…³ç³»\",\n        x = \"Cohen's d\",\n        y = \"æ¯ç»„æ‰€éœ€æ ·æœ¬é‡\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#ç¬¬ä¸ƒéƒ¨åˆ†ä¸´åºŠç ”ç©¶æ¡ˆä¾‹",
    "href": "1048-power-analysis.html#ç¬¬ä¸ƒéƒ¨åˆ†ä¸´åºŠç ”ç©¶æ¡ˆä¾‹",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šä¸´åºŠç ”ç©¶æ¡ˆä¾‹",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šä¸´åºŠç ”ç©¶æ¡ˆä¾‹\n\nRCT æ ·æœ¬é‡è®¡ç®—\n\n# å‡è®¾ï¼šå¯¹ç…§ç»„æ²»æ„ˆç‡40%ï¼Œå¹²é¢„ç»„é¢„æœŸ60%\n# è½¬æ¢ä¸º Cohen's h\np1 &lt;- 0.40 # å¯¹ç…§ç»„æ¯”ä¾‹\np2 &lt;- 0.60 # å¹²é¢„ç»„æ¯”ä¾‹\nh &lt;- 2 * asin(sqrt(p2)) - 2 * asin(sqrt(p1))\n\npwr.2p.test(h = h, sig.level = 0.05, power = 0.80)\n\n\n     Difference of proportion power calculation for binomial distribution (arcsine transformation) \n\n              h = 0.4027158\n              n = 96.79194\n      sig.level = 0.05\n          power = 0.8\n    alternative = two.sided\n\nNOTE: same sample sizes\n\n\nè§£è¯»ï¼šæ¯ç»„éœ€è¦ 97 äººã€‚\n\n\nè€ƒè™‘è„±è½ç‡\n\n# é¢„æœŸè„±è½ç‡ 15%\nn_calculated &lt;- 97\ndropout_rate &lt;- 0.15\nn_final &lt;- ceiling(n_calculated / (1 - dropout_rate))\ncat(\"è€ƒè™‘è„±è½åæ¯ç»„éœ€è¦:\", n_final, \"äºº\\n\")\n\nè€ƒè™‘è„±è½åæ¯ç»„éœ€è¦: 115 äºº\n\ncat(\"æ€»æ ·æœ¬é‡:\", n_final * 2, \"äºº\")\n\næ€»æ ·æœ¬é‡: 230 äºº",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1048-power-analysis.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# t æ£€éªŒ\npwr.t.test(d = 0.5, power = 0.8, sig.level = 0.05)\n\n# é…å¯¹ t æ£€éªŒ\npwr.t.test(d = 0.5, power = 0.8, type = \"paired\")\n\n# ANOVA\npwr.anova.test(k = 3, f = 0.25, power = 0.8)\n\n# ç›¸å…³\npwr.r.test(r = 0.3, power = 0.8)\n\n# å¡æ–¹\npwr.chisq.test(w = 0.3, df = 1, power = 0.8)\n\n# å›å½’\npwr.f2.test(u = 5, f2 = 0.15, power = 0.8)\n\n# ä¸¤æ¯”ä¾‹\npwr.2p.test(h = 0.5, power = 0.8)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#å°ç»“",
    "href": "1048-power-analysis.html#å°ç»“",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "å°ç»“",
    "text": "å°ç»“\næ ·æœ¬é‡è®¡ç®—è¦ç‚¹ï¼š\n\næ˜ç¡®ç ”ç©¶è®¾è®¡ï¼šé€‰æ‹©æ­£ç¡®çš„ç»Ÿè®¡æ–¹æ³•\né¢„ä¼°æ•ˆåº”é‡ï¼šå‚è€ƒæ–‡çŒ®æˆ–é¢„å®éªŒ\nè®¾å®šåŠŸæ•ˆæ°´å¹³ï¼šé€šå¸¸ 80% æˆ– 90%\nè€ƒè™‘å®é™…å› ç´ ï¼šè„±è½ç‡ã€å¤šé‡æ¯”è¾ƒ\n\n\nå»ºè®®ï¼šå®å¯ç•¥å¾®é«˜ä¼°æ ·æœ¬é‡ï¼Œé¢„ç•™ 10-20% ä½™é‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1048-power-analysis.html#å‚è€ƒèµ„æº",
    "href": "1048-power-analysis.html#å‚è€ƒèµ„æº",
    "title": "æ ·æœ¬é‡ä¸åŠŸæ•ˆåˆ†æ",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\npwr åŒ…æ–‡æ¡£\nG*Power è½¯ä»¶\nCohen, J. (1988). Statistical Power Analysis for the Behavioral Sciences",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "æ ·æœ¬é‡è®¡ç®—"
    ]
  },
  {
    "objectID": "1050-competing-risks.html",
    "href": "1050-competing-risks.html",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "",
    "text": "åœ¨ä¸´åºŠç ”ç©¶ä¸­ï¼Œæ‚£è€…å¯èƒ½å› å¤šç§åŸå› é€€å‡ºè§‚å¯Ÿï¼ˆå¦‚æ­»äº¡å¯èƒ½æ¥è‡ªå¿ƒè¡€ç®¡ç–¾ç—…æˆ–ç™Œç—‡ï¼‰ã€‚ç«äº‰é£é™©åˆ†ææ˜¯å¤„ç†å­˜åœ¨å¤šä¸ªäº’æ–¥ç»“å±€çš„ç”Ÿå­˜æ•°æ®çš„ä¸“ä¸šæ–¹æ³•ï¼Œèƒ½å¤Ÿæ›´å‡†ç¡®åœ°ä¼°è®¡ç‰¹å®šäº‹ä»¶çš„å‘ç”Ÿé£é™©ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ä»€ä¹ˆæ˜¯ç«äº‰é£é™©",
    "href": "1050-competing-risks.html#ä»€ä¹ˆæ˜¯ç«äº‰é£é™©",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ä»€ä¹ˆæ˜¯ç«äº‰é£é™©ï¼Ÿ",
    "text": "ä»€ä¹ˆæ˜¯ç«äº‰é£é™©ï¼Ÿ\nåœ¨ä¼ ç»Ÿçš„ç”Ÿå­˜åˆ†æï¼ˆå¦‚Kaplan-Meieræ–¹æ³•å’ŒCoxå›å½’ï¼‰ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ï¼š - åˆ å¤±ï¼ˆcensoringï¼‰æ˜¯éä¿¡æ¯æ€§çš„ - å¦‚æœè§‚å¯Ÿæ—¶é—´è¶³å¤Ÿé•¿ï¼Œæ‰€æœ‰äººæœ€ç»ˆéƒ½ä¼šç»å†æ„Ÿå…´è¶£çš„äº‹ä»¶\nä½†åœ¨å®é™…ç ”ç©¶ä¸­ï¼Œç«äº‰é£é™©ï¼ˆCompeting Risksï¼‰æ˜¯æŒ‡ï¼šå½“ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåï¼Œä¼šé˜»æ­¢æˆ‘ä»¬è§‚å¯Ÿåˆ°æ„Ÿå…´è¶£äº‹ä»¶çš„æƒ…å†µã€‚\n\nå…¸å‹åœºæ™¯ä¸¾ä¾‹\n\n\n\nç ”ç©¶ç›®çš„\næ„Ÿå…´è¶£äº‹ä»¶\nç«äº‰é£é™©äº‹ä»¶\n\n\n\n\nå¿ƒè¡€ç®¡æ­»äº¡é£é™©\nå¿ƒè¡€ç®¡æ­»äº¡\néå¿ƒè¡€ç®¡æ­»äº¡\n\n\nç™Œç—‡å¤å‘\nç™Œç—‡å¤å‘\næ­»äº¡ï¼ˆä»»ä½•åŸå› ï¼‰\n\n\nå™¨å®˜ç§»æ¤\næ¥å—ç§»æ¤\nç­‰å¾…æœŸé—´æ­»äº¡\n\n\nç³–å°¿ç—…å¹¶å‘ç—‡\nè‚¾ç—…\nå¿ƒè¡€ç®¡ç–¾ç—…æ­»äº¡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ä¸ºä»€ä¹ˆéœ€è¦ç«äº‰é£é™©åˆ†æ",
    "href": "1050-competing-risks.html#ä¸ºä»€ä¹ˆéœ€è¦ç«äº‰é£é™©åˆ†æ",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ä¸ºä»€ä¹ˆéœ€è¦ç«äº‰é£é™©åˆ†æï¼Ÿ",
    "text": "ä¸ºä»€ä¹ˆéœ€è¦ç«äº‰é£é™©åˆ†æï¼Ÿ\n\nä¼ ç»Ÿæ–¹æ³•çš„é—®é¢˜\nä½¿ç”¨æ ‡å‡†Kaplan-Meieræ–¹æ³•å¤„ç†ç«äº‰é£é™©æ•°æ®æ—¶ï¼Œå¦‚æœå°†ç«äº‰äº‹ä»¶ç®€å•åœ°ä½œä¸ºåˆ å¤±å¤„ç†ï¼Œä¼šé«˜ä¼°æ„Ÿå…´è¶£äº‹ä»¶çš„ç´¯ç§¯å‘ç”Ÿç‡ã€‚\nè¿™æ˜¯å› ä¸ºKMæ–¹æ³•å‡è®¾åˆ å¤±æ˜¯éšæœºçš„ï¼Œä½†ç«äº‰é£é™©äº‹ä»¶çš„å‘ç”Ÿæœ¬è´¨ä¸Šæ˜¯ä¿¡æ¯æ€§åˆ å¤±ã€‚\n\n\nä¸¤ç§ä¸»è¦åˆ†ææ–¹æ³•\n\nCause-specific hazard (ç—…å› ç‰¹å¼‚æ€§é£é™©)ï¼šç ”ç©¶åå˜é‡å¯¹ç‰¹å®šäº‹ä»¶ç¬æ—¶é£é™©çš„å½±å“\nSubdistribution hazard (Fine-Grayæ¨¡å‹)ï¼šç ”ç©¶åå˜é‡å¯¹ç´¯ç§¯å‘ç”Ÿç‡çš„å½±å“",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#råŒ…å®‰è£…ä¸åŠ è½½",
    "href": "1050-competing-risks.html#råŒ…å®‰è£…ä¸åŠ è½½",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "RåŒ…å®‰è£…ä¸åŠ è½½",
    "text": "RåŒ…å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…å¿…è¦çš„RåŒ…\npackages &lt;- c(\"survival\", \"cmprsk\", \"tidyverse\")\n\nfor (pkg in packages) {\n    if (!require(pkg, character.only = TRUE, quietly = TRUE)) {\n        install.packages(pkg)\n        library(pkg, character.only = TRUE)\n    }\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#æ•°æ®å‡†å¤‡",
    "href": "1050-competing-risks.html#æ•°æ®å‡†å¤‡",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\næˆ‘ä»¬ä½¿ç”¨æ¨¡æ‹Ÿçš„ä¸´åºŠè¯•éªŒæ•°æ®æ¥æ¼”ç¤ºç«äº‰é£é™©åˆ†æï¼š\n\n# æ¨¡æ‹Ÿç«äº‰é£é™©æ•°æ®\nset.seed(42)\nn &lt;- 200\n\n# åˆ›å»ºæ¨¡æ‹Ÿæ•°æ®\nsim_data &lt;- data.frame(\n    id = 1:n,\n    trt = sample(c(\"Drug A\", \"Drug B\"), n, replace = TRUE),\n    age = round(rnorm(n, 55, 12)),\n    grade = sample(c(\"I\", \"II\", \"III\"), n, replace = TRUE, prob = c(0.3, 0.4, 0.3))\n)\n\n# æ¨¡æ‹Ÿç”Ÿå­˜æ—¶é—´å’Œç«äº‰é£é™©äº‹ä»¶\n# status: 0=åˆ å¤±, 1=æ„Ÿå…´è¶£äº‹ä»¶(ç™Œç—‡æ­»äº¡), 2=ç«äº‰äº‹ä»¶(å…¶ä»–åŸå› æ­»äº¡)\nsim_data$time &lt;- pmin(rexp(n, 0.03), 36) # æœ€å¤§éšè®¿36ä¸ªæœˆ\nsim_data$status &lt;- sample(0:2, n, replace = TRUE, prob = c(0.4, 0.35, 0.25))\n\n# æŸ¥çœ‹æ•°æ®ç»“æ„\nhead(sim_data)\n\n  id    trt age grade      time status\n1  1 Drug A  69   III  4.444211      0\n2  2 Drug A  68    II  2.152684      0\n3  3 Drug A  43     I  1.474983      0\n4  4 Drug A  77    II 36.000000      0\n5  5 Drug B  47   III  1.304468      1\n6  6 Drug B  56   III 36.000000      0\n\n# äº‹ä»¶åˆ†å¸ƒ\ntable(sim_data$status)\n\n\n 0  1  2 \n71 76 53",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ä½¿ç”¨cmprskåŒ…è¿›è¡Œç´¯ç§¯å‘ç”Ÿå‡½æ•°åˆ†æ",
    "href": "1050-competing-risks.html#ä½¿ç”¨cmprskåŒ…è¿›è¡Œç´¯ç§¯å‘ç”Ÿå‡½æ•°åˆ†æ",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ä½¿ç”¨cmprskåŒ…è¿›è¡Œç´¯ç§¯å‘ç”Ÿå‡½æ•°åˆ†æ",
    "text": "ä½¿ç”¨cmprskåŒ…è¿›è¡Œç´¯ç§¯å‘ç”Ÿå‡½æ•°åˆ†æ\n\nè®¡ç®—CIF\n\nlibrary(cmprsk)\n\n# å‡†å¤‡æ•°æ®\nftime &lt;- sim_data$time\nfstatus &lt;- sim_data$status\ngroup &lt;- as.factor(sim_data$trt)\n\n# è®¡ç®—ç´¯ç§¯å‘ç”Ÿå‡½æ•°\ncif_fit &lt;- cuminc(ftime, fstatus, group)\n\n# æŸ¥çœ‹ç»“æœ\nprint(cif_fit)\n\nTests:\n      stat        pv df\n1 1.412838 0.2345859  1\n2 2.392749 0.1218991  1\nEstimates and Variances:\n$est\n                 10        20        30\nDrug A 1 0.15905506 0.1729381 0.2195594\nDrug B 1 0.11378896 0.2068368 0.3042480\nDrug A 2 0.04961402 0.0917772 0.1230801\nDrug B 2 0.08393180 0.1378508 0.2000742\n\n$var\n                   10          20          30\nDrug A 1 0.0016688069 0.001807077 0.002307259\nDrug B 1 0.0009692178 0.001651098 0.002334060\nDrug A 2 0.0005949177 0.001119337 0.001525316\nDrug B 2 0.0007259699 0.001199187 0.001764122\n\n\n\n\nå¯è§†åŒ–CIFæ›²çº¿\n\n# ç»‘åˆ¶CIFæ›²çº¿\nplot(cif_fit,\n    xlab = \"æ—¶é—´ (æœˆ)\",\n    ylab = \"ç´¯ç§¯å‘ç”Ÿç‡\",\n    main = \"ç´¯ç§¯å‘ç”Ÿå‡½æ•° (CIF) æ›²çº¿\",\n    col = c(\"#4f46e5\", \"#dc2626\", \"#059669\", \"#f59e0b\"),\n    lty = c(1, 1, 2, 2),\n    lwd = 2\n)\n\n# æ·»åŠ å›¾ä¾‹\nlegend(\"topleft\",\n    legend = names(cif_fit)[1:4],\n    col = c(\"#4f46e5\", \"#dc2626\", \"#059669\", \"#f59e0b\"),\n    lty = c(1, 1, 2, 2),\n    lwd = 2,\n    cex = 0.8\n)\n\n\n\n\n\n\n\n\n\n\nGrayæ£€éªŒ\nGrayæ£€éªŒæ˜¯æ¯”è¾ƒä¸åŒç»„åˆ«é—´CIFå·®å¼‚çš„éå‚æ•°æ£€éªŒæ–¹æ³•ï¼š\n\n# Grayæ£€éªŒç»“æœå·²åŒ…å«åœ¨cumincè¾“å‡ºä¸­\ncif_fit$Tests\n\n      stat        pv df\n1 1.412838 0.2345859  1\n2 2.392749 0.1218991  1",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#fine-grayæ¨¡å‹",
    "href": "1050-competing-risks.html#fine-grayæ¨¡å‹",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "Fine-Grayæ¨¡å‹",
    "text": "Fine-Grayæ¨¡å‹\nFine-Grayæ¨¡å‹ï¼ˆäºšåˆ†å¸ƒé£é™©æ¨¡å‹ï¼‰æ˜¯ç«äº‰é£é™©åˆ†æä¸­æœ€å¸¸ç”¨çš„å›å½’æ–¹æ³•ï¼š\n\næ¨¡å‹åŸç†\n\nä½¿ç”¨äºšåˆ†å¸ƒé£é™©å‡½æ•°è€Œéç—…å› ç‰¹å¼‚æ€§é£é™©\nå°†ç«äº‰äº‹ä»¶å‘ç”Ÿçš„ä¸ªä½“ä¿ç•™åœ¨é£é™©é›†ä¸­ï¼ˆèµ‹äºˆæƒé‡ï¼‰\nç»“æœè§£é‡Šï¼šåå˜é‡å¯¹ç´¯ç§¯å‘ç”Ÿç‡çš„å½±å“\n\n\n# å‡†å¤‡åå˜é‡çŸ©é˜µ\ncov_matrix &lt;- model.matrix(~ trt + age + grade, data = sim_data)[, -1]\n\n# æ„å»ºFine-Grayæ¨¡å‹\nfg_model &lt;- crr(\n    ftime = sim_data$time,\n    fstatus = sim_data$status,\n    cov1 = cov_matrix,\n    failcode = 1 # æ„Ÿå…´è¶£çš„äº‹ä»¶ç¼–ç \n)\n\n# æŸ¥çœ‹æ¨¡å‹ç»“æœ\nsummary(fg_model)\n\nCompeting Risks Regression\n\nCall:\ncrr(ftime = sim_data$time, fstatus = sim_data$status, cov1 = cov_matrix, \n    failcode = 1)\n\n              coef exp(coef) se(coef)       z p-value\ntrtDrug B  0.24484     1.277  0.22565  1.0850    0.28\nage        0.00167     1.002  0.00815  0.2046    0.84\ngradeII    0.23958     1.271  0.28161  0.8508    0.39\ngradeIII  -0.02344     0.977  0.29561 -0.0793    0.94\n\n          exp(coef) exp(-coef)  2.5% 97.5%\ntrtDrug B     1.277      0.783 0.821  1.99\nage           1.002      0.998 0.986  1.02\ngradeII       1.271      0.787 0.732  2.21\ngradeIII      0.977      1.024 0.547  1.74\n\nNum. cases = 200\nPseudo Log-likelihood = -367 \nPseudo likelihood ratio test = 2.45  on 4 df,\n\n\n\n\nç»“æœè§£é‡Š\n\n# æå–å…³é”®ç»“æœ\nfg_coef &lt;- summary(fg_model)$coef\n\n# åˆ›å»ºç»“æœè¡¨æ ¼\nresult_table &lt;- data.frame(\n    Variable = rownames(fg_coef),\n    sHR = round(exp(fg_coef[, \"coef\"]), 3),\n    `95% CI Lower` = round(exp(fg_coef[, \"coef\"] - 1.96 * fg_coef[, \"se(coef)\"]), 3),\n    `95% CI Upper` = round(exp(fg_coef[, \"coef\"] + 1.96 * fg_coef[, \"se(coef)\"]), 3),\n    P_value = round(fg_coef[, \"p-value\"], 4)\n)\n\nprint(result_table)\n\n           Variable   sHR X95..CI.Lower X95..CI.Upper P_value\ntrtDrug B trtDrug B 1.277         0.821         1.988    0.28\nage             age 1.002         0.986         1.018    0.84\ngradeII     gradeII 1.271         0.732         2.207    0.39\ngradeIII   gradeIII 0.977         0.547         1.744    0.94",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ç—…å› ç‰¹å¼‚æ€§é£é™©æ¨¡å‹",
    "href": "1050-competing-risks.html#ç—…å› ç‰¹å¼‚æ€§é£é™©æ¨¡å‹",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ç—…å› ç‰¹å¼‚æ€§é£é™©æ¨¡å‹",
    "text": "ç—…å› ç‰¹å¼‚æ€§é£é™©æ¨¡å‹\nä¸Fine-Grayæ¨¡å‹ä¸åŒï¼Œç—…å› ç‰¹å¼‚æ€§é£é™©æ¨¡å‹å…³æ³¨çš„æ˜¯ç¬æ—¶é£é™©ç‡ï¼š\n\nlibrary(survival)\n\n# ç™Œç—‡æ­»äº¡ä½œä¸ºäº‹ä»¶ï¼Œå…¶ä»–æ­»äº¡ä½œä¸ºåˆ å¤±\ncause_specific_model &lt;- coxph(\n    Surv(time, status == 1) ~ trt + age + grade,\n    data = sim_data\n)\n\nsummary(cause_specific_model)\n\nCall:\ncoxph(formula = Surv(time, status == 1) ~ trt + age + grade, \n    data = sim_data)\n\n  n= 200, number of events= 76 \n\n               coef exp(coef)  se(coef)      z Pr(&gt;|z|)\ntrtDrug B  0.374165  1.453777  0.236480  1.582    0.114\nage       -0.001860  0.998142  0.009651 -0.193    0.847\ngradeII    0.322012  1.379902  0.287979  1.118    0.263\ngradeIII   0.069921  1.072424  0.313757  0.223    0.824\n\n          exp(coef) exp(-coef) lower .95 upper .95\ntrtDrug B    1.4538     0.6879    0.9145     2.311\nage          0.9981     1.0019    0.9794     1.017\ngradeII      1.3799     0.7247    0.7847     2.426\ngradeIII     1.0724     0.9325    0.5798     1.984\n\nConcordance= 0.56  (se = 0.04 )\nLikelihood ratio test= 4.13  on 4 df,   p=0.4\nWald test            = 4.09  on 4 df,   p=0.4\nScore (logrank) test = 4.13  on 4 df,   p=0.4",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ä¸¤ç§æ¨¡å‹çš„æ¯”è¾ƒ",
    "href": "1050-competing-risks.html#ä¸¤ç§æ¨¡å‹çš„æ¯”è¾ƒ",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ä¸¤ç§æ¨¡å‹çš„æ¯”è¾ƒ",
    "text": "ä¸¤ç§æ¨¡å‹çš„æ¯”è¾ƒ\n\nä½•æ—¶ä½¿ç”¨å“ªç§æ¨¡å‹ï¼Ÿ\n\n\n\nç ”ç©¶ç›®çš„\næ¨èæ–¹æ³•\nç†ç”±\n\n\n\n\nç—…å› å­¦ç ”ç©¶\nCause-specific HR\nåæ˜ æš´éœ²ä¸ç–¾ç—…çš„â€çœŸæ­£â€å…³è”\n\n\né¢„åé¢„æµ‹\nFine-Gray (sHR)\nç›´æ¥å…³è”ç´¯ç§¯å‘ç”Ÿç‡\n\n\nå…¬å…±å«ç”Ÿå†³ç­–\nFine-Gray (sHR)\nåæ˜ å®é™…äººç¾¤ä¸­çš„é£é™©\n\n\nä¸´åºŠè¯•éªŒ\né€šå¸¸ä¸¤è€…éƒ½æŠ¥å‘Š\næä¾›å®Œæ•´ä¿¡æ¯",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#æ¨¡å‹è¯Šæ–­",
    "href": "1050-competing-risks.html#æ¨¡å‹è¯Šæ–­",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "æ¨¡å‹è¯Šæ–­",
    "text": "æ¨¡å‹è¯Šæ–­\n\næ¯”ä¾‹é£é™©å‡è®¾æ£€éªŒ\n\n# å¯¹ç—…å› ç‰¹å¼‚æ€§æ¨¡å‹è¿›è¡ŒPHæ£€éªŒ\nph_test &lt;- cox.zph(cause_specific_model)\nprint(ph_test)\n\n       chisq df    p\ntrt    2.062  1 0.15\nage    0.973  1 0.32\ngrade  0.855  2 0.65\nGLOBAL 4.120  4 0.39\n\n\n\n# å¯è§†åŒ–Schoenfeldæ®‹å·®\nif (any(ph_test$table[, \"p\"] &lt; 0.1)) {\n    plot(ph_test)\n} else {\n    cat(\"æ‰€æœ‰å˜é‡æ»¡è¶³æ¯”ä¾‹é£é™©å‡è®¾\\n\")\n}\n\næ‰€æœ‰å˜é‡æ»¡è¶³æ¯”ä¾‹é£é™©å‡è®¾",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "href": "1050-competing-risks.html#ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "ç»“æœæŠ¥å‘Šæ¨¡æ¿",
    "text": "ç»“æœæŠ¥å‘Šæ¨¡æ¿\n\næ–¹æ³•å­¦æè¿°\n\nå¯¹äºç«äº‰é£é™©æ•°æ®ï¼Œæˆ‘ä»¬é‡‡ç”¨Fine-Grayäºšåˆ†å¸ƒé£é™©æ¨¡å‹è¯„ä¼°å„å› ç´ å¯¹ä¸»è¦ç»ˆç‚¹ï¼ˆç™Œç—‡ç›¸å…³æ­»äº¡ï¼‰ç´¯ç§¯å‘ç”Ÿç‡çš„å½±å“ã€‚ç«äº‰é£é™©äº‹ä»¶å®šä¹‰ä¸ºéç™Œç—‡ç›¸å…³æ­»äº¡ã€‚ä½¿ç”¨Grayæ£€éªŒæ¯”è¾ƒä¸åŒç»„é—´ç´¯ç§¯å‘ç”Ÿå‡½æ•°çš„å·®å¼‚ã€‚æ‰€æœ‰åˆ†æä½¿ç”¨Rè½¯ä»¶çš„cmprskåŒ…å®Œæˆã€‚\n\n\n\nç»“æœæè¿°\n\nåœ¨XXä¾‹æ‚£è€…ä¸­ï¼ŒXXä¾‹(XX%)å‘ç”Ÿç™Œç—‡ç›¸å…³æ­»äº¡ï¼ŒXXä¾‹(XX%)å‘ç”Ÿéç™Œç—‡æ­»äº¡ï¼ŒXXä¾‹(XX%)ä»å­˜æ´»ã€‚24ä¸ªæœˆæ—¶ï¼Œè¯ç‰©Aç»„å’Œè¯ç‰©Bç»„çš„ç™Œç—‡æ­»äº¡ç´¯ç§¯å‘ç”Ÿç‡åˆ†åˆ«ä¸ºXX% (95%CI: XX-XX%)å’ŒXX% (95%CI: XX-XX%)ï¼ŒGrayæ£€éªŒP = XXã€‚\nå¤šå› ç´ Fine-Grayæ¨¡å‹æ˜¾ç¤ºï¼ŒXXæ˜¯ç™Œç—‡æ­»äº¡çš„ç‹¬ç«‹å±é™©å› ç´ ï¼ˆsHR = XX, 95%CI: XX-XX, P &lt; 0.05ï¼‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#å®ç”¨æŠ€å·§",
    "href": "1050-competing-risks.html#å®ç”¨æŠ€å·§",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "å®ç”¨æŠ€å·§",
    "text": "å®ç”¨æŠ€å·§\n\n1. å¦‚ä½•å®šä¹‰ç«äº‰äº‹ä»¶\n\n# å¸¸è§çš„ç«äº‰é£é™©ç¼–ç æ–¹å¼\ndata &lt;- data %&gt;%\n    mutate(\n        status_cr = case_when(\n            event == 0 ~ 0, # åˆ å¤±\n            event == 1 & cause == \"A\" ~ 1, # æ„Ÿå…´è¶£äº‹ä»¶\n            event == 1 & cause == \"B\" ~ 2, # ç«äº‰äº‹ä»¶1\n            event == 1 & cause == \"C\" ~ 2, # ç«äº‰äº‹ä»¶2ï¼ˆå¯åˆå¹¶ï¼‰\n            TRUE ~ NA_real_\n        )\n    )\n\n\n\n2. å¤šä¸ªç«äº‰äº‹ä»¶\n\n# åˆ†æä¸åŒç«äº‰äº‹ä»¶\n# failcode=1 åˆ†æäº‹ä»¶1\nfg_event1 &lt;- crr(ftime, fstatus, cov1, failcode = 1)\n\n# failcode=2 åˆ†æäº‹ä»¶2\nfg_event2 &lt;- crr(ftime, fstatus, cov1, failcode = 2)\n\n\n\n3. æ•æ„Ÿæ€§åˆ†æ\n\n# æ¯”è¾ƒå°†ç«äº‰äº‹ä»¶ä½œä¸ºåˆ å¤± vs æ­£ç¡®å¤„ç†çš„å·®å¼‚\n# æ–¹æ³•1ï¼šæ ‡å‡†KMï¼ˆå¯èƒ½é«˜ä¼°ï¼‰\nkm_naive &lt;- survfit(Surv(time, status == 1) ~ group, data = data)\n\n# æ–¹æ³•2ï¼šæ­£ç¡®çš„CIF\ncif_correct &lt;- cuminc(ftime, fstatus, group)\n\n# æ¯”è¾ƒä¸¤ç§ä¼°è®¡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#å‚è€ƒæ–‡çŒ®",
    "href": "1050-competing-risks.html#å‚è€ƒæ–‡çŒ®",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nFine JP, Gray RJ. A Proportional Hazards Model for the Subdistribution of a Competing Risk. JASA. 1999;94(446):496-509.\nAustin PC, Fine JP. Practical recommendations for reporting Fine-Gray model analyses for competing risk data. Stat Med. 2017;36(27):4391-4400.\nLatouche A, et al.Â A competing risks analysis should report results on all cause-specific hazards and cumulative incidence functions. JCE. 2013;66(6):648-653.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1050-competing-risks.html#æ€»ç»“",
    "href": "1050-competing-risks.html#æ€»ç»“",
    "title": "ç«äº‰é£é™©åˆ†æ (Competing Risks)",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nè¦ç‚¹\nè¯´æ˜\n\n\n\n\nä½•æ—¶ä½¿ç”¨\nå­˜åœ¨å¤šä¸ªäº’æ–¥ç»ˆç‚¹äº‹ä»¶æ—¶\n\n\nCIF\næ¯”KMæ›´å‡†ç¡®ä¼°è®¡ç´¯ç§¯å‘ç”Ÿç‡\n\n\nFine-Gray\nç”¨äºé¢„åé¢„æµ‹å’Œå…¬å…±å«ç”Ÿå†³ç­–\n\n\nç—…å› ç‰¹å¼‚æ€§\nç”¨äºç—…å› å­¦ç ”ç©¶\n\n\næŠ¥å‘Š\nå»ºè®®åŒæ—¶æŠ¥å‘Šä¸¤ç§åˆ†æç»“æœ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "ç«äº‰é£é™©åˆ†æ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html",
    "href": "1052-bootstrap.html",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "",
    "text": "å½“æ ·æœ¬é‡è¾ƒå°æˆ–æ•°æ®ä¸æ»¡è¶³å‚æ•°å‡è®¾æ—¶ï¼ŒBootstrapï¼ˆè‡ªåŠ©æ³•ï¼‰å’Œç½®æ¢æ£€éªŒæ˜¯ä¸¤ç§å¼ºå¤§çš„éå‚æ•°ç»Ÿè®¡æ–¹æ³•ã€‚å®ƒä»¬é€šè¿‡é‡æŠ½æ ·æŠ€æœ¯æ¥ä¼°è®¡ç»Ÿè®¡é‡çš„åˆ†å¸ƒï¼Œæ— éœ€å¯¹æ€»ä½“åˆ†å¸ƒåšå¼ºå‡è®¾ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#ä¸ºä»€ä¹ˆéœ€è¦é‡æŠ½æ ·æ–¹æ³•",
    "href": "1052-bootstrap.html#ä¸ºä»€ä¹ˆéœ€è¦é‡æŠ½æ ·æ–¹æ³•",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "ä¸ºä»€ä¹ˆéœ€è¦é‡æŠ½æ ·æ–¹æ³•ï¼Ÿ",
    "text": "ä¸ºä»€ä¹ˆéœ€è¦é‡æŠ½æ ·æ–¹æ³•ï¼Ÿ\n\nä¼ ç»Ÿæ–¹æ³•çš„å±€é™\n\næ­£æ€å‡è®¾ï¼šå¾ˆå¤šå‚æ•°æ£€éªŒå‡è®¾æ•°æ®æœä»æ­£æ€åˆ†å¸ƒ\nå¤§æ ·æœ¬ç†è®ºï¼šç½®ä¿¡åŒºé—´ä¾èµ–äºä¸­å¿ƒæé™å®šç†\nå¤æ‚ç»Ÿè®¡é‡ï¼šæŸäº›ç»Ÿè®¡é‡æ²¡æœ‰è§£æå…¬å¼\nå¼‚å¸¸å€¼æ•æ„Ÿï¼šä¼ ç»Ÿæ–¹æ³•å¯¹ç¦»ç¾¤ç‚¹ä¸ç¨³å¥\n\n\n\né‡æŠ½æ ·æ–¹æ³•çš„ä¼˜åŠ¿\n\n\n\nç‰¹ç‚¹\nBootstrap\nç½®æ¢æ£€éªŒ\n\n\n\n\nä¸»è¦ç”¨é€”\nä¼°è®¡æ ‡å‡†è¯¯/ç½®ä¿¡åŒºé—´\nå‡è®¾æ£€éªŒ\n\n\nåŸç†\næœ‰æ”¾å›é‡æŠ½æ ·\næ‰“ä¹±æ ‡ç­¾ï¼Œæ— æ”¾å›\n\n\nå‡è®¾\næ ·æœ¬ä»£è¡¨æ€»ä½“\nH0ä¸‹ç»„åˆ«å¯äº¤æ¢\n\n\né€‚ç”¨\nå‡ ä¹æ‰€æœ‰ç»Ÿè®¡é‡\nä¸¤ç»„/å¤šç»„æ¯”è¾ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#råŒ…å®‰è£…",
    "href": "1052-bootstrap.html#råŒ…å®‰è£…",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# å®‰è£…å¿…è¦åŒ…\npackages &lt;- c(\"boot\", \"tidyverse\")\n\nfor (pkg in packages) {\n    if (!require(pkg, character.only = TRUE, quietly = TRUE)) {\n        install.packages(pkg)\n        library(pkg, character.only = TRUE)\n    }\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#bootstrap-è‡ªåŠ©æ³•",
    "href": "1052-bootstrap.html#bootstrap-è‡ªåŠ©æ³•",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "Bootstrap è‡ªåŠ©æ³•",
    "text": "Bootstrap è‡ªåŠ©æ³•\n\nåŸºæœ¬åŸç†\nBootstrapçš„æ ¸å¿ƒæ€æƒ³ï¼š 1. ä»åŸæ ·æœ¬ï¼ˆnä¸ªè§‚æµ‹ï¼‰ä¸­æœ‰æ”¾å›åœ°æŠ½å–nä¸ªè§‚æµ‹ 2. è®¡ç®—æ„Ÿå…´è¶£çš„ç»Ÿè®¡é‡ 3. é‡å¤Bæ¬¡ï¼ˆé€šå¸¸B = 1000~10000ï¼‰ 4. ç”¨è¿™Bä¸ªç»Ÿè®¡é‡çš„åˆ†å¸ƒä¼°è®¡çœŸå®çš„æŠ½æ ·åˆ†å¸ƒ\n\nlibrary(tidyverse)\n\n# æ¨¡æ‹Ÿæ•°æ®\nset.seed(42)\ndata &lt;- rnorm(30, mean = 10, sd = 3)\n\n# æ‰‹åŠ¨å®ç°Bootstrap\nB &lt;- 1000\nboot_means &lt;- numeric(B)\n\nfor (i in 1:B) {\n    boot_sample &lt;- sample(data, size = length(data), replace = TRUE)\n    boot_means[i] &lt;- mean(boot_sample)\n}\n\n# å¯è§†åŒ–Bootstrapåˆ†å¸ƒ\ndata.frame(boot_mean = boot_means) %&gt;%\n    ggplot(aes(x = boot_mean)) +\n    geom_histogram(aes(y = after_stat(density)),\n        bins = 30,\n        fill = \"#4f46e5\", alpha = 0.7\n    ) +\n    geom_density(color = \"#dc2626\", linewidth = 1) +\n    geom_vline(\n        xintercept = mean(data), color = \"#059669\",\n        linewidth = 1.5, linetype = \"dashed\"\n    ) +\n    labs(\n        title = \"Bootstrap å‡å€¼åˆ†å¸ƒ\",\n        subtitle = paste0(\"åŸå§‹æ ·æœ¬å‡å€¼: \", round(mean(data), 2)),\n        x = \"Bootstrapå‡å€¼\",\n        y = \"å¯†åº¦\"\n    ) +\n    theme_minimal() +\n    theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\nBootstrapæ ‡å‡†è¯¯å’Œç½®ä¿¡åŒºé—´\n\n# Bootstrapæ ‡å‡†è¯¯\nboot_se &lt;- sd(boot_means)\ncat(\"Bootstrapæ ‡å‡†è¯¯:\", round(boot_se, 3), \"\\n\")\n\nBootstrapæ ‡å‡†è¯¯: 0.683 \n\n# ç™¾åˆ†ä½æ³•ç½®ä¿¡åŒºé—´\nci_percentile &lt;- quantile(boot_means, c(0.025, 0.975))\ncat(\"95% ç™¾åˆ†ä½ç½®ä¿¡åŒºé—´:\", round(ci_percentile, 3), \"\\n\")\n\n95% ç™¾åˆ†ä½ç½®ä¿¡åŒºé—´: 8.932 11.539 \n\n# ä¸ç†è®ºå€¼æ¯”è¾ƒ\ntheoretical_se &lt;- sd(data) / sqrt(length(data))\ncat(\"\\nç†è®ºæ ‡å‡†è¯¯:\", round(theoretical_se, 3), \"\\n\")\n\n\nç†è®ºæ ‡å‡†è¯¯: 0.687 \n\n\n\n\nä½¿ç”¨bootåŒ…\n\nlibrary(boot)\n\n# å®šä¹‰ç»Ÿè®¡å‡½æ•°\nmean_func &lt;- function(data, indices) {\n    return(mean(data[indices]))\n}\n\n# Bootstrap\nboot_result &lt;- boot(\n    data = data,\n    statistic = mean_func,\n    R = 1000\n)\n\nprint(boot_result)\n\n\nORDINARY NONPARAMETRIC BOOTSTRAP\n\n\nCall:\nboot(data = data, statistic = mean_func, R = 1000)\n\n\nBootstrap Statistics :\n    original       bias    std. error\nt1* 10.20576 -0.004315002   0.6604349\n\n\n\n\nBootstrapç½®ä¿¡åŒºé—´\n\n# è·å–ä¸åŒç±»å‹çš„ç½®ä¿¡åŒºé—´\nboot_ci &lt;- boot.ci(boot_result, type = c(\"norm\", \"basic\", \"perc\", \"bca\"))\nprint(boot_ci)\n\nBOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS\nBased on 1000 bootstrap replicates\n\nCALL : \nboot.ci(boot.out = boot_result, type = c(\"norm\", \"basic\", \"perc\", \n    \"bca\"))\n\nIntervals : \nLevel      Normal              Basic         \n95%   ( 8.92, 11.50 )   ( 8.84, 11.41 )  \n\nLevel     Percentile            BCa          \n95%   ( 9.01, 11.57 )   ( 9.04, 11.59 )  \nCalculations and Intervals on Original Scale\n\n\nç½®ä¿¡åŒºé—´ç±»å‹è¯´æ˜ï¼š\n\n\n\næ–¹æ³•\nè¯´æ˜\næ¨èåº¦\n\n\n\n\næ­£æ€æ³•\nå‡è®¾Bootstrapåˆ†å¸ƒæ­£æ€\nâ­â­\n\n\nåŸºæœ¬æ³•\nä½¿ç”¨åˆ†ä½æ•°ï¼Œå¯¹ç§°è°ƒæ•´\nâ­â­â­\n\n\nç™¾åˆ†ä½æ³•\nç›´æ¥ä½¿ç”¨Bootstrapåˆ†ä½æ•°\nâ­â­â­\n\n\nBCaæ³•\nåå·®æ ¡æ­£åŠ é€Ÿæ³•\nâ­â­â­â­â­\n\n\n\n\næ¨èä½¿ç”¨BCaæ³•ï¼Œå®ƒæ ¡æ­£äº†åå·®å’Œåæ–œï¼Œåœ¨å°æ ·æœ¬ä¸­è¡¨ç°æ›´å¥½ã€‚\n\n\n\nå›å½’ç³»æ•°çš„Bootstrap\n\n# ä½¿ç”¨mtcarsæ•°æ®\ndata(mtcars)\n\n# å®šä¹‰å›å½’ç³»æ•°æå–å‡½æ•°\nreg_coef &lt;- function(data, indices) {\n    d &lt;- data[indices, ]\n    fit &lt;- lm(mpg ~ wt + hp, data = d)\n    return(coef(fit))\n}\n\n# Bootstrapå›å½’\nboot_reg &lt;- boot(data = mtcars, statistic = reg_coef, R = 1000)\n\n# æŸ¥çœ‹ç»“æœ\nprint(boot_reg)\n\n\nORDINARY NONPARAMETRIC BOOTSTRAP\n\n\nCall:\nboot(data = mtcars, statistic = reg_coef, R = 1000)\n\n\nBootstrap Statistics :\n       original       bias    std. error\nt1* 37.22727012  0.018234418 2.131452964\nt2* -3.87783074  0.022251806 0.711688627\nt3* -0.03177295 -0.001074946 0.008186481\n\n\n\n# wtç³»æ•°çš„ç½®ä¿¡åŒºé—´\nboot.ci(boot_reg, type = \"bca\", index = 2) # index=2 è¡¨ç¤ºwtç³»æ•°\n\nBOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS\nBased on 1000 bootstrap replicates\n\nCALL : \nboot.ci(boot.out = boot_reg, type = \"bca\", index = 2)\n\nIntervals : \nLevel       BCa          \n95%   (-5.293, -2.495 )  \nCalculations and Intervals on Original Scale",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#ç½®æ¢æ£€éªŒ-permutation-test",
    "href": "1052-bootstrap.html#ç½®æ¢æ£€éªŒ-permutation-test",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "ç½®æ¢æ£€éªŒ (Permutation Test)",
    "text": "ç½®æ¢æ£€éªŒ (Permutation Test)\n\nåŸºæœ¬åŸç†\nç½®æ¢æ£€éªŒç”¨äºå‡è®¾æ£€éªŒï¼Œæ ¸å¿ƒæ€æƒ³ï¼š 1. åœ¨åŸå‡è®¾H0ä¸‹ï¼Œç»„åˆ«æ ‡ç­¾å¯¹ç»“æœæ²¡æœ‰å½±å“ 2. æ‰“ä¹±ç»„åˆ«æ ‡ç­¾ï¼Œé‡æ–°è®¡ç®—ç»Ÿè®¡é‡ 3. é‡å¤å¤šæ¬¡ï¼Œå¾—åˆ°H0ä¸‹çš„åˆ†å¸ƒ 4. æ¯”è¾ƒè§‚æµ‹ç»Ÿè®¡é‡ä¸è¯¥åˆ†å¸ƒï¼Œè®¡ç®—på€¼\n\n# ä¸¤ç»„æ¯”è¾ƒçš„ç½®æ¢æ£€éªŒ\ngroup_A &lt;- c(12.5, 14.2, 15.8, 13.1, 16.2, 11.9)\ngroup_B &lt;- c(18.3, 17.1, 19.5, 16.8, 20.2, 17.9)\n\n# è§‚æµ‹åˆ°çš„å·®å¼‚\nobs_diff &lt;- mean(group_B) - mean(group_A)\ncat(\"è§‚æµ‹åˆ°çš„å‡å€¼å·®:\", round(obs_diff, 2), \"\\n\")\n\nè§‚æµ‹åˆ°çš„å‡å€¼å·®: 4.35 \n\n# ç½®æ¢æ£€éªŒ\nset.seed(42)\nn_perm &lt;- 10000\nperm_diffs &lt;- numeric(n_perm)\ncombined &lt;- c(group_A, group_B)\nn_A &lt;- length(group_A)\n\nfor (i in 1:n_perm) {\n    shuffled &lt;- sample(combined)\n    perm_diffs[i] &lt;- mean(shuffled[(n_A + 1):length(combined)]) -\n        mean(shuffled[1:n_A])\n}\n\n# è®¡ç®—på€¼ï¼ˆåŒä¾§ï¼‰\np_value &lt;- mean(abs(perm_diffs) &gt;= abs(obs_diff))\ncat(\"ç½®æ¢æ£€éªŒ på€¼:\", p_value, \"\\n\")\n\nç½®æ¢æ£€éªŒ på€¼: 0.0019 \n\n\n\n# å¯è§†åŒ–\ndata.frame(diff = perm_diffs) %&gt;%\n    ggplot(aes(x = diff)) +\n    geom_histogram(bins = 50, fill = \"#6366f1\", alpha = 0.7) +\n    geom_vline(\n        xintercept = obs_diff, color = \"#dc2626\",\n        linewidth = 1.5, linetype = \"dashed\"\n    ) +\n    geom_vline(\n        xintercept = -obs_diff, color = \"#dc2626\",\n        linewidth = 1.5, linetype = \"dashed\"\n    ) +\n    labs(\n        title = \"ç½®æ¢æ£€éªŒï¼šH0ä¸‹çš„å‡å€¼å·®åˆ†å¸ƒ\",\n        subtitle = paste0(\n            \"è§‚æµ‹å·®å€¼: \", round(obs_diff, 2),\n            \", på€¼: \", round(p_value, 4)\n        ),\n        x = \"ç½®æ¢åçš„å‡å€¼å·®\",\n        y = \"é¢‘æ•°\"\n    ) +\n    theme_minimal() +\n    theme(plot.title = element_text(face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\né…å¯¹æ ·æœ¬çš„ç½®æ¢æ£€éªŒ\n\n# é…å¯¹æ•°æ®\nbefore &lt;- c(25, 30, 28, 35, 32, 27, 29, 31)\nafter &lt;- c(23, 28, 24, 30, 29, 25, 26, 28)\ndiff &lt;- after - before\n\n# é…å¯¹ç½®æ¢æ£€éªŒï¼ˆç¬¦å·ç½®æ¢ï¼‰\nset.seed(42)\nn_perm &lt;- 10000\nn &lt;- length(diff)\nobs_mean_diff &lt;- mean(diff)\n\nperm_means &lt;- numeric(n_perm)\nfor (i in 1:n_perm) {\n    signs &lt;- sample(c(-1, 1), n, replace = TRUE)\n    perm_means[i] &lt;- mean(diff * signs)\n}\n\np_value_paired &lt;- mean(abs(perm_means) &gt;= abs(obs_mean_diff))\ncat(\"é…å¯¹ç½®æ¢æ£€éªŒ på€¼:\", p_value_paired, \"\\n\")\n\né…å¯¹ç½®æ¢æ£€éªŒ på€¼: 0.0093",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#å®é™…åº”ç”¨æ¡ˆä¾‹",
    "href": "1052-bootstrap.html#å®é™…åº”ç”¨æ¡ˆä¾‹",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "å®é™…åº”ç”¨æ¡ˆä¾‹",
    "text": "å®é™…åº”ç”¨æ¡ˆä¾‹\n\næ¡ˆä¾‹1ï¼šä¸­ä½æ•°çš„Bootstrapç½®ä¿¡åŒºé—´\n\n# åæ€æ•°æ®\nset.seed(42)\nskewed_data &lt;- rexp(50, rate = 0.1)\n\n# ä¸­ä½æ•°çš„Bootstrap\nmedian_func &lt;- function(data, indices) {\n    return(median(data[indices]))\n}\n\nboot_median &lt;- boot(skewed_data, median_func, R = 2000)\nboot.ci(boot_median, type = \"bca\")\n\nBOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS\nBased on 2000 bootstrap replicates\n\nCALL : \nboot.ci(boot.out = boot_median, type = \"bca\")\n\nIntervals : \nLevel       BCa          \n95%   ( 4.244, 11.916 )  \nCalculations and Intervals on Original Scale\n\n\n\n\næ¡ˆä¾‹2ï¼šç›¸å…³ç³»æ•°çš„Bootstrap\n\n# ç›¸å…³ç³»æ•°Bootstrap\ncor_func &lt;- function(data, indices) {\n    d &lt;- data[indices, ]\n    return(cor(d$mpg, d$wt))\n}\n\nboot_cor &lt;- boot(mtcars[, c(\"mpg\", \"wt\")], cor_func, R = 2000)\nboot.ci(boot_cor, type = \"bca\")\n\nBOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS\nBased on 2000 bootstrap replicates\n\nCALL : \nboot.ci(boot.out = boot_cor, type = \"bca\")\n\nIntervals : \nLevel       BCa          \n95%   (-0.9191, -0.7708 )  \nCalculations and Intervals on Original Scale",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "href": "1052-bootstrap.html#æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "text": "æŠ¥å‘Šæ’°å†™æ¨¡æ¿\n\næ–¹æ³•éƒ¨åˆ†ï¼ˆBootstrapï¼‰\n\nä½¿ç”¨éå‚æ•°Bootstrapæ–¹æ³•ä¼°è®¡ç»Ÿè®¡é‡çš„æ ‡å‡†è¯¯å’Œç½®ä¿¡åŒºé—´ã€‚ä»åŸå§‹æ ·æœ¬ä¸­æœ‰æ”¾å›åœ°æŠ½å–10000ä¸ªBootstrapæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬å¤§å°ä¸åŸå§‹æ ·æœ¬ç›¸åŒã€‚é‡‡ç”¨åå·®æ ¡æ­£åŠ é€Ÿï¼ˆBCaï¼‰æ–¹æ³•è®¡ç®—95%ç½®ä¿¡åŒºé—´ã€‚åˆ†æä½¿ç”¨Rè½¯ä»¶çš„bootåŒ…å®Œæˆã€‚\n\n\n\næ–¹æ³•éƒ¨åˆ†ï¼ˆç½®æ¢æ£€éªŒï¼‰\n\né‡‡ç”¨ç½®æ¢æ£€éªŒæ¯”è¾ƒä¸¤ç»„é—´çš„å·®å¼‚ã€‚åœ¨åŸå‡è®¾ï¼ˆä¸¤ç»„æ— å·®å¼‚ï¼‰ä¸‹ï¼Œé€šè¿‡éšæœºé‡æ’ç»„åˆ«æ ‡ç­¾ç”Ÿæˆ10000ä¸ªç½®æ¢æ ·æœ¬ï¼Œæ„å»ºç»Ÿè®¡é‡çš„é›¶åˆ†å¸ƒã€‚åŒä¾§på€¼å®šä¹‰ä¸ºé›¶åˆ†å¸ƒä¸­ç»å¯¹å€¼å¤§äºç­‰äºè§‚æµ‹ç»Ÿè®¡é‡çš„æ¯”ä¾‹ã€‚\n\n\n\nç»“æœéƒ¨åˆ†\n\nBootstrapåˆ†ææ˜¾ç¤ºï¼Œæ ·æœ¬ä¸­ä½æ•°ä¸ºXXï¼ˆBCa 95% CI: XXè‡³XXï¼‰ã€‚ç½®æ¢æ£€éªŒç»“æœè¡¨æ˜ï¼Œä¸¤ç»„å‡å€¼å·®å¼‚å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰ï¼ˆè§‚æµ‹å·®å€¼ = XXï¼Œç½®æ¢æ£€éªŒ p = XXï¼‰ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#å®ç”¨æŠ€å·§",
    "href": "1052-bootstrap.html#å®ç”¨æŠ€å·§",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "å®ç”¨æŠ€å·§",
    "text": "å®ç”¨æŠ€å·§\n\n1. é€‰æ‹©é‡æŠ½æ ·æ¬¡æ•°\n\næ ‡å‡†è¯¯ä¼°è®¡ï¼šR = 1000 é€šå¸¸è¶³å¤Ÿ\nç½®ä¿¡åŒºé—´ï¼ˆBCaï¼‰ï¼šR = 2000-5000\nç½®æ¢æ£€éªŒpå€¼ï¼šR = 10000ï¼ˆç²¾ç¡®åˆ°4ä½å°æ•°ï¼‰\n\n\n\n2. æ£€æŸ¥ç¨³å®šæ€§\n\n# æ£€æŸ¥Bootstrapç»“æœæ˜¯å¦ç¨³å®š\nstability &lt;- numeric(5)\nfor (j in 1:5) {\n    boot_temp &lt;- boot(data, mean_func, R = 1000)\n    stability[j] &lt;- sd(boot_temp$t)\n}\ncat(\"5æ¬¡Bootstrapæ ‡å‡†è¯¯:\", round(stability, 3), \"\\n\")\n\n5æ¬¡Bootstrapæ ‡å‡†è¯¯: 0.653 0.664 0.673 0.663 0.681 \n\ncat(\"å˜å¼‚ç³»æ•°:\", round(sd(stability) / mean(stability), 4), \"\\n\")\n\nå˜å¼‚ç³»æ•°: 0.0159",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#æ–¹æ³•é€‰æ‹©æŒ‡å—",
    "href": "1052-bootstrap.html#æ–¹æ³•é€‰æ‹©æŒ‡å—",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "æ–¹æ³•é€‰æ‹©æŒ‡å—",
    "text": "æ–¹æ³•é€‰æ‹©æŒ‡å—\n\n\n\nåœºæ™¯\næ¨èæ–¹æ³•\n\n\n\n\nä¼°è®¡æ ‡å‡†è¯¯\nBootstrap\n\n\nç½®ä¿¡åŒºé—´ï¼ˆå°æ ·æœ¬ï¼‰\nBootstrap BCa\n\n\nä¸¤ç»„æ¯”è¾ƒ\nç½®æ¢æ£€éªŒ\n\n\né…å¯¹æ¯”è¾ƒ\nç¬¦å·ç½®æ¢æ£€éªŒ\n\n\nç›¸å…³æ€§æ˜¾è‘—æ€§\nç½®æ¢æ£€éªŒ\n\n\nå¤æ‚ç»Ÿè®¡é‡\nBootstrap\n\n\néæ­£æ€æ•°æ®\nBootstrapæˆ–ç½®æ¢æ£€éªŒ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#å¸¸è§é™·é˜±",
    "href": "1052-bootstrap.html#å¸¸è§é™·é˜±",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "å¸¸è§é™·é˜±",
    "text": "å¸¸è§é™·é˜±\n\næ ·æœ¬é‡å¤ªå°ï¼šBootstrapéœ€è¦æ ·æœ¬èƒ½ä»£è¡¨æ€»ä½“ï¼Œn &lt; 20æ—¶è°¨æ…ä½¿ç”¨\nç›¸ä¾æ•°æ®ï¼šæ—¶é—´åºåˆ—éœ€è¦å—çŠ¶Bootstrap\næœ‰ç•Œå‚æ•°ï¼šå¦‚æ¯”ä¾‹æ¥è¿‘0æˆ–1æ—¶ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†\nè®¡ç®—å¯†é›†ï¼šå¤æ‚æ¨¡å‹å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1052-bootstrap.html#æ€»ç»“",
    "href": "1052-bootstrap.html#æ€»ç»“",
    "title": "Bootstrapä¸ç½®æ¢æ£€éªŒ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nè¦ç‚¹\nè¯´æ˜\n\n\n\n\nBootstrap\né€šè¿‡æœ‰æ”¾å›é‡æŠ½æ ·ä¼°è®¡æŠ½æ ·åˆ†å¸ƒ\n\n\nç½®æ¢æ£€éªŒ\né€šè¿‡æ‰“ä¹±æ ‡ç­¾æ£€éªŒH0\n\n\nç½®ä¿¡åŒºé—´\næ¨èä½¿ç”¨BCaæ–¹æ³•\n\n\né‡æŠ½æ ·æ¬¡æ•°\næ ‡å‡†è¯¯1000æ¬¡ï¼ŒCIå’Œpå€¼éœ€æ›´å¤š\n\n\nä¼˜åŠ¿\nåˆ†å¸ƒè‡ªç”±ï¼Œé€‚ç”¨äºå¤æ‚ç»Ÿè®¡é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "Bootstrapä¸ç½®æ¢æ£€éªŒ"
    ]
  },
  {
    "objectID": "1054-subgroup.html",
    "href": "1054-subgroup.html",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "",
    "text": "äºšç»„åˆ†æï¼ˆSubgroup Analysisï¼‰æ˜¯ä¸´åºŠç ”ç©¶ä¸­è¯„ä¼°æ²»ç–—æ•ˆæœå¼‚è´¨æ€§çš„é‡è¦æ–¹æ³•ã€‚é€šè¿‡æ¢ç´¢ä¸åŒäººç¾¤ç‰¹å¾ä¸‹çš„æ²»ç–—æ•ˆæœå·®å¼‚ï¼Œå¯ä»¥ä¸ºä¸ªä½“åŒ–æ²»ç–—æä¾›ä¾æ®ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#ä»€ä¹ˆæ˜¯äºšç»„åˆ†æ",
    "href": "1054-subgroup.html#ä»€ä¹ˆæ˜¯äºšç»„åˆ†æ",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "ä»€ä¹ˆæ˜¯äºšç»„åˆ†æï¼Ÿ",
    "text": "ä»€ä¹ˆæ˜¯äºšç»„åˆ†æï¼Ÿ\n\nå®šä¹‰ä¸ç›®çš„\näºšç»„åˆ†ææ˜¯å°†ç ”ç©¶äººç¾¤æŒ‰æŸäº›ç‰¹å¾ï¼ˆå¦‚å¹´é¾„ã€æ€§åˆ«ã€ç–¾ç—…ä¸¥é‡ç¨‹åº¦ï¼‰åˆ†å±‚ï¼Œåˆ†åˆ«è¯„ä¼°å„äºšç»„ä¸­å¹²é¢„çš„æ•ˆæœã€‚\nä¸»è¦ç›®çš„ï¼š 1. æ¢ç´¢æ•ˆæœä¿®é¥°ï¼šæŸäº›äººç¾¤æ˜¯å¦è·ç›Šæ›´å¤š/æ›´å°‘ï¼Ÿ 2. éªŒè¯ç»“æœä¸€è‡´æ€§ï¼šä¸»è¦ç»“æœæ˜¯å¦åœ¨å„äºšç»„ä¸­ä¸€è‡´ï¼Ÿ 3. ç”Ÿæˆå‡è®¾ï¼šä¸ºåç»­ç ”ç©¶æä¾›æ–¹å‘ 4. æŒ‡å¯¼ä¸´åºŠå†³ç­–ï¼šä¸ªä½“åŒ–æ²»ç–—\n\n\näºšç»„åˆ†æ vs äº¤äº’ä½œç”¨\n\n\n\næ¦‚å¿µ\nå«ä¹‰\næ£€éªŒæ–¹æ³•\n\n\n\n\näºšç»„æ•ˆåº”\nå„äºšç»„å†…çš„æ²»ç–—æ•ˆæœ\nåˆ†å±‚åˆ†æ\n\n\näº¤äº’ä½œç”¨\näºšç»„é—´æ•ˆæœå·®å¼‚æ˜¯å¦æ˜¾è‘—\näº¤äº’é¡¹æ£€éªŒ\n\n\n\n\nâš ï¸ å…³é”®ç‚¹ï¼šä»…å½“äº¤äº’ä½œç”¨På€¼ &lt; 0.05ï¼ˆæˆ–é¢„è®¾é˜ˆå€¼ï¼‰æ—¶ï¼Œæ‰èƒ½è®¤ä¸ºäºšç»„é—´å­˜åœ¨çœŸæ­£çš„æ•ˆæœä¿®é¥°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#råŒ…å®‰è£…",
    "href": "1054-subgroup.html#råŒ…å®‰è£…",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# å®‰è£…å¿…è¦åŒ…\npackages &lt;- c(\"survival\", \"tidyverse\", \"broom\", \"gtsummary\")\n\nfor (pkg in packages) {\n    if (!require(pkg, character.only = TRUE, quietly = TRUE)) {\n        install.packages(pkg)\n        library(pkg, character.only = TRUE)\n    }\n}",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#æ•°æ®å‡†å¤‡",
    "href": "1054-subgroup.html#æ•°æ®å‡†å¤‡",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\n\nlibrary(tidyverse)\nlibrary(survival)\n\n# ä½¿ç”¨gtsummaryçš„trialæ•°æ®\ndata(trial, package = \"gtsummary\")\n\n# æŸ¥çœ‹æ•°æ®\nhead(trial)\n\n# A tibble: 6 Ã— 8\n  trt      age marker stage grade response death ttdeath\n  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt;    &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;\n1 Drug A    23  0.16  T1    II           0     0    24  \n2 Drug B     9  1.11  T2    I            1     0    24  \n3 Drug A    31  0.277 T1    II           0     0    24  \n4 Drug A    NA  2.07  T3    III          1     1    17.6\n5 Drug A    51  2.77  T4    III          1     1    16.4\n6 Drug B    39  0.613 T4    I            0     1    15.6\n\n# åˆ›å»ºäºšç»„å˜é‡\ntrial &lt;- trial %&gt;%\n    mutate(\n        age_group = ifelse(age &gt; 60, \"&gt;60å²\", \"â‰¤60å²\"),\n        marker_high = ifelse(marker &gt; median(marker, na.rm = TRUE), \"é«˜è¡¨è¾¾\", \"ä½è¡¨è¾¾\")\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#åŸºæœ¬äºšç»„åˆ†æ",
    "href": "1054-subgroup.html#åŸºæœ¬äºšç»„åˆ†æ",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "åŸºæœ¬äºšç»„åˆ†æ",
    "text": "åŸºæœ¬äºšç»„åˆ†æ\n\nè®¡ç®—å„äºšç»„OR\n\nlibrary(broom)\n\n# å‡½æ•°ï¼šè®¡ç®—äºšç»„å†…çš„OR\ncalc_subgroup_or &lt;- function(data, subgroup_var, subgroup_level) {\n    subdata &lt;- data %&gt;%\n        filter(!!sym(subgroup_var) == subgroup_level, !is.na(response))\n\n    if (nrow(subdata) &lt; 10) {\n        return(NULL)\n    }\n\n    model &lt;- glm(response ~ trt, data = subdata, family = binomial)\n\n    result &lt;- tidy(model, conf.int = TRUE, exponentiate = TRUE) %&gt;%\n        filter(term == \"trtDrug B\") %&gt;%\n        mutate(\n            subgroup = subgroup_var,\n            level = subgroup_level,\n            n = nrow(subdata)\n        )\n\n    return(result)\n}\n\n# è®¡ç®—å¹´é¾„äºšç»„OR\nor_age_young &lt;- calc_subgroup_or(trial, \"age_group\", \"â‰¤60å²\")\nor_age_old &lt;- calc_subgroup_or(trial, \"age_group\", \"&gt;60å²\")\n\n# åˆå¹¶ç»“æœ\nage_results &lt;- bind_rows(or_age_young, or_age_old)\nprint(age_results %&gt;% select(subgroup, level, n, estimate, conf.low, conf.high, p.value))\n\n# A tibble: 2 Ã— 7\n  subgroup  level     n estimate conf.low conf.high p.value\n  &lt;chr&gt;     &lt;chr&gt; &lt;int&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 age_group â‰¤60å²   147     1.09    0.537      2.22   0.814\n2 age_group &gt;60å²    36     1.44    0.372      5.70   0.593\n\n\n\n\nè®¡ç®—è‚¿ç˜¤åˆ†çº§äºšç»„\n\n# è®¡ç®—gradeäºšç»„\ngrade_results &lt;- map_dfr(c(\"I\", \"II\", \"III\"), ~ calc_subgroup_or(trial, \"grade\", .x))\nprint(grade_results %&gt;% select(subgroup, level, n, estimate, conf.low, conf.high, p.value))\n\n# A tibble: 3 Ã— 7\n  subgroup level     n estimate conf.low conf.high p.value\n  &lt;chr&gt;    &lt;chr&gt; &lt;int&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;\n1 grade    I        67    2.31     0.814      6.89   0.121\n2 grade    II       63    1.88     0.633      5.90   0.263\n3 grade    III      63    0.418    0.138      1.21   0.112",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#äº¤äº’ä½œç”¨æ£€éªŒ",
    "href": "1054-subgroup.html#äº¤äº’ä½œç”¨æ£€éªŒ",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "äº¤äº’ä½œç”¨æ£€éªŒ",
    "text": "äº¤äº’ä½œç”¨æ£€éªŒ\n\næ–¹æ³•1ï¼šäº¤äº’é¡¹æ³•\n\n# åœ¨æ¨¡å‹ä¸­åŠ å…¥äº¤äº’é¡¹\nmodel_interaction &lt;- glm(\n    response ~ trt * age_group + grade,\n    data = trial,\n    family = binomial\n)\n\nsummary(model_interaction)\n\n\nCall:\nglm(formula = response ~ trt * age_group + grade, family = binomial, \n    data = trial)\n\nCoefficients:\n                         Estimate Std. Error z value Pr(&gt;|z|)\n(Intercept)              -0.58495    0.51610  -1.133    0.257\ntrtDrug B                 0.36937    0.68887   0.536    0.592\nage_groupâ‰¤60å²           -0.27095    0.53938  -0.502    0.615\ngradeII                  -0.14682    0.39339  -0.373    0.709\ngradeIII                  0.02605    0.38346   0.068    0.946\ntrtDrug B:age_groupâ‰¤60å² -0.28933    0.77805  -0.372    0.710\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 228.58  on 182  degrees of freedom\nResidual deviance: 226.98  on 177  degrees of freedom\n  (å› ä¸ºä¸å­˜åœ¨ï¼Œ17ä¸ªè§‚å¯Ÿé‡è¢«åˆ é™¤äº†)\nAIC: 238.98\n\nNumber of Fisher Scoring iterations: 4\n\n# æå–äº¤äº’é¡¹på€¼\ninteraction_p &lt;- tidy(model_interaction) %&gt;%\n    filter(str_detect(term, \":\")) %&gt;%\n    select(term, estimate, p.value)\n\nprint(interaction_p)\n\n# A tibble: 1 Ã— 3\n  term                     estimate p.value\n  &lt;chr&gt;                       &lt;dbl&gt;   &lt;dbl&gt;\n1 trtDrug B:age_groupâ‰¤60å²   -0.289   0.710\n\n\n\n\næ–¹æ³•2ï¼šä¼¼ç„¶æ¯”æ£€éªŒ\n\n# æ— äº¤äº’æ¨¡å‹\nmodel_main &lt;- glm(\n    response ~ trt + age_group + grade,\n    data = trial,\n    family = binomial\n)\n\n# æœ‰äº¤äº’æ¨¡å‹\nmodel_inter &lt;- glm(\n    response ~ trt * age_group + grade,\n    data = trial,\n    family = binomial\n)\n\n# ä¼¼ç„¶æ¯”æ£€éªŒ\nlr_test &lt;- anova(model_main, model_inter, test = \"Chisq\")\nprint(lr_test)\n\nAnalysis of Deviance Table\n\nModel 1: response ~ trt + age_group + grade\nModel 2: response ~ trt * age_group + grade\n  Resid. Df Resid. Dev Df Deviance Pr(&gt;Chi)\n1       178     227.12                     \n2       177     226.98  1  0.13843   0.7099\n\ncat(\"\\näº¤äº’ä½œç”¨ På€¼:\", lr_test$`Pr(&gt;Chi)`[2], \"\\n\")\n\n\näº¤äº’ä½œç”¨ På€¼: 0.7098503 \n\n\n\n\nå¤šä¸ªäºšç»„å˜é‡çš„äº¤äº’æ£€éªŒ\n\n# æ£€éªŒå¤šä¸ªå˜é‡çš„äº¤äº’ä½œç”¨\ntest_interaction &lt;- function(data, outcome, treatment, subgroup) {\n    formula_main &lt;- as.formula(paste(outcome, \"~\", treatment, \"+\", subgroup))\n    formula_inter &lt;- as.formula(paste(outcome, \"~\", treatment, \"*\", subgroup))\n\n    model_main &lt;- glm(formula_main, data = data, family = binomial)\n    model_inter &lt;- glm(formula_inter, data = data, family = binomial)\n\n    lr &lt;- anova(model_main, model_inter, test = \"Chisq\")\n\n    return(data.frame(\n        subgroup = subgroup,\n        p_interaction = lr$`Pr(&gt;Chi)`[2]\n    ))\n}\n\n# æ£€éªŒæ‰€æœ‰äºšç»„çš„äº¤äº’ä½œç”¨\ninteraction_results &lt;- map_dfr(\n    c(\"age_group\", \"grade\", \"stage\"),\n    ~ test_interaction(trial, \"response\", \"trt\", .x)\n)\n\nprint(interaction_results)\n\n   subgroup p_interaction\n1 age_group    0.71610982\n2     grade    0.05115396\n3     stage    0.54983155",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#ç®€å•æ£®æ—å›¾å¯è§†åŒ–",
    "href": "1054-subgroup.html#ç®€å•æ£®æ—å›¾å¯è§†åŒ–",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "ç®€å•æ£®æ—å›¾å¯è§†åŒ–",
    "text": "ç®€å•æ£®æ—å›¾å¯è§†åŒ–\n\n# åˆå¹¶æ‰€æœ‰äºšç»„ç»“æœ\nall_results &lt;- bind_rows(age_results, grade_results) %&gt;%\n    mutate(\n        label = paste(subgroup, level, sep = \": \"),\n        or_ci = sprintf(\"%.2f (%.2f-%.2f)\", estimate, conf.low, conf.high)\n    )\n\n# ä½¿ç”¨ggplot2ç»‘åˆ¶ç®€å•æ£®æ—å›¾\nggplot(all_results, aes(x = estimate, y = reorder(label, estimate))) +\n    geom_vline(xintercept = 1, linetype = \"dashed\", color = \"gray50\") +\n    geom_point(aes(size = n), color = \"#4f46e5\") +\n    geom_errorbarh(aes(xmin = conf.low, xmax = conf.high), height = 0.2, color = \"#4f46e5\") +\n    geom_text(aes(x = max(conf.high) * 1.2, label = or_ci), hjust = 0, size = 3) +\n    scale_x_log10() +\n    scale_size_continuous(range = c(3, 6)) +\n    labs(\n        title = \"äºšç»„åˆ†ææ£®æ—å›¾\",\n        subtitle = \"Drug B vs Drug A - æ²»ç–—ååº”\",\n        x = \"æ¯”å€¼æ¯” OR (95% CI)\",\n        y = NULL,\n        size = \"æ ·æœ¬é‡\"\n    ) +\n    theme_minimal() +\n    theme(\n        plot.title = element_text(face = \"bold\", size = 14),\n        legend.position = \"bottom\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#ç”Ÿå­˜åˆ†æä¸­çš„äºšç»„åˆ†æ",
    "href": "1054-subgroup.html#ç”Ÿå­˜åˆ†æä¸­çš„äºšç»„åˆ†æ",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "ç”Ÿå­˜åˆ†æä¸­çš„äºšç»„åˆ†æ",
    "text": "ç”Ÿå­˜åˆ†æä¸­çš„äºšç»„åˆ†æ\n\n# Coxå›å½’äºšç»„åˆ†æ\ncalc_subgroup_hr &lt;- function(data, subgroup_var, subgroup_level) {\n    subdata &lt;- data %&gt;%\n        filter(!!sym(subgroup_var) == subgroup_level)\n\n    if (nrow(subdata) &lt; 10) {\n        return(NULL)\n    }\n\n    model &lt;- coxph(Surv(ttdeath, death) ~ trt, data = subdata)\n\n    result &lt;- tidy(model, conf.int = TRUE, exponentiate = TRUE) %&gt;%\n        mutate(\n            subgroup = subgroup_var,\n            level = subgroup_level,\n            n = nrow(subdata),\n            events = sum(subdata$death)\n        )\n\n    return(result)\n}\n\n# è®¡ç®—å¹´é¾„äºšç»„HR\nhr_age &lt;- map_dfr(c(\"â‰¤60å²\", \"&gt;60å²\"), ~ calc_subgroup_hr(trial, \"age_group\", .x))\nprint(hr_age %&gt;% select(subgroup, level, n, events, estimate, conf.low, conf.high))\n\n# A tibble: 2 Ã— 7\n  subgroup  level     n events estimate conf.low conf.high\n  &lt;chr&gt;     &lt;chr&gt; &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;\n1 age_group â‰¤60å²   152     82     1.39    0.900      2.16\n2 age_group &gt;60å²    37     21     1.10    0.466      2.59\n\n# äº¤äº’ä½œç”¨æ£€éªŒï¼ˆCoxæ¨¡å‹ï¼‰\ncox_inter &lt;- coxph(Surv(ttdeath, death) ~ trt * age_group, data = trial)\nsummary(cox_inter)\n\nCall:\ncoxph(formula = Surv(ttdeath, death) ~ trt * age_group, data = trial)\n\n  n= 189, number of events= 103 \n   (å› ä¸ºä¸å­˜åœ¨ï¼Œ11ä¸ªè§‚å¯Ÿé‡è¢«åˆ é™¤äº†)\n\n                            coef exp(coef) se(coef)      z Pr(&gt;|z|)\ntrtDrug B                 0.1081    1.1141   0.4370  0.247    0.805\nage_groupâ‰¤60å²           -0.2449    0.7828   0.3457 -0.708    0.479\ntrtDrug B:age_groupâ‰¤60å²  0.2182    1.2439   0.4909  0.445    0.657\n\n                         exp(coef) exp(-coef) lower .95 upper .95\ntrtDrug B                   1.1141     0.8976    0.4731     2.624\nage_groupâ‰¤60å²              0.7828     1.2775    0.3975     1.541\ntrtDrug B:age_groupâ‰¤60å²    1.2439     0.8039    0.4753     3.255\n\nConcordance= 0.551  (se = 0.027 )\nLikelihood ratio test= 2.46  on 3 df,   p=0.5\nWald test            = 2.39  on 3 df,   p=0.5\nScore (logrank) test = 2.41  on 3 df,   p=0.5",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#æ–¹æ³•è®ºæ³¨æ„äº‹é¡¹",
    "href": "1054-subgroup.html#æ–¹æ³•è®ºæ³¨æ„äº‹é¡¹",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "æ–¹æ³•è®ºæ³¨æ„äº‹é¡¹",
    "text": "æ–¹æ³•è®ºæ³¨æ„äº‹é¡¹\n\né¢„è®¾ vs æ¢ç´¢æ€§äºšç»„åˆ†æ\n\n\n\nç±»å‹\né¢„è®¾äºšç»„åˆ†æ\næ¢ç´¢æ€§äºšç»„åˆ†æ\n\n\n\n\næ—¶æœº\nç ”ç©¶è®¾è®¡é˜¶æ®µç¡®å®š\næ•°æ®åˆ†æé˜¶æ®µç¡®å®š\n\n\nè¯æ®ç­‰çº§\nè¾ƒé«˜\nè¾ƒä½\n\n\nå¤šé‡æ¯”è¾ƒæ ¡æ­£\nå¯èƒ½éœ€è¦\néœ€è¦è°¨æ…è§£è¯»\n\n\næŠ¥å‘Šè¦æ±‚\nFDA/EMAè¦æ±‚æŠ¥å‘Š\nåº”æ˜ç¡®æ ‡æ³¨ä¸ºæ¢ç´¢æ€§\n\n\n\n\n\né¿å…å¸¸è§é”™è¯¯\n\nä¸è¦è¿‡åº¦è§£è¯»äºšç»„å†…På€¼\n\näºšç»„å†…æ˜¾è‘— â‰  äºšç»„é—´æœ‰å·®å¼‚\nå¿…é¡»æ£€éªŒäº¤äº’ä½œç”¨\n\nè­¦æƒ•å¤šé‡æ¯”è¾ƒ\n\næ£€éªŒè¶Šå¤šï¼Œå‡é˜³æ€§è¶Šå¤š\nè€ƒè™‘ä½¿ç”¨Bonferroniæˆ–FDRæ ¡æ­£\n\nè€ƒè™‘ç»Ÿè®¡åŠŸæ•ˆ\n\näºšç»„æ ·æœ¬é‡å¯èƒ½ä¸è¶³\näº¤äº’ä½œç”¨æ£€éªŒéœ€è¦æ›´å¤§æ ·æœ¬\n\n\n\n# å¤šé‡æ¯”è¾ƒæ ¡æ­£ç¤ºä¾‹\ninteraction_results &lt;- interaction_results %&gt;%\n    mutate(\n        p_bonferroni = p.adjust(p_interaction, method = \"bonferroni\"),\n        p_fdr = p.adjust(p_interaction, method = \"fdr\")\n    )\n\nprint(interaction_results)\n\n   subgroup p_interaction p_bonferroni     p_fdr\n1 age_group    0.71610982    1.0000000 0.7161098\n2     grade    0.05115396    0.1534619 0.1534619\n3     stage    0.54983155    1.0000000 0.7161098",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "href": "1054-subgroup.html#æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "æŠ¥å‘Šæ’°å†™æ¨¡æ¿",
    "text": "æŠ¥å‘Šæ’°å†™æ¨¡æ¿\n\næ–¹æ³•éƒ¨åˆ†\n\nè¿›è¡Œé¢„è®¾çš„äºšç»„åˆ†æä»¥è¯„ä¼°æ²»ç–—æ•ˆæœåœ¨ä¸åŒäººç¾¤ç‰¹å¾ä¸­çš„ä¸€è‡´æ€§ã€‚äºšç»„å˜é‡åŒ…æ‹¬å¹´é¾„ï¼ˆâ‰¤60å² vs &gt;60å²ï¼‰ã€è‚¿ç˜¤åˆ†çº§ï¼ˆI/II/IIIçº§ï¼‰å’Œä¸´åºŠåˆ†æœŸï¼ˆT1-T4ï¼‰ã€‚ä½¿ç”¨Logisticå›å½’è®¡ç®—å„äºšç»„å†…çš„æ¯”å€¼æ¯”ï¼ˆORï¼‰åŠ95%ç½®ä¿¡åŒºé—´ã€‚é€šè¿‡åœ¨æ¨¡å‹ä¸­åŠ å…¥æ²»ç–—Ã—äºšç»„å˜é‡çš„äº¤äº’é¡¹æ£€éªŒæ•ˆæœä¿®é¥°ï¼ˆäº¤äº’ä½œç”¨På€¼ï¼‰ï¼Œäº¤äº’ä½œç”¨çš„æ˜¾è‘—æ€§æ°´å¹³è®¾ä¸ºÎ± = 0.10ã€‚ç»“æœä»¥æ£®æ—å›¾å½¢å¼å‘ˆç°ã€‚\n\n\n\nç»“æœéƒ¨åˆ†\n\näºšç»„åˆ†ææ˜¾ç¤ºï¼Œæ²»ç–—æ•ˆæœåœ¨å„é¢„è®¾äºšç»„ä¸­æ€»ä½“ä¸€è‡´ï¼ˆå›¾Xï¼‰ã€‚å¹´é¾„äºšç»„ä¸­ï¼Œâ‰¤60å²æ‚£è€…OR = 1.XX (95% CI: X.XX-X.XX)ï¼Œ&gt;60å²æ‚£è€…OR = 1.XX (95% CI: X.XX-X.XX)ï¼Œäº¤äº’ä½œç”¨P = 0.XXã€‚æ‰€æœ‰äºšç»„çš„äº¤äº’ä½œç”¨æ£€éªŒå‡æœªè¾¾åˆ°ç»Ÿè®¡å­¦æ˜¾è‘—æ€§ï¼ˆPäº¤äº’å‡ &gt; 0.10ï¼‰ï¼Œæç¤ºæ²»ç–—æ•ˆæœæœªå—è¿™äº›å› ç´ çš„æ˜¾è‘—ä¿®é¥°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#æ€»ç»“",
    "href": "1054-subgroup.html#æ€»ç»“",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nè¦ç‚¹\nè¯´æ˜\n\n\n\n\næ ¸å¿ƒ\näºšç»„æ•ˆæœ + äº¤äº’ä½œç”¨æ£€éªŒ\n\n\näº¤äº’På€¼\nåˆ¤æ–­äºšç»„å·®å¼‚æ˜¯å¦çœŸå®çš„å…³é”®\n\n\næ£®æ—å›¾\næ ‡å‡†å¯è§†åŒ–æ–¹å¼\n\n\né¢„è®¾åˆ†æ\nè¯æ®ç­‰çº§æ›´é«˜\n\n\nå¤šé‡æ¯”è¾ƒ\næ³¨æ„å‡é˜³æ€§æ§åˆ¶\n\n\næ ·æœ¬é‡\nå¯¹äº¤äº’ä½œç”¨æ£€éªŒå°¤ä¸ºé‡è¦",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "1054-subgroup.html#å‚è€ƒæ–‡çŒ®",
    "href": "1054-subgroup.html#å‚è€ƒæ–‡çŒ®",
    "title": "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨æ£€éªŒ",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nSun X, et al.Â How to use a subgroup analysis: usersâ€™ guide to the medical literature. JAMA. 2014;311(4):405-411.\nWang R, et al.Â Statistics in medicineâ€”reporting of subgroup analyses in clinical trials. NEJM. 2007;357(21):2189-2194.\nBrookes ST, et al.Â Subgroup analyses in randomized trials: risks of subgroup-specific analyses. J Clin Epidemiol. 2004;57(3):229-236.",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "äºšç»„åˆ†æä¸äº¤äº’ä½œç”¨"
    ]
  },
  {
    "objectID": "2012-patchwork.html",
    "href": "2012-patchwork.html",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "",
    "text": "Patchwork æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œæ—¨åœ¨ä½¿ R ä¸­çš„ç»˜å›¾åˆæˆå˜å¾—æå…¶ç®€å•å’Œå¼ºå¤§ã€‚å®ƒä¸»è¦é¢å‘ ggplot2 çš„ç”¨æˆ·ï¼Œæ— è®ºç»˜å›¾çš„å¤æ‚ç¨‹åº¦å¦‚ä½•ï¼Œå®ƒéƒ½èƒ½ä¸é—ä½™åŠ›åœ°ç¡®ä¿ ggplots æ­£ç¡®å¯¹é½ã€‚\næ³¨æ„ï¼šä»…ç”¨äºggplot2çš„ç»˜å›¾ï¼ŒRçš„baseç»˜å›¾ä¸èƒ½ç”¨patchworkæ‹¼æ¥\né“¾æ¥:CRANé“¾æ¥\nå­¦ä¹ æ‰‹å†Œ:å­¦ä¹ æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…ä»‹ç»",
    "href": "2012-patchwork.html#råŒ…ä»‹ç»",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "",
    "text": "Patchwork æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œæ—¨åœ¨ä½¿ R ä¸­çš„ç»˜å›¾åˆæˆå˜å¾—æå…¶ç®€å•å’Œå¼ºå¤§ã€‚å®ƒä¸»è¦é¢å‘ ggplot2 çš„ç”¨æˆ·ï¼Œæ— è®ºç»˜å›¾çš„å¤æ‚ç¨‹åº¦å¦‚ä½•ï¼Œå®ƒéƒ½èƒ½ä¸é—ä½™åŠ›åœ°ç¡®ä¿ ggplots æ­£ç¡®å¯¹é½ã€‚\næ³¨æ„ï¼šä»…ç”¨äºggplot2çš„ç»˜å›¾ï¼ŒRçš„baseç»˜å›¾ä¸èƒ½ç”¨patchworkæ‹¼æ¥\né“¾æ¥:CRANé“¾æ¥\nå­¦ä¹ æ‰‹å†Œ:å­¦ä¹ æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…å®‰è£…",
    "href": "2012-patchwork.html#råŒ…å®‰è£…",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"patchwork\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…ä½¿ç”¨",
    "href": "2012-patchwork.html#råŒ…ä½¿ç”¨",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\n\nå…ˆç”Ÿæˆå¤šå›¾å‡†å¤‡ç€\n\nlibrary(ggplot2)\nlibrary(patchwork)\n\np1 &lt;- ggplot(mtcars) + \n  geom_point(aes(mpg, disp)) + \n  ggtitle('Plot 1')\n\np2 &lt;- ggplot(mtcars) + \n  geom_boxplot(aes(gear, disp, group = gear)) + \n  ggtitle('Plot 2')\n\np3 &lt;- ggplot(mtcars) + \n  geom_point(aes(hp, wt, colour = mpg)) + \n  ggtitle('Plot 3')\n\np4 &lt;- ggplot(mtcars) + \n  geom_bar(aes(gear)) + \n  facet_wrap(~cyl) + \n  ggtitle('Plot 4')\n\n\n\nåŸºç¡€ç”¨æ³•\npatchworkçš„åŸºç¡€ç”¨æ³•å°±æ˜¯ä½¿ç”¨æ•°å­¦ç¬¦å·(+å’Œ/)æ¥å®ç°å›¾å½¢çš„æ¨ªçºµæ‹¼æ¥\n\n\nå¤šå›¾æ¨ªæ‹¼æ¥\n\np1 + p2\n\n\n\n\n\n\n\n\né»˜è®¤patchworkä¼šè®©å›¾å½¢å‘ˆæ–¹å½¢æ’åˆ—ï¼Œå³nxn\n\np1 + p2 + p3 + p4\n\n\n\n\n\n\n\n\n\n\nå¤šå›¾çºµæ‹¼æ¥\n\np1/p2\n\n\n\n\n\n\n\n\n\n\nå¤åˆå›¾æ‹¼æ¥\nè¿™é‡Œå›¾å½¢æ‹¼æ¥ç±»ä¼¼äºæ•°å­¦ç¬¦å·çš„è¡¨è¾¾å¼ï¼ŒåŒæ ·éµå¾ªå…ˆä¹˜é™¤ååŠ å‡çš„è§„å¾‹,æœ‰æ‹¬å·å…ˆæ‹¬å·\n\np1 + p2 / p3 + p4\n\n\n\n\n\n\n\n(p1 + p2)/(p3 + p4 )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#æ·»åŠ å›¾æ³¨",
    "href": "2012-patchwork.html#æ·»åŠ å›¾æ³¨",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "æ·»åŠ å›¾æ³¨",
    "text": "æ·»åŠ å›¾æ³¨\npatchworkæä¾›äº†plot_annotationå‡½æ•°æ¥å®ç°å›¾æ³¨çš„æ·»åŠ \n\nå°å›¾çš„å›¾æ³¨\nè‡ªå®šä¹‰tag_levelså‚æ•°ï¼Œå¯èƒ½çš„å€¼æœ‰ï¼šâ€œaâ€è¡¨ç¤ºå°å†™å­—æ¯ï¼Œâ€œAâ€è¡¨ç¤ºå¤§å†™å­—æ¯ï¼Œâ€œ1â€è¡¨ç¤ºæ•°å­—ï¼Œâ€œiâ€è¡¨ç¤ºå°å†™ç½—é©¬æ•°å­—ï¼Œâ€œIâ€è¡¨ç¤ºå¤§å†™ç½—é©¬æ•°å­—ã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«å®šä¹‰ä»»æ„æ ‡è®°åºåˆ—çš„å­—ç¬¦å‘é‡çš„åˆ—è¡¨\n\np1 + p2 + p3 + p4 + plot_annotation(tag_levels = 'A')\n\n\n\n\n\n\n\n\n\n\næ‹¼å›¾æ•´ä½“å›¾æ³¨\n\n(p1 | (p2 / p3)) + \n  plot_annotation(title = 'The surprising story about mtcars')",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#å›¾è¡¨æ‹¼æ¥",
    "href": "2012-patchwork.html#å›¾è¡¨æ‹¼æ¥",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "å›¾è¡¨æ‹¼æ¥",
    "text": "å›¾è¡¨æ‹¼æ¥\n\nåŸºæœ¬æ“ä½œ\npatchworkè¿˜æ”¯æŒå°†è¡¨æ ¼å’Œå›¾è¡¨æ‹¼æ¥èµ·æ¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¡¨æ ¼å’Œå›¾è¡¨çš„æ‹¼æ¥éœ€è¦ä½¿ç”¨gtåŒ…\n\n#install.packages(\"gt\")\nlibrary(gt)\nlibrary(ggplot2)\nlibrary(patchwork)\n\np1 &lt;- ggplot(airquality) +\n  geom_line(aes(x = Day, y = Temp, colour = month.name[Month])) +\n  labs(colour = \"Month\")\n\naq &lt;- airquality[sample(nrow(airquality), 10), ]\np1 + gt(aq) + ggtitle(\"Sample of the dataset\")\n\n\n\n\n\n\n\n\n\n\nå‚æ•°è°ƒæ•´\nwrap_table() å¯ä»¥æ§åˆ¶å…¶ä¸­çš„ä¸€äº›è¡Œä¸ºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å‡å°è¡¨æ ¼ä¸­çš„å­—ä½“å¤§å°ï¼Œä½¿å…¶å˜å°ï¼Œä½†ä¹Ÿå¯ä»¥ä¸ºå…¶ç•™å‡ºæ›´å¤šç©ºé—´ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ plot_layout(widths = â€¦)æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†è¿™éœ€è¦æˆ‘ä»¬è¿›è¡Œå¤§é‡çš„çŒœæµ‹æ‰èƒ½åšåˆ°æ°åˆ°å¥½å¤„ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œpatchwork è¶³å¤Ÿèªæ˜ï¼Œå¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ wrap_table() ä¸­çš„ space å‚æ•°æŒ‡ç¤ºå®ƒè¿™æ ·åšã€‚å°†ç©ºé—´å‚æ•°è®¾ç½®ä¸º â€œfree_yâ€åï¼Œpatchwork å°±ä¼šå°†å®½åº¦å›ºå®šä¸ºè¡¨æ ¼å®½åº¦ï¼Œä½†ä¿æŒé«˜åº¦è‡ªç”±ï¼š\n\np1 + wrap_table(gt(aq), space = \"free_y\") + ggtitle(\"Sample of the dataset\")\n\n\n\n\n\n\n\np1 + wrap_table(aq, space = \"fixed\")\n\n\n\n\n\n\n\n\nå¦‚æœç©ºé—´å›ºå®šåœ¨ Y æ–¹å‘ï¼Œè€Œè¡¨æ ¼ä¸­æœ‰ä»»ä½•æ¥æºæ³¨é‡Šæˆ–è„šæ³¨ï¼Œåˆ™è¿™äº›æ³¨é‡Šæˆ–è„šæ³¨ä¼šåƒåˆ—å¤´ä¸€æ ·ï¼Œæ ¹æ®é¢æ¿è®¾ç½®æ”¾ç½®åœ¨é¢æ¿åŒºåŸŸä¹‹å¤–ã€‚\n\naq_footer &lt;- gt(aq) |&gt;\n  tab_source_note(\"This is not part of the table body\")\np1 + wrap_table(aq_footer, space = \"fixed\")\n\n\n\n\n\n\n\n\n\n\nå…¶å®ƒ\nå›¾è¡¨æ‹¼æ¥æ˜¯patchworkçš„æœ€æ–°åŠŸèƒ½ï¼Œè¯¦ç»†çš„æ•™ç¨‹å‚è§é“¾æ¥",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2014-sankey.html",
    "href": "2014-sankey.html",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¸¸ç”¨æ¡‘åŸºå›¾ï¼ˆæµé‡å›¾ï¼‰ç»˜åˆ¶åŒ…ggsankeyfierå’Œç›¸å…³ä»£ç æ•™ç¨‹\næ¡‘åŸºå›¾ä¹Ÿå«æµé‡å›¾ï¼Œä¸»è¦ç”¨æ¥å¤„ç†å¤šä¸ªåˆ†ç±»å˜é‡çš„åˆ†å¸ƒæƒ…å†µã€‚å¯è§†åŒ–å±•ç¤ºå æ¯”æ¯”ä¾‹ç­‰ï¼Œç¾è§‚å®¹æ˜“",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…ä»‹ç»",
    "href": "2014-sankey.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nCRANåº“\næ•™ç¨‹æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…å®‰è£…",
    "href": "2014-sankey.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"ggsankeyfier\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…ä½¿ç”¨",
    "href": "2014-sankey.html#råŒ…ä½¿ç”¨",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\næ¡‘åŸºå›¾æœ¬è´¨ä¸Šå°±æ˜¯ä¸åŒåˆ†ç±»å˜é‡çš„æµé‡å›¾ï¼Œå¯è§†åŒ–çš„ç¬¬ä¸€æ­¥å°±æ˜¯æ•°æ®æ•´æ´åŒ–ï¼Œå¸¸ç”¨æ•°æ®å®½å˜é•¿ã€‚ä¸€åˆ—æ˜¯å˜é‡ï¼Œä¸€åˆ—æ˜¯æµé‡å€¼ï¼Œåœ¨ggsankeyfierä½¿ç”¨è¿‡ç¨‹ä¸­é‡è¦çš„å°±æ˜¯ç”¨pivot_stages_longeræ¥åšæ•°æ®æ¸…æ´—\n\næ•°æ®å‡†å¤‡\n\nlibrary(ggsankeyfier)\nlibrary(tidyverse)\nlibrary(cowplot)\n\n\n\n## first get a data set with a wide format:\ndata(ecosystem_services)\ndata &lt;- ecosystem_services\n\n## pivot to long format for plotting:\ndata_neat &lt;-\n  data |&gt;\n  subset(RCSES &gt; 0.005) |&gt;\n  pivot_stages_longer(\n    c(\"activity_realm\", \"biotic_realm\", \"service_section\"),\n    \"RCSES\", \"service_section\"\n  )\n\n# pivotå®½å˜é•¿å‰\nhead(data, 5)\n## # A tibble: 5 Ã— 8\n##   activity_type          activity_realm pressure_cat   biotic_group biotic_realm\n##   &lt;chr&gt;                  &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;       \n## 1 Agriculture & Forestry Land-based     Biological diâ€¦ Zooplankton  Plankton    \n## 2 Agriculture & Forestry Land-based     Biological diâ€¦ Zooplankton  Plankton    \n## 3 Agriculture & Forestry Land-based     Chemical chanâ€¦ Zooplankton  Plankton    \n## 4 Agriculture & Forestry Land-based     Chemical chanâ€¦ Zooplankton  Plankton    \n## 5 Agriculture & Forestry Land-based     Physical chanâ€¦ Zooplankton  Plankton    \n## # â„¹ 3 more variables: service_division &lt;chr&gt;, service_section &lt;chr&gt;,\n## #   RCSES &lt;dbl&gt;\n# å®½å˜é•¿å\nhead(data_neat, 5)\n## # A tibble: 5 Ã— 6\n##   service_section  RCSES edge_id connector node               stage         \n##   &lt;fct&gt;            &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;     &lt;fct&gt;              &lt;fct&gt;         \n## 1 Provisioning    0.0123       1 from      Land-based         activity_realm\n## 2 Provisioning    0.0123       1 to        Plant              biotic_realm  \n## 3 Provisioning    0.0133       2 from      Land-based         activity_realm\n## 4 Provisioning    0.0133       2 to        Fish & Cephalopods biotic_realm  \n## 5 Cultural        0.0127       3 from      Land-based         activity_realm",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#æ€»ç»˜å›¾ä»£ç ",
    "href": "2014-sankey.html#æ€»ç»˜å›¾ä»£ç ",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "æ€»ç»˜å›¾ä»£ç ",
    "text": "æ€»ç»˜å›¾ä»£ç \n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.11\n    ),\n    show.legend = FALSE\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )+\n  guides(\n    alpha = FALSE,\n    colour = FALSE,\n    fill = guide_legend(position = \"bottom\", nrow = 1)\n  ) +\n  scale_fill_discrete(\n    breaks = unique(data_neat$service_section)[1:3]  # åªåœ¨å›¾ä¾‹ä¸­æ˜¾ç¤ºå‰ä¸‰ä¸ªé”®\n  )+\n  theme_minimal_hgrid() +\n  theme( # å»é™¤å‘¨å›´å¤–è¾¹è·\n    panel.spacing = unit(0, \"cm\"),\n    panel.grid.major.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    legend.key.spacing.x = unit(60, \"pt\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#ç»˜å›¾ä»£ç æ‹†è§£",
    "href": "2014-sankey.html#ç»˜å›¾ä»£ç æ‹†è§£",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "ç»˜å›¾ä»£ç æ‹†è§£",
    "text": "ç»˜å›¾ä»£ç æ‹†è§£\næ¥ä¸‹æ¥æˆ‘ä»¬æ‹†è§£ä¸Šè¾¹ä¸€å¤§æ®µä»£ç ï¼Œä¸€æ­¥æ­¥çš„è·‘å‡ºæ¥å°±ä¼šæ„Ÿè§‰ä¼šå¥½å¾ˆå¤šã€‚æ•°æ®çš„é¢„å…ˆå‡†å¤‡è‡³å…³é‡è¦ï¼Œçœ‹æ•°æ®å‡†å¤‡éƒ¨åˆ†çš„ä»£ç å°±è¡Œäº†\n\nç¬¬ä¸€æ­¥æˆ‘ä»¬å…ˆæŠŠsankeyedgeåšå‡ºæ¥ï¼Œå°±æ˜¯ä¸­é—´çš„æµé‡\nçœ‹åˆ°æˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªè‡³å…³é‡è¦çš„çš„å‚æ•°positionï¼šè¿™ä¸ªå‚æ•°å†³å®šäº†sankeyedgeçš„ä½ç½®ï¼Œæˆ‘ä»¬è®¾ç½®ä¸ºposition_sankey(order =\"ascending\",v_space=\"auto\",width = 0.01)ï¼Œå…¶ä¸­orderæ˜¯è®¾ç½®sankeyedgeçš„æ–¹å‘ï¼Œascendingæ˜¯ä»å·¦åˆ°å³ï¼Œdescendingæ˜¯ä»å³åˆ°å·¦ï¼Œv_spaceæ˜¯è®¾ç½®sankeyedgeçš„é—´è·ï¼Œautoæ˜¯è‡ªåŠ¨è®¾ç½®ï¼Œwidthæ˜¯è®¾ç½®sankeyedgeçš„å®½åº¦ã€‚\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector, fill = stage\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  )\n\n\n\n\n\n\n\n\n\n\nå¾ˆå¥½ï¼Œä¸‹ä¸€éƒ¨æˆ‘ä»¬æŠŠnodeç»™åŠ ä¸Šï¼Œå°±æ˜¯å„ä¸ªå°æ–¹å—\nè®¾ç½®nodeçš„å¡«å……è‰²æ˜¯nodeï¼Œç„¶åè¾¹æ¡†è®¾ç½®æˆç°è‰²\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.1\n    )\n  )\n\n\n\n\n\n\n\n\n\n\nç„¶åæˆ‘ä»¬æ·»åŠ æ–‡å­—åˆ°å›¾å½¢é‡Œ\næ³¨æ„æ·»åŠ  stat = \"sankeynode\"\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.1\n    )\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )\n\n\n\n\n\n\n\n\n\n\næœ€åé˜¶æ®µæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹å›¾ä¾‹ï¼Œæ”¹æ”¹ä¸»é¢˜\næˆ‘ä»¬çš„ä¸»è¦å˜é‡æ˜¯service_sectionï¼ˆgeom_sankeyedgeçš„fillæ˜ å°„ï¼‰ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå°±è®¾ç½®è¿™ä¸ªä½œä¸ºå›¾ä¾‹ï¼Œå…¶å®ƒéƒ½åˆ æ‰ã€‚è¿™ä¸€éƒ¨åˆ†è¯´èµ·æ¥ç®€å•ï¼Œå…¶å®æŒºéº»çƒ¦çš„ã€‚\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.11\n    ),\n    show.legend = FALSE\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )+\n  guides(\n    alpha = FALSE,\n    colour = FALSE,\n    fill = guide_legend(position = \"bottom\", nrow = 1)\n  ) +\n  scale_fill_discrete(\n    breaks = unique(data_neat$service_section)[1:3]  # åªåœ¨å›¾ä¾‹ä¸­æ˜¾ç¤ºå‰ä¸‰ä¸ªé”®\n  )+\n  theme_minimal_hgrid() +\n  theme( # å»é™¤å‘¨å›´å¤–è¾¹è·\n    panel.spacing = unit(0, \"cm\"),\n    panel.grid.major.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    legend.key.spacing.x = unit(60, \"pt\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html",
    "href": "2016-forestplot.html",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨forestplotåŒ…ç»˜åˆ¶æ£®æ—å›¾ï¼Œå¸¸ç”¨äºmetaåˆ†æçš„å¯è§†åŒ–\næ ¹æ®æˆ‘çš„æ•™ç¨‹ä¹¦å†™ä½“éªŒæ¥çœ‹forestplotåŒ…è¿˜å¾ˆä¸å¥½ç”¨ï¼ŒåŸºäºgparåŒ…æ¥è®¾ç½®æ ·å¼ï¼Œä½¿ç”¨ä½“éªŒæä¸å¥½ï¼Œä¸è¿‡å†™éƒ½å†™äº†ï¼Œå‘ä¸€ç‚¹ä¸œè¥¿\næ ¹æ®å®é™…ä½“éªŒæ¥çœ‹è¿˜æ˜¯forestploteråŒ…ç»˜åˆ¶æ£®æ—å›¾æ›´å¥½çœ‹ï¼Œä»£ç æ›´åˆç†ï¼Œæ ·å¼ä¹Ÿæ›´å¥½çœ‹ï¼Œä¹‹åä¼šä»‹ç»\nè¿™æœŸä¸å»ºè®®çœ‹ï¼Œè¿™ä¸ªåŒ…ä¹Ÿä¸å»ºè®®ç”¨ï¼Œè¿æ•™ç¨‹æ–‡æ¡£å¾ˆå¤šéƒ½è·‘ä¸åŠ¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…ä»‹ç»",
    "href": "2016-forestplot.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nforestplotåŒ…æ˜¯Rè¯­è¨€ä¸­ç”¨äºç»˜åˆ¶æ£®æ—å›¾çš„åŒ…ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯å°†æ•°æ®æ•´ç†æˆé€‚åˆç»˜åˆ¶æ£®æ—å›¾çš„æ ¼å¼ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„ç»˜å›¾é€‰é¡¹ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è½»æ¾åœ°ç»˜åˆ¶å‡ºå„ç§ç±»å‹çš„æ£®æ—å›¾ã€‚\næ›´å¤šæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…å®‰è£…",
    "href": "2016-forestplot.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"forestplot\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…æ•™ç¨‹",
    "href": "2016-forestplot.html#råŒ…æ•™ç¨‹",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…æ•™ç¨‹",
    "text": "RåŒ…æ•™ç¨‹\n\nè½½å…¥åŒ…\n\nlibrary(forestplot)\nlibrary(dplyr)\n\n\n\nå¯¼å…¥æ•°æ®\n\nmean: ORåŒºé—´çš„å¹³å‡å€¼\nlower/upperï¼šç½®ä¿¡åŒºé—´ä¸Šä¸‹é™\nstudyï¼šæ ‡ç­¾\n\n\ndata &lt;- tibble::tibble(\n  mean = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),\n  lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),\n  upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),\n  study = c(\n    \"Auckland\", \"Block\", \"Doran\", \"Gamsu\",\n    \"Morrison\", \"Papageorgiou\", \"Tauesch\"\n  ),\n  deaths_steroid = c(\"36\", \"1\", \"4\", \"14\", \"3\", \"1\", \"8\"),\n  deaths_placebo = c(\"60\", \"5\", \"11\", \"20\", \"7\", \"7\", \"10\"),\n  OR = c(\"0.58\", \"0.16\", \"0.25\", \"0.70\", \"0.35\", \"0.14\", \"1.02\")\n)\n\n\n\nåŸºç¡€ç»˜å›¾\nå¯ä»¥çœ‹å‡ºforestplotåŒ…ç»˜åˆ¶æ£®æ—å›¾ä¸»ä½“ä¸ºforestplotå‡½æ•°ï¼Œåç»­å¢åŠ fp_xxxå‡½æ•°æ¥å®Œå–„å†…å®¹\n\nfp_set_styleï¼šè®¾ç½®æ ·å¼\nfp_add_headerï¼šæ·»åŠ è¡¨å¤´\nfp_append_rowï¼šé¢å¤–æ·»åŠ è¡Œ\n\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    xlog = TRUE\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\"),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\"),\n    OR = c(\"\", \"OR\")\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  ) |&gt;\n  fp_set_zebra_style(\"#EFEFEF\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#æ ·å¼ç¾åŒ–",
    "href": "2016-forestplot.html#æ ·å¼ç¾åŒ–",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "æ ·å¼ç¾åŒ–",
    "text": "æ ·å¼ç¾åŒ–\n\nä¿®æ”¹æ ·å¼\n\nä½¿ç”¨fp_set_styleæ¥ä¿®æ”¹å„å†…å®¹çš„æ ·å¼\nä½¿ç”¨fp_add_linesæ¥æ·»åŠ çº¿æ¡\næ›´å¤šå‚æ•°å¤§å®¶éœ€è¦å¤šçœ‹helpæ–‡æ¡£\n\n\nä¸»è¦å‚è€ƒçš„æ˜¯è®¾ç½®æ˜¯gparåŒ…æ ·å¼\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines() |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nå¯¹çº¿æ¡è‡ªå®šä¹‰\nä½¿ç”¨fp_add_linesæ¥æ·»åŠ è¾…åŠ©çº¿ï¼Œltyæ˜¯çº¿å½¢ï¼Œlwdæ˜¯çº¿å®½ï¼Œcolæ˜¯é¢œè‰²\nf_nä»£è¡¨å¯¹ç¬¬å‡ åˆ—æ·»åŠ çº¿æ¡ï¼Œcolumnsè®¾ç½®çº¿æ¡æœ‰å¤šå®½\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    vertices = TRUE,\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines(\n    h_3 = gpar(lty = 2),\n    h_11 = gpar(lwd = 1, columns = 1:4, col = \"#000044\")\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nå‡å°å›ºå®šboxï¼ˆå°±æ˜¯å¹³å‡å€¼çš„é‚£ä¸ªç›’å­ï¼‰å¤§å°\nå¼ºåˆ¶boxsizeçš„å¤§å°ï¼Œä½¿ç”¨å‡½æ•°forestplotçš„å‚æ•°boxsize,ä½†æ˜¯è®¾ç½®ä¹‹åå¤§å°ä¹Ÿä¸ä¼šéšç€ORå¢å¤§è€Œå¢å¤§\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    vertices = TRUE,\n    boxsize = 0.2,\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines(\n    h_3 = gpar(lty = 2),\n    h_11 = gpar(lwd = 1, columns = 1:4, col = \"#000044\")\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„OR\nåƒåœ¾åŒ…ï¼Œå·²ç»è·‘ä¸äº†åˆ†ç»„äº†ï¼Œåº”è¯¥æ˜¯groupbyæ›´æ–°åæ²¡é€‚é…ä¸Šã€‚æµªè´¹æˆ‘ä¸€ä¸ªå°æ—¶\n\ndata(dfHRQoL)\n\ndfHRQoL  |&gt; group_by(group)|&gt;\n  forestplot(\n    labeltext = c(labeltext),\n    boxsize = 0.1,\n    lineheight = \"lines\",\n    xlab = \"EQ-5D index\"\n  ) |&gt;\n  fp_add_lines(\"steelblue\") |&gt;\n  fp_add_header(\"Variable\") \n\n  |&gt;\n  fp_set_style(\n    box = c(\"blue\", \"darkred\") |&gt;\n      lapply(function(x) gpar(fill = x, col = \"#555555\")),\n    default = gpar(vertices = TRUE)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2018-tidyplots.html",
    "href": "2018-tidyplots.html",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "",
    "text": "tidyplots æ˜¯ä¸€ä¸ªåŸºäº ggplot2 çš„é«˜çº§ç»‘å›¾åŒ…ï¼Œç”¨æç®€çš„è¯­æ³•åˆ›å»ºå‡ºç‰ˆçº§çš„ç§‘ç ”å›¾è¡¨ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯â€ç”¨æœ€å°‘çš„ä»£ç ï¼Œåšæœ€ä¸“ä¸šçš„å›¾â€ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#råŒ…ä»‹ç»",
    "href": "2018-tidyplots.html#råŒ…ä»‹ç»",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\n\nä¸ºä»€ä¹ˆé€‰æ‹© tidyplotsï¼Ÿ\ntidyplots è§£å†³äº† ggplot2 çš„å‡ ä¸ªç—›ç‚¹ï¼š\n\nä»£ç å†—é•¿ï¼šggplot2 éœ€è¦å¤šå±‚å åŠ ï¼Œtidyplots ä¸€è¡Œæå®š\nä¸»é¢˜ç¹çï¼šè‡ªåŠ¨åº”ç”¨ä¸“ä¸šçš„å­¦æœ¯ä¸»é¢˜\né…è‰²å›°éš¾ï¼šå†…ç½®ä¼˜ç§€çš„é…è‰²æ–¹æ¡ˆ\nç»Ÿè®¡æ ‡æ³¨ï¼šè‡ªåŠ¨æ·»åŠ  p å€¼ã€è¯¯å·®çº¿ç­‰\nå¤šå›¾æ‹¼æ¥ï¼šåŸç”Ÿæ”¯æŒåˆ†é¢å’Œç»„åˆ\n\n\n\nå®‰è£…ä¸åŠ è½½\n\n# CRAN å®‰è£…\ninstall.packages(\"tidyplots\")\n\n\nlibrary(tidyplots)\nlibrary(dplyr)\n\n\n\næ ¸å¿ƒè®¾è®¡ç†å¿µ\ntidyplots é‡‡ç”¨ ç®¡é“å¼è¯­æ³•ï¼Œæ ¸å¿ƒå‡½æ•°æ˜¯ tidyplot()ï¼š\næ•°æ® |&gt; tidyplot(x, y, color) |&gt; add_*() |&gt; adjust_*() |&gt; theme_*()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å¿«é€Ÿå…¥é—¨",
    "href": "2018-tidyplots.html#å¿«é€Ÿå…¥é—¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å¿«é€Ÿå…¥é—¨",
    "text": "å¿«é€Ÿå…¥é—¨\n\nç¬¬ä¸€ä¸ª tidyplots å›¾\n\n# ä½¿ç”¨å†…ç½®æ•°æ®é›†\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar()\n\n\n\n\n\n\n\n\nå¯¹æ¯”ä¼ ç»Ÿ ggplot2 ä»£ç ï¼š\n\n# ggplot2 éœ€è¦å…ˆè®¡ç®—ç»Ÿè®¡é‡\nlibrary(ggplot2)\nstudy |&gt;\n  group_by(treatment) |&gt;\n  summarise(\n    mean = mean(score),\n    se = sd(score) / sqrt(n())\n  ) |&gt;\n  ggplot(aes(x = treatment, y = mean, fill = treatment)) +\n  geom_col() +\n  geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2) +\n  theme_minimal()\n\ntidyplots åªéœ€ 3 è¡Œï¼Œggplot2 éœ€è¦ 10+ è¡Œï¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#åŸºç¡€å›¾å½¢",
    "href": "2018-tidyplots.html#åŸºç¡€å›¾å½¢",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "åŸºç¡€å›¾å½¢",
    "text": "åŸºç¡€å›¾å½¢\n\næŸ±çŠ¶å›¾ (Bar Plot)\n\n# åŸºç¡€æŸ±çŠ¶å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar()\n\n\n\n\n\n\n\n\n\n# å¸¦è¯¯å·®çº¿å’Œæ•°æ®ç‚¹çš„æŸ±çŠ¶å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar(alpha = 0.4) |&gt;\n  add_sem_errorbar() |&gt;\n  add_data_points()\n\n\n\n\n\n\n\n\n\n\nç®±çº¿å›¾ (Box Plot)\n\n# ç®±çº¿å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot()\n\n\n\n\n\n\n\n\n\n# ç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot(alpha = 0.3) |&gt;\n  add_data_points_jitter()\n\n\n\n\n\n\n\n\n\n\nå°æç´å›¾ (Violin Plot)\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_violin() |&gt;\n  add_boxplot(width = 0.1, alpha = 0)\n\n\n\n\n\n\n\n\n\n\næ•£ç‚¹å›¾ (Scatter Plot)\n\n# åŸºç¡€æ•£ç‚¹å›¾\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points()\n\n\n\n\n\n\n\n\n\n# å¸¦æ‹Ÿåˆçº¿çš„æ•£ç‚¹å›¾\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points() |&gt;\n  add_curve_fit()\n\n\n\n\n\n\n\n\n\n\næŠ˜çº¿å›¾ (Line Plot)\n\n# åˆ†ç»„æŠ˜çº¿å›¾\ntime_course |&gt;\n  tidyplot(x = day, y = score, color = treatment) |&gt;\n  add_mean_line() |&gt;\n  add_sem_ribbon()\n\n\n\n\n\n\n\n\n\n\nç›´æ–¹å›¾ (Histogram)\n\nstudy |&gt;\n  tidyplot(x = score, color = treatment) |&gt;\n  add_histogram()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ç»Ÿè®¡æ ‡æ³¨",
    "href": "2018-tidyplots.html#ç»Ÿè®¡æ ‡æ³¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ç»Ÿè®¡æ ‡æ³¨",
    "text": "ç»Ÿè®¡æ ‡æ³¨\n\næ·»åŠ  p å€¼\ntidyplots å¯ä»¥è‡ªåŠ¨è®¡ç®—å¹¶æ ‡æ³¨ç»Ÿè®¡æ£€éªŒç»“æœï¼š\n\n# æ·»åŠ é…å¯¹æ¯”è¾ƒçš„ p å€¼\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  add_test_pvalue()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ˜¾è‘—æ€§æ ‡è®°\n\n# ä½¿ç”¨æ˜Ÿå·è¡¨ç¤ºæ˜¾è‘—æ€§\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  add_test_asterisks()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#é…è‰²æ–¹æ¡ˆ",
    "href": "2018-tidyplots.html#é…è‰²æ–¹æ¡ˆ",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "é…è‰²æ–¹æ¡ˆ",
    "text": "é…è‰²æ–¹æ¡ˆ\n\nå†…ç½®é…è‰²\ntidyplots å†…ç½®å¤šç§ä¸“ä¸šé…è‰²æ–¹æ¡ˆï¼š\n\n# é»˜è®¤é…è‰²\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar()\n\n\n\n\n\n\n\n\n\n# ä½¿ç”¨ä¸åŒé…è‰²æ–¹æ¡ˆ\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  adjust_colors(new_colors = c(\"#0073C2\", \"#EFC000\", \"#868686\"))\n\n\n\n\n\n\n\n\n\n\nå¯ç”¨çš„é…è‰²æ–¹æ¡ˆ\n\n\n\né…è‰²åç§°\né€‚ç”¨åœºæ™¯\n\n\n\n\ncolors_discrete_seaside\næµ·æ´‹è‰²è°ƒ\n\n\ncolors_discrete_friendly\nè‰²ç›²å‹å¥½\n\n\ncolors_continuous_viridis\nè¿ç»­å˜é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ä¸»é¢˜è®¾ç½®",
    "href": "2018-tidyplots.html#ä¸»é¢˜è®¾ç½®",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ä¸»é¢˜è®¾ç½®",
    "text": "ä¸»é¢˜è®¾ç½®\n\nå†…ç½®ä¸»é¢˜\n\n# é»˜è®¤ä¸»é¢˜ (å·²ç»å¾ˆä¸“ä¸š)\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar()\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´æ ‡é¢˜\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_title(\"å®éªŒç»“æœ\") |&gt;\n  adjust_x_axis_title(\"åˆ†ç»„\") |&gt;\n  adjust_y_axis_title(\"å¾—åˆ†\")\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´å­—ä½“å¤§å°\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_font(fontsize = 14)\n\n\n\n\n\n\n\n\n\n\néšè—å›¾ä¾‹\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  remove_legend()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#åˆ†é¢ä¸ç»„åˆ",
    "href": "2018-tidyplots.html#åˆ†é¢ä¸ç»„åˆ",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "åˆ†é¢ä¸ç»„åˆ",
    "text": "åˆ†é¢ä¸ç»„åˆ\n\nåˆ†é¢ (Faceting)\n\n# æŒ‰å˜é‡åˆ†é¢\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  split_plot(by = group)\n\n\n\n\n\n\n\n\n\n\nå¤šå›¾ç»„åˆ\n\n# åˆ›å»ºå¤šä¸ªå›¾å¹¶ç»„åˆ\np1 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_title(\"A. æŸ±çŠ¶å›¾\")\n\np2 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot() |&gt;\n  adjust_title(\"B. ç®±çº¿å›¾\")\n\np3 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_violin() |&gt;\n  adjust_title(\"C. å°æç´å›¾\")\n\n# ç»„åˆå›¾å½¢ï¼ˆä½¿ç”¨ patchworkï¼‰\nlibrary(patchwork)\np1 + p2 + p3",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ä¿å­˜å›¾å½¢",
    "href": "2018-tidyplots.html#ä¿å­˜å›¾å½¢",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ä¿å­˜å›¾å½¢",
    "text": "ä¿å­˜å›¾å½¢\n\nåŸºæœ¬ä¿å­˜\n\n# ä¿å­˜å•ä¸ªå›¾å½¢\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  save_plot(\"figure1.png\")\n\n# æŒ‡å®šå°ºå¯¸å’Œåˆ†è¾¨ç‡\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  save_plot(\"figure1.png\", width = 10, height = 8, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "2018-tidyplots.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹1ï¼šä¸´åºŠè¯•éªŒç»“æœå›¾\n\n# æ¨¡æ‹Ÿä¸´åºŠæ•°æ®\nset.seed(42)\nclinical &lt;- data.frame(\n  patient = 1:90,\n  treatment = rep(c(\"Placebo\", \"Drug A\", \"Drug B\"), each = 30),\n  response = c(\n    rnorm(30, 45, 12),\n    rnorm(30, 60, 10),\n    rnorm(30, 72, 8)\n  ),\n  gender = sample(c(\"Male\", \"Female\"), 90, replace = TRUE)\n)\n\n# åˆ›å»ºä¸“ä¸šçš„ä¸´åºŠç»“æœå›¾\nclinical |&gt;\n  tidyplot(x = treatment, y = response, color = treatment) |&gt;\n  add_mean_bar(alpha = 0.6) |&gt;\n  add_sem_errorbar() |&gt;\n  add_data_points_jitter(width = 0.2, alpha = 0.5) |&gt;\n  add_test_asterisks() |&gt;\n  adjust_title(\"è¯ç‰©ç–—æ•ˆæ¯”è¾ƒ\") |&gt;\n  adjust_x_axis_title(\"æ²»ç–—ç»„\") |&gt;\n  adjust_y_axis_title(\"åº”ç­”ç‡ (%)\") |&gt;\n  remove_legend()\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šæ—¶é—´åºåˆ—æ•°æ®\n\n# å¸¦è¯¯å·®å¸¦çš„æ—¶é—´åºåˆ—å›¾\ntime_course |&gt;\n  tidyplot(x = day, y = score, color = treatment) |&gt;\n  add_mean_line(linewidth = 1) |&gt;\n  add_sem_ribbon(alpha = 0.2) |&gt;\n  add_data_points(alpha = 0.3, size = 1) |&gt;\n  adjust_title(\"æ²»ç–—æ•ˆæœæ—¶é—´æ›²çº¿\") |&gt;\n  adjust_x_axis_title(\"æ—¶é—´ (å¤©)\") |&gt;\n  adjust_y_axis_title(\"è¯„åˆ†\")\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹3ï¼šå¤šç»„æ¯”è¾ƒ\n\n# åˆ›å»ºåˆ†ç»„æ¯”è¾ƒå›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot(alpha = 0.3) |&gt;\n  add_data_points_jitter() |&gt;\n  add_test_pvalue() |&gt;\n  split_plot(by = group) |&gt;\n  adjust_title(\"ä¸åŒäºšç»„çš„æ²»ç–—æ•ˆæœ\")\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹4ï¼šç›¸å…³æ€§åˆ†æ\n\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points(size = 2.5, alpha = 0.6) |&gt;\n  add_curve_fit() |&gt;\n  adjust_title(\"å¹´é¾„ä¸è¯„åˆ†çš„å…³ç³»\") |&gt;\n  adjust_x_axis_title(\"å¹´é¾„ (å²)\") |&gt;\n  adjust_y_axis_title(\"è¯„åˆ†\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#é«˜çº§æŠ€å·§",
    "href": "2018-tidyplots.html#é«˜çº§æŠ€å·§",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "é«˜çº§æŠ€å·§",
    "text": "é«˜çº§æŠ€å·§\n\nä¸ ggplot2 ç»“åˆ\ntidyplots è¿”å›çš„æ˜¯ ggplot2 å¯¹è±¡ï¼Œå¯ä»¥ç»§ç»­æ·»åŠ  ggplot2 å±‚ï¼š\n\nlibrary(ggplot2)\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() +\n  # æ·»åŠ  ggplot2 å±‚\n  geom_hline(yintercept = 50, linetype = \"dashed\", color = \"red\") +\n  annotate(\"text\", x = 3.5, y = 52, label = \"åŸºçº¿\", color = \"red\")\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ç»‘å›¾å‡½æ•°\n\n# åˆ›å»ºè‡ªå®šä¹‰ç»‘å›¾å‡½æ•°\nmy_barplot &lt;- function(data, x, y, color) {\n  data |&gt;\n    tidyplot(x = {{x}}, y = {{y}}, color = {{color}}) |&gt;\n    add_mean_bar(alpha = 0.5) |&gt;\n    add_sem_errorbar() |&gt;\n    add_data_points_jitter() |&gt;\n    add_test_asterisks() |&gt;\n    remove_legend()\n}\n\n# ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°\nstudy |&gt;\n  my_barplot(treatment, score, treatment)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#tidyplots-å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "2018-tidyplots.html#tidyplots-å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "tidyplots å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "tidyplots å‡½æ•°é€ŸæŸ¥è¡¨\n\næ·»åŠ å‡ ä½•å›¾å½¢ (add_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadd_mean_bar()\nå‡å€¼æŸ±çŠ¶å›¾\n\n\nadd_boxplot()\nç®±çº¿å›¾\n\n\nadd_violin()\nå°æç´å›¾\n\n\nadd_data_points()\næ•°æ®ç‚¹\n\n\nadd_data_points_jitter()\næŠ–åŠ¨æ•°æ®ç‚¹\n\n\nadd_sem_errorbar()\næ ‡å‡†è¯¯è¯¯å·®çº¿\n\n\nadd_sd_errorbar()\næ ‡å‡†å·®è¯¯å·®çº¿\n\n\nadd_sem_ribbon()\næ ‡å‡†è¯¯è¯¯å·®å¸¦\n\n\nadd_mean_line()\nå‡å€¼è¿çº¿\n\n\nadd_curve_fit()\næ‹Ÿåˆçº¿\n\n\nadd_histogram()\nç›´æ–¹å›¾\n\n\nadd_heatmap()\nçƒ­å›¾\n\n\n\n\n\næ·»åŠ ç»Ÿè®¡ (add_test_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadd_test_pvalue()\np å€¼æ ‡æ³¨\n\n\nadd_test_asterisks()\næ˜Ÿå·æ˜¾è‘—æ€§æ ‡æ³¨\n\n\n\n\n\nè°ƒæ•´æ ·å¼ (adjust_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadjust_colors()\né…è‰²æ–¹æ¡ˆ\n\n\nadjust_title()\nä¸»æ ‡é¢˜\n\n\nadjust_x_axis_title()\nX è½´æ ‡é¢˜\n\n\nadjust_y_axis_title()\nY è½´æ ‡é¢˜\n\n\nadjust_font()\nå­—ä½“å¤§å°\n\n\nadjust_legend_title()\nå›¾ä¾‹æ ‡é¢˜\n\n\nadjust_size()\nå›¾å½¢å°ºå¯¸\n\n\n\n\n\nå…¶ä»–æ“ä½œ\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nsplit_plot()\nåˆ†é¢\n\n\nremove_legend()\nç§»é™¤å›¾ä¾‹\n\n\nview_plot()\næŸ¥çœ‹å›¾å½¢\n\n\nsave_plot()\nä¿å­˜å›¾å½¢",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å¸¸è§é—®é¢˜",
    "href": "2018-tidyplots.html#å¸¸è§é—®é¢˜",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n1. tidyplots å’Œ ggplot2 å“ªä¸ªæ›´å¥½ï¼Ÿ\ntidyplots æ˜¯åŸºäº ggplot2 çš„å°è£…ï¼Œä¸¤è€…å¯ä»¥äº’è¡¥ï¼š\n\nå¿«é€Ÿä½œå›¾ï¼šç”¨ tidyplots\né«˜åº¦å®šåˆ¶ï¼šç”¨ ggplot2\næ··åˆä½¿ç”¨ï¼štidyplots åˆ›å»ºåŸºç¡€å›¾ï¼Œggplot2 æ·»åŠ ç»†èŠ‚\n\n\n\n2. å¦‚ä½•æ·»åŠ ä¸­æ–‡æ ‡ç­¾ï¼Ÿ\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  adjust_title(\"å®éªŒç»“æœ\") |&gt;\n  adjust_x_axis_title(\"åˆ†ç»„\") |&gt;\n  adjust_y_axis_title(\"å¾—åˆ†\")\n\n\n\n\n\n\n\n\n\n\n3. å¦‚ä½•å¯¼å‡ºé«˜åˆ†è¾¨ç‡å›¾ç‰‡ï¼Ÿ\n\n# ä½¿ç”¨ save_plot æŒ‡å®š dpi\np |&gt; save_plot(\"figure.png\", dpi = 600, width = 12, height = 8)\n\n# æˆ–ç»“åˆ ggplot2::ggsave + ragg\nggsave(\"figure.png\", p, device = ragg::agg_png, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#æ€»ç»“",
    "href": "2018-tidyplots.html#æ€»ç»“",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\ntidyplots çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š\n\næç®€è¯­æ³•ï¼šç®¡é“å¼æ“ä½œï¼Œä¸€è¡Œä»£ç ä¸€ä¸ªåŠŸèƒ½\nä¸“ä¸šé»˜è®¤ï¼šå¼€ç®±å³ç”¨çš„å­¦æœ¯ä¸»é¢˜å’Œé…è‰²\nç»Ÿè®¡å†…ç½®ï¼šè‡ªåŠ¨è®¡ç®—å¹¶æ ‡æ³¨ p å€¼\nå®Œå…¨å…¼å®¹ï¼šå¯ä¸ ggplot2 æ— ç¼ç»“åˆ\n\næ¨èå­¦ä¹ è·¯å¾„ï¼š\n\næŒæ¡ tidyplot() |&gt; add_*() åŸºæœ¬æ¨¡å¼\nå­¦ä¹  adjust_*() è°ƒæ•´æ ·å¼\næ¢ç´¢ç»Ÿè®¡æ ‡æ³¨åŠŸèƒ½\nç»“åˆ ggplot2 å®ç°é«˜çº§å®šåˆ¶\n\nå‚è€ƒèµ„æºï¼š\n\ntidyplots å®˜æ–¹æ–‡æ¡£\nGitHub ä»“åº“\nCRAN é¡µé¢",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ–"
    ]
  },
  {
    "objectID": "2022-ggally.html",
    "href": "2022-ggally.html",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "",
    "text": "GGally æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œæ—¨åœ¨é€šè¿‡æ·»åŠ å‡ ä¸ªå‡½æ•°æ¥é™ä½ç»„åˆå‡ ä½•å¯¹è±¡çš„å¤æ‚æ€§ã€‚å®ƒæœ€è‘—åçš„åŠŸèƒ½æ˜¯å¿«é€Ÿç”ŸæˆçŸ©é˜µæ•£ç‚¹å›¾ã€ç›¸å…³ç³»æ•°çƒ­å›¾å’Œå¹³è¡Œåæ ‡å›¾ï¼Œæ˜¯æ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆEDAï¼‰çš„å¾—åŠ›åŠ©æ‰‹ã€‚\n\n\næ ¸å¿ƒåŠŸèƒ½ï¼šçŸ©é˜µæ•£ç‚¹å›¾ (ggpairs)ã€åŒå˜é‡åˆ†æ (ggbivariate)ã€æ¨¡å‹è¯Šæ–­ (ggnostic)ã€ç³»æ•°å›¾ (ggcoef_model)\nå®˜æ–¹é“¾æ¥ï¼šCRAN | GitHub | æ–‡æ¡£\n\n\n\n\næ•ˆç‡æé«˜ï¼šä¸€è¡Œä»£ç å³å¯æŸ¥çœ‹æ•°æ®é›†ä¸­æ‰€æœ‰å˜é‡çš„ä¸¤ä¸¤å…³ç³»ã€‚\nå…¼å®¹æ€§å¥½ï¼šåŸºäº ggplot2 æ„å»ºï¼Œå›¾è¡¨å¯¹è±¡å¯ä»¥åƒ ggplot ä¸€æ ·æ·»åŠ å›¾å±‚å’Œä¿®æ”¹ä¸»é¢˜ã€‚\nä¿¡æ¯ä¸°å¯Œï¼šä¸ä»…å±•ç¤ºå›¾å½¢ï¼Œè¿˜è‡ªåŠ¨è®¡ç®—å¹¶å±•ç¤ºç›¸å…³ç³»æ•°ç­‰ç»Ÿè®¡é‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#råŒ…ç®€ä»‹",
    "href": "2022-ggally.html#råŒ…ç®€ä»‹",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "",
    "text": "GGally æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œæ—¨åœ¨é€šè¿‡æ·»åŠ å‡ ä¸ªå‡½æ•°æ¥é™ä½ç»„åˆå‡ ä½•å¯¹è±¡çš„å¤æ‚æ€§ã€‚å®ƒæœ€è‘—åçš„åŠŸèƒ½æ˜¯å¿«é€Ÿç”ŸæˆçŸ©é˜µæ•£ç‚¹å›¾ã€ç›¸å…³ç³»æ•°çƒ­å›¾å’Œå¹³è¡Œåæ ‡å›¾ï¼Œæ˜¯æ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆEDAï¼‰çš„å¾—åŠ›åŠ©æ‰‹ã€‚\n\n\næ ¸å¿ƒåŠŸèƒ½ï¼šçŸ©é˜µæ•£ç‚¹å›¾ (ggpairs)ã€åŒå˜é‡åˆ†æ (ggbivariate)ã€æ¨¡å‹è¯Šæ–­ (ggnostic)ã€ç³»æ•°å›¾ (ggcoef_model)\nå®˜æ–¹é“¾æ¥ï¼šCRAN | GitHub | æ–‡æ¡£\n\n\n\n\næ•ˆç‡æé«˜ï¼šä¸€è¡Œä»£ç å³å¯æŸ¥çœ‹æ•°æ®é›†ä¸­æ‰€æœ‰å˜é‡çš„ä¸¤ä¸¤å…³ç³»ã€‚\nå…¼å®¹æ€§å¥½ï¼šåŸºäº ggplot2 æ„å»ºï¼Œå›¾è¡¨å¯¹è±¡å¯ä»¥åƒ ggplot ä¸€æ ·æ·»åŠ å›¾å±‚å’Œä¿®æ”¹ä¸»é¢˜ã€‚\nä¿¡æ¯ä¸°å¯Œï¼šä¸ä»…å±•ç¤ºå›¾å½¢ï¼Œè¿˜è‡ªåŠ¨è®¡ç®—å¹¶å±•ç¤ºç›¸å…³ç³»æ•°ç­‰ç»Ÿè®¡é‡ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#å®‰è£…ä¸åŠ è½½",
    "href": "2022-ggally.html#å®‰è£…ä¸åŠ è½½",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "ğŸ›  å®‰è£…ä¸åŠ è½½",
    "text": "ğŸ›  å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…\nif (!requireNamespace(\"GGally\", quietly = TRUE)) {\n  install.packages(\"GGally\", repos = \"https://cloud.r-project.org\")\n}\nif (!requireNamespace(\"broom.helpers\", quietly = TRUE)) {\n  install.packages(\"broom.helpers\", repos = \"https://cloud.r-project.org\")\n}\n\n# åŠ è½½\nlibrary(GGally)\nlibrary(ggplot2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#æ ¸å¿ƒåŠŸèƒ½è¯¦è§£",
    "href": "2022-ggally.html#æ ¸å¿ƒåŠŸèƒ½è¯¦è§£",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£",
    "text": "ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£\n\n1. ggpairs()ï¼šçŸ©é˜µæ•£ç‚¹å›¾ï¼ˆå®Œå…¨æŒ‡å—ï¼‰\nggpairs() æ˜¯ GGally çš„æ——èˆ°å‡½æ•°ã€‚é™¤äº†é»˜è®¤å±•ç¤ºï¼Œå®ƒå…è®¸é«˜åº¦è‡ªå®šä¹‰æ¯ä¸ªåŒºåŸŸï¼ˆå¯¹è§’çº¿ã€ä¸Šä¸‰è§’ã€ä¸‹ä¸‰è§’ï¼‰çš„å±•ç¤ºå½¢å¼ã€‚\n\nåŸºç¡€ç”¨æ³•ä¸åˆ†ç»„\næœ€ç®€å•çš„ç”¨æ³•æ˜¯ç›´æ¥ä¼ å…¥æ•°æ®æ¡†ï¼Œä½†é€šå¸¸æˆ‘ä»¬éœ€è¦æŒ‡å®šåˆ—å’Œåˆ†ç»„å˜é‡ã€‚\n\n# ä½¿ç”¨ iris æ•°æ®é›†\ndata(iris)\n\nggpairs(iris, \n        columns = 1:5,        # åŒ…å«æ•°å€¼å’Œåˆ†ç±»å˜é‡\n        aes(color = Species,  # åˆ†ç»„ç€è‰²\n            alpha = 0.5)) +   # é€æ˜åº¦\n  theme_bw() +\n  labs(title = \"åŸºç¡€ç”¨æ³•ï¼šåˆ†ç»„å±•ç¤º\")\n\n\n\n\n\n\n\n\n\n\nè¿›é˜¶å®šåˆ¶ï¼šæ§åˆ¶ä¸åŒåŒºåŸŸ\nä½ å¯ä»¥é€šè¿‡ upper, lower, diag å‚æ•°åˆ†åˆ«æ§åˆ¶ä¸‰ä¸ªåŒºåŸŸçš„ç»˜å›¾ç±»å‹ (continuous, combo, discrete)ã€‚\n\n# è‡ªå®šä¹‰å‡½æ•°ï¼šåˆ›å»ºæ›´ç¾è§‚çš„æ•£ç‚¹å›¾\nmy_scatter &lt;- function(data, mapping, ...) {\n  ggplot(data = data, mapping = mapping) +\n    geom_point(..., size = 0.5) +  # ç¼©å°ç‚¹çš„å¤§å°\n    geom_smooth(method = \"lm\", se = FALSE, size = 0.5) # æ·»åŠ å›å½’çº¿\n}\n\nggpairs(iris, \n        columns = 1:4,\n        aes(color = Species),\n        # ä¸Šä¸‰è§’ï¼šå±•ç¤ºç›¸å…³ç³»æ•°ï¼Œå­—ä½“å¤§å°è®¾ä¸º 3\n        upper = list(continuous = wrap(\"cor\", size = 3)),\n        # ä¸‹ä¸‰è§’ï¼šä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°\n        lower = list(continuous = my_scatter),\n        # å¯¹è§’çº¿ï¼šä½¿ç”¨å¯†åº¦å›¾ï¼Œé€æ˜åº¦ 0.5\n        diag = list(continuous = wrap(\"densityDiag\", alpha = 0.5))\n        ) +\n  theme_light() +\n  labs(title = \"è¿›é˜¶ç”¨æ³•ï¼šè‡ªå®šä¹‰é¢æ¿å‡½æ•°\")\n\n\n\n\n\n\n\n\n\n\n\n2. ggbivariate()ï¼šåŒå˜é‡åˆ†æ\nå®˜æ–¹æ–‡æ¡£å°†å…¶æ ‡è®°ä¸ºâ€ä¸»è¦ç»˜å›¾å‡½æ•°â€ä¹‹ä¸€ã€‚å®ƒç”¨äºå±•ç¤ºä¸€ä¸ªç»“æœå˜é‡ (Outcome) ä¸å¤šä¸ªè§£é‡Šå˜é‡ (Explanatory) ä¹‹é—´çš„å…³ç³»ã€‚è¿™åœ¨å»ºæ¨¡å‰çš„ EDA é˜¶æ®µéå¸¸é«˜æ•ˆã€‚\n\n# ä»¥ tips æ•°æ®é›†ä¸ºä¾‹ (éœ€è¦ reshape2 æˆ–å…¶ä»–åŒ…æä¾›ï¼Œè¿™é‡Œç”¨ iris)\n# æ¢ç´¢ Sepal.Length (æ•°å€¼å‹) ä¸å…¶ä»–å˜é‡çš„å…³ç³»\nggbivariate(iris, \n            outcome = \"Sepal.Length\", \n            explanatory = c(\"Sepal.Width\", \"Petal.Length\", \"Species\")) +\n  labs(title = \"ggbivariate: æ¢ç´¢ Sepal.Length çš„å½±å“å› ç´ \")\n\n\n\n\n\n\n\n\n\n\n3. ggcorr()ï¼šç›¸å…³æ€§çƒ­å›¾\nä¸“é—¨ç”¨äºå¯è§†åŒ–ç›¸å…³ç³»æ•°çŸ©é˜µï¼Œæ”¯æŒæ— éœ€è®¡ç®— cor ç›´æ¥ä¼ å…¥åŸå§‹æ•°æ®ã€‚\n\nggcorr(iris[, 1:4], \n       method = c(\"everything\", \"pearson\"), # è®¡ç®—æ–¹æ³•\n       label = TRUE,           # æ˜¾ç¤ºæ•°å€¼\n       label_size = 3,         # æ•°å€¼å¤§å°\n       label_round = 2,        # ä¿ç•™å°æ•°ä½\n       label_alpha = TRUE,     # æ•°å€¼é€æ˜åº¦éšç›¸å…³æ€§å˜åŒ–\n       nbreaks = 5,            # é¢œè‰²åˆ†æ®µæ•°\n       palette = \"RdBu\",       # é…è‰²æ–¹æ¡ˆ (RColorBrewer)\n       layout.exp = 1) +       # æ‰©å……å¸ƒå±€é˜²æ­¢æ ‡ç­¾æˆªæ–­\n  labs(title = \"ç²¾ç¾ç›¸å…³æ€§çƒ­å›¾\")\n\n\n\n\n\n\n\n\n\n\n4. ggtable()ï¼šå¯è§†åŒ–äº¤å‰è¡¨\nç”¨äºå±•ç¤ºç¦»æ•£å˜é‡ä¹‹é—´çš„åˆ†ç±»æ±‡æ€»æƒ…å†µï¼Œç±»ä¼¼äº table() çš„å›¾å½¢åŒ–ç‰ˆæœ¬ã€‚\n\n# åˆ¶é€ ä¸€äº›ç¦»æ•£æ•°æ®\ndf_tips &lt;- as.data.frame(Titanic)\n# å±•å¼€æ•°æ®ï¼Œå› ä¸º ggtable é»˜è®¤æ¯è¡Œæ˜¯ä¸€ä¸ªè§‚æµ‹\ndf_tips_expanded &lt;- df_tips[rep(row.names(df_tips), df_tips$Freq), 1:4]\n\nggtable(df_tips_expanded, \"Class\", c(\"Survived\", \"Sex\", \"Age\"), cells = \"observed\") +\n  labs(title = \"ggtable: æ³°å¦å°¼å…‹å·ä¹˜å®¢åˆ†å¸ƒ\")\n\n\n\n\n\n\n\n\n\n\n5. ggduo()ï¼šåŒç»„å˜é‡å…³è”\nå½“ä½ ä¸æƒ³çœ‹æ‰€æœ‰å˜é‡çš„ä¸¤ä¸¤å…³ç³»ï¼Œè€Œæ˜¯æƒ³çœ‹ ä¸€ç»„å˜é‡ (X) ä¸ å¦ä¸€ç»„å˜é‡ (Y) çš„å…³ç³»æ—¶ï¼ˆç±»ä¼¼å…¸å‹ç›¸å…³åˆ†æçš„è§†è§’ï¼‰ï¼Œggduo() éå¸¸æœ‰ç”¨ã€‚\n\n# æ¯”å¦‚ï¼šæ¢ç´¢ è¼ç‰‡(Sepal) å°ºå¯¸ ä¸ èŠ±ç“£(Petal) å°ºå¯¸çš„å…³ç³»\nggduo(iris,\n      columnsX = c(\"Sepal.Length\", \"Sepal.Width\"),\n      columnsY = c(\"Petal.Length\", \"Petal.Width\"),\n      aes(color = Species),\n      types = list(continuous = \"smooth_lm\")) + # æ·»åŠ çº¿æ€§æ‹Ÿåˆ\n  theme_bw() +\n  labs(title = \"ggduo: è¼ç‰‡ vs èŠ±ç“£\")\n\n\n\n\n\n\n\n\n\n\n6. ggnostic()ï¼šæ¨¡å‹è¯Šæ–­çŸ©é˜µ\nè¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œç”¨äºå±•ç¤ºæ¨¡å‹è¯Šæ–­ä¿¡æ¯ã€‚å®ƒç”Ÿæˆä¸€ä¸ªçŸ©é˜µï¼ŒåŒ…å«æ®‹å·®ã€æ æ†å€¼ã€Cookè·ç¦»ç­‰ç»Ÿè®¡é‡ä¸è§£é‡Šå˜é‡çš„å…³ç³»ã€‚\n\n# æ‹Ÿåˆä¸€ä¸ªç®€å•æ¨¡å‹ (ä½¿ç”¨ iris æ•°æ®ä»¥æ”¯æŒè‡ªåŠ¨ç€è‰²)\nfit_iris &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Species, data = iris)\n\n# ç”Ÿæˆè¯Šæ–­çŸ©é˜µ\n# é»˜è®¤å±•ç¤ºæ‰€æœ‰æ ‡å‡†è¯Šæ–­æŒ‡æ ‡ vs è§£é‡Šå˜é‡\nggnostic(fit_iris,\n         columnsY = c(\".resid\", \".std.resid\", \".hat\", \".cooksd\"), # é€‰å®šè¯Šæ–­æŒ‡æ ‡\n         mapping = aes(color = Species)) +\n  theme_bw() +\n  labs(title = \"ggnostic: çº¿æ€§æ¨¡å‹è¯Šæ–­\")\n\n\n\n\n\n\n\n\n\n\n7. ggcoef_model()ï¼šå›å½’ç³»æ•°å¯è§†åŒ–\næ¯”åŸºç¡€çš„ summary(model) æ›´ç›´è§‚ï¼Œç‰¹åˆ«é€‚åˆåœ¨è®ºæ–‡ä¸­å±•ç¤ºæ¨¡å‹ç»“æœã€‚\n\n# å»ºç«‹ä¸¤ä¸ªå›å½’æ¨¡å‹\nmod1 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length, data = iris)\nmod2 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)\n\n# å¯¹æ¯”æ¨¡å‹\nggcoef_compare(list(\"Model A\" = mod1, \"Model B\" = mod2),\n               variable_labels = c(\n                 Sepal.Width = \"è¼ç‰‡å®½åº¦\",\n                 Petal.Length = \"èŠ±ç“£é•¿åº¦\",\n                 Petal.Width = \"èŠ±ç“£å®½åº¦\"\n               ),\n               conf.level = 0.95) +\n  scale_color_brewer(palette = \"Dark2\") + # ä½¿ç”¨æ›´å¥½çœ‹çš„é…è‰²\n  theme_minimal() +\n  labs(title = \"å›å½’æ¨¡å‹ç³»æ•°å¯¹æ¯”\", \n       caption = \"æ³¨ï¼šè¯¯å·®æ£’è¡¨ç¤º 95% ç½®ä¿¡åŒºé—´\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#å®æˆ˜æ¡ˆä¾‹é«˜ç»´æ•°æ®æ¢ç´¢",
    "href": "2022-ggally.html#å®æˆ˜æ¡ˆä¾‹é«˜ç»´æ•°æ®æ¢ç´¢",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "ğŸ“Š å®æˆ˜æ¡ˆä¾‹ï¼šé«˜ç»´æ•°æ®æ¢ç´¢",
    "text": "ğŸ“Š å®æˆ˜æ¡ˆä¾‹ï¼šé«˜ç»´æ•°æ®æ¢ç´¢\nå¹³è¡Œåæ ‡å›¾ (ggparcoord) æ˜¯å±•ç¤ºå¤šç»´æ•°æ®ï¼ˆ&gt;3ç»´ï¼‰æ¨¡å¼çš„åˆ©å™¨ï¼Œç‰¹åˆ«é€‚åˆè§‚å¯Ÿåˆ†ç±»æ•ˆæœæˆ–å¼‚å¸¸å€¼ã€‚\n\n# æ¨¡æ‹Ÿä¸€ä¸ªç¨å¤æ‚çš„æ•°æ®å¤„ç†åœºæ™¯\n# 1. é€‰å–æ•°å€¼åˆ—\n# 2. è¿™é‡Œçš„ scale=\"globalminmax\" ä¿ç•™äº†åŸå§‹æ•°æ®çš„ç›¸å¯¹å¤§å°ï¼Œæˆ–è€…ç”¨ \"std\" (é»˜è®¤) çœ‹ç›¸å¯¹è¶‹åŠ¿\nggparcoord(iris,\n           columns = 1:4,          \n           groupColumn = 5,        \n           order = \"anyClass\",     # è‡ªåŠ¨æ’åºä¼˜åŒ–å±•ç¤º\n           showPoints = TRUE,      \n           scale = \"uniminmax\",    # æ ‡å‡†åŒ–åˆ° 0-1 ä¹‹é—´ï¼Œä¾¿äºæ¯”è¾ƒå½¢çŠ¶\n           alphaLines = 0.3) +     \n  scale_color_brewer(palette = \"Set1\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 14, face = \"bold\"),\n    axis.text.x = element_text(angle = 15, hjust = 1)\n  ) +\n  labs(title = \"å¹³è¡Œåæ ‡å›¾ï¼šæ ‡å‡†åŒ–åçš„ç‰¹å¾æ¨¡å¼\",\n       y = \"Standardized Value (0-1)\",\n       x = \"Features\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "2022-ggally.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "ğŸ“ å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "ğŸ“ å‡½æ•°é€ŸæŸ¥è¡¨\n\n\n\n\n\n\n\n\nå‡½æ•°\nåŠŸèƒ½æè¿°\næ ¸å¿ƒå‚æ•°/æŠ€å·§\n\n\n\n\nggpairs()\nçŸ©é˜µæ•£ç‚¹å›¾ (é€šç”¨)\nupper/lower/diag æ§åˆ¶é¢æ¿å†…å®¹\n\n\nggbivariate()\nåŒå˜é‡åˆ†æ (Outcome vs X)\noutcome, explanatory æŒ‡å®šå˜é‡\n\n\nggcorr()\nç›¸å…³æ€§çƒ­å›¾\nlabel = TRUE, nbreaks é¢œè‰²åˆ†æ®µ\n\n\nggtable()\nå¯è§†åŒ–äº¤å‰è¡¨\ncells = \"observed\" æ˜¾ç¤ºæ•°å€¼\n\n\nggduo()\nåŒç»„å˜é‡çŸ©é˜µ\ncolumnsX, columnsY ä¸¤ç»„å¯¹æ’\n\n\nggnostic()\næ¨¡å‹è¯Šæ–­çŸ©é˜µ\næ”¯æŒ lm, glm ç­‰æ¨¡å‹å¯¹è±¡\n\n\nggcoef_model()\næ¨¡å‹ç³»æ•°å›¾\ninclude_intercept = FALSE\n\n\nggparcoord()\nå¹³è¡Œåæ ‡å›¾\nscale = \"uniminmax\" å½’ä¸€åŒ–",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2022-ggally.html#å‚è€ƒèµ„æ–™",
    "href": "2022-ggally.html#å‚è€ƒèµ„æ–™",
    "title": "GGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨",
    "section": "ğŸ”— å‚è€ƒèµ„æ–™",
    "text": "ğŸ”— å‚è€ƒèµ„æ–™\n\nå®˜æ–¹æ–‡æ¡£ (Pkgdown)ï¼šæœ¬æ–‡ç»“æ„å‚è€ƒäº†å®˜æ–¹æ–‡æ¡£çš„ Core Functionality åˆ†ç±»ã€‚\n\nCore Functionality: åŒ…å«æ‰€æœ‰é«˜çº§ç»˜å›¾å‡½æ•°çš„åˆ—è¡¨ã€‚\nVignette: ggpairs: å¼ºçƒˆæ¨èé˜…è¯»ï¼Œè¿™æ˜¯ GGally æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚\n\nGitHub: https://github.com/ggobi/ggally",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "GGally - å¯è§†åŒ–æ‰©å±•"
    ]
  },
  {
    "objectID": "2024-venn.html",
    "href": "2024-venn.html",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "",
    "text": "éŸ¦æ©å›¾ (Venn Diagram) æ˜¯å±•ç¤ºé›†åˆä¹‹é—´äº¤é›†å’Œå·®é›†å…³ç³»çš„ç»å…¸å›¾å½¢ã€‚å®ƒç”±é‡å çš„åœ†ï¼ˆæˆ–æ¤­åœ†ï¼‰ç»„æˆï¼Œä¸åŒåŒºåŸŸä»£è¡¨ä¸åŒçš„é›†åˆå…³ç³»ã€‚\n\n\n\n\n\né¢†åŸŸ\nç¤ºä¾‹\n\n\n\n\nç”Ÿç‰©ä¿¡æ¯å­¦\nå·®å¼‚è¡¨è¾¾åŸºå› äº¤é›†ã€GOå¯Œé›†é€šè·¯æ¯”è¾ƒ\n\n\nå¸‚åœºåˆ†æ\nç”¨æˆ·ç¾¤ä½“é‡å ã€æ¸ é“æ¥æºå¯¹æ¯”\n\n\næ–‡çŒ®ç ”ç©¶\næ•°æ®åº“æ£€ç´¢ç»“æœå¯¹æ¯”ã€ç­›é€‰æµç¨‹\n\n\né—®å·è°ƒæŸ¥\nå¤šé€‰é¢˜ç­”æ¡ˆåˆ†å¸ƒã€åå¥½äº¤å‰åˆ†æ\n\n\n\n\n[!NOTE] æ ‡å‡†éŸ¦æ©å›¾æœ€å¤šæ”¯æŒ 5 ä¸ªé›†åˆã€‚è¶…è¿‡ 5 ä¸ªæ—¶å»ºè®®ä½¿ç”¨ UpSet å›¾æˆ– Euler å›¾ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#ä»€ä¹ˆæ˜¯éŸ¦æ©å›¾",
    "href": "2024-venn.html#ä»€ä¹ˆæ˜¯éŸ¦æ©å›¾",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "",
    "text": "éŸ¦æ©å›¾ (Venn Diagram) æ˜¯å±•ç¤ºé›†åˆä¹‹é—´äº¤é›†å’Œå·®é›†å…³ç³»çš„ç»å…¸å›¾å½¢ã€‚å®ƒç”±é‡å çš„åœ†ï¼ˆæˆ–æ¤­åœ†ï¼‰ç»„æˆï¼Œä¸åŒåŒºåŸŸä»£è¡¨ä¸åŒçš„é›†åˆå…³ç³»ã€‚\n\n\n\n\n\né¢†åŸŸ\nç¤ºä¾‹\n\n\n\n\nç”Ÿç‰©ä¿¡æ¯å­¦\nå·®å¼‚è¡¨è¾¾åŸºå› äº¤é›†ã€GOå¯Œé›†é€šè·¯æ¯”è¾ƒ\n\n\nå¸‚åœºåˆ†æ\nç”¨æˆ·ç¾¤ä½“é‡å ã€æ¸ é“æ¥æºå¯¹æ¯”\n\n\næ–‡çŒ®ç ”ç©¶\næ•°æ®åº“æ£€ç´¢ç»“æœå¯¹æ¯”ã€ç­›é€‰æµç¨‹\n\n\né—®å·è°ƒæŸ¥\nå¤šé€‰é¢˜ç­”æ¡ˆåˆ†å¸ƒã€åå¥½äº¤å‰åˆ†æ\n\n\n\n\n[!NOTE] æ ‡å‡†éŸ¦æ©å›¾æœ€å¤šæ”¯æŒ 5 ä¸ªé›†åˆã€‚è¶…è¿‡ 5 ä¸ªæ—¶å»ºè®®ä½¿ç”¨ UpSet å›¾æˆ– Euler å›¾ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#æ–¹æ³•ä¸€ggvenndiagramæ¨è",
    "href": "2024-venn.html#æ–¹æ³•ä¸€ggvenndiagramæ¨è",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "2. æ–¹æ³•ä¸€ï¼šggVennDiagramï¼ˆæ¨èï¼‰",
    "text": "2. æ–¹æ³•ä¸€ï¼šggVennDiagramï¼ˆæ¨èï¼‰\nggVennDiagram æ˜¯ç›®å‰æœ€ç°ä»£ã€æœ€ç¾è§‚çš„ R éŸ¦æ©å›¾åŒ…ï¼ŒåŸºäº ggplot2ï¼Œæ”¯æŒé«˜åº¦è‡ªå®šä¹‰ã€‚\n\nå®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"ggVennDiagram\")\n\n\nlibrary(ggVennDiagram)\nlibrary(ggplot2)\n\n\n\nåŸºç¡€éŸ¦æ©å›¾ï¼ˆ2-4 ä¸ªé›†åˆï¼‰\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®ï¼šåŸºå› åˆ—è¡¨\ngene_list &lt;- list(\n    Treatment_A = c(\"Gene1\", \"Gene2\", \"Gene3\", \"Gene4\", \"Gene5\", \"Gene6\"),\n    Treatment_B = c(\"Gene3\", \"Gene4\", \"Gene5\", \"Gene7\", \"Gene8\", \"Gene9\"),\n    Treatment_C = c(\"Gene1\", \"Gene5\", \"Gene9\", \"Gene10\", \"Gene11\", \"Gene12\")\n)\n\n# ç»‘åˆ¶åŸºç¡€éŸ¦æ©å›¾\nggVennDiagram(gene_list) +\n    scale_fill_gradient(low = \"#F4FAFE\", high = \"#4f46e5\") +\n    labs(title = \"ä¸‰ç»„å¤„ç†çš„å·®å¼‚åŸºå› äº¤é›†\") +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\", size = 16),\n        legend.position = \"none\"\n    )\n\n\n\nè‡ªå®šä¹‰æ ·å¼\n\n# è‡ªå®šä¹‰é¢œè‰²å’Œæ ‡ç­¾\nggVennDiagram(\n    gene_list,\n    label = \"count\", # æ˜¾ç¤ºè®¡æ•°\n    label_alpha = 0, # æ ‡ç­¾èƒŒæ™¯é€æ˜\n    edge_size = 1 # è¾¹æ¡†å®½åº¦\n) +\n    scale_fill_distiller(palette = \"RdBu\") +\n    scale_color_manual(values = c(\"#e11d48\", \"#0891b2\", \"#16a34a\")) +\n    labs(title = \"å·®å¼‚åŸºå› éŸ¦æ©å›¾\") +\n    theme_void() +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\", size = 16),\n        legend.position = \"bottom\"\n    )\n\n\n\næ˜¾ç¤ºç™¾åˆ†æ¯”\n\nggVennDiagram(\n    gene_list,\n    label = \"percent\", # æ˜¾ç¤ºç™¾åˆ†æ¯”\n    label_percent_digit = 1\n) +\n    scale_fill_gradient(low = \"white\", high = \"#22c55e\") +\n    theme_void()\n\n\n\nå››é›†åˆéŸ¦æ©å›¾\n\n# å››ç»„æ•°æ®\ngene_list_4 &lt;- list(\n    Condition_A = paste0(\"Gene\", sample(1:100, 40)),\n    Condition_B = paste0(\"Gene\", sample(1:100, 35)),\n    Condition_C = paste0(\"Gene\", sample(1:100, 45)),\n    Condition_D = paste0(\"Gene\", sample(1:100, 30))\n)\n\nset.seed(123)\nggVennDiagram(gene_list_4, label = \"count\") +\n    scale_fill_gradient(low = \"#f0f9ff\", high = \"#0369a1\") +\n    theme_void() +\n    labs(title = \"å››æ¡ä»¶å·®å¼‚åŸºå› æ¯”è¾ƒ\")\n\n\n\näº”é›†åˆéŸ¦æ©å›¾\n\n# äº”ç»„æ•°æ®\ngene_list_5 &lt;- list(\n    A = paste0(\"Gene\", sample(1:200, 50)),\n    B = paste0(\"Gene\", sample(1:200, 45)),\n    C = paste0(\"Gene\", sample(1:200, 55)),\n    D = paste0(\"Gene\", sample(1:200, 40)),\n    E = paste0(\"Gene\", sample(1:200, 35))\n)\n\nset.seed(456)\nggVennDiagram(gene_list_5, label = \"count\", label_size = 3) +\n    scale_fill_gradient(low = \"white\", high = \"#7c3aed\") +\n    theme_void()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#æ–¹æ³•äºŒvenndiagram-åŒ…",
    "href": "2024-venn.html#æ–¹æ³•äºŒvenndiagram-åŒ…",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "3. æ–¹æ³•äºŒï¼šVennDiagram åŒ…",
    "text": "3. æ–¹æ³•äºŒï¼šVennDiagram åŒ…\nVennDiagram æ˜¯ç»å…¸çš„éŸ¦æ©å›¾åŒ…ï¼ŒåŠŸèƒ½å¼ºå¤§ä½†è¯­æ³•è¾ƒå¤æ‚ã€‚\n\nå®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"VennDiagram\")\n\n\nlibrary(VennDiagram)\nlibrary(grid)\n\n\n\nåŒé›†åˆéŸ¦æ©å›¾\n\n# ç»‘åˆ¶åŒé›†åˆå›¾\nvenn.plot &lt;- draw.pairwise.venn(\n    area1 = 100,\n    area2 = 80,\n    cross.area = 30,\n    category = c(\"Group A\", \"Group B\"),\n    fill = c(\"#4f46e5\", \"#f97316\"),\n    alpha = 0.5,\n    cat.pos = c(-20, 20),\n    cat.dist = 0.05,\n    cat.fontfamily = \"sans\",\n    fontfamily = \"sans\"\n)\ngrid.draw(venn.plot)\n\n\n\nä¸‰é›†åˆéŸ¦æ©å›¾\n\ngrid.newpage()\nvenn.plot &lt;- draw.triple.venn(\n    area1 = 100,\n    area2 = 80,\n    area3 = 90,\n    n12 = 30,\n    n23 = 25,\n    n13 = 35,\n    n123 = 15,\n    category = c(\"A\", \"B\", \"C\"),\n    fill = c(\"#4f46e5\", \"#22c55e\", \"#f97316\"),\n    alpha = 0.4,\n    cat.fontfamily = \"sans\",\n    fontfamily = \"sans\"\n)\ngrid.draw(venn.plot)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#æå–äº¤é›†å…ƒç´ ",
    "href": "2024-venn.html#æå–äº¤é›†å…ƒç´ ",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "4. æå–äº¤é›†å…ƒç´ ",
    "text": "4. æå–äº¤é›†å…ƒç´ \nåœ¨å®é™…åˆ†æä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦æå–å„åŒºåŸŸçš„å…·ä½“å…ƒç´ ã€‚\n\n# ä½¿ç”¨ ggVennDiagram çš„è¾…åŠ©å‡½æ•°\nlibrary(ggVennDiagram)\n\n# è·å–äº¤é›†ä¿¡æ¯\nvenn_result &lt;- process_data(Venn(gene_list))\n\n# æŸ¥çœ‹å„åŒºåŸŸ\nvenn_region(venn_result)\n\n\næ‰‹åŠ¨æå–äº¤é›†\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ngene_list &lt;- list(\n    Treatment_A = c(\"Gene1\", \"Gene2\", \"Gene3\", \"Gene4\", \"Gene5\", \"Gene6\"),\n    Treatment_B = c(\"Gene3\", \"Gene4\", \"Gene5\", \"Gene7\", \"Gene8\", \"Gene9\"),\n    Treatment_C = c(\"Gene1\", \"Gene5\", \"Gene9\", \"Gene10\", \"Gene11\", \"Gene12\")\n)\n\n# ç»å…¸æ–¹æ³•ï¼šä½¿ç”¨ Reduce å’Œ intersect\nA &lt;- gene_list$Treatment_A\nB &lt;- gene_list$Treatment_B\nC &lt;- gene_list$Treatment_C\n\n# A âˆ© Bï¼ˆä»… A å’Œ B çš„äº¤é›†ï¼Œä¸å« Cï¼‰\nAB_only &lt;- setdiff(intersect(A, B), C)\ncat(\"A âˆ© B (not C):\", AB_only, \"\\n\")\n\nA âˆ© B (not C): Gene3 Gene4 \n\n# A âˆ© B âˆ© Cï¼ˆä¸‰è€…å…±æœ‰ï¼‰\nABC &lt;- Reduce(intersect, gene_list)\ncat(\"A âˆ© B âˆ© C:\", ABC, \"\\n\")\n\nA âˆ© B âˆ© C: Gene5 \n\n# ä»… A ç‹¬æœ‰\nA_only &lt;- setdiff(A, union(B, C))\ncat(\"Only A:\", A_only, \"\\n\")\n\nOnly A: Gene2 Gene6",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#euler-å›¾é¢ç§¯æˆæ¯”ä¾‹",
    "href": "2024-venn.html#euler-å›¾é¢ç§¯æˆæ¯”ä¾‹",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "5. Euler å›¾ï¼ˆé¢ç§¯æˆæ¯”ä¾‹ï¼‰",
    "text": "5. Euler å›¾ï¼ˆé¢ç§¯æˆæ¯”ä¾‹ï¼‰\næ ‡å‡†éŸ¦æ©å›¾çš„åœ†åœˆå¤§å°æ˜¯å›ºå®šçš„ã€‚å¦‚æœéœ€è¦é¢ç§¯ä¸é›†åˆå¤§å°æˆæ¯”ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ eulerr åŒ…ã€‚\n\ninstall.packages(\"eulerr\")\n\n\nlibrary(eulerr)\n\n# å®šä¹‰é›†åˆå¤§å°\nfit &lt;- euler(c(\n    A = 50,\n    B = 40,\n    C = 30,\n    \"A&B\" = 15,\n    \"A&C\" = 10,\n    \"B&C\" = 8,\n    \"A&B&C\" = 5\n))\n\n# ç»‘åˆ¶ Euler å›¾\nplot(fit,\n    fills = list(fill = c(\"#4f46e5\", \"#22c55e\", \"#f97316\"), alpha = 0.5),\n    labels = list(fontsize = 14),\n    quantities = list(fontsize = 12)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#upset-å›¾è¶…è¿‡-5-ä¸ªé›†åˆ",
    "href": "2024-venn.html#upset-å›¾è¶…è¿‡-5-ä¸ªé›†åˆ",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "6. UpSet å›¾ï¼ˆè¶…è¿‡ 5 ä¸ªé›†åˆï¼‰",
    "text": "6. UpSet å›¾ï¼ˆè¶…è¿‡ 5 ä¸ªé›†åˆï¼‰\nå½“é›†åˆæ•°é‡è¶…è¿‡ 5 ä¸ªæ—¶ï¼ŒéŸ¦æ©å›¾å˜å¾—éš¾ä»¥é˜…è¯»ã€‚UpSet å›¾æ˜¯æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚\n\ninstall.packages(\"UpSetR\")\n\n\nlibrary(UpSetR)\n\n# å‡†å¤‡æ•°æ®ï¼ˆäºŒè¿›åˆ¶çŸ©é˜µæ ¼å¼ï¼‰\nset.seed(789)\nupset_data &lt;- data.frame(\n    Gene = paste0(\"Gene\", 1:100),\n    Study_A = sample(0:1, 100, replace = TRUE),\n    Study_B = sample(0:1, 100, replace = TRUE),\n    Study_C = sample(0:1, 100, replace = TRUE),\n    Study_D = sample(0:1, 100, replace = TRUE),\n    Study_E = sample(0:1, 100, replace = TRUE),\n    Study_F = sample(0:1, 100, replace = TRUE)\n)\n\n# ç»‘åˆ¶ UpSet å›¾\nupset(\n    upset_data,\n    sets = c(\"Study_A\", \"Study_B\", \"Study_C\", \"Study_D\", \"Study_E\", \"Study_F\"),\n    order.by = \"freq\",\n    main.bar.color = \"#4f46e5\",\n    sets.bar.color = \"#22c55e\",\n    matrix.color = \"#1e293b\",\n    point.size = 3,\n    line.size = 1\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#å®æˆ˜æ¡ˆä¾‹æ–‡çŒ®ç­›é€‰",
    "href": "2024-venn.html#å®æˆ˜æ¡ˆä¾‹æ–‡çŒ®ç­›é€‰",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "7. å®æˆ˜æ¡ˆä¾‹ï¼šæ–‡çŒ®ç­›é€‰",
    "text": "7. å®æˆ˜æ¡ˆä¾‹ï¼šæ–‡çŒ®ç­›é€‰\n\n# æ¨¡æ‹Ÿä¸‰ä¸ªæ•°æ®åº“çš„æ–‡çŒ®æ£€ç´¢ç»“æœ\ndatabases &lt;- list(\n    PubMed = paste0(\"PMID_\", sample(1:500, 120)),\n    Web_of_Science = paste0(\"PMID_\", sample(1:500, 100)),\n    Scopus = paste0(\"PMID_\", sample(1:500, 90))\n)\n\n# ç»‘åˆ¶éŸ¦æ©å›¾\nggVennDiagram(databases, label = \"count\") +\n    scale_fill_gradient(low = \"#fef3c7\", high = \"#d97706\") +\n    labs(\n        title = \"æ–‡çŒ®æ£€ç´¢ç»“æœå»é‡\",\n        caption = paste(\"æ€»è®¡:\", length(unique(unlist(databases))), \"ç¯‡ç‹¬ç«‹æ–‡çŒ®\")\n    ) +\n    theme_void() +\n    theme(\n        plot.title = element_text(hjust = 0.5, face = \"bold\", size = 16),\n        plot.caption = element_text(hjust = 0.5, size = 12)\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#æœ€ä½³å®è·µ",
    "href": "2024-venn.html#æœ€ä½³å®è·µ",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "8. æœ€ä½³å®è·µ",
    "text": "8. æœ€ä½³å®è·µ\n\n[!TIP] é€‰æ‹©æ­£ç¡®çš„å¯è§†åŒ–æ–¹æ³•ï¼š - 2-4 ä¸ªé›†åˆ â†’ æ ‡å‡†éŸ¦æ©å›¾ - é¢ç§¯éœ€æˆæ¯”ä¾‹ â†’ Euler å›¾ - 5+ ä¸ªé›†åˆ â†’ UpSet å›¾\n\n\nå¸¸è§é—®é¢˜\n\n\n\né—®é¢˜\nè§£å†³æ–¹æ¡ˆ\n\n\n\n\nå›¾å½¢é‡å æ··ä¹±\nå‡å°‘é›†åˆæ•°é‡æˆ–ä½¿ç”¨ UpSet å›¾\n\n\næ ‡ç­¾æ˜¾ç¤ºä¸å…¨\nè°ƒæ•´ label_size æˆ–ä½¿ç”¨ç™¾åˆ†æ¯”\n\n\né¢œè‰²éš¾ä»¥åŒºåˆ†\nä½¿ç”¨å¯¹æ¯”åº¦é«˜çš„é…è‰²æ–¹æ¡ˆ\n\n\néœ€è¦å¯¼å‡ºå…ƒç´ \nä½¿ç”¨ process_data() æå–",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2024-venn.html#å‚è€ƒæ–‡çŒ®",
    "href": "2024-venn.html#å‚è€ƒæ–‡çŒ®",
    "title": "éŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—",
    "section": "å‚è€ƒæ–‡çŒ®",
    "text": "å‚è€ƒæ–‡çŒ®\n\nChen, H., & Boutros, P. C. (2011). VennDiagram: a package for the generation of highly-customizable Venn and Euler diagrams in R. BMC Bioinformatics.\nGao, C. H. (2021). ggVennDiagram: A ggplot2 extension for drawing proportional Venn diagrams.\nConway, J. R., et al.Â (2017). UpSetR: An R package for the visualization of intersecting sets. Bioinformatics.",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "éŸ¦æ©å›¾"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html",
    "href": "2026-bindscatterplot.html",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ•£ç‚¹å›¾æ˜¯å±•ç¤ºä¸¤ä¸ªè¿ç»­å˜é‡å…³ç³»çš„åŸºç¡€å›¾è¡¨ï¼Œå¯ä»¥æ­ç¤ºï¼š\n\nç›¸å…³æ€§ï¼šæ­£ç›¸å…³ã€è´Ÿç›¸å…³æˆ–æ— ç›¸å…³\nè¶‹åŠ¿ï¼šçº¿æ€§æˆ–éçº¿æ€§å…³ç³»\nèšç±»ï¼šæ•°æ®çš„è‡ªç„¶åˆ†ç»„\nå¼‚å¸¸å€¼ï¼šåç¦»ä¸»ä½“çš„æ•°æ®ç‚¹\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\n\n# ä½¿ç”¨ mtcars æ•°æ®é›†\ndata(mtcars)\nhead(mtcars)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#ç®€ä»‹",
    "href": "2026-bindscatterplot.html#ç®€ä»‹",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æ•£ç‚¹å›¾æ˜¯å±•ç¤ºä¸¤ä¸ªè¿ç»­å˜é‡å…³ç³»çš„åŸºç¡€å›¾è¡¨ï¼Œå¯ä»¥æ­ç¤ºï¼š\n\nç›¸å…³æ€§ï¼šæ­£ç›¸å…³ã€è´Ÿç›¸å…³æˆ–æ— ç›¸å…³\nè¶‹åŠ¿ï¼šçº¿æ€§æˆ–éçº¿æ€§å…³ç³»\nèšç±»ï¼šæ•°æ®çš„è‡ªç„¶åˆ†ç»„\nå¼‚å¸¸å€¼ï¼šåç¦»ä¸»ä½“çš„æ•°æ®ç‚¹\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\n\n# ä½¿ç”¨ mtcars æ•°æ®é›†\ndata(mtcars)\nhead(mtcars)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#åŸºç¡€æ•£ç‚¹å›¾",
    "href": "2026-bindscatterplot.html#åŸºç¡€æ•£ç‚¹å›¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€æ•£ç‚¹å›¾",
    "text": "åŸºç¡€æ•£ç‚¹å›¾\n\næœ€ç®€å•çš„æ•£ç‚¹å›¾\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point() +\n    labs(\n        title = \"æ±½è½¦é‡é‡ä¸æ²¹è€—çš„å…³ç³»\",\n        x = \"é‡é‡ (1000 ç£…)\",\n        y = \"æ²¹è€— (è‹±é‡Œ/åŠ ä»‘)\"\n    )\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ç‚¹æ ·å¼\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(\n        color = \"#4f46e5\", # é¢œè‰²\n        size = 3, # å¤§å°\n        alpha = 0.7, # é€æ˜åº¦\n        shape = 16 # å½¢çŠ¶ï¼ˆå®å¿ƒåœ†ï¼‰\n    ) +\n    labs(title = \"è‡ªå®šä¹‰ç‚¹æ ·å¼\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nç‚¹å½¢çŠ¶å‚è€ƒ\n\n# R å†…ç½®çš„ 25 ç§ç‚¹å½¢çŠ¶\nshapes_df &lt;- data.frame(\n    x = rep(1:5, 5),\n    y = rep(5:1, each = 5),\n    shape = 0:24\n)\n\nggplot(shapes_df, aes(x, y)) +\n    geom_point(aes(shape = factor(shape)), size = 5, fill = \"#4f46e5\") +\n    geom_text(aes(label = shape), vjust = -1.5, size = 3) +\n    scale_shape_manual(values = 0:24) +\n    labs(title = \"R å†…ç½®ç‚¹å½¢çŠ¶ (0-24)\", shape = \"Shape\") +\n    theme_void() +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æŒ‰åˆ†ç»„ç€è‰²",
    "href": "2026-bindscatterplot.html#æŒ‰åˆ†ç»„ç€è‰²",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æŒ‰åˆ†ç»„ç€è‰²",
    "text": "æŒ‰åˆ†ç»„ç€è‰²\n\nç¦»æ•£å˜é‡åˆ†ç»„\n\nmtcars$cyl_factor &lt;- factor(mtcars$cyl)\n\nggplot(mtcars, aes(x = wt, y = mpg, color = cyl_factor)) +\n    geom_point(size = 3) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(\n        title = \"æŒ‰æ°”ç¼¸æ•°åˆ†ç»„\",\n        color = \"æ°”ç¼¸æ•°\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nè¿ç»­å˜é‡ç€è‰²\n\nggplot(mtcars, aes(x = wt, y = mpg, color = hp)) +\n    geom_point(size = 3) +\n    scale_color_viridis_c(option = \"plasma\") + # æ¸å˜è‰²\n    labs(\n        title = \"æŒ‰é©¬åŠ›ç€è‰²\",\n        color = \"é©¬åŠ› (hp)\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ç§‘å­¦æœŸåˆŠé…è‰²\n\nggplot(mtcars, aes(x = wt, y = mpg, color = cyl_factor)) +\n    geom_point(size = 3) +\n    scale_color_lancet() +\n    labs(title = \"Lancet é…è‰²é£æ ¼\", color = \"æ°”ç¼¸æ•°\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æ·»åŠ å›å½’çº¿",
    "href": "2026-bindscatterplot.html#æ·»åŠ å›å½’çº¿",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æ·»åŠ å›å½’çº¿",
    "text": "æ·»åŠ å›å½’çº¿\n\nç®€å•çº¿æ€§å›å½’\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(color = \"#4f46e5\", size = 2) +\n    geom_smooth(method = \"lm\", se = TRUE, color = \"#ef4444\") +\n    labs(\n        title = \"æ•£ç‚¹å›¾ + çº¿æ€§å›å½’çº¿\",\n        subtitle = \"ç°è‰²åŒºåŸŸä¸º 95% ç½®ä¿¡åŒºé—´\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nä¸æ˜¾ç¤ºç½®ä¿¡åŒºé—´\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(size = 2, alpha = 0.7) +\n    geom_smooth(method = \"lm\", se = FALSE, color = \"#22c55e\", linewidth = 1.2) +\n    labs(title = \"ä»…æ˜¾ç¤ºå›å½’çº¿\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„å›å½’çº¿\n\nggplot(mtcars, aes(x = wt, y = mpg, color = cyl_factor)) +\n    geom_point(size = 2) +\n    geom_smooth(method = \"lm\", se = FALSE) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(\n        title = \"åˆ†ç»„å›å½’çº¿\",\n        color = \"æ°”ç¼¸æ•°\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nLOESS å¹³æ»‘æ›²çº¿\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(size = 2, alpha = 0.6) +\n    geom_smooth(method = \"loess\", span = 0.75, color = \"#8b5cf6\") +\n    labs(\n        title = \"LOESS å±€éƒ¨å¤šé¡¹å¼å›å½’\",\n        subtitle = \"é€‚ç”¨äºéçº¿æ€§å…³ç³»\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nå¤šé¡¹å¼å›å½’\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(size = 2, alpha = 0.6) +\n    geom_smooth(\n        method = \"lm\",\n        formula = y ~ poly(x, 2), # äºŒæ¬¡å¤šé¡¹å¼\n        color = \"#f59e0b\"\n    ) +\n    labs(title = \"äºŒæ¬¡å¤šé¡¹å¼å›å½’\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æ·»åŠ æ ‡ç­¾",
    "href": "2026-bindscatterplot.html#æ·»åŠ æ ‡ç­¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æ·»åŠ æ ‡ç­¾",
    "text": "æ·»åŠ æ ‡ç­¾\n\næ ‡æ³¨æ‰€æœ‰ç‚¹\n\n# ä½¿ç”¨ ggrepel é¿å…æ ‡ç­¾é‡å \n# install.packages(\"ggrepel\")\nlibrary(ggrepel)\n\n# æ·»åŠ è¡Œåä½œä¸ºæ ‡ç­¾\nmtcars$car_name &lt;- rownames(mtcars)\n\nggplot(mtcars[1:15, ], aes(x = wt, y = mpg, label = car_name)) +\n    geom_point(color = \"#4f46e5\", size = 2) +\n    geom_text_repel(size = 3, max.overlaps = 15) +\n    labs(title = \"æ•£ç‚¹å›¾ + æ•°æ®æ ‡ç­¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nä»…æ ‡æ³¨é‡è¦ç‚¹\n\n# æ ‡æ³¨æå€¼ç‚¹\nmtcars_labeled &lt;- mtcars %&gt;%\n    mutate(\n        label = ifelse(mpg == max(mpg) | mpg == min(mpg) |\n            wt == max(wt) | wt == min(wt),\n        car_name, \"\"\n        )\n    )\n\nggplot(mtcars_labeled, aes(x = wt, y = mpg)) +\n    geom_point(color = \"#4f46e5\", size = 2) +\n    geom_text_repel(\n        aes(label = label),\n        size = 3,\n        color = \"#ef4444\",\n        fontface = \"bold\"\n    ) +\n    labs(title = \"ä»…æ ‡æ³¨æå€¼ç‚¹\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æ°”æ³¡å›¾",
    "href": "2026-bindscatterplot.html#æ°”æ³¡å›¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æ°”æ³¡å›¾",
    "text": "æ°”æ³¡å›¾\næ°”æ³¡å›¾é€šè¿‡ç‚¹çš„å¤§å°è¡¨ç¤ºç¬¬ä¸‰ä¸ªå˜é‡ã€‚\n\nåŸºç¡€æ°”æ³¡å›¾\n\nggplot(mtcars, aes(x = wt, y = mpg, size = hp)) +\n    geom_point(alpha = 0.6, color = \"#4f46e5\") +\n    scale_size_continuous(range = c(2, 12)) + # æ§åˆ¶å¤§å°èŒƒå›´\n    labs(\n        title = \"æ°”æ³¡å›¾ï¼šé©¬åŠ›ä½œä¸ºæ°”æ³¡å¤§å°\",\n        size = \"é©¬åŠ›\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\né¢œè‰² + å¤§å°åŒç¼–ç \n\nggplot(mtcars, aes(x = wt, y = mpg, size = hp, color = cyl_factor)) +\n    geom_point(alpha = 0.7) +\n    scale_size_continuous(range = c(2, 10)) +\n    scale_color_brewer(palette = \"Set2\") +\n    labs(\n        title = \"åŒç¼–ç æ°”æ³¡å›¾\",\n        subtitle = \"é¢œè‰²è¡¨ç¤ºæ°”ç¼¸æ•°ï¼Œå¤§å°è¡¨ç¤ºé©¬åŠ›\",\n        size = \"é©¬åŠ›\",\n        color = \"æ°”ç¼¸æ•°\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ‰“åŒ…æ°”æ³¡å›¾ (Packed Bubble)\n\n# ä½¿ç”¨ packcircles åŒ…\n# install.packages(\"packcircles\")\nlibrary(packcircles)\n\n# æŒ‰æ°”ç¼¸æ•°ç»Ÿè®¡\ncyl_summary &lt;- mtcars %&gt;%\n    group_by(cyl) %&gt;%\n    summarise(count = n(), mean_mpg = mean(mpg))\n\n# è®¡ç®—åœ†çš„ä½ç½®\npacking &lt;- circleProgressiveLayout(cyl_summary$count, sizetype = \"area\")\ncyl_summary &lt;- cbind(cyl_summary, packing)\ncircles &lt;- circleLayoutVertices(packing, npoints = 50)\n\nggplot() +\n    geom_polygon(\n        data = circles,\n        aes(x, y, group = id, fill = factor(id)),\n        color = \"white\",\n        alpha = 0.8\n    ) +\n    geom_text(\n        data = cyl_summary,\n        aes(x, y, label = paste0(cyl, \"ç¼¸\\nn=\", count)),\n        size = 5\n    ) +\n    scale_fill_brewer(palette = \"Set2\") +\n    coord_equal() +\n    theme_void() +\n    theme(legend.position = \"none\") +\n    labs(title = \"æ‰“åŒ…æ°”æ³¡å›¾ï¼šå„æ°”ç¼¸æ•°è½¦å‹æ•°é‡\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#è¾¹é™…åˆ†å¸ƒå›¾",
    "href": "2026-bindscatterplot.html#è¾¹é™…åˆ†å¸ƒå›¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "è¾¹é™…åˆ†å¸ƒå›¾",
    "text": "è¾¹é™…åˆ†å¸ƒå›¾\nç»“åˆæ•£ç‚¹å›¾å’Œè¾¹é™…ç›´æ–¹å›¾/å¯†åº¦å›¾ã€‚\n\n# ä½¿ç”¨ ggExtra åŒ…\n# install.packages(\"ggExtra\")\nlibrary(ggExtra)\n\np &lt;- ggplot(mtcars, aes(x = wt, y = mpg, color = cyl_factor)) +\n    geom_point(size = 2) +\n    scale_color_brewer(palette = \"Set1\") +\n    labs(color = \"æ°”ç¼¸æ•°\") +\n    theme_minimal()\n\n# æ·»åŠ è¾¹é™…ç›´æ–¹å›¾\nggMarginal(p, type = \"histogram\", groupColour = TRUE, groupFill = TRUE)\n\n\n# æ·»åŠ è¾¹é™…å¯†åº¦å›¾\nggMarginal(p, type = \"density\", groupColour = TRUE, groupFill = TRUE)\n\n\n# æ·»åŠ è¾¹é™…ç®±çº¿å›¾\nggMarginal(p, type = \"boxplot\", groupColour = TRUE, groupFill = TRUE)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#å¯†åº¦æ•£ç‚¹å›¾",
    "href": "2026-bindscatterplot.html#å¯†åº¦æ•£ç‚¹å›¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "å¯†åº¦æ•£ç‚¹å›¾",
    "text": "å¯†åº¦æ•£ç‚¹å›¾\nå¤„ç†å¤§é‡æ•°æ®ç‚¹é‡å é—®é¢˜ã€‚\n\né€æ˜åº¦å¤„ç†\n\n# æ¨¡æ‹Ÿå¤§æ•°æ®\nset.seed(42)\nbig_data &lt;- data.frame(\n    x = rnorm(5000),\n    y = rnorm(5000)\n)\n\nggplot(big_data, aes(x, y)) +\n    geom_point(alpha = 0.1) + # ä½é€æ˜åº¦\n    labs(title = \"ä½¿ç”¨é€æ˜åº¦å¤„ç†é‡å \") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\n2D å¯†åº¦ç­‰é«˜çº¿\n\nggplot(big_data, aes(x, y)) +\n    geom_point(alpha = 0.05) +\n    geom_density_2d(color = \"#ef4444\") +\n    labs(title = \"2D å¯†åº¦ç­‰é«˜çº¿\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\n2D å¯†åº¦å¡«å……\n\nggplot(big_data, aes(x, y)) +\n    stat_density_2d(\n        aes(fill = after_stat(level)),\n        geom = \"polygon\"\n    ) +\n    scale_fill_viridis_c() +\n    labs(title = \"2D å¯†åº¦å¡«å……å›¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nå…­è¾¹å½¢åˆ†ç®±\n\nggplot(big_data, aes(x, y)) +\n    geom_hex(bins = 30) +\n    scale_fill_viridis_c() +\n    labs(title = \"å…­è¾¹å½¢åˆ†ç®±å›¾\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#åˆ†é¢æ•£ç‚¹å›¾",
    "href": "2026-bindscatterplot.html#åˆ†é¢æ•£ç‚¹å›¾",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "åˆ†é¢æ•£ç‚¹å›¾",
    "text": "åˆ†é¢æ•£ç‚¹å›¾\n\nfacet_wrap\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(color = \"#4f46e5\", size = 2) +\n    geom_smooth(method = \"lm\", se = FALSE, color = \"#ef4444\") +\n    facet_wrap(~cyl, labeller = labeller(cyl = c(\n        \"4\" = \"4ç¼¸\", \"6\" = \"6ç¼¸\", \"8\" = \"8ç¼¸\"\n    ))) +\n    labs(title = \"æŒ‰æ°”ç¼¸æ•°åˆ†é¢\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nfacet_grid\n\nmtcars$am_label &lt;- ifelse(mtcars$am == 0, \"è‡ªåŠ¨æŒ¡\", \"æ‰‹åŠ¨æŒ¡\")\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(size = 2) +\n    facet_grid(am_label ~ cyl, labeller = labeller(cyl = c(\n        \"4\" = \"4ç¼¸\", \"6\" = \"6ç¼¸\", \"8\" = \"8ç¼¸\"\n    ))) +\n    labs(title = \"åŒå˜é‡åˆ†é¢ç½‘æ ¼\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#ç›¸å…³ç³»æ•°æ ‡æ³¨",
    "href": "2026-bindscatterplot.html#ç›¸å…³ç³»æ•°æ ‡æ³¨",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "ç›¸å…³ç³»æ•°æ ‡æ³¨",
    "text": "ç›¸å…³ç³»æ•°æ ‡æ³¨\n\n# ä½¿ç”¨ ggpubr\nlibrary(ggpubr)\n\nggscatter(mtcars,\n    x = \"wt\", y = \"mpg\",\n    add = \"reg.line\",\n    conf.int = TRUE,\n    color = \"#4f46e5\",\n    add.params = list(color = \"#ef4444\")\n) +\n    stat_cor(method = \"pearson\", label.x = 4, label.y = 33) +\n    labs(\n        title = \"æ•£ç‚¹å›¾ + ç›¸å…³ç³»æ•°\",\n        x = \"é‡é‡\",\n        y = \"æ²¹è€—\"\n    )\n\n\n\n\n\n\n\n\n\nåˆ†ç»„ç›¸å…³ç³»æ•°\n\nggscatter(mtcars,\n    x = \"wt\", y = \"mpg\",\n    color = \"cyl_factor\",\n    palette = \"Set1\",\n    add = \"reg.line\",\n    conf.int = TRUE\n) +\n    stat_cor(aes(color = cyl_factor), label.y = c(32, 30, 28)) +\n    labs(title = \"åˆ†ç»„ç›¸å…³ç³»æ•°\", color = \"æ°”ç¼¸æ•°\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æ·»åŠ å‚è€ƒçº¿",
    "href": "2026-bindscatterplot.html#æ·»åŠ å‚è€ƒçº¿",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æ·»åŠ å‚è€ƒçº¿",
    "text": "æ·»åŠ å‚è€ƒçº¿\n\n# è®¡ç®—å‡å€¼\nmean_wt &lt;- mean(mtcars$wt)\nmean_mpg &lt;- mean(mtcars$mpg)\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(size = 2, color = \"#4f46e5\") +\n    geom_hline(yintercept = mean_mpg, linetype = \"dashed\", color = \"#ef4444\") +\n    geom_vline(xintercept = mean_wt, linetype = \"dashed\", color = \"#22c55e\") +\n    annotate(\"text\", x = 5, y = mean_mpg + 1, label = \"å¹³å‡æ²¹è€—\", color = \"#ef4444\") +\n    annotate(\"text\", x = mean_wt + 0.2, y = 35, label = \"å¹³å‡é‡é‡\", color = \"#22c55e\", angle = 90) +\n    labs(title = \"æ·»åŠ å‡å€¼å‚è€ƒçº¿\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "href": "2026-bindscatterplot.html#ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "text": "ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n    geom_point(\n        aes(color = cyl_factor, size = hp),\n        alpha = 0.7\n    ) +\n    geom_smooth(\n        method = \"lm\",\n        color = \"#1e293b\",\n        fill = \"#e2e8f0\",\n        linewidth = 1\n    ) +\n    scale_color_manual(\n        values = c(\"#3b82f6\", \"#22c55e\", \"#ef4444\"),\n        labels = c(\"4ç¼¸\", \"6ç¼¸\", \"8ç¼¸\")\n    ) +\n    scale_size_continuous(range = c(2, 8)) +\n    labs(\n        title = \"æ±½è½¦é‡é‡ä¸æ²¹è€—å…³ç³»åˆ†æ\",\n        subtitle = \"ç‚¹å¤§å°è¡¨ç¤ºé©¬åŠ›ï¼Œé¢œè‰²è¡¨ç¤ºæ°”ç¼¸æ•°\",\n        x = \"é‡é‡ (Ã—1000 ç£…)\",\n        y = \"æ²¹è€— (è‹±é‡Œ/åŠ ä»‘)\",\n        color = \"æ°”ç¼¸æ•°\",\n        size = \"é©¬åŠ›\",\n        caption = \"æ•°æ®æ¥æºï¼š1974 Motor Trend US magazine\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        plot.title = element_text(face = \"bold\", size = 14),\n        plot.subtitle = element_text(color = \"gray50\"),\n        legend.position = \"right\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2026-bindscatterplot.html#æ€»ç»“",
    "href": "2026-bindscatterplot.html#æ€»ç»“",
    "title": "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èæ–¹æ³•\n\n\n\n\nä¸¤å˜é‡å…³ç³»\nåŸºç¡€æ•£ç‚¹å›¾ + å›å½’çº¿\n\n\nåˆ†ç»„æ¯”è¾ƒ\né¢œè‰²/å½¢çŠ¶åˆ†ç»„\n\n\nä¸‰å˜é‡\næ°”æ³¡å›¾\n\n\nå¤§æ•°æ®\né€æ˜åº¦/å¯†åº¦å›¾/å…­è¾¹å½¢åˆ†ç®±\n\n\nåˆ†å¸ƒå±•ç¤º\nè¾¹é™…åˆ†å¸ƒå›¾\n\n\nç›¸å…³åˆ†æ\næ·»åŠ ç›¸å…³ç³»æ•°æ ‡æ³¨\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. æ•°æ®é‡å¤§æ—¶ä½¿ç”¨é€æ˜åº¦æˆ–å¯†åº¦å›¾ 2. æ·»åŠ å›å½’çº¿æ—¶è®°å¾—æ˜¾ç¤º RÂ² å€¼ 3. æ°”æ³¡å›¾çš„å¤§å°æ˜ å°„åº”é€‰æ‹©æœ‰æ„ä¹‰çš„å˜é‡ 4. ä½¿ç”¨ ggrepel é¿å…æ ‡ç­¾é‡å ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html",
    "href": "2028-bindbarchart.html",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æŸ±çŠ¶å›¾å’Œé¥¼å›¾æ˜¯å±•ç¤ºåˆ†ç±»æ•°æ®çš„ç»å…¸å›¾è¡¨ï¼š\n\n\n\nå›¾è¡¨ç±»å‹\né€‚ç”¨åœºæ™¯\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\næŸ±çŠ¶å›¾\næ¯”è¾ƒä¸åŒç±»åˆ«\nç²¾ç¡®æ¯”è¾ƒæ•°å€¼\nç±»åˆ«è¿‡å¤šæ—¶æ‹¥æŒ¤\n\n\nå †å æŸ±çŠ¶å›¾\nå±•ç¤ºç»„æˆæ¯”ä¾‹\næ˜¾ç¤ºæ€»é‡å’Œæ„æˆ\nä¸­é—´éƒ¨åˆ†éš¾æ¯”è¾ƒ\n\n\né¥¼å›¾\nå±•ç¤ºå æ¯”\nç›´è§‚å±•ç¤ºç™¾åˆ†æ¯”\néš¾ä»¥ç²¾ç¡®æ¯”è¾ƒ\n\n\næ£’æ£’ç³–å›¾\næ›¿ä»£æŸ±çŠ¶å›¾\nç®€æ´ç°ä»£\nä¸å¤Ÿä¼ ç»Ÿ\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\nlibrary(scales)\n\n# ä½¿ç”¨ mtcars å’Œ diamonds æ•°æ®\ndata(mtcars)\ndata(diamonds)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#ç®€ä»‹",
    "href": "2028-bindbarchart.html#ç®€ä»‹",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "æŸ±çŠ¶å›¾å’Œé¥¼å›¾æ˜¯å±•ç¤ºåˆ†ç±»æ•°æ®çš„ç»å…¸å›¾è¡¨ï¼š\n\n\n\nå›¾è¡¨ç±»å‹\né€‚ç”¨åœºæ™¯\nä¼˜ç‚¹\nç¼ºç‚¹\n\n\n\n\næŸ±çŠ¶å›¾\næ¯”è¾ƒä¸åŒç±»åˆ«\nç²¾ç¡®æ¯”è¾ƒæ•°å€¼\nç±»åˆ«è¿‡å¤šæ—¶æ‹¥æŒ¤\n\n\nå †å æŸ±çŠ¶å›¾\nå±•ç¤ºç»„æˆæ¯”ä¾‹\næ˜¾ç¤ºæ€»é‡å’Œæ„æˆ\nä¸­é—´éƒ¨åˆ†éš¾æ¯”è¾ƒ\n\n\né¥¼å›¾\nå±•ç¤ºå æ¯”\nç›´è§‚å±•ç¤ºç™¾åˆ†æ¯”\néš¾ä»¥ç²¾ç¡®æ¯”è¾ƒ\n\n\næ£’æ£’ç³–å›¾\næ›¿ä»£æŸ±çŠ¶å›¾\nç®€æ´ç°ä»£\nä¸å¤Ÿä¼ ç»Ÿ\n\n\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(ggsci)\nlibrary(scales)\n\n# ä½¿ç”¨ mtcars å’Œ diamonds æ•°æ®\ndata(mtcars)\ndata(diamonds)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#åŸºç¡€æŸ±çŠ¶å›¾",
    "href": "2028-bindbarchart.html#åŸºç¡€æŸ±çŠ¶å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€æŸ±çŠ¶å›¾",
    "text": "åŸºç¡€æŸ±çŠ¶å›¾\n\nè®¡æ•°æŸ±çŠ¶å›¾\n\nggplot(diamonds, aes(x = cut)) +\n    geom_bar(fill = \"#4f46e5\") +\n    labs(\n        title = \"å„åˆ‡å·¥ç­‰çº§çš„é’»çŸ³æ•°é‡\",\n        x = \"åˆ‡å·¥ç­‰çº§\",\n        y = \"æ•°é‡\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ•°å€¼æŸ±çŠ¶å›¾\nå½“æ•°æ®å·²ç»æ±‡æ€»æ—¶ï¼Œä½¿ç”¨ stat = \"identity\"ã€‚\n\n# æ±‡æ€»æ•°æ®\ncut_summary &lt;- diamonds %&gt;%\n    group_by(cut) %&gt;%\n    summarise(avg_price = mean(price))\n\nggplot(cut_summary, aes(x = cut, y = avg_price)) +\n    geom_bar(stat = \"identity\", fill = \"#22c55e\") +\n    labs(\n        title = \"å„åˆ‡å·¥ç­‰çº§çš„å¹³å‡ä»·æ ¼\",\n        x = \"åˆ‡å·¥ç­‰çº§\",\n        y = \"å¹³å‡ä»·æ ¼ ($)\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nä¹Ÿå¯ä»¥ä½¿ç”¨ geom_col\n\n# geom_col ç­‰ä»·äº geom_bar(stat = \"identity\")\nggplot(cut_summary, aes(x = cut, y = avg_price)) +\n    geom_col(fill = \"#f59e0b\") +\n    labs(title = \"ä½¿ç”¨ geom_col()\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#æŸ±çŠ¶å›¾ç¾åŒ–",
    "href": "2028-bindbarchart.html#æŸ±çŠ¶å›¾ç¾åŒ–",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "æŸ±çŠ¶å›¾ç¾åŒ–",
    "text": "æŸ±çŠ¶å›¾ç¾åŒ–\n\nè‡ªå®šä¹‰é¢œè‰²\n\nggplot(diamonds, aes(x = cut, fill = cut)) +\n    geom_bar() +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"æŒ‰ç±»åˆ«å¡«è‰²\") +\n    theme_minimal() +\n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ•°å€¼æ ‡ç­¾\n\ncut_count &lt;- diamonds %&gt;%\n    count(cut)\n\nggplot(cut_count, aes(x = cut, y = n)) +\n    geom_col(fill = \"#4f46e5\") +\n    geom_text(\n        aes(label = format(n, big.mark = \",\")),\n        vjust = -0.5,\n        size = 4\n    ) +\n    scale_y_continuous(expand = expansion(mult = c(0, 0.1))) +\n    labs(\n        title = \"æ·»åŠ æ•°å€¼æ ‡ç­¾\",\n        x = \"åˆ‡å·¥ç­‰çº§\",\n        y = \"æ•°é‡\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næŸ±å†…æ ‡ç­¾\n\nggplot(cut_count, aes(x = cut, y = n)) +\n    geom_col(fill = \"#4f46e5\") +\n    geom_text(\n        aes(label = format(n, big.mark = \",\")),\n        vjust = 1.5,\n        color = \"white\",\n        size = 4,\n        fontface = \"bold\"\n    ) +\n    labs(title = \"æŸ±å†…æ•°å€¼æ ‡ç­¾\") +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ°´å¹³æŸ±çŠ¶å›¾\n\nggplot(cut_count, aes(x = reorder(cut, n), y = n)) +\n    geom_col(fill = \"#22c55e\") +\n    geom_text(aes(label = format(n, big.mark = \",\")), hjust = -0.1) +\n    coord_flip() +\n    labs(\n        title = \"æ°´å¹³æŸ±çŠ¶å›¾\",\n        x = NULL,\n        y = \"æ•°é‡\"\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#åˆ†ç»„æŸ±çŠ¶å›¾",
    "href": "2028-bindbarchart.html#åˆ†ç»„æŸ±çŠ¶å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "åˆ†ç»„æŸ±çŠ¶å›¾",
    "text": "åˆ†ç»„æŸ±çŠ¶å›¾\n\nå¹¶åˆ—åˆ†ç»„\n\n# å‡†å¤‡åˆ†ç»„æ•°æ®\ngrouped_data &lt;- diamonds %&gt;%\n    filter(cut %in% c(\"Fair\", \"Good\", \"Ideal\")) %&gt;%\n    count(cut, color) %&gt;%\n    filter(color %in% c(\"D\", \"E\", \"F\"))\n\nggplot(grouped_data, aes(x = color, y = n, fill = cut)) +\n    geom_col(position = position_dodge(width = 0.8), width = 0.7) +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(\n        title = \"åˆ†ç»„æŸ±çŠ¶å›¾\",\n        x = \"é¢œè‰²ç­‰çº§\",\n        y = \"æ•°é‡\",\n        fill = \"åˆ‡å·¥\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´åˆ†ç»„é—´è·\n\nggplot(grouped_data, aes(x = color, y = n, fill = cut)) +\n    geom_col(position = position_dodge2(width = 0.9, preserve = \"single\")) +\n    scale_fill_lancet() +\n    labs(title = \"è°ƒæ•´åˆ†ç»„é—´è·\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#å †å æŸ±çŠ¶å›¾",
    "href": "2028-bindbarchart.html#å †å æŸ±çŠ¶å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "å †å æŸ±çŠ¶å›¾",
    "text": "å †å æŸ±çŠ¶å›¾\n\nåŸºç¡€å †å \n\nstack_data &lt;- diamonds %&gt;%\n    count(cut, clarity)\n\nggplot(stack_data, aes(x = cut, y = n, fill = clarity)) +\n    geom_col() +\n    scale_fill_brewer(palette = \"Spectral\") +\n    labs(\n        title = \"å †å æŸ±çŠ¶å›¾\",\n        x = \"åˆ‡å·¥\",\n        y = \"æ•°é‡\",\n        fill = \"å‡€åº¦\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nç™¾åˆ†æ¯”å †å \n\nggplot(stack_data, aes(x = cut, y = n, fill = clarity)) +\n    geom_col(position = \"fill\") +\n    scale_fill_brewer(palette = \"Spectral\") +\n    scale_y_continuous(labels = percent_format()) +\n    labs(\n        title = \"ç™¾åˆ†æ¯”å †å æŸ±çŠ¶å›¾\",\n        x = \"åˆ‡å·¥\",\n        y = \"ç™¾åˆ†æ¯”\",\n        fill = \"å‡€åº¦\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ ç™¾åˆ†æ¯”æ ‡ç­¾\n\n# è®¡ç®—ç™¾åˆ†æ¯”\nstack_pct &lt;- stack_data %&gt;%\n    group_by(cut) %&gt;%\n    mutate(pct = n / sum(n))\n\nggplot(stack_pct, aes(x = cut, y = pct, fill = clarity)) +\n    geom_col() +\n    geom_text(\n        aes(label = ifelse(pct &gt; 0.05, percent(pct, accuracy = 1), \"\")),\n        position = position_stack(vjust = 0.5),\n        color = \"white\",\n        size = 3\n    ) +\n    scale_fill_brewer(palette = \"Spectral\") +\n    scale_y_continuous(labels = percent_format()) +\n    labs(title = \"å¸¦æ ‡ç­¾çš„ç™¾åˆ†æ¯”å †å å›¾\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#è¯¯å·®æ£’",
    "href": "2028-bindbarchart.html#è¯¯å·®æ£’",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "è¯¯å·®æ£’",
    "text": "è¯¯å·®æ£’\n\næ·»åŠ æ ‡å‡†è¯¯å·®\n\n# è®¡ç®—å‡å€¼å’Œæ ‡å‡†è¯¯å·®\nerror_data &lt;- diamonds %&gt;%\n    group_by(cut) %&gt;%\n    summarise(\n        mean_price = mean(price),\n        se = sd(price) / sqrt(n()),\n        .groups = \"drop\"\n    )\n\nggplot(error_data, aes(x = cut, y = mean_price)) +\n    geom_col(fill = \"#4f46e5\", alpha = 0.8) +\n    geom_errorbar(\n        aes(ymin = mean_price - se, ymax = mean_price + se),\n        width = 0.2\n    ) +\n    labs(\n        title = \"æŸ±çŠ¶å›¾ + è¯¯å·®æ£’ (æ ‡å‡†è¯¯å·®)\",\n        x = \"åˆ‡å·¥\",\n        y = \"å¹³å‡ä»·æ ¼ ($)\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ ‡å‡†å·®\n\nerror_data2 &lt;- diamonds %&gt;%\n    group_by(cut) %&gt;%\n    summarise(\n        mean_price = mean(price),\n        sd_price = sd(price),\n        .groups = \"drop\"\n    )\n\nggplot(error_data2, aes(x = cut, y = mean_price)) +\n    geom_col(fill = \"#22c55e\", alpha = 0.8) +\n    geom_errorbar(\n        aes(ymin = mean_price - sd_price, ymax = mean_price + sd_price),\n        width = 0.2,\n        color = \"#166534\"\n    ) +\n    labs(title = \"æŸ±çŠ¶å›¾ + æ ‡å‡†å·®\") +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#æ£’æ£’ç³–å›¾",
    "href": "2028-bindbarchart.html#æ£’æ£’ç³–å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "æ£’æ£’ç³–å›¾",
    "text": "æ£’æ£’ç³–å›¾\næ£’æ£’ç³–å›¾æ˜¯æŸ±çŠ¶å›¾çš„ç°ä»£æ›¿ä»£å“ï¼Œæ›´åŠ ç®€æ´ã€‚\n\nåŸºç¡€æ£’æ£’ç³–å›¾\n\nggplot(cut_summary, aes(x = cut, y = avg_price)) +\n    geom_segment(\n        aes(x = cut, xend = cut, y = 0, yend = avg_price),\n        color = \"#94a3b8\",\n        linewidth = 1\n    ) +\n    geom_point(color = \"#4f46e5\", size = 4) +\n    labs(\n        title = \"æ£’æ£’ç³–å›¾\",\n        x = \"åˆ‡å·¥ç­‰çº§\",\n        y = \"å¹³å‡ä»·æ ¼\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ°´å¹³æ£’æ£’ç³–å›¾\n\nggplot(cut_summary, aes(x = reorder(cut, avg_price), y = avg_price)) +\n    geom_segment(\n        aes(xend = cut, y = 0, yend = avg_price),\n        color = \"#94a3b8\",\n        linewidth = 1\n    ) +\n    geom_point(color = \"#ef4444\", size = 5) +\n    geom_text(aes(label = paste0(\"$\", round(avg_price))), hjust = -0.3) +\n    coord_flip() +\n    labs(\n        title = \"æ°´å¹³æ£’æ£’ç³–å›¾\",\n        x = NULL,\n        y = \"å¹³å‡ä»·æ ¼\"\n    ) +\n    theme_minimal()\n\n\n\n\n\n\n\n\n\n\nCleveland ç‚¹å›¾\n\nggplot(cut_summary, aes(x = avg_price, y = reorder(cut, avg_price))) +\n    geom_point(color = \"#4f46e5\", size = 4) +\n    geom_segment(\n        aes(x = min(avg_price) - 100, xend = avg_price, yend = cut),\n        linetype = \"dotted\",\n        color = \"#94a3b8\"\n    ) +\n    labs(\n        title = \"Cleveland ç‚¹å›¾\",\n        x = \"å¹³å‡ä»·æ ¼\",\n        y = NULL\n    ) +\n    theme_minimal()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#é¥¼å›¾",
    "href": "2028-bindbarchart.html#é¥¼å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "é¥¼å›¾",
    "text": "é¥¼å›¾\n\n[!WARNING] é¥¼å›¾åœ¨æ•°æ®å¯è§†åŒ–ä¸­å¸¸è¢«æ‰¹è¯„ï¼Œå› ä¸ºéš¾ä»¥ç²¾ç¡®æ¯”è¾ƒæ‰‡åŒºå¤§å°ã€‚å»ºè®®åœ¨ç±»åˆ«è¾ƒå°‘ï¼ˆâ‰¤5ï¼‰ä¸”éœ€è¦å¼ºè°ƒå æ¯”æ—¶ä½¿ç”¨ã€‚\n\n\nåŸºç¡€é¥¼å›¾\n\ncut_pct &lt;- diamonds %&gt;%\n    count(cut) %&gt;%\n    mutate(pct = n / sum(n))\n\nggplot(cut_pct, aes(x = \"\", y = pct, fill = cut)) +\n    geom_col(width = 1) +\n    coord_polar(theta = \"y\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"åŸºç¡€é¥¼å›¾\", fill = \"åˆ‡å·¥\") +\n    theme_void()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ ç™¾åˆ†æ¯”æ ‡ç­¾\n\nggplot(cut_pct, aes(x = \"\", y = pct, fill = cut)) +\n    geom_col(width = 1) +\n    geom_text(\n        aes(label = percent(pct, accuracy = 0.1)),\n        position = position_stack(vjust = 0.5),\n        color = \"white\",\n        fontface = \"bold\"\n    ) +\n    coord_polar(theta = \"y\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"å¸¦æ ‡ç­¾é¥¼å›¾\") +\n    theme_void()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#ç¯å½¢å›¾-donut-chart",
    "href": "2028-bindbarchart.html#ç¯å½¢å›¾-donut-chart",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "ç¯å½¢å›¾ (Donut Chart)",
    "text": "ç¯å½¢å›¾ (Donut Chart)\n\nggplot(cut_pct, aes(x = 2, y = pct, fill = cut)) +\n    geom_col(width = 1) +\n    geom_text(\n        aes(label = percent(pct, accuracy = 0.1)),\n        position = position_stack(vjust = 0.5),\n        color = \"white\",\n        size = 3\n    ) +\n    coord_polar(theta = \"y\") +\n    xlim(0.5, 2.5) + # åˆ›å»ºä¸­å¿ƒç©ºæ´\n    scale_fill_brewer(palette = \"Pastel1\") +\n    labs(title = \"ç¯å½¢å›¾ (Donut Chart)\") +\n    theme_void()\n\n\n\n\n\n\n\n\n\nå¸¦ä¸­å¿ƒæ–‡å­—çš„ç¯å½¢å›¾\n\nggplot(cut_pct, aes(x = 2, y = pct, fill = cut)) +\n    geom_col(width = 1) +\n    coord_polar(theta = \"y\") +\n    xlim(0.5, 2.5) +\n    annotate(\"text\",\n        x = 0.5, y = 0,\n        label = paste0(\"Total\\n\", format(sum(cut_pct$n), big.mark = \",\")),\n        size = 5, fontface = \"bold\"\n    ) +\n    scale_fill_lancet() +\n    labs(title = \"å¸¦æ€»æ•°çš„ç¯å½¢å›¾\") +\n    theme_void()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#ç«ç‘°å›¾-coxcombnightingale",
    "href": "2028-bindbarchart.html#ç«ç‘°å›¾-coxcombnightingale",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "ç«ç‘°å›¾ (Coxcomb/Nightingale)",
    "text": "ç«ç‘°å›¾ (Coxcomb/Nightingale)\n\nggplot(cut_pct, aes(x = cut, y = pct, fill = cut)) +\n    geom_col(width = 1) +\n    coord_polar() +\n    scale_fill_brewer(palette = \"Set3\") +\n    labs(title = \"ç«ç‘°å›¾ (Nightingale Chart)\") +\n    theme_minimal() +\n    theme(\n        axis.text.y = element_blank(),\n        axis.title = element_blank(),\n        legend.position = \"none\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#åå¤«é¥¼å›¾-waffle-chart",
    "href": "2028-bindbarchart.html#åå¤«é¥¼å›¾-waffle-chart",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "åå¤«é¥¼å›¾ (Waffle Chart)",
    "text": "åå¤«é¥¼å›¾ (Waffle Chart)\n\n# install.packages(\"waffle\")\nlibrary(waffle)\n\n# å‡†å¤‡æ•°æ®ï¼ˆå››èˆäº”å…¥ä¸ºæ•´æ•°ç™¾åˆ†æ¯”ï¼‰\nwaffle_data &lt;- cut_pct %&gt;%\n    mutate(pct_int = round(pct * 100)) %&gt;%\n    pull(pct_int)\nnames(waffle_data) &lt;- cut_pct$cut\n\nwaffle(waffle_data,\n    rows = 5, size = 1,\n    colors = RColorBrewer::brewer.pal(5, \"Set2\"),\n    title = \"åå¤«é¥¼å›¾ï¼šå„åˆ‡å·¥å æ¯”\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#æ ‘çŠ¶å›¾-treemap",
    "href": "2028-bindbarchart.html#æ ‘çŠ¶å›¾-treemap",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "æ ‘çŠ¶å›¾ (Treemap)",
    "text": "æ ‘çŠ¶å›¾ (Treemap)\n\n# install.packages(\"treemapify\")\nlibrary(treemapify)\n\ntree_data &lt;- diamonds %&gt;%\n    count(cut, color) %&gt;%\n    group_by(cut) %&gt;%\n    mutate(total = sum(n))\n\nggplot(tree_data, aes(area = n, fill = cut, subgroup = cut)) +\n    geom_treemap() +\n    geom_treemap_subgroup_border(color = \"white\", size = 3) +\n    geom_treemap_text(aes(label = color), color = \"white\", place = \"centre\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"æ ‘çŠ¶å›¾ï¼šåˆ‡å·¥ä¸é¢œè‰²åˆ†å¸ƒ\") +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#åˆ†é¢æŸ±çŠ¶å›¾",
    "href": "2028-bindbarchart.html#åˆ†é¢æŸ±çŠ¶å›¾",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "åˆ†é¢æŸ±çŠ¶å›¾",
    "text": "åˆ†é¢æŸ±çŠ¶å›¾\n\nfacet_data &lt;- diamonds %&gt;%\n    count(cut, clarity) %&gt;%\n    filter(clarity %in% c(\"IF\", \"VVS1\", \"VS1\", \"SI1\"))\n\nggplot(facet_data, aes(x = cut, y = n, fill = cut)) +\n    geom_col() +\n    facet_wrap(~clarity, scales = \"free_y\") +\n    scale_fill_brewer(palette = \"Set2\") +\n    labs(title = \"æŒ‰å‡€åº¦åˆ†é¢çš„æŸ±çŠ¶å›¾\") +\n    theme_minimal() +\n    theme(\n        legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1)\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "href": "2028-bindbarchart.html#ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹",
    "text": "ä¸“ä¸šå›¾è¡¨ç¤ºä¾‹\n\n# å‡†å¤‡ä¸“ä¸šå›¾è¡¨æ•°æ®\npro_data &lt;- diamonds %&gt;%\n    group_by(cut) %&gt;%\n    summarise(\n        count = n(),\n        avg_price = mean(price),\n        se = sd(price) / sqrt(n())\n    ) %&gt;%\n    mutate(cut = factor(cut, levels = rev(levels(cut))))\n\nggplot(pro_data, aes(x = cut, y = avg_price)) +\n    geom_col(fill = \"#4f46e5\", alpha = 0.9, width = 0.7) +\n    geom_errorbar(\n        aes(ymin = avg_price - se, ymax = avg_price + se),\n        width = 0.15,\n        color = \"#1e1b4b\"\n    ) +\n    geom_text(\n        aes(label = paste0(\"$\", format(round(avg_price), big.mark = \",\"))),\n        hjust = -0.1,\n        color = \"#1e1b4b\",\n        fontface = \"bold\"\n    ) +\n    coord_flip() +\n    scale_y_continuous(\n        labels = dollar_format(),\n        expand = expansion(mult = c(0, 0.15))\n    ) +\n    labs(\n        title = \"é’»çŸ³å¹³å‡ä»·æ ¼æŒ‰åˆ‡å·¥ç­‰çº§æ¯”è¾ƒ\",\n        subtitle = \"è¯¯å·®æ£’è¡¨ç¤ºæ ‡å‡†è¯¯å·®\",\n        x = NULL,\n        y = \"å¹³å‡ä»·æ ¼\",\n        caption = \"æ•°æ®æ¥æºï¼šggplot2 diamonds\"\n    ) +\n    theme_minimal(base_size = 12) +\n    theme(\n        plot.title = element_text(face = \"bold\", size = 14),\n        plot.subtitle = element_text(color = \"gray50\"),\n        panel.grid.major.y = element_blank(),\n        panel.grid.minor = element_blank()\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#ä¿å­˜å›¾ç‰‡",
    "href": "2028-bindbarchart.html#ä¿å­˜å›¾ç‰‡",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "ä¿å­˜å›¾ç‰‡",
    "text": "ä¿å­˜å›¾ç‰‡\n\np &lt;- ggplot(cut_count, aes(x = cut, y = n, fill = cut)) +\n    geom_col() +\n    scale_fill_brewer(palette = \"Set2\") +\n    theme_minimal()\n\nggsave(\"barchart.png\", p, width = 8, height = 6, dpi = 300)\nggsave(\"barchart.pdf\", p, width = 8, height = 6)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2028-bindbarchart.html#æ€»ç»“",
    "href": "2028-bindbarchart.html#æ€»ç»“",
    "title": "æŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nåœºæ™¯\næ¨èå›¾è¡¨\n\n\n\n\nç±»åˆ«æ•°å€¼æ¯”è¾ƒ\næŸ±çŠ¶å›¾/æ°´å¹³æŸ±çŠ¶å›¾\n\n\nå¤šç»„å¯¹æ¯”\nåˆ†ç»„æŸ±çŠ¶å›¾\n\n\nå æ¯”æ„æˆ\nå †å æŸ±çŠ¶å›¾/ç™¾åˆ†æ¯”å †å \n\n\nç®€æ´ç°ä»£é£æ ¼\næ£’æ£’ç³–å›¾\n\n\nå æ¯”å±•ç¤ºï¼ˆâ‰¤5ç±»ï¼‰\né¥¼å›¾/ç¯å½¢å›¾\n\n\nå±‚çº§å æ¯”\næ ‘çŠ¶å›¾\n\n\n\n\n[!TIP] æœ€ä½³å®è·µï¼š 1. æ’åºæŸ±çŠ¶å›¾ä½¿æ¯”è¾ƒæ›´å®¹æ˜“ 2. æ°´å¹³æŸ±çŠ¶å›¾é€‚åˆé•¿ç±»åˆ«å 3. é¿å… 3D æ•ˆæœï¼Œä¿æŒç®€æ´ 4. æ·»åŠ æ•°å€¼æ ‡ç­¾å¢å¼ºå¯è¯»æ€§",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æŸ±çŠ¶å›¾ä¸é¥¼å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html",
    "href": "2030-bindareaplot.html",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "é¢ç§¯å›¾æ˜¯æŠ˜çº¿å›¾çš„å»¶ä¼¸ï¼Œå®ƒé€šè¿‡å¡«å……çº¿ä¸‹åŒºåŸŸæ¥å¼ºè°ƒæ•°é‡ç´¯ç§¯æˆ–æ¯”ä¾‹å˜åŒ–ã€‚é€‚ç”¨äºï¼š\n\næ—¶é—´åºåˆ—å †å ï¼šå„éƒ¨åˆ†å¯¹æ€»ä½“çš„è´¡çŒ®\næ¯”ä¾‹å˜åŒ–ï¼šå¸‚åœºä»½é¢ã€é¢„ç®—åˆ†é…\næµé‡å¯è§†åŒ–ï¼šç½‘ç«™æµé‡æ¥æºã€ç”¨æˆ·è½¬åŒ–\n\næœ¬æ•™ç¨‹å°†è¯¦ç»†ä»‹ç» R è¯­è¨€ä¸­å„ç±»é¢ç§¯å›¾çš„ç»‘åˆ¶æ–¹æ³•ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#å‰è¨€",
    "href": "2030-bindareaplot.html#å‰è¨€",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "é¢ç§¯å›¾æ˜¯æŠ˜çº¿å›¾çš„å»¶ä¼¸ï¼Œå®ƒé€šè¿‡å¡«å……çº¿ä¸‹åŒºåŸŸæ¥å¼ºè°ƒæ•°é‡ç´¯ç§¯æˆ–æ¯”ä¾‹å˜åŒ–ã€‚é€‚ç”¨äºï¼š\n\næ—¶é—´åºåˆ—å †å ï¼šå„éƒ¨åˆ†å¯¹æ€»ä½“çš„è´¡çŒ®\næ¯”ä¾‹å˜åŒ–ï¼šå¸‚åœºä»½é¢ã€é¢„ç®—åˆ†é…\næµé‡å¯è§†åŒ–ï¼šç½‘ç«™æµé‡æ¥æºã€ç”¨æˆ·è½¬åŒ–\n\næœ¬æ•™ç¨‹å°†è¯¦ç»†ä»‹ç» R è¯­è¨€ä¸­å„ç±»é¢ç§¯å›¾çš„ç»‘åˆ¶æ–¹æ³•ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#åŸºç¡€é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#åŸºç¡€é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€é¢ç§¯å›¾",
    "text": "åŸºç¡€é¢ç§¯å›¾\n\nå‡†å¤‡å·¥ä½œ\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(scales)\n\ntheme_set(theme_minimal(base_size = 14))\n\n\n\nåˆ›å»ºç¤ºä¾‹æ•°æ®\n\n# æ¨¡æ‹Ÿç½‘ç«™æµé‡æ•°æ®\nset.seed(42)\nmonths &lt;- seq(as.Date(\"2024-01-01\"), as.Date(\"2025-12-31\"), by = \"month\")\n\ntraffic_data &lt;- data.frame(\n    date = months,\n    organic = 1000 + cumsum(rnorm(length(months), 50, 100)),\n    paid = 500 + cumsum(rnorm(length(months), 30, 80)),\n    social = 300 + cumsum(rnorm(length(months), 20, 50)),\n    direct = 200 + cumsum(rnorm(length(months), 10, 30)),\n    referral = 150 + cumsum(rnorm(length(months), 5, 20))\n)\n\nhead(traffic_data)\n\n        date  organic     paid   social   direct referral\n1 2024-01-01 1187.096 681.6155 298.4277 228.7055 132.3652\n2 2024-02-01 1180.626 677.1779 351.2101 210.0998 108.1809\n3 2024-03-01 1266.939 686.5964 387.3063 203.8150 114.7806\n4 2024-04-01 1380.225 575.5433 368.1144 231.2449 132.8447\n5 2024-05-01 1470.652 642.3511 466.9008 264.2902 161.8640\n6 2024-06-01 1510.040 621.1515 519.0457 288.2033 187.7590\n\n\n\n\nå•å˜é‡é¢ç§¯å›¾\n\nggplot(traffic_data, aes(x = date, y = organic)) +\n    geom_area(fill = \"#4e79a7\", alpha = 0.7) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    labs(\n        title = \"è‡ªç„¶æœç´¢æµé‡è¶‹åŠ¿\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ¸å˜æ•ˆæœ\n\nggplot(traffic_data, aes(x = date, y = organic)) +\n    geom_area(fill = \"#4e79a7\", alpha = 0.3) +\n    geom_line(color = \"#4e79a7\", linewidth = 1.2) +\n    geom_point(color = \"#4e79a7\", size = 2) +\n    labs(\n        title = \"è‡ªç„¶æœç´¢æµé‡è¶‹åŠ¿\",\n        subtitle = \"åŠé€æ˜å¡«å…… + æŠ˜çº¿æ ‡è®°\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#å †å é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#å †å é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "å †å é¢ç§¯å›¾",
    "text": "å †å é¢ç§¯å›¾\n\næ•°æ®æ•´ç†\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼\ntraffic_long &lt;- traffic_data %&gt;%\n    pivot_longer(\n        cols = c(organic, paid, social, direct, referral),\n        names_to = \"source\",\n        values_to = \"visits\"\n    ) %&gt;%\n    mutate(\n        source = factor(source,\n            levels = c(\"organic\", \"paid\", \"social\", \"direct\", \"referral\"),\n            labels = c(\"è‡ªç„¶æœç´¢\", \"ä»˜è´¹å¹¿å‘Š\", \"ç¤¾äº¤åª’ä½“\", \"ç›´æ¥è®¿é—®\", \"å¤–éƒ¨å¼•è\")\n        )\n    )\n\nhead(traffic_long)\n\n# A tibble: 6 Ã— 3\n  date       source   visits\n  &lt;date&gt;     &lt;fct&gt;     &lt;dbl&gt;\n1 2024-01-01 è‡ªç„¶æœç´¢  1187.\n2 2024-01-01 ä»˜è´¹å¹¿å‘Š   682.\n3 2024-01-01 ç¤¾äº¤åª’ä½“   298.\n4 2024-01-01 ç›´æ¥è®¿é—®   229.\n5 2024-01-01 å¤–éƒ¨å¼•è   132.\n6 2024-02-01 è‡ªç„¶æœç´¢  1181.\n\n\n\n\nåŸºç¡€å †å é¢ç§¯å›¾\n\n# å®šä¹‰é…è‰²\nsource_colors &lt;- c(\n    \"è‡ªç„¶æœç´¢\" = \"#4e79a7\",\n    \"ä»˜è´¹å¹¿å‘Š\" = \"#f28e2b\",\n    \"ç¤¾äº¤åª’ä½“\" = \"#59a14f\",\n    \"ç›´æ¥è®¿é—®\" = \"#e15759\",\n    \"å¤–éƒ¨å¼•è\" = \"#76b7b2\"\n)\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(alpha = 0.8) +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ¥æºæ„æˆ\",\n        subtitle = \"å †å é¢ç§¯å›¾å±•ç¤ºå„æ¸ é“è´¡çŒ®\",\n        x = \"æ—¥æœŸ\",\n        y = \"æ€»è®¿é—®é‡\",\n        fill = \"æµé‡æ¥æº\"\n    ) +\n    theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´å †å é¡ºåº\n\n# æŒ‰å¹³å‡æµé‡æ’åºï¼ˆå¤§çš„åœ¨ä¸‹é¢ï¼‰\nsource_order &lt;- traffic_long %&gt;%\n    group_by(source) %&gt;%\n    summarise(mean_visits = mean(visits)) %&gt;%\n    arrange(desc(mean_visits)) %&gt;%\n    pull(source)\n\ntraffic_long$source &lt;- factor(traffic_long$source, levels = rev(source_order))\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(alpha = 0.8) +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ¥æºæ„æˆï¼ˆæŒ‰æµé‡æ’åºï¼‰\",\n        x = \"æ—¥æœŸ\",\n        y = \"æ€»è®¿é—®é‡\",\n        fill = \"æµé‡æ¥æº\"\n    ) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#ç™¾åˆ†æ¯”å †å é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#ç™¾åˆ†æ¯”å †å é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "3. ç™¾åˆ†æ¯”å †å é¢ç§¯å›¾",
    "text": "3. ç™¾åˆ†æ¯”å †å é¢ç§¯å›¾\n\nposition = â€œfillâ€\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(position = \"fill\", alpha = 0.8) +\n    scale_fill_manual(values = source_colors) +\n    scale_y_continuous(labels = percent_format()) +\n    labs(\n        title = \"æµé‡æ¥æºå æ¯”å˜åŒ–\",\n        subtitle = \"100% å †å é¢ç§¯å›¾\",\n        x = \"æ—¥æœŸ\",\n        y = \"å æ¯”\",\n        fill = \"æµé‡æ¥æº\"\n    ) +\n    theme(legend.position = \"bottom\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ è¾¹ç•Œçº¿\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(position = \"fill\", alpha = 0.8, color = \"white\", linewidth = 0.3) +\n    scale_fill_manual(values = source_colors) +\n    scale_y_continuous(labels = percent_format()) +\n    labs(\n        title = \"æµé‡æ¥æºå æ¯”å˜åŒ–\",\n        subtitle = \"æ·»åŠ ç™½è‰²è¾¹ç•Œçº¿æå‡å±‚æ¬¡æ„Ÿ\",\n        x = \"æ—¥æœŸ\",\n        y = \"å æ¯”\",\n        fill = \"æµé‡æ¥æº\"\n    ) +\n    theme(legend.position = \"bottom\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#åˆ†é¢é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#åˆ†é¢é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "åˆ†é¢é¢ç§¯å›¾",
    "text": "åˆ†é¢é¢ç§¯å›¾\n\nç‹¬ç«‹é¢ç§¯å›¾\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(alpha = 0.7) +\n    geom_line(color = \"white\", linewidth = 0.5) +\n    facet_wrap(~source, ncol = 1, scales = \"free_y\") +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"å„æµé‡æ¸ é“ç‹¬ç«‹è¶‹åŠ¿\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    ) +\n    theme(\n        legend.position = \"none\",\n        strip.text = element_text(face = \"bold\", size = 12)\n    )\n\n\n\n\n\n\n\n\n\n\nå°å¤šå›¾å¯¹æ¯”\n\nggplot(traffic_long, aes(x = date, y = visits)) +\n    geom_area(fill = \"#4e79a7\", alpha = 0.5) +\n    geom_line(color = \"#4e79a7\", linewidth = 0.8) +\n    facet_wrap(~source, nrow = 1, scales = \"fixed\") +\n    labs(\n        title = \"æµé‡æ¸ é“å¯¹æ¯”ï¼ˆç»Ÿä¸€çºµè½´ï¼‰\",\n        x = NULL,\n        y = \"è®¿é—®é‡\"\n    ) +\n    theme(\n        strip.text = element_text(face = \"bold\"),\n        axis.text.x = element_text(angle = 45, hjust = 1)\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#æ²³æµå›¾-streamgraph",
    "href": "2030-bindareaplot.html#æ²³æµå›¾-streamgraph",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "æ²³æµå›¾ (Streamgraph)",
    "text": "æ²³æµå›¾ (Streamgraph)\næ²³æµå›¾æ˜¯å±…ä¸­å¯¹ç§°çš„å †å é¢ç§¯å›¾ï¼Œç¾è§‚ä¸”æ›´æ˜“å‘ç°è¶‹åŠ¿ã€‚\n\næ¨¡æ‹Ÿæ²³æµå›¾æ•ˆæœ\n\n# ä½¿ç”¨æ ‡å‡†ggplot2åˆ›å»ºç±»ä¼¼æ²³æµå›¾æ•ˆæœ\n# è®¡ç®—å±…ä¸­å †å \ntraffic_stream &lt;- traffic_long %&gt;%\n    group_by(date) %&gt;%\n    mutate(\n        total = sum(visits),\n        prop = visits / total\n    ) %&gt;%\n    ungroup() %&gt;%\n    arrange(date, source) %&gt;%\n    group_by(date) %&gt;%\n    mutate(\n        ymax = cumsum(visits) - sum(visits) / 2,\n        ymin = ymax - visits\n    ) %&gt;%\n    ungroup()\n\nggplot(traffic_stream, aes(x = date)) +\n    geom_ribbon(aes(ymin = ymin, ymax = ymax, fill = source), alpha = 0.8) +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ²³æµå›¾ï¼ˆå±…ä¸­å †å ï¼‰\",\n        subtitle = \"å„æ¸ é“æµé‡å¯¹ç§°å±•ç¤º\",\n        x = \"æ—¥æœŸ\",\n        y = NULL,\n        fill = \"æµé‡æ¥æº\"\n    ) +\n    theme(\n        legend.position = \"bottom\",\n        axis.text.y = element_blank(),\n        axis.ticks.y = element_blank(),\n        panel.grid.major.y = element_blank()\n    )\n\n\n\n\n\n\n\n\n\n\né«˜çº§æ²³æµå›¾ (ggstream åŒ…)\nå¦‚éœ€æ›´ä¸“ä¸šçš„æ²³æµå›¾ï¼Œå¯å®‰è£… ggstream åŒ…ï¼š\n\n# install.packages(\"ggstream\")\nlibrary(ggstream)\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_stream(alpha = 0.8, bw = 0.3) +\n    scale_fill_manual(values = source_colors) +\n    labs(title = \"æ²³æµå›¾\", fill = \"æµé‡æ¥æº\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#é¢ç§¯å›¾ç¾åŒ–æŠ€å·§",
    "href": "2030-bindareaplot.html#é¢ç§¯å›¾ç¾åŒ–æŠ€å·§",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "é¢ç§¯å›¾ç¾åŒ–æŠ€å·§",
    "text": "é¢ç§¯å›¾ç¾åŒ–æŠ€å·§\n\næ¸å˜å¡«å……\n\n# ä½¿ç”¨ ggfx æ·»åŠ æ¸å˜æ•ˆæœï¼ˆå¦‚æœå¯ç”¨ï¼‰\n# æ‰‹åŠ¨æ¨¡æ‹Ÿæ¸å˜æ•ˆæœ\nggplot(traffic_data, aes(x = date)) +\n    # å¤šå±‚åŠé€æ˜å¡«å……\n    geom_area(aes(y = organic), fill = \"#4e79a7\", alpha = 0.2) +\n    geom_area(aes(y = organic * 0.8), fill = \"#4e79a7\", alpha = 0.2) +\n    geom_area(aes(y = organic * 0.5), fill = \"#4e79a7\", alpha = 0.3) +\n    geom_line(aes(y = organic), color = \"#4e79a7\", linewidth = 1.2) +\n    labs(\n        title = \"æ¸å˜å¡«å……æ•ˆæœ\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )\n\n\n\n\n\n\n\n\n\n\né«˜äº®ç‰¹å®šåŒºåŸŸ\n\nggplot(traffic_data, aes(x = date, y = organic)) +\n    geom_area(fill = \"#4e79a7\", alpha = 0.3) +\n    # é«˜äº®å¢é•¿æœŸ\n    geom_area(\n        data = traffic_data %&gt;% filter(date &gt;= as.Date(\"2024-06-01\") & date &lt;= as.Date(\"2024-12-01\")),\n        fill = \"#59a14f\", alpha = 0.5\n    ) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    annotate(\"text\",\n        x = as.Date(\"2024-09-01\"), y = max(traffic_data$organic) * 0.8,\n        label = \"å¿«é€Ÿå¢é•¿æœŸ\", fontface = \"bold\", color = \"#59a14f\"\n    ) +\n    labs(\n        title = \"è‡ªç„¶æœç´¢æµé‡è¶‹åŠ¿\",\n        subtitle = \"ç»¿è‰²åŒºåŸŸä¸ºå¿«é€Ÿå¢é•¿æœŸ\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )\n\n\n\n\n\n\n\n\n\n\nåŒé¢ç§¯å¯¹æ¯”\n\n# åˆ›å»ºæ­£è´Ÿå¯¹æ¯”æ•°æ®\ncompare_data &lt;- data.frame(\n    date = months,\n    positive = traffic_data$organic - mean(traffic_data$organic),\n    negative = traffic_data$paid - mean(traffic_data$paid)\n)\n\nggplot(compare_data, aes(x = date)) +\n    geom_area(aes(y = positive), fill = \"#59a14f\", alpha = 0.5) +\n    geom_area(aes(y = -abs(negative)), fill = \"#e15759\", alpha = 0.5) +\n    geom_hline(yintercept = 0, color = \"gray40\") +\n    labs(\n        title = \"æµé‡å˜åŒ–å¯¹æ¯”ï¼ˆç›¸å¯¹äºå‡å€¼ï¼‰\",\n        subtitle = \"ç»¿è‰²ï¼šè‡ªç„¶æœç´¢è¶…å‡å€¼ | çº¢è‰²ï¼šä»˜è´¹å¹¿å‘Šè¶…å‡å€¼\",\n        x = \"æ—¥æœŸ\",\n        y = \"åç¦»å‡å€¼\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#å¸¦æ ‡ç­¾çš„é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#å¸¦æ ‡ç­¾çš„é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "å¸¦æ ‡ç­¾çš„é¢ç§¯å›¾",
    "text": "å¸¦æ ‡ç­¾çš„é¢ç§¯å›¾\n\nç›´æ¥æ ‡ç­¾\n\n# è®¡ç®—æ ‡ç­¾ä½ç½®ï¼ˆæ¯ä¸ªåŒºåŸŸçš„ä¸­ç‚¹ï¼‰\nlabel_data &lt;- traffic_long %&gt;%\n    group_by(source) %&gt;%\n    summarise(\n        x = median(date),\n        y = mean(visits)\n    )\n\n# è®¡ç®—ç´¯ç§¯ä½ç½®\ntraffic_wide &lt;- traffic_data %&gt;%\n    mutate(across(c(organic, paid, social, direct, referral), ~ cumsum(.) / row_number()))\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(alpha = 0.8, color = \"white\", linewidth = 0.3) +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ¥æºæ„æˆ\",\n        x = \"æ—¥æœŸ\",\n        y = \"æ€»è®¿é—®é‡\"\n    ) +\n    theme(legend.position = \"right\")\n\n\n\n\n\n\n\n\n\n\næœ«ç«¯æ ‡ç­¾\n\n# è·å–æœ€åä¸€ä¸ªæ—¶é—´ç‚¹çš„å€¼\nlast_date &lt;- max(traffic_long$date)\n\n# è®¡ç®—å †å åçš„ä½ç½®\nlast_values &lt;- traffic_long %&gt;%\n    filter(date == last_date) %&gt;%\n    arrange(desc(source)) %&gt;%\n    mutate(\n        cumsum_visits = cumsum(visits),\n        label_y = cumsum_visits - visits / 2\n    )\n\nggplot(traffic_long, aes(x = date, y = visits, fill = source)) +\n    geom_area(alpha = 0.8) +\n    geom_text(\n        data = last_values,\n        aes(x = last_date, y = label_y, label = source),\n        hjust = -0.1, size = 3.5, fontface = \"bold\"\n    ) +\n    scale_fill_manual(values = source_colors) +\n    scale_x_date(expand = expansion(mult = c(0.02, 0.2))) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ¥æºæ„æˆ\",\n        x = \"æ—¥æœŸ\",\n        y = \"æ€»è®¿é—®é‡\"\n    ) +\n    theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#ç‰¹æ®Šç±»å‹é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#ç‰¹æ®Šç±»å‹é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "ç‰¹æ®Šç±»å‹é¢ç§¯å›¾",
    "text": "ç‰¹æ®Šç±»å‹é¢ç§¯å›¾\n\né˜¶æ¢¯é¢ç§¯å›¾\n\n# åˆ›å»ºé˜¶æ¢¯å¡«å……æ•°æ®\nstep_data &lt;- traffic_data %&gt;%\n    arrange(date) %&gt;%\n    mutate(\n        date_end = lead(date, default = max(date) + 30)\n    )\n\n# ä½¿ç”¨ geom_rect æ¨¡æ‹Ÿé˜¶æ¢¯é¢ç§¯å›¾\nggplot(step_data, aes(xmin = date, xmax = date_end, ymin = 0, ymax = organic)) +\n    geom_rect(fill = \"#4e79a7\", alpha = 0.5, color = \"#4e79a7\", linewidth = 0.3) +\n    geom_step(aes(x = date, y = organic), color = \"#4e79a7\", linewidth = 1) +\n    labs(\n        title = \"é˜¶æ¢¯é¢ç§¯å›¾\",\n        subtitle = \"é€‚åˆå±•ç¤ºç¦»æ•£æ—¶é—´ç‚¹çš„å˜åŒ–\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )\n\n\n\n\n\n\n\n\n\n\né¢ç§¯å›¾ + æ•£ç‚¹\n\nggplot(traffic_data, aes(x = date, y = organic)) +\n    geom_area(fill = \"#4e79a7\", alpha = 0.3) +\n    geom_line(color = \"#4e79a7\", linewidth = 1) +\n    geom_point(color = \"#4e79a7\", size = 2.5, shape = 21, fill = \"white\", stroke = 1.5) +\n    labs(\n        title = \"é¢ç§¯å›¾ + æ•°æ®ç‚¹æ ‡è®°\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#äº¤äº’å¼é¢ç§¯å›¾",
    "href": "2030-bindareaplot.html#äº¤äº’å¼é¢ç§¯å›¾",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "äº¤äº’å¼é¢ç§¯å›¾",
    "text": "äº¤äº’å¼é¢ç§¯å›¾\n\nlibrary(plotly)\n\n# åˆ›å»ºäº¤äº’å¼å †å é¢ç§¯å›¾\np &lt;- ggplot(traffic_long, aes(\n    x = date, y = visits, fill = source,\n    text = paste0(source, \"\\n\", format(date, \"%Y-%m\"), \"\\nè®¿é—®é‡: \", round(visits))\n)) +\n    geom_area(alpha = 0.8) +\n    scale_fill_manual(values = source_colors) +\n    labs(\n        title = \"ç½‘ç«™æµé‡æ¥æºï¼ˆäº¤äº’å¼ï¼‰\",\n        x = \"æ—¥æœŸ\",\n        y = \"è®¿é—®é‡\"\n    ) +\n    theme_minimal()\n\nggplotly(p, tooltip = \"text\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#å®æˆ˜æ¡ˆä¾‹é¢„ç®—åˆ†é…å˜åŒ–",
    "href": "2030-bindareaplot.html#å®æˆ˜æ¡ˆä¾‹é¢„ç®—åˆ†é…å˜åŒ–",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "10. å®æˆ˜æ¡ˆä¾‹ï¼šé¢„ç®—åˆ†é…å˜åŒ–",
    "text": "10. å®æˆ˜æ¡ˆä¾‹ï¼šé¢„ç®—åˆ†é…å˜åŒ–\n\n# æ¨¡æ‹Ÿéƒ¨é—¨é¢„ç®—æ•°æ®\nyears &lt;- 2018:2025\nbudget_data &lt;- data.frame(\n    year = rep(years, each = 5),\n    department = rep(c(\"ç ”å‘\", \"å¸‚åœº\", \"è¿è¥\", \"äººåŠ›\", \"è¡Œæ”¿\"), length(years)),\n    budget = c(\n        # å„å¹´å„éƒ¨é—¨é¢„ç®—ï¼ˆç™¾ä¸‡å…ƒï¼‰\n        c(50, 30, 25, 15, 10), # 2018\n        c(55, 32, 26, 16, 11), # 2019\n        c(62, 35, 28, 18, 12), # 2020\n        c(70, 38, 30, 20, 13), # 2021\n        c(80, 42, 32, 22, 14), # 2022\n        c(90, 45, 35, 24, 15), # 2023\n        c(105, 48, 38, 26, 16), # 2024\n        c(120, 52, 40, 28, 17) # 2025\n    )\n)\n\n# é…è‰²\ndept_colors &lt;- c(\n    \"ç ”å‘\" = \"#4e79a7\",\n    \"å¸‚åœº\" = \"#f28e2b\",\n    \"è¿è¥\" = \"#59a14f\",\n    \"äººåŠ›\" = \"#e15759\",\n    \"è¡Œæ”¿\" = \"#76b7b2\"\n)\n\n# å †å é¢ç§¯å›¾\np1 &lt;- ggplot(budget_data, aes(x = year, y = budget, fill = department)) +\n    geom_area(alpha = 0.8, color = \"white\", linewidth = 0.3) +\n    scale_fill_manual(values = dept_colors) +\n    scale_x_continuous(breaks = years) +\n    labs(\n        title = \"æ€»é¢„ç®—å¢é•¿è¶‹åŠ¿\",\n        x = NULL,\n        y = \"é¢„ç®—ï¼ˆç™¾ä¸‡å…ƒï¼‰\",\n        fill = \"éƒ¨é—¨\"\n    )\n\n# ç™¾åˆ†æ¯”å †å \np2 &lt;- ggplot(budget_data, aes(x = year, y = budget, fill = department)) +\n    geom_area(position = \"fill\", alpha = 0.8, color = \"white\", linewidth = 0.3) +\n    scale_fill_manual(values = dept_colors) +\n    scale_x_continuous(breaks = years) +\n    scale_y_continuous(labels = percent_format()) +\n    labs(\n        title = \"é¢„ç®—åˆ†é…æ¯”ä¾‹å˜åŒ–\",\n        x = \"å¹´ä»½\",\n        y = \"å æ¯”\",\n        fill = \"éƒ¨é—¨\"\n    )\n\n# ç»„åˆ\nlibrary(patchwork)\np1 / p2 +\n    plot_layout(guides = \"collect\") +\n    plot_annotation(\n        title = \"å…¬å¸é¢„ç®—åˆ†é… 2018-2025\",\n        theme = theme(\n            plot.title = element_text(size = 18, face = \"bold\")\n        )\n    ) &\n    theme(legend.position = \"right\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2030-bindareaplot.html#æ€»ç»“",
    "href": "2030-bindareaplot.html#æ€»ç»“",
    "title": "é¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nç±»å‹\né€‚ç”¨åœºæ™¯\nggplot2 ä»£ç \n\n\n\n\nåŸºç¡€é¢ç§¯å›¾\nå•å˜é‡è¶‹åŠ¿\ngeom_area()\n\n\nå †å é¢ç§¯å›¾\néƒ¨åˆ†ä¸æ•´ä½“\ngeom_area() + fill\n\n\nç™¾åˆ†æ¯”å †å \næ¯”ä¾‹å˜åŒ–\nposition = \"fill\"\n\n\næ²³æµå›¾\nç¾è§‚å±•ç¤º\nggstream::geom_stream()\n\n\nåˆ†é¢é¢ç§¯å›¾\nå¤šå˜é‡å¯¹æ¯”\nfacet_wrap()\n\n\n\n\n[!TIP] è®¾è®¡å»ºè®®ï¼š - å †å é¢ç§¯å›¾ç±»åˆ«ä¸å®œè¶…è¿‡ 6 ä¸ª - å°†é‡è¦ç±»åˆ«æ”¾åœ¨åº•éƒ¨ï¼ˆæ›´å®¹æ˜“æ¯”è¾ƒï¼‰ - ä½¿ç”¨ç™¾åˆ†æ¯”å †å æ—¶ç¡®ä¿æ•°æ®å¯æ¯” - æ²³æµå›¾é€‚åˆå±•ç¤ºè€Œéç²¾ç¡®åˆ†æ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é¢ç§¯å›¾ä¸å †å å›¾"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html",
    "href": "2032-ggplot2-intro.html",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "",
    "text": "ggplot2 æ˜¯ R è¯­è¨€æœ€å¼ºå¤§çš„å¯è§†åŒ–åŒ…ï¼ŒåŸºäºâ€å›¾å½¢è¯­æ³•â€ï¼ˆGrammar of Graphicsï¼‰ç†è®ºæ„å»ºã€‚\n\n\n\n\n\nç»„ä»¶\nå‡½æ•°\nä½œç”¨\n\n\n\n\næ•°æ®\nggplot(data)\næŒ‡å®šæ•°æ®æº\n\n\næ˜ å°„\naes()\nå˜é‡åˆ°è§†è§‰å±æ€§çš„æ˜ å°„\n\n\nå‡ ä½•\ngeom_*()\nå›¾å½¢ç±»å‹\n\n\næ ‡åº¦\nscale_*()\nåˆ»åº¦å’Œå›¾ä¾‹\n\n\nä¸»é¢˜\ntheme()\néæ•°æ®å…ƒç´ æ ·å¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ggplot2-ç®€ä»‹",
    "href": "2032-ggplot2-intro.html#ggplot2-ç®€ä»‹",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "",
    "text": "ggplot2 æ˜¯ R è¯­è¨€æœ€å¼ºå¤§çš„å¯è§†åŒ–åŒ…ï¼ŒåŸºäºâ€å›¾å½¢è¯­æ³•â€ï¼ˆGrammar of Graphicsï¼‰ç†è®ºæ„å»ºã€‚\n\n\n\n\n\nç»„ä»¶\nå‡½æ•°\nä½œç”¨\n\n\n\n\næ•°æ®\nggplot(data)\næŒ‡å®šæ•°æ®æº\n\n\næ˜ å°„\naes()\nå˜é‡åˆ°è§†è§‰å±æ€§çš„æ˜ å°„\n\n\nå‡ ä½•\ngeom_*()\nå›¾å½¢ç±»å‹\n\n\næ ‡åº¦\nscale_*()\nåˆ»åº¦å’Œå›¾ä¾‹\n\n\nä¸»é¢˜\ntheme()\néæ•°æ®å…ƒç´ æ ·å¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#å®‰è£…ä¸åŠ è½½",
    "href": "2032-ggplot2-intro.html#å®‰è£…ä¸åŠ è½½",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# ç¤ºä¾‹æ•°æ®\ndata(mpg)\nhead(mpg)\n\n# A tibble: 6 Ã— 11\n  manufacturer model displ  year   cyl trans      drv     cty   hwy fl    class \n  &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; \n1 audi         a4      1.8  1999     4 auto(l5)   f        18    29 p     compaâ€¦\n2 audi         a4      1.8  1999     4 manual(m5) f        21    29 p     compaâ€¦\n3 audi         a4      2    2008     4 manual(m6) f        20    31 p     compaâ€¦\n4 audi         a4      2    2008     4 auto(av)   f        21    30 p     compaâ€¦\n5 audi         a4      2.8  1999     6 auto(l5)   f        16    26 p     compaâ€¦\n6 audi         a4      2.8  1999     6 manual(m5) f        18    26 p     compaâ€¦",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬ä¸€éƒ¨åˆ†åŸºç¡€è¯­æ³•",
    "href": "2032-ggplot2-intro.html#ç¬¬ä¸€éƒ¨åˆ†åŸºç¡€è¯­æ³•",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€è¯­æ³•",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€è¯­æ³•\n\næœ€ç®€ç»‘å›¾\n\nggplot(data = mpg, aes(x = displ, y = hwy)) +\n  geom_point()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ é¢œè‰²æ˜ å°„\n\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point()\n\n\n\n\n\n\n\n\n\n\næ˜ å°„ vs è®¾ç½®\n\n# æ˜ å°„ï¼šå˜é‡ â†’ å±æ€§ï¼ˆåœ¨ aes å†…ï¼‰\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point()\n\n\n\n\n\n\n\n# è®¾ç½®ï¼šå›ºå®šå€¼ï¼ˆåœ¨ aes å¤–ï¼‰\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(color = \"#4f46e5\", size = 3, alpha = 0.6)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬äºŒéƒ¨åˆ†å¸¸ç”¨å‡ ä½•å¯¹è±¡",
    "href": "2032-ggplot2-intro.html#ç¬¬äºŒéƒ¨åˆ†å¸¸ç”¨å‡ ä½•å¯¹è±¡",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šå¸¸ç”¨å‡ ä½•å¯¹è±¡",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šå¸¸ç”¨å‡ ä½•å¯¹è±¡\n\næ•£ç‚¹å›¾\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class, size = cyl), alpha = 0.7)\n\n\n\n\n\n\n\n\n\n\næŠ˜çº¿å›¾\n\n# æ—¶é—´åºåˆ—æ•°æ®\neconomics_small &lt;- economics %&gt;% filter(date &gt;= \"2000-01-01\")\n\nggplot(economics_small, aes(x = date, y = unemploy)) +\n  geom_line(color = \"#4f46e5\", linewidth = 1)\n\n\n\n\n\n\n\n\n\n\næŸ±çŠ¶å›¾\n\nggplot(mpg, aes(x = class)) +\n  geom_bar(fill = \"#4f46e5\")\n\n\n\n\n\n\n\n\n\n# å·²æ±‡æ€»æ•°æ®\nclass_summary &lt;- mpg %&gt;% count(class)\n\nggplot(class_summary, aes(x = reorder(class, -n), y = n)) +\n  geom_col(fill = \"#10b981\") +\n  labs(x = \"è½¦å‹\", y = \"æ•°é‡\")\n\n\n\n\n\n\n\n\n\n\nç›´æ–¹å›¾\n\nggplot(mpg, aes(x = hwy)) +\n  geom_histogram(bins = 20, fill = \"#4f46e5\", color = \"white\")\n\n\n\n\n\n\n\n\n\n\nå¯†åº¦å›¾\n\nggplot(mpg, aes(x = hwy, fill = drv)) +\n  geom_density(alpha = 0.5)\n\n\n\n\n\n\n\n\n\n\nç®±çº¿å›¾\n\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot(fill = \"#4f46e5\", alpha = 0.7)\n\n\n\n\n\n\n\n\n\n\nå°æç´å›¾\n\nggplot(mpg, aes(x = drv, y = hwy)) +\n  geom_violin(fill = \"#10b981\", alpha = 0.7) +\n  geom_boxplot(width = 0.1, fill = \"white\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬ä¸‰éƒ¨åˆ†å›¾å±‚å åŠ ",
    "href": "2032-ggplot2-intro.html#ç¬¬ä¸‰éƒ¨åˆ†å›¾å±‚å åŠ ",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå›¾å±‚å åŠ ",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå›¾å±‚å åŠ \n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(color = \"#4f46e5\", alpha = 0.6) +\n  geom_smooth(method = \"lm\", color = \"#ef4444\", se = TRUE)\n\n\n\n\n\n\n\n\n\n# å¤šç§å¹³æ»‘æ–¹æ³•\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = \"loess\", color = \"#4f46e5\") +\n  geom_smooth(method = \"lm\", color = \"#ef4444\", linetype = \"dashed\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬å››éƒ¨åˆ†åˆ†é¢",
    "href": "2032-ggplot2-intro.html#ç¬¬å››éƒ¨åˆ†åˆ†é¢",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šåˆ†é¢",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šåˆ†é¢\n\nå•å˜é‡åˆ†é¢\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  facet_wrap(~class, ncol = 4)\n\n\n\n\n\n\n\n\n\n\nåŒå˜é‡åˆ†é¢\n\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  facet_grid(drv ~ cyl)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬äº”éƒ¨åˆ†æ ‡åº¦ä¸åæ ‡ç³»",
    "href": "2032-ggplot2-intro.html#ç¬¬äº”éƒ¨åˆ†æ ‡åº¦ä¸åæ ‡ç³»",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šæ ‡åº¦ä¸åæ ‡ç³»",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šæ ‡åº¦ä¸åæ ‡ç³»\n\né¢œè‰²æ ‡åº¦\n\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set2\")\n\n\n\n\n\n\n\n\n\n# æ‰‹åŠ¨é…è‰²\nggplot(mpg, aes(x = displ, y = hwy, color = drv)) +\n  geom_point(size = 3) +\n  scale_color_manual(values = c(\"4\" = \"#4f46e5\", \"f\" = \"#10b981\", \"r\" = \"#ef4444\"))\n\n\n\n\n\n\n\n\n\n\nåæ ‡å˜æ¢\n\n# å¯¹æ•°åæ ‡\nggplot(diamonds, aes(x = carat, y = price)) +\n  geom_point(alpha = 0.1) +\n  scale_x_log10() +\n  scale_y_log10()\n\n\n\n\n\n\n\n\n\n\nåæ ‡ç¿»è½¬\n\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot() +\n  coord_flip()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬å…­éƒ¨åˆ†ä¸»é¢˜ç³»ç»Ÿ",
    "href": "2032-ggplot2-intro.html#ç¬¬å…­éƒ¨åˆ†ä¸»é¢˜ç³»ç»Ÿ",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šä¸»é¢˜ç³»ç»Ÿ",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šä¸»é¢˜ç³»ç»Ÿ\n\né¢„è®¾ä¸»é¢˜\n\np &lt;- ggplot(mpg, aes(x = displ, y = hwy)) + geom_point()\n\np + theme_minimal()\n\n\n\n\n\n\n\n\n\np + theme_classic()\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ä¸»é¢˜\n\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point(size = 2) +\n  labs(\n    title = \"å‘åŠ¨æœºæ’é‡ä¸æ²¹è€—\",\n    subtitle = \"æ•°æ®æ¥æº: mpg æ•°æ®é›†\",\n    x = \"æ’é‡ (L)\",\n    y = \"é«˜é€Ÿæ²¹è€— (mpg)\",\n    color = \"è½¦å‹\"\n  ) +\n  theme_bw() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n    plot.subtitle = element_text(hjust = 0.5, color = \"gray50\"),\n    legend.position = \"bottom\",\n    panel.grid.minor = element_blank()\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#ç¬¬ä¸ƒéƒ¨åˆ†ä¿å­˜å›¾ç‰‡",
    "href": "2032-ggplot2-intro.html#ç¬¬ä¸ƒéƒ¨åˆ†ä¿å­˜å›¾ç‰‡",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šä¿å­˜å›¾ç‰‡",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šä¿å­˜å›¾ç‰‡\n\n# ä¿å­˜æœ€åä¸€å¼ å›¾\nggsave(\"my_plot.png\", width = 8, height = 6, dpi = 300)\n\n# ä¿å­˜æŒ‡å®šå›¾\np &lt;- ggplot(mpg, aes(x = displ, y = hwy)) + geom_point()\nggsave(\"scatter.pdf\", plot = p, width = 10, height = 8)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "2032-ggplot2-intro.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\n# åŸºç¡€æ¡†æ¶\nggplot(data, aes(x, y)) + geom_*()\n\n# å¸¸ç”¨å‡ ä½•\ngeom_point()      # æ•£ç‚¹\ngeom_line()       # æŠ˜çº¿\ngeom_bar()        # æŸ±çŠ¶ï¼ˆè®¡æ•°ï¼‰\ngeom_col()        # æŸ±çŠ¶ï¼ˆå·²æœ‰å€¼ï¼‰\ngeom_histogram()  # ç›´æ–¹å›¾\ngeom_density()    # å¯†åº¦\ngeom_boxplot()    # ç®±çº¿\ngeom_smooth()     # å¹³æ»‘\n\n# æ˜ å°„\naes(x, y, color, fill, size, shape, alpha)\n\n# åˆ†é¢\nfacet_wrap(~ var)\nfacet_grid(row ~ col)\n\n# æ ‡ç­¾\nlabs(title, subtitle, x, y, caption)\n\n# ä¿å­˜\nggsave(\"file.png\", width, height, dpi)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#å°ç»“",
    "href": "2032-ggplot2-intro.html#å°ç»“",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "å°ç»“",
    "text": "å°ç»“\nggplot2 å­¦ä¹ è·¯å¾„ï¼š\n\næŒæ¡åŸºç¡€ï¼šggplot + aes + geom\nå­¦ä¹ æ˜ å°„ï¼šå˜é‡åˆ°è§†è§‰å±æ€§\nç†Ÿæ‚‰å‡ ä½•ï¼šé€‰æ‹©åˆé€‚çš„å›¾å½¢ç±»å‹\nç²¾é€šä¸»é¢˜ï¼šå®šåˆ¶ç¾è§‚çš„æ ·å¼\n\n\næŠ€å·§ï¼šä»æ¨¡ä»¿å¼€å§‹ï¼Œé€æ­¥ä¿®æ”¹å‚æ•°ï¼Œç†è§£æ¯ä¸ªç»„ä»¶çš„ä½œç”¨ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "2032-ggplot2-intro.html#å‚è€ƒèµ„æº",
    "href": "2032-ggplot2-intro.html#å‚è€ƒèµ„æº",
    "title": "ggplot2 å¯è§†åŒ–å…¥é—¨",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nggplot2 å®˜æ–¹æ–‡æ¡£\nR Graph Gallery\nggplot2: Elegant Graphics for Data Analysis",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggplot2 å¯è§†åŒ–å…¥é—¨"
    ]
  },
  {
    "objectID": "3002-datatable.html",
    "href": "3002-datatable.html",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "",
    "text": "åœ¨ R è¯­è¨€ä¸­å¤„ç†æ•°æ®æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§ä¸»è¦çš„æ•°æ®æ¡†ç»“æ„å¯ä»¥é€‰æ‹©ï¼š\n\n\n\n\n\n\n\n\n\næ•°æ®ç»“æ„\næ¥æº\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\ndata.frame\nBase R\nåŸç”Ÿæ”¯æŒï¼Œå…¼å®¹æ€§æœ€å¥½\nå°æ•°æ®ã€å…¼å®¹æ€§è¦æ±‚é«˜\n\n\ntibble\ntidyverse\nè¯­æ³•å‹å¥½ï¼Œæ‰“å°ç¾è§‚\næ—¥å¸¸åˆ†æã€tidyverseç”Ÿæ€\n\n\ndata.table\ndata.tableåŒ…\né€Ÿåº¦æœ€å¿«ï¼Œå†…å­˜æ•ˆç‡é«˜\nå¤§æ•°æ®ã€é«˜æ€§èƒ½éœ€æ±‚\n\n\n\næœ¬æ–‡å°†å…¨é¢ä»‹ç» data.table çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸å…¶ä»–ä¸¤ç§ç»“æ„è¿›è¡Œå¯¹æ¯”ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#ç®€ä»‹",
    "href": "3002-datatable.html#ç®€ä»‹",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "",
    "text": "åœ¨ R è¯­è¨€ä¸­å¤„ç†æ•°æ®æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§ä¸»è¦çš„æ•°æ®æ¡†ç»“æ„å¯ä»¥é€‰æ‹©ï¼š\n\n\n\n\n\n\n\n\n\næ•°æ®ç»“æ„\næ¥æº\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\ndata.frame\nBase R\nåŸç”Ÿæ”¯æŒï¼Œå…¼å®¹æ€§æœ€å¥½\nå°æ•°æ®ã€å…¼å®¹æ€§è¦æ±‚é«˜\n\n\ntibble\ntidyverse\nè¯­æ³•å‹å¥½ï¼Œæ‰“å°ç¾è§‚\næ—¥å¸¸åˆ†æã€tidyverseç”Ÿæ€\n\n\ndata.table\ndata.tableåŒ…\né€Ÿåº¦æœ€å¿«ï¼Œå†…å­˜æ•ˆç‡é«˜\nå¤§æ•°æ®ã€é«˜æ€§èƒ½éœ€æ±‚\n\n\n\næœ¬æ–‡å°†å…¨é¢ä»‹ç» data.table çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸å…¶ä»–ä¸¤ç§ç»“æ„è¿›è¡Œå¯¹æ¯”ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#å®‰è£…ä¸åŠ è½½",
    "href": "3002-datatable.html#å®‰è£…ä¸åŠ è½½",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…ï¼ˆå¦‚æœªå®‰è£…ï¼‰\n# install.packages(\"data.table\")\n# install.packages(\"tibble\")\n# install.packages(\"dplyr\")\n# install.packages(\"microbenchmark\")\n\nlibrary(data.table)\nlibrary(tibble)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#åˆ›å»ºæ•°æ®ç»“æ„",
    "href": "3002-datatable.html#åˆ›å»ºæ•°æ®ç»“æ„",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "åˆ›å»ºæ•°æ®ç»“æ„",
    "text": "åˆ›å»ºæ•°æ®ç»“æ„\n\nä¸‰ç§æ–¹å¼å¯¹æ¯”\n\n# 1. data.frame (Base R)\ndf &lt;- data.frame(\n    id = 1:5,\n    name = c(\"Alice\", \"Bob\", \"Carol\", \"David\", \"Eve\"),\n    score = c(85, 92, 78, 95, 88)\n)\n\n# 2. tibble (tidyverse)\ntbl &lt;- tibble(\n    id = 1:5,\n    name = c(\"Alice\", \"Bob\", \"Carol\", \"David\", \"Eve\"),\n    score = c(85, 92, 78, 95, 88)\n)\n\n# 3. data.table\ndt &lt;- data.table(\n    id = 1:5,\n    name = c(\"Alice\", \"Bob\", \"Carol\", \"David\", \"Eve\"),\n    score = c(85, 92, 78, 95, 88)\n)\n\n\n\næ‰“å°å·®å¼‚\n\n# data.frame æ‰“å°\nprint(df)\n\n  id  name score\n1  1 Alice    85\n2  2   Bob    92\n3  3 Carol    78\n4  4 David    95\n5  5   Eve    88\n\n\n\n# tibble æ‰“å° - æ›´ç®€æ´ï¼Œæ˜¾ç¤ºç±»å‹\nprint(tbl)\n\n# A tibble: 5 Ã— 3\n     id name  score\n  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;\n1     1 Alice    85\n2     2 Bob      92\n3     3 Carol    78\n4     4 David    95\n5     5 Eve      88\n\n\n\n# data.table æ‰“å° - æ˜¾ç¤ºè¡Œå·\nprint(dt)\n\n      id   name score\n   &lt;int&gt; &lt;char&gt; &lt;num&gt;\n1:     1  Alice    85\n2:     2    Bob    92\n3:     3  Carol    78\n4:     4  David    95\n5:     5    Eve    88\n\n\n\n\nç›¸äº’è½¬æ¢\n\n# data.frame -&gt; data.table\ndt_from_df &lt;- as.data.table(df)\n\n# data.table -&gt; data.frame\ndf_from_dt &lt;- as.data.frame(dt)\n\n# tibble -&gt; data.table\ndt_from_tbl &lt;- as.data.table(tbl)\n\n# data.table -&gt; tibble\ntbl_from_dt &lt;- as_tibble(dt)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#data.table-æ ¸å¿ƒè¯­æ³•",
    "href": "3002-datatable.html#data.table-æ ¸å¿ƒè¯­æ³•",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "data.table æ ¸å¿ƒè¯­æ³•",
    "text": "data.table æ ¸å¿ƒè¯­æ³•\ndata.table çš„æ ¸å¿ƒè¯­æ³•æ˜¯ DT[i, j, by]ï¼š\n\ni: è¡Œç­›é€‰ (WHERE)\nj: åˆ—æ“ä½œ (SELECT)\nby: åˆ†ç»„ (GROUP BY)\n\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\nset.seed(42)\ndt &lt;- data.table(\n    id = 1:1000,\n    group = sample(LETTERS[1:5], 1000, replace = TRUE),\n    value1 = rnorm(1000, 100, 15),\n    value2 = rnorm(1000, 50, 10)\n)\nhead(dt)\n\n      id  group    value1   value2\n   &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n1:     1      A 109.38328 61.91797\n2:     2      E 110.99871 76.73912\n3:     3      A  91.27053 30.86128\n4:     4      A 114.75093 42.31044\n5:     5      B 106.42739 31.52593\n6:     6      D 106.74890 50.33621\n\n\n\nè¡Œç­›é€‰ (i)\n\n# ç­›é€‰ group == \"A\" çš„è¡Œ\ndt[group == \"A\"]\n\n        id  group    value1   value2\n     &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n  1:     1      A 109.38328 61.91797\n  2:     3      A  91.27053 30.86128\n  3:     4      A 114.75093 42.31044\n  4:     9      A 109.67785 49.72934\n  5:    11      A 102.19782 54.50599\n ---                                \n203:   963      A  75.10807 56.35975\n204:   965      A 122.39199 46.05880\n205:   987      A 128.20561 31.56337\n206:   993      A 101.19565 59.09193\n207:   995      A 105.56527 45.23885\n\n\n\n# ç­›é€‰ value1 &gt; 110 çš„è¡Œ\ndt[value1 &gt; 110]\n\n        id  group   value1   value2\n     &lt;int&gt; &lt;char&gt;    &lt;num&gt;    &lt;num&gt;\n  1:     2      E 110.9987 76.73912\n  2:     4      A 114.7509 42.31044\n  3:     7      B 117.9542 37.42528\n  4:    12      E 143.4633 63.05377\n  5:    15      B 142.7638 61.96405\n ---                               \n288:   987      A 128.2056 31.56337\n289:   988      C 112.5870 57.47904\n290:   997      B 114.9067 43.48176\n291:   999      B 115.2149 69.93133\n292:  1000      C 119.5004 46.73000\n\n\n\n# å¤šæ¡ä»¶ç­›é€‰\ndt[group == \"A\" & value1 &gt; 100]\n\n        id  group   value1   value2\n     &lt;int&gt; &lt;char&gt;    &lt;num&gt;    &lt;num&gt;\n  1:     1      A 109.3833 61.91797\n  2:     4      A 114.7509 42.31044\n  3:     9      A 109.6778 49.72934\n  4:    11      A 102.1978 54.50599\n  5:    17      A 125.7035 64.97103\n ---                               \n 99:   959      A 113.1231 42.22863\n100:   965      A 122.3920 46.05880\n101:   987      A 128.2056 31.56337\n102:   993      A 101.1957 59.09193\n103:   995      A 105.5653 45.23885\n\n\n\n# æŒ‰è¡Œå·ç­›é€‰\ndt[1:5] # å‰5è¡Œ\n\n      id  group    value1   value2\n   &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n1:     1      A 109.38328 61.91797\n2:     2      E 110.99871 76.73912\n3:     3      A  91.27053 30.86128\n4:     4      A 114.75093 42.31044\n5:     5      B 106.42739 31.52593\n\n\n\n\nåˆ—é€‰æ‹©ä¸è®¡ç®— (j)\n\n# é€‰æ‹©å•åˆ—ï¼ˆè¿”å›å‘é‡ï¼‰\ndt[, value1]\n\n   [1] 109.38328 110.99871  91.27053 114.75093 106.42739 106.74890 117.95417\n   [8]  98.86898 109.67785  96.44790 102.19782 143.46326  86.74560 109.82727\n  [15] 142.76378  96.51668 125.70351  82.38316 106.74516  84.26675  77.77751\n  [22]  87.09858  84.29840  93.38166  86.81959  99.81544 110.27275  86.15260\n  [29] 101.38197  69.47386 102.12535 106.24193  83.98544 108.18135 135.42113\n  [36] 101.85140  95.72102 140.39107 111.57226 106.46332 124.11822 124.75559\n  [43]  79.68854 110.45616  92.34901  93.11815  88.35424  63.88662 112.17044\n  [50]  87.03080 119.50279 108.91205  70.04662  86.12808 120.45319  92.12386\n  [57]  67.17253 147.95749 108.64838  95.86751 134.85392 129.84296 107.20500\n  [64]  75.96179  94.06965 104.69164  86.26084  85.61220  88.46388  59.74742\n  [71] 122.97581 113.82410  82.19058  96.94704  84.11326 109.91952  95.00640\n  [78] 118.96744 114.85532  71.07734  91.02574  80.66489  98.35049 104.42304\n  [85]  78.98847 112.28154 112.56479 116.51946  80.41846  91.64088 113.50932\n  [92] 106.29920  88.83164  99.48643 113.31679  79.12713 103.73702  75.03528\n  [99]  79.66898 115.38096  79.12795  74.20214  86.71865  77.36877 102.00256\n [106]  90.09373 109.09174 103.27693  87.74513  92.51581 100.71258  88.63264\n [113]  87.00285 122.21787  94.59311 116.70631 102.72639 107.88032  85.28409\n [120]  99.97007  98.21077  78.62162  92.69332  95.99700 103.49784  93.91216\n [127] 110.59161 109.59036  69.33732  82.74755  77.24375  94.46252 127.59407\n [134] 104.99612  81.02382 106.57418  94.85850 102.08682 101.87596  77.01179\n [141] 118.99917 114.01540  93.62271  77.73411  75.98551 113.89752 113.49925\n [148]  89.97640 107.16825 106.71345 125.10838 107.84704 128.98803 103.75021\n [155] 111.21479 115.01620  98.82792 131.78703 110.89396 118.83707 104.95149\n [162] 119.37992  99.95993 111.63138 108.50226 118.51790 106.97348 102.68534\n [169]  91.90914  85.63382  81.96860 112.91846  79.90985 109.36727  91.10580\n [176] 115.35644 112.90795  90.05317  93.46773  85.98006  71.28586 114.98335\n [183] 104.42342 121.63164 102.11555 133.99723  90.10309  95.19250  83.55981\n [190] 119.42572 101.20062 122.72318  95.98640 117.88996 123.88256  85.05428\n [197]  84.79106 105.87494  97.08207 104.58409 102.90642  94.82650  82.03828\n [204]  85.57727  76.73607  99.70630 108.91391 117.58191  89.64575 110.48139\n [211]  79.30391  91.85316 105.74409  77.75923 108.31481  93.62757  88.81974\n [218]  86.88924 100.06955 105.26070 107.31495  84.23637  90.36928  90.39282\n [225] 109.41365 109.38831 131.92283 110.89486  90.62142  88.86416 124.93829\n [232]  97.67816 118.32451 109.39361 115.09537  94.77146  82.72978 106.73317\n [239] 112.67374 106.46416 124.99575 100.99251  83.22607 107.27872  96.96964\n [246] 115.53501  91.42900  88.51509  76.78822  80.63048  82.43030  64.89282\n [253] 110.46104 111.45511  85.21087  97.73000 107.46323 112.60541 106.16031\n [260] 106.52720 102.94705  84.50004 102.70194 115.00075  89.67455 115.30077\n [267] 107.75389 102.76352  99.89691 126.03658 101.23642  89.43951 106.20975\n [274]  91.26847  88.69175  71.44941 104.62363  93.92229 110.78380  88.65792\n [281]  99.87589  97.46046 104.74834  92.05071 115.15328 100.17677 129.56645\n [288] 139.13139 110.66724  85.99456  99.23988  93.21054 122.25005 120.73064\n [295]  92.31269  99.34279  83.63439 112.80177 108.44845 118.84436  83.44059\n [302] 105.49996  92.25895 113.71426 119.61683  87.41555 106.03851  83.64101\n [309] 108.22599  79.33986 132.68488 133.96063 113.38722  99.15327 109.93512\n [316]  88.20479  76.38367 104.66311  62.22563  86.83191  96.10454 118.38571\n [323] 114.07000 111.49082  88.77238 118.58344  97.45552 124.04980  79.22420\n [330]  94.68725  99.97552 108.94121  92.79341 106.99338  69.00128  93.27963\n [337]  94.42467 103.21995  90.30144  82.32022 102.72906 102.79929  81.02026\n [344]  81.85371  96.15907  99.45440 114.82841 106.33140 125.23603 103.22085\n [351] 120.28340  77.58618  85.52581  85.58748  73.47948 104.30012  70.07683\n [358] 113.32910 101.11309 106.66595 102.32790 122.48558 104.93743 107.18768\n [365]  72.58287 112.87615  95.98949  69.76769 102.83622 103.52375 110.22314\n [372] 109.15377 108.40174 129.78875 124.28571 102.80341  97.87845  88.79796\n [379] 114.48612  86.81457  98.52952 115.29018  98.17522 106.84674 126.12624\n [386] 130.91672 120.67994 126.87891  87.16320  96.49588 134.52071 112.85713\n [393] 113.60919 118.80718 110.85766 125.18457  89.83797  94.27476  92.73814\n [400]  91.88111  97.00573 124.70397  86.80706 106.73955 127.51701  73.17907\n [407] 113.53746  84.86712 121.48773 112.02518 105.58263  98.44320  72.50697\n [414]  86.73099  87.40958 118.90657  96.63049  97.38152  89.32002  99.65019\n [421]  71.67976 113.99259 110.92357 120.85504  96.99421 112.50147  81.86359\n [428] 111.14041 104.84171 116.65823 115.33550  83.33068 107.12930 128.68684\n [435]  91.81526 111.34812 102.14835  98.68739 110.82405 114.69216  92.58486\n [442] 103.64252 111.25033  81.33944 121.87304  86.18319 129.08043 101.30158\n [449]  91.34103 121.90527 101.59854 125.50111  93.80778  92.17657  96.73165\n [456]  79.08204 106.62372  97.27769  74.79930 108.02749 102.06043 102.73910\n [463]  98.30210  96.51451  88.99265 112.15082 111.46604 115.94375  84.23807\n [470]  85.07524 112.09901 114.96487  93.08427  86.61968 104.66749  81.52312\n [477] 107.53890 125.26202  69.19220  90.55874 110.66194 122.47820  96.65616\n [484] 101.16951 105.00779 119.00889 113.13891  95.40103  94.04697 104.05270\n [491]  87.74380  71.23152  92.23607 104.04363 102.25168  98.39550  76.87663\n [498] 101.75746 103.99272 130.44766  63.84948  84.69350 104.97495  81.27519\n [505] 127.17488 118.94050 106.29068  89.74936 102.73346 101.32028 110.81889\n [512]  92.29378  97.82285 105.85353 108.80561  95.70442  92.56085 113.86299\n [519]  98.91964  84.16007  79.13632 113.63607 104.84517 105.12533 118.31411\n [526] 120.05163 110.50318  72.82528  93.80288  73.30888 117.19790  89.71990\n [533]  64.02263  96.62833  92.94531 113.03401  93.77862 129.64715 106.90379\n [540]  83.00127  73.23828  94.10150  88.50190  94.29928 105.54503  90.62860\n [547]  77.73651 124.29071 126.07611 136.00708 111.68035  95.29125 100.21065\n [554]  83.28374 113.66045  74.29915  80.41735 122.60858 146.99873 101.70656\n [561] 127.86857  84.89869 114.45350  95.55938  76.44246  95.49927  96.85430\n [568]  82.96372 103.65414 101.47305 122.82922 116.94351 107.83604 110.82983\n [575]  82.20202 131.75520  79.55923  97.72255  76.42696  92.66738 132.71838\n [582] 107.62027  94.77914 111.36649  90.36953 108.95091  97.64106  81.41928\n [589] 122.18497  98.24702  96.80096  81.10725 123.21793  84.09927 106.26577\n [596] 114.68927 124.37800 116.38996 117.72074 105.26558  96.55978  83.80193\n [603] 102.45862 108.26523  84.54163 112.26953  92.81047 105.73650 100.08658\n [610]  94.73633  73.94914 100.69829  83.17773  88.27660 112.74856 126.45686\n [617] 112.68462  91.82745 103.82903 104.49059 104.80965  99.41024  82.82660\n [624] 108.40758  91.09994  82.29227 104.61440  97.82369  93.68008  82.34984\n [631]  92.89665 114.03424 113.69089  88.74115  83.98586  79.09270 101.53601\n [638] 117.89881  82.71097 121.72110 117.21259 104.75563 100.88967 116.25447\n [645]  91.71358  92.48668  97.24823  96.46099 102.75178 114.59346 101.63993\n [652]  74.94551 112.77109 128.40862  62.60296 121.57769 107.51045 110.38276\n [659]  91.49584 114.17420 112.28039 100.23119 115.82393 110.53427  99.00436\n [666] 121.11602 108.42650  96.94706  77.33700 108.94734  80.81611  82.55228\n [673]  87.48421  69.68690  99.49345  86.48225  82.23618  93.27374 108.37944\n [680] 101.39623 108.94172  89.73855 105.44062 123.01229  84.18711  99.50137\n [687] 114.18235 103.58888 123.39816 120.19881  91.10636 108.12870  86.08574\n [694]  93.75364 115.11240  99.30110 106.10595 112.52413  83.74550  91.24905\n [701] 111.69473  98.28118  90.95676  98.92392  70.56493  83.78311 102.26759\n [708]  73.71810  99.86804 102.65587  79.10315 111.80750  87.44315 102.52978\n [715]  79.44601  98.11181 116.76191 110.55508  88.47226 112.82799 132.47835\n [722]  97.86167 118.12203 109.77885  96.45568 119.76716  64.07133  98.29380\n [729] 119.17170 110.92902 110.89398 123.86520 101.57406 107.56787 111.26066\n [736]  87.56777 110.64323 114.24873  91.31716  81.48096  96.71845 100.61364\n [743]  90.37350  85.57736 110.12240  86.25883 104.27986 105.36551 116.71117\n [750]  99.83045  69.68808 109.26858  98.30770 123.92673 108.15841  75.14715\n [757] 101.53150  84.18631  69.18975 112.41133  70.87684 124.43458  94.57108\n [764]  90.59394  86.30240  75.01806 106.25217  74.32966 104.80262  84.42360\n [771] 107.83547 111.17710 103.50210  69.19273  77.67352 131.87966 124.39303\n [778]  99.71134 114.07989  82.02954 109.70765  88.06663  86.92569 101.00025\n [785] 109.72055  91.46334  91.03635 115.40219 125.20266 100.85041  80.80230\n [792]  98.11365 109.19726  81.38077  89.41521 117.94839 129.53729  80.44555\n [799]  92.83055 102.11458 105.21140  99.25227  89.32272 113.30807 109.16644\n [806] 100.39028 102.96975  88.00164  99.68645 108.29605  81.63023 101.75512\n [813]  83.03721 117.85502  90.21479  87.82157  87.28386 107.67031  95.44378\n [820]  91.31030  78.19552 120.99442 109.67209 105.15547  93.50785  69.44315\n [827]  92.25390 104.39760  88.23173  82.80917 119.12569  75.46665  84.96220\n [834]  84.80476  86.94096 112.66241  75.03379  97.00045  94.02427 119.87155\n [841] 112.58074  90.95762 113.91406  84.11943  79.58622 114.24921 101.79443\n [848]  72.83765 107.34451  92.80641  94.21833 118.66094  93.32062  95.78391\n [855]  90.81950 104.95741 107.38329 110.59427  99.88285  93.00872  63.65627\n [862] 115.33865 115.02718 109.39795  93.25303 113.22258 116.71212 103.45596\n [869]  99.32984  71.22125 122.80454 103.81553 105.92688 115.06669  98.28784\n [876]  86.40609  96.18029  84.67789 109.78707  96.41688  98.12098  95.14137\n [883] 116.58268  81.31808  97.38615  77.08540  99.58972  99.85223 105.49249\n [890] 100.27234 109.83057  99.82374 101.51323 120.64083 112.62141 122.08658\n [897] 110.78032  92.46869 101.24360  74.73096 103.12978  98.08082 115.25802\n [904] 108.05494 116.78721 134.80761  87.36230  98.43959  99.13370  91.25715\n [911] 126.22437  85.89719  96.99143 105.18443 102.63971  98.57577  96.38390\n [918] 100.31202  91.64349  92.67441 113.50428 122.30517  85.48923  98.91825\n [925] 110.79556 104.71441 122.58189  91.31363  93.46771 107.45740  94.47651\n [932] 130.04906  92.39398 105.34619 114.20043  84.39807 116.69520  78.88787\n [939]  86.32802 132.26509 116.05345  86.73532  70.03217  61.08722 129.27177\n [946] 119.94245  88.12743  79.62306 130.03107 113.30296  89.66437  97.67885\n [953] 123.16834 114.71665  83.08860 104.62574 115.60787 111.91586 113.12314\n [960]  91.32585 108.79203 129.38294  75.10807  81.20990 122.39199 128.30234\n [967] 122.40066 115.81904 105.39263 100.09077 118.45638  78.30009 125.18901\n [974]  97.58703 121.66342  95.22268 128.29722  99.45858  93.60034 110.26235\n [981]  91.51265 102.51188 123.79011  74.89064  87.20218 102.49781 128.20561\n [988] 112.58696  89.64185 104.49778 105.91580  98.45784 101.19565  84.70832\n [995] 105.56527  85.10270 114.90669  82.08889 115.21493 119.50040\n\n\n\n# é€‰æ‹©å•åˆ—ï¼ˆè¿”å› data.tableï¼‰\ndt[, .(value1)]\n\n         value1\n          &lt;num&gt;\n   1: 109.38328\n   2: 110.99871\n   3:  91.27053\n   4: 114.75093\n   5: 106.42739\n  ---          \n 996:  85.10270\n 997: 114.90669\n 998:  82.08889\n 999: 115.21493\n1000: 119.50040\n\n\n\n# é€‰æ‹©å¤šåˆ—\ndt[, .(group, value1)]\n\n       group    value1\n      &lt;char&gt;     &lt;num&gt;\n   1:      A 109.38328\n   2:      E 110.99871\n   3:      A  91.27053\n   4:      A 114.75093\n   5:      B 106.42739\n  ---                 \n 996:      C  85.10270\n 997:      B 114.90669\n 998:      B  82.08889\n 999:      B 115.21493\n1000:      C 119.50040\n\n\n\n# åˆ—è®¡ç®—\ndt[, .(mean_v1 = mean(value1), sd_v1 = sd(value1))]\n\n    mean_v1    sd_v1\n      &lt;num&gt;    &lt;num&gt;\n1: 100.7288 15.49799\n\n\n\n# ä½¿ç”¨ .() æ˜¯ list() çš„ç®€å†™\ndt[, list(total = sum(value1), count = .N)]\n\n      total count\n      &lt;num&gt; &lt;int&gt;\n1: 100728.8  1000\n\n\n\n\nåˆ†ç»„æ“ä½œ (by)\n\n# æŒ‰ group åˆ†ç»„è®¡ç®—å‡å€¼\ndt[, .(mean_v1 = mean(value1)), by = group]\n\n    group   mean_v1\n   &lt;char&gt;     &lt;num&gt;\n1:      A  99.68213\n2:      E 101.12829\n3:      B 101.04071\n4:      D  98.91708\n5:      C 102.75836\n\n\n\n# å¤šä¸ªåˆ†ç»„å˜é‡\ndt[, .(mean_v1 = mean(value1)), by = .(group, high = value2 &gt; 50)]\n\n     group   high   mean_v1\n    &lt;char&gt; &lt;lgcl&gt;     &lt;num&gt;\n 1:      A   TRUE 100.82439\n 2:      E   TRUE 101.65744\n 3:      A  FALSE  98.55085\n 4:      B  FALSE 100.63297\n 5:      D   TRUE 100.54441\n 6:      B   TRUE 101.35607\n 7:      D  FALSE  97.30744\n 8:      C   TRUE 103.66507\n 9:      C  FALSE 101.76574\n10:      E  FALSE 100.40919\n\n\n\n# åˆ†ç»„è®¡æ•°\ndt[, .N, by = group]\n\n    group     N\n   &lt;char&gt; &lt;int&gt;\n1:      A   207\n2:      E   184\n3:      B   227\n4:      D   183\n5:      C   199\n\n\n\n\nç»„åˆä½¿ç”¨\n\n# ç­›é€‰ + è®¡ç®— + åˆ†ç»„\ndt[value1 &gt; 90, .(mean_v2 = mean(value2), count = .N), by = group]\n\n    group  mean_v2 count\n   &lt;char&gt;    &lt;num&gt; &lt;int&gt;\n1:      A 50.56512   159\n2:      E 51.99746   132\n3:      B 50.89273   165\n4:      D 50.36106   127\n5:      C 50.79280   158",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#æ•°æ®ä¿®æ”¹",
    "href": "3002-datatable.html#æ•°æ®ä¿®æ”¹",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "æ•°æ®ä¿®æ”¹",
    "text": "æ•°æ®ä¿®æ”¹\n\næ·»åŠ /ä¿®æ”¹åˆ— (:=)\n:= æ“ä½œç¬¦æ˜¯ data.table æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥åŸåœ°ä¿®æ”¹æ•°æ®ï¼Œæ— éœ€å¤åˆ¶ã€‚\n\n# æ·»åŠ æ–°åˆ—\ndt[, ratio := value1 / value2]\nhead(dt)\n\n      id  group    value1   value2    ratio\n   &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;    &lt;num&gt;\n1:     1      A 109.38328 61.91797 1.766584\n2:     2      E 110.99871 76.73912 1.446442\n3:     3      A  91.27053 30.86128 2.957445\n4:     4      A 114.75093 42.31044 2.712119\n5:     5      B 106.42739 31.52593 3.375869\n6:     6      D 106.74890 50.33621 2.120718\n\n\n\n# åŒæ—¶æ·»åŠ å¤šåˆ—\ndt[, `:=`(\n    v1_centered = value1 - mean(value1),\n    v2_log = log(value2)\n)]\nhead(dt)\n\n      id  group    value1   value2    ratio v1_centered   v2_log\n   &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;    &lt;num&gt;       &lt;num&gt;    &lt;num&gt;\n1:     1      A 109.38328 61.91797 1.766584    8.654492 4.125810\n2:     2      E 110.99871 76.73912 1.446442   10.269924 4.340412\n3:     3      A  91.27053 30.86128 2.957445   -9.458260 3.429502\n4:     4      A 114.75093 42.31044 2.712119   14.022141 3.745034\n5:     5      B 106.42739 31.52593 3.375869    5.698605 3.450810\n6:     6      D 106.74890 50.33621 2.120718    6.020111 3.918725\n\n\n\n# æŒ‰æ¡ä»¶ä¿®æ”¹åˆ—\ndt[group == \"A\", flag := \"ç‰¹æ®Šç»„\"]\ndt[is.na(flag), flag := \"æ™®é€šç»„\"]\ntable(dt$flag)\n\n\næ™®é€šç»„ ç‰¹æ®Šç»„ \n   793    207 \n\n\n\n\nåˆ é™¤åˆ—\n\n# åˆ é™¤å•åˆ—\ndt[, ratio := NULL]\n\n# åˆ é™¤å¤šåˆ—\ndt[, c(\"v1_centered\", \"v2_log\", \"flag\") := NULL]\nhead(dt)\n\n      id  group    value1   value2\n   &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n1:     1      A 109.38328 61.91797\n2:     2      E 110.99871 76.73912\n3:     3      A  91.27053 30.86128\n4:     4      A 114.75093 42.31044\n5:     5      B 106.42739 31.52593\n6:     6      D 106.74890 50.33621",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#é”®-key-ä¸ç´¢å¼•",
    "href": "3002-datatable.html#é”®-key-ä¸ç´¢å¼•",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "é”® (Key) ä¸ç´¢å¼•",
    "text": "é”® (Key) ä¸ç´¢å¼•\n\nè®¾ç½®é”®\nè®¾ç½®é”®å¯ä»¥å¤§å¹…æå‡ç­›é€‰å’Œè¿æ¥æ“ä½œçš„é€Ÿåº¦ã€‚\n\n# è®¾ç½®å•ä¸ªé”®\nsetkey(dt, group)\n\n# æŸ¥çœ‹å½“å‰é”®\nkey(dt)\n\n[1] \"group\"\n\n\n\n# ä½¿ç”¨é”®ç­›é€‰ï¼ˆæ›´å¿«ï¼‰\ndt[\"A\"] # ç­‰ä»·äº dt[group == \"A\"]\n\nKey: &lt;group&gt;\n        id  group    value1   value2\n     &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n  1:     1      A 109.38328 61.91797\n  2:     3      A  91.27053 30.86128\n  3:     4      A 114.75093 42.31044\n  4:     9      A 109.67785 49.72934\n  5:    11      A 102.19782 54.50599\n ---                                \n203:   963      A  75.10807 56.35975\n204:   965      A 122.39199 46.05880\n205:   987      A 128.20561 31.56337\n206:   993      A 101.19565 59.09193\n207:   995      A 105.56527 45.23885\n\n\n\n# è®¾ç½®å¤šä¸ªé”®\nsetkey(dt, group, id)\n\n\n\näºŒçº§ç´¢å¼•\n\n# åˆ›å»ºäºŒçº§ç´¢å¼•ï¼ˆä¸æ”¹å˜ç‰©ç†æ’åºï¼‰\nsetindex(dt, value1)\n\n# æŸ¥çœ‹ç´¢å¼•\nindices(dt)\n\n[1] \"value1\"",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#é“¾å¼æ“ä½œ",
    "href": "3002-datatable.html#é“¾å¼æ“ä½œ",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "é“¾å¼æ“ä½œ",
    "text": "é“¾å¼æ“ä½œ\ndata.table æ”¯æŒé“¾å¼æ“ä½œï¼Œç±»ä¼¼äº dplyr çš„ç®¡é“ã€‚\n\n# é“¾å¼æ“ä½œ\nresult &lt;- dt[value1 &gt; 100][, .(mean_v2 = mean(value2)), by = group][order(-mean_v2)]\nresult\n\n    group  mean_v2\n   &lt;char&gt;    &lt;num&gt;\n1:      E 51.10669\n2:      A 51.03236\n3:      B 50.88711\n4:      D 50.41433\n5:      C 50.25193",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#è¿æ¥æ“ä½œ",
    "href": "3002-datatable.html#è¿æ¥æ“ä½œ",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "è¿æ¥æ“ä½œ",
    "text": "è¿æ¥æ“ä½œ\n\nå‡†å¤‡æµ‹è¯•æ•°æ®\n\n# ä¸»è¡¨\norders &lt;- data.table(\n    order_id = 1:5,\n    customer_id = c(101, 102, 101, 103, 104),\n    amount = c(100, 200, 150, 300, 250)\n)\n\n# å®¢æˆ·è¡¨\ncustomers &lt;- data.table(\n    customer_id = c(101, 102, 103, 105),\n    name = c(\"Alice\", \"Bob\", \"Carol\", \"Dave\")\n)\n\n\n\nå†…è¿æ¥\n\n# æ–¹æ³•1: merge\nmerge(orders, customers, by = \"customer_id\")\n\nKey: &lt;customer_id&gt;\n   customer_id order_id amount   name\n         &lt;num&gt;    &lt;int&gt;  &lt;num&gt; &lt;char&gt;\n1:         101        1    100  Alice\n2:         101        3    150  Alice\n3:         102        2    200    Bob\n4:         103        4    300  Carol\n\n\n\n# æ–¹æ³•2: è®¾ç½®é”®åä½¿ç”¨ []\nsetkey(orders, customer_id)\nsetkey(customers, customer_id)\ncustomers[orders, nomatch = 0]\n\nKey: &lt;customer_id&gt;\n   customer_id   name order_id amount\n         &lt;num&gt; &lt;char&gt;    &lt;int&gt;  &lt;num&gt;\n1:         101  Alice        1    100\n2:         101  Alice        3    150\n3:         102    Bob        2    200\n4:         103  Carol        4    300\n\n\n\n\nå·¦è¿æ¥\n\n# ä¿ç•™ orders çš„æ‰€æœ‰è¡Œ\nmerge(orders, customers, by = \"customer_id\", all.x = TRUE)\n\nKey: &lt;customer_id&gt;\n   customer_id order_id amount   name\n         &lt;num&gt;    &lt;int&gt;  &lt;num&gt; &lt;char&gt;\n1:         101        1    100  Alice\n2:         101        3    150  Alice\n3:         102        2    200    Bob\n4:         103        4    300  Carol\n5:         104        5    250   &lt;NA&gt;\n\n\n\n# æˆ–è€…\ncustomers[orders]\n\nKey: &lt;customer_id&gt;\n   customer_id   name order_id amount\n         &lt;num&gt; &lt;char&gt;    &lt;int&gt;  &lt;num&gt;\n1:         101  Alice        1    100\n2:         101  Alice        3    150\n3:         102    Bob        2    200\n4:         103  Carol        4    300\n5:         104   &lt;NA&gt;        5    250\n\n\n\n\nå³è¿æ¥ä¸å…¨è¿æ¥\n\n# å³è¿æ¥\nmerge(orders, customers, by = \"customer_id\", all.y = TRUE)\n\nKey: &lt;customer_id&gt;\n   customer_id order_id amount   name\n         &lt;num&gt;    &lt;int&gt;  &lt;num&gt; &lt;char&gt;\n1:         101        1    100  Alice\n2:         101        3    150  Alice\n3:         102        2    200    Bob\n4:         103        4    300  Carol\n5:         105       NA     NA   Dave\n\n# å…¨è¿æ¥\nmerge(orders, customers, by = \"customer_id\", all = TRUE)\n\nKey: &lt;customer_id&gt;\n   customer_id order_id amount   name\n         &lt;num&gt;    &lt;int&gt;  &lt;num&gt; &lt;char&gt;\n1:         101        1    100  Alice\n2:         101        3    150  Alice\n3:         102        2    200    Bob\n4:         103        4    300  Carol\n5:         104        5    250   &lt;NA&gt;\n6:         105       NA     NA   Dave",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#ç‰¹æ®Šç¬¦å·",
    "href": "3002-datatable.html#ç‰¹æ®Šç¬¦å·",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "ç‰¹æ®Šç¬¦å·",
    "text": "ç‰¹æ®Šç¬¦å·\ndata.table æä¾›äº†ä¸€äº›ç‰¹æ®Šç¬¦å·æ¥ç®€åŒ–ä»£ç ï¼š\n\n\n\n\n\n\n\n\nç¬¦å·\nå«ä¹‰\nç¤ºä¾‹\n\n\n\n\n.N\nè¡Œæ•°\ndt[, .N]\n\n\n.SD\nå­æ•°æ®è¡¨\ndt[, lapply(.SD, mean), by = group]\n\n\n.SDcols\næŒ‡å®š .SD çš„åˆ—\ndt[, lapply(.SD, mean), .SDcols = c(\"value1\", \"value2\")]\n\n\n.I\nè¡Œç´¢å¼•\ndt[, .I[which.max(value1)], by = group]\n\n\n.GRP\nç»„ç¼–å·\ndt[, .GRP, by = group]\n\n\n.BY\nå½“å‰åˆ†ç»„å€¼\ndt[, print(.BY), by = group]\n\n\n\n\n.SD ä½¿ç”¨ç¤ºä¾‹\n\n# å¯¹æ‰€æœ‰æ•°å€¼åˆ—è®¡ç®—å‡å€¼\ndt[, lapply(.SD, mean), by = group, .SDcols = c(\"value1\", \"value2\")]\n\nKey: &lt;group&gt;\n    group    value1   value2\n   &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n1:      A  99.68213 50.13846\n2:      B 101.04071 50.90249\n3:      C 102.75836 50.54277\n4:      D  98.91708 50.37764\n5:      E 101.12829 51.34556\n\n\n\n# æ¯ç»„å–å‰2è¡Œ\ndt[, head(.SD, 2), by = group]\n\nKey: &lt;group&gt;\n     group    id    value1   value2\n    &lt;char&gt; &lt;int&gt;     &lt;num&gt;    &lt;num&gt;\n 1:      A     1 109.38328 61.91797\n 2:      A     3  91.27053 30.86128\n 3:      B     5 106.42739 31.52593\n 4:      B     7 117.95417 37.42528\n 5:      C    16  96.51668 52.25394\n 6:      C    19 106.74516 42.14377\n 7:      D     6 106.74890 50.33621\n 8:      D    10  96.44790 28.38104\n 9:      E     2 110.99871 76.73912\n10:      E    12 143.46326 63.05377",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#è¯­æ³•å¯¹æ¯”data.table-vs-dplyr",
    "href": "3002-datatable.html#è¯­æ³•å¯¹æ¯”data.table-vs-dplyr",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "è¯­æ³•å¯¹æ¯”ï¼šdata.table vs dplyr",
    "text": "è¯­æ³•å¯¹æ¯”ï¼šdata.table vs dplyr\n\nç­›é€‰è¡Œ\n\n# data.table\ndt[value1 &gt; 100]\n\nKey: &lt;group, id&gt;\n        id  group   value1   value2\n     &lt;int&gt; &lt;char&gt;    &lt;num&gt;    &lt;num&gt;\n  1:     1      A 109.3833 61.91797\n  2:     4      A 114.7509 42.31044\n  3:     9      A 109.6778 49.72934\n  4:    11      A 102.1978 54.50599\n  5:    17      A 125.7035 64.97103\n ---                               \n516:   930      E 107.4574 46.70836\n517:   962      E 129.3829 69.26010\n518:   967      E 122.4007 29.44299\n519:   969      E 105.3926 33.16635\n520:   971      E 118.4564 48.74239\n\n# dplyr\ntbl &lt;- as_tibble(dt)\nfilter(tbl, value1 &gt; 100)\n\n# A tibble: 520 Ã— 4\n      id group value1 value2\n   &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1     1 A       109.   61.9\n 2     4 A       115.   42.3\n 3     9 A       110.   49.7\n 4    11 A       102.   54.5\n 5    17 A       126.   65.0\n 6    29 A       101.   36.4\n 7    55 A       120.   65.4\n 8    79 A       115.   46.0\n 9    91 A       114.   65.9\n10    92 A       106.   60.0\n# â„¹ 510 more rows\n\n\n\n\né€‰æ‹©åˆ—\n\n# data.table\ndt[, .(group, value1)]\n\nKey: &lt;group&gt;\n       group    value1\n      &lt;char&gt;     &lt;num&gt;\n   1:      A 109.38328\n   2:      A  91.27053\n   3:      A 114.75093\n   4:      A 109.67785\n   5:      A 102.19782\n  ---                 \n 996:      E 105.39263\n 997:      E 118.45638\n 998:      E  93.60034\n 999:      E  74.89064\n1000:      E  84.70832\n\n# dplyr\nselect(tbl, group, value1)\n\n# A tibble: 1,000 Ã— 2\n   group value1\n   &lt;chr&gt;  &lt;dbl&gt;\n 1 A      109. \n 2 A       91.3\n 3 A      115. \n 4 A      110. \n 5 A      102. \n 6 A      126. \n 7 A       82.4\n 8 A      101. \n 9 A       79.7\n10 A      120. \n# â„¹ 990 more rows\n\n\n\n\næ·»åŠ åˆ—\n\n# data.table (åŸåœ°ä¿®æ”¹)\ndt_copy &lt;- copy(dt)\ndt_copy[, new_col := value1 * 2]\n\n# dplyr (è¿”å›æ–°æ•°æ®)\ntbl &lt;- mutate(tbl, new_col = value1 * 2)\n\n\n\nåˆ†ç»„æ±‡æ€»\n\n# data.table\ndt[, .(mean_v1 = mean(value1)), by = group]\n\nKey: &lt;group&gt;\n    group   mean_v1\n   &lt;char&gt;     &lt;num&gt;\n1:      A  99.68213\n2:      B 101.04071\n3:      C 102.75836\n4:      D  98.91708\n5:      E 101.12829\n\n# dplyr\ntbl |&gt;\n    group_by(group) |&gt;\n    summarise(mean_v1 = mean(value1))\n\n# A tibble: 5 Ã— 2\n  group mean_v1\n  &lt;chr&gt;   &lt;dbl&gt;\n1 A        99.7\n2 B       101. \n3 C       103. \n4 D        98.9\n5 E       101. \n\n\n\n\næ’åº\n\n# data.table\ndt[order(-value1)]\n\n         id  group    value1   value2\n      &lt;int&gt; &lt;char&gt;     &lt;num&gt;    &lt;num&gt;\n   1:    58      E 147.95749 73.55177\n   2:   559      D 146.99873 56.59727\n   3:    12      E 143.46326 63.05377\n   4:    15      B 142.76378 61.96405\n   5:    38      E 140.39107 52.07553\n  ---                                \n 996:   861      E  63.65627 52.86846\n 997:   655      E  62.60296 38.45161\n 998:   319      B  62.22563 52.48867\n 999:   944      A  61.08722 44.87271\n1000:    70      E  59.74742 63.94011\n\n# dplyr\narrange(tbl, desc(value1))\n\n# A tibble: 1,000 Ã— 5\n      id group value1 value2 new_col\n   &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;\n 1    58 E       148.   73.6    296.\n 2   559 D       147.   56.6    294.\n 3    12 E       143.   63.1    287.\n 4    15 B       143.   62.0    286.\n 5    38 E       140.   52.1    281.\n 6   288 A       139.   42.6    278.\n 7   550 C       136.   42.2    272.\n 8    35 B       135.   55.6    271.\n 9    61 E       135.   37.1    270.\n10   906 C       135.   43.5    270.\n# â„¹ 990 more rows",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#æ€§èƒ½å¯¹æ¯”",
    "href": "3002-datatable.html#æ€§èƒ½å¯¹æ¯”",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "æ€§èƒ½å¯¹æ¯”",
    "text": "æ€§èƒ½å¯¹æ¯”\n\nå¤§æ•°æ®æµ‹è¯•\n\n# åˆ›å»ºå¤§æ•°æ®é›†\nset.seed(123)\nn &lt;- 1e6\nbig_df &lt;- data.frame(\n    id = 1:n,\n    group = sample(LETTERS, n, replace = TRUE),\n    value = rnorm(n)\n)\nbig_tbl &lt;- as_tibble(big_df)\nbig_dt &lt;- as.data.table(big_df)\n\n\n\nåˆ†ç»„èšåˆæ€§èƒ½\n\nlibrary(microbenchmark)\n\n# æ€§èƒ½å¯¹æ¯”\nbenchmark_result &lt;- microbenchmark(\n    data.frame = aggregate(value ~ group, data = big_df, FUN = mean),\n    dplyr = big_tbl |&gt; group_by(group) |&gt; summarise(mean = mean(value)),\n    data.table = big_dt[, .(mean = mean(value)), by = group],\n    times = 5\n)\nprint(benchmark_result)\n\nUnit: milliseconds\n       expr      min       lq      mean   median       uq      max neval cld\n data.frame 389.1750 398.5714 433.22000 420.0439 456.6340 501.6757     5  a \n      dplyr  28.5708  29.5187  30.56266  31.1280  31.7732  31.8226     5   b\n data.table  13.1471  17.0765  17.13860  17.8796  18.3971  19.1927     5   b\n\n\n\n\nç­›é€‰æ€§èƒ½ (è®¾ç½®é”®å)\n\n# è®¾ç½®é”®\nsetkey(big_dt, group)\n\nbenchmark_filter &lt;- microbenchmark(\n    data.frame = big_df[big_df$group == \"A\", ],\n    dplyr = filter(big_tbl, group == \"A\"),\n    data.table = big_dt[\"A\"],\n    times = 5\n)\nprint(benchmark_filter)\n\nUnit: milliseconds\n       expr     min      lq     mean  median      uq     max neval cld\n data.frame 11.8009 12.1068 12.45332 12.4328 12.6419 13.2842     5 a  \n      dplyr 13.7337 14.5159 15.00474 14.5421 15.4152 16.8168     5  b \n data.table  1.9025  2.2191  2.30222  2.3436  2.3691  2.6768     5   c",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#è¯»å†™æ–‡ä»¶",
    "href": "3002-datatable.html#è¯»å†™æ–‡ä»¶",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "è¯»å†™æ–‡ä»¶",
    "text": "è¯»å†™æ–‡ä»¶\nfread å’Œ fwrite æ˜¯ data.table æä¾›çš„é«˜æ€§èƒ½è¯»å†™å‡½æ•°ã€‚\n\nfread - å¿«é€Ÿè¯»å–\n\n# åŸºæœ¬è¯»å–\ndt &lt;- fread(\"data.csv\")\n\n# æŒ‡å®šåˆ—ç±»å‹\ndt &lt;- fread(\"data.csv\", colClasses = c(\"integer\", \"character\", \"numeric\"))\n\n# é€‰æ‹©ç‰¹å®šåˆ—\ndt &lt;- fread(\"data.csv\", select = c(\"col1\", \"col2\"))\n\n# è·³è¿‡è¡Œ\ndt &lt;- fread(\"data.csv\", skip = 5)\n\n# æŒ‡å®šç¼–ç \ndt &lt;- fread(\"data.csv\", encoding = \"UTF-8\")\n\n\n\nfwrite - å¿«é€Ÿå†™å…¥\n\n# åŸºæœ¬å†™å…¥\nfwrite(dt, \"output.csv\")\n\n# å‹ç¼©å†™å…¥\nfwrite(dt, \"output.csv.gz\")\n\n# ä¸å†™å…¥è¡Œå\nfwrite(dt, \"output.csv\", row.names = FALSE)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "3002-datatable.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹ï¼šé”€å”®æ•°æ®åˆ†æ\n\n# åˆ›å»ºé”€å”®æ•°æ®\nset.seed(42)\nsales &lt;- data.table(\n    date = rep(seq(as.Date(\"2024-01-01\"), by = \"day\", length.out = 365), each = 10),\n    product = sample(c(\"A\", \"B\", \"C\", \"D\", \"E\"), 3650, replace = TRUE),\n    region = sample(c(\"ä¸œéƒ¨\", \"è¥¿éƒ¨\", \"å—éƒ¨\", \"åŒ—éƒ¨\"), 3650, replace = TRUE),\n    quantity = sample(1:100, 3650, replace = TRUE),\n    price = round(runif(3650, 10, 100), 2)\n)\nsales[, revenue := quantity * price]\nhead(sales)\n\n         date product region quantity price revenue\n       &lt;Date&gt;  &lt;char&gt; &lt;char&gt;    &lt;int&gt; &lt;num&gt;   &lt;num&gt;\n1: 2024-01-01       A   å—éƒ¨       51 64.49 3288.99\n2: 2024-01-01       E   è¥¿éƒ¨       98 88.43 8666.14\n3: 2024-01-01       A   å—éƒ¨       12 59.22  710.64\n4: 2024-01-01       A   ä¸œéƒ¨       73 13.67  997.91\n5: 2024-01-01       B   ä¸œéƒ¨       32 26.03  832.96\n6: 2024-01-01       D   ä¸œéƒ¨       86 63.29 5442.94\n\n\n\n# 1. æŒ‰äº§å“ç»Ÿè®¡æ€»é”€å”®é¢\nsales[, .(total_revenue = sum(revenue)), by = product][order(-total_revenue)]\n\n   product total_revenue\n    &lt;char&gt;         &lt;num&gt;\n1:       B       2145022\n2:       D       2011244\n3:       E       2000360\n4:       C       1912503\n5:       A       1828960\n\n\n\n# 2. æ¯æœˆæ¯äº§å“é”€å”®è¶‹åŠ¿\nsales[, month := format(date, \"%Y-%m\")]\nmonthly_sales &lt;- sales[, .(\n    total_qty = sum(quantity),\n    total_revenue = sum(revenue),\n    avg_price = mean(price)\n), by = .(month, product)]\nhead(monthly_sales, 10)\n\n      month product total_qty total_revenue avg_price\n     &lt;char&gt;  &lt;char&gt;     &lt;int&gt;         &lt;num&gt;     &lt;num&gt;\n 1: 2024-01       A      3213      167881.0  53.17200\n 2: 2024-01       E      3281      178075.7  55.05397\n 3: 2024-01       B      3626      209151.9  55.12597\n 4: 2024-01       D      3456      188592.2  57.64355\n 5: 2024-01       C      2186      118288.5  54.69896\n 6: 2024-02       B      3786      199309.1  51.50944\n 7: 2024-02       E      3497      178432.6  50.41534\n 8: 2024-02       C      3302      178630.4  55.05194\n 9: 2024-02       D      2435      130665.6  55.44784\n10: 2024-02       A      2588      136104.5  56.20062\n\n\n\n# 3. å„åœ°åŒºé”€å”®æ’å\nregion_rank &lt;- sales[, .(revenue = sum(revenue)), by = region][order(-revenue)]\nregion_rank[, rank := .I]\nregion_rank\n\n   region revenue  rank\n   &lt;char&gt;   &lt;num&gt; &lt;int&gt;\n1:   ä¸œéƒ¨ 2605697     1\n2:   è¥¿éƒ¨ 2484730     2\n3:   åŒ—éƒ¨ 2420134     3\n4:   å—éƒ¨ 2387529     4\n\n\n\n# 4. æ‰¾å‡ºæ¯ä¸ªäº§å“é”€å”®æœ€å¥½çš„ä¸€å¤©\nbest_days &lt;- sales[, .SD[which.max(revenue)], by = product]\nbest_days[, .(product, date, revenue)]\n\n   product       date revenue\n    &lt;char&gt;     &lt;Date&gt;   &lt;num&gt;\n1:       A 2024-05-04 9677.69\n2:       E 2024-12-16 9672.30\n3:       B 2024-08-21 9880.20\n4:       D 2024-12-05 9547.16\n5:       C 2024-06-21 9462.00",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#å¸¸è§é—®é¢˜",
    "href": "3002-datatable.html#å¸¸è§é—®é¢˜",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n1. é¿å…æ„å¤–ä¿®æ”¹\n\n# é”™è¯¯ï¼šç›´æ¥èµ‹å€¼ä¼šåˆ›å»ºå¼•ç”¨\ndt1 &lt;- data.table(a = 1:3)\ndt2 &lt;- dt1 # dt2 å’Œ dt1 æŒ‡å‘åŒä¸€æ•°æ®ï¼\ndt2[, b := 4:6]\nprint(dt1) # dt1 ä¹Ÿè¢«ä¿®æ”¹äº†ï¼\n\n       a     b\n   &lt;int&gt; &lt;int&gt;\n1:     1     4\n2:     2     5\n3:     3     6\n\n\n\n# æ­£ç¡®ï¼šä½¿ç”¨ copy() åˆ›å»ºå‰¯æœ¬\ndt1 &lt;- data.table(a = 1:3)\ndt2 &lt;- copy(dt1)\ndt2[, b := 4:6]\nprint(dt1) # dt1 æœªè¢«ä¿®æ”¹\n\n       a\n   &lt;int&gt;\n1:     1\n2:     2\n3:     3\n\n\n\n\n2. å˜é‡ä½œä¸ºåˆ—å\n\n# ä½¿ç”¨å˜é‡ä½œä¸ºåˆ—å\ncol_name &lt;- \"value1\"\n\n# æ–¹æ³•1: ä½¿ç”¨ get()\ndt[, mean(get(col_name)), by = group]\n\nKey: &lt;group&gt;\n    group        V1\n   &lt;char&gt;     &lt;num&gt;\n1:      A  99.68213\n2:      B 101.04071\n3:      C 102.75836\n4:      D  98.91708\n5:      E 101.12829\n\n# æ–¹æ³•2: ä½¿ç”¨ env å‚æ•° (data.table &gt;= 1.15.0)\n# dt[, mean(col), by = group, env = list(col = col_name)]\n\n# æ–¹æ³•3: ä½¿ç”¨ .SDcols\ndt[, lapply(.SD, mean), by = group, .SDcols = col_name]\n\nKey: &lt;group&gt;\n    group    value1\n   &lt;char&gt;     &lt;num&gt;\n1:      A  99.68213\n2:      B 101.04071\n3:      C 102.75836\n4:      D  98.91708\n5:      E 101.12829",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#æ€»ç»“",
    "href": "3002-datatable.html#æ€»ç»“",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nç‰¹æ€§\ndata.frame\ntibble\ndata.table\n\n\n\n\né€Ÿåº¦\næ…¢\nä¸­ç­‰\næœ€å¿«\n\n\nå†…å­˜\nä¸€èˆ¬\nä¸€èˆ¬\næœ€ä¼˜\n\n\nè¯­æ³•\nåŸºç¡€R\ntidyverse\nç‹¬ç‰¹è¯­æ³•\n\n\nå­¦ä¹ æ›²çº¿\nä½\nä¸­\nè¾ƒé«˜\n\n\né€‚ç”¨åœºæ™¯\nå°æ•°æ®\næ—¥å¸¸åˆ†æ\nå¤§æ•°æ®\n\n\n\n\n[!TIP] é€‰æ‹©å»ºè®®ï¼š - æ•°æ®é‡ &lt; 100ä¸‡è¡Œï¼štibble + dplyr è¯­æ³•æ›´å‹å¥½ - æ•°æ®é‡ &gt; 100ä¸‡è¡Œï¼šdata.table é€Ÿåº¦ä¼˜åŠ¿æ˜æ˜¾ - è¿½æ±‚æè‡´æ€§èƒ½ï¼šdata.table æ˜¯æœ€ä½³é€‰æ‹©",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "3002-datatable.html#å‚è€ƒèµ„æ–™",
    "href": "3002-datatable.html#å‚è€ƒèµ„æ–™",
    "title": "data.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†",
    "section": "å‚è€ƒèµ„æ–™",
    "text": "å‚è€ƒèµ„æ–™\n\ndata.table å®˜æ–¹æ–‡æ¡£\ndata.table Cheat Sheet\nDowle, M., & Srinivasan, A. (2021). data.table: Extension of data.frame. R package.",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "data.table å®Œå…¨æŒ‡å—"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R è¯­è¨€å­¦ä¹ ç¬”è®°",
    "section": "",
    "text": "ğŸ“š\n\n\n\nç¬¬ä¸€æ¬¡æ¥ï¼Ÿè¿™é‡Œæœ‰å®Œæ•´çš„å­¦ä¹ è·¯çº¿å’Œæ•™ç¨‹ç›®å½•ï¼Œå¸®ä½ å¿«é€Ÿæ‰¾åˆ°æƒ³å­¦çš„å†…å®¹ã€‚\n\nå¼€å§‹å­¦ä¹  â†’"
  },
  {
    "objectID": "index.html#æ–°æ‰‹å…¥é—¨æŒ‡å—",
    "href": "index.html#æ–°æ‰‹å…¥é—¨æŒ‡å—",
    "title": "R è¯­è¨€å­¦ä¹ ç¬”è®°",
    "section": "",
    "text": "ç¬¬ä¸€æ¬¡æ¥ï¼Ÿè¿™é‡Œæœ‰å®Œæ•´çš„å­¦ä¹ è·¯çº¿å’Œæ•™ç¨‹ç›®å½•ï¼Œå¸®ä½ å¿«é€Ÿæ‰¾åˆ°æƒ³å­¦çš„å†…å®¹ã€‚"
  },
  {
    "objectID": "index.html#æœ€æ–°æ›´æ–°",
    "href": "index.html#æœ€æ–°æ›´æ–°",
    "title": "R è¯­è¨€å­¦ä¹ ç¬”è®°",
    "section": "æœ€æ–°æ›´æ–°",
    "text": "æœ€æ–°æ›´æ–°"
  },
  {
    "objectID": "sections/operation.html",
    "href": "sections/operation.html",
    "title": "å®ç”¨æ“ä½œ",
    "section": "",
    "text": "æ—¥å¸¸ç§‘ç ”ä¸­é‡åˆ°çš„å°æŠ€å·§ã€ç¯å¢ƒé…ç½®å’Œæ•°æ®å¯¼å…¥å¯¼å‡ºæ–¹æ³•ã€‚è®©ä½ çš„ R å·¥ä½œæµæ›´åŠ é«˜æ•ˆé¡ºç•…ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nR è¯­è¨€å­¦ä¹ æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nrmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\nQuarto vs RMarkdown å¯¹æ¯”\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\ndata.table å®Œå…¨æŒ‡å—ï¼šé«˜æ€§èƒ½æ•°æ®å¤„ç†\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\ndplyr/tidyr æ•°æ®å¤„ç†å®Œå…¨æŒ‡å—\n\n5 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "sections/visualization.html",
    "href": "sections/visualization.html",
    "title": "å¯è§†åŒ–æ•™ç¨‹",
    "section": "",
    "text": "â€œä¸€å›¾èƒœåƒè¨€â€ï¼Œè¿™é‡Œè®°å½•äº† ggplot2 åŠå…¶æ‰©å±•åŒ…çš„ç»˜å›¾æŠ€å·§ã€‚ä»åŸºç¡€é…è‰²åˆ°é«˜çº§å›¾è¡¨ï¼Œå¸®åŠ©ä½ åˆ¶ä½œå‡ºç‰ˆçº§åˆ«çš„æ•°æ®å¯è§†åŒ–ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€é…è‰²æ•™ç¨‹\n\n29 min\n\n\n\n\n\n\n\n\n\n\n\npatchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€ç»˜åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\nggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ\n\n8 min\n\n\n\n\n\n\n\n\n\n\n\ntidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–\n\n7 min\n\n\n\n\n\n\n\n\n\n\n\nåŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»˜å›¾æŠ€å·§\n\n14 min\n\n\n\n\n\n\n\n\n\n\n\ncowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–\n\n7 min\n\n\n\n\n\n\n\n\n\n\n\nGGally - æ‰©å±• ggplot2 çš„å¯è§†åŒ–åˆ©å™¨\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\né›·è¾¾å›¾ (Radar Chart) ç»˜åˆ¶æŒ‡å—\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\néŸ¦æ©å›¾ (Venn Diagram) ç»˜åˆ¶æŒ‡å—\n\n6 min\n\n\n\n\n\n\n\n\n\n\n\nç®±çº¿å›¾ä¸å°æç´å›¾å®Œå…¨æŒ‡å—\n\n14 min\n\n\n\n\n\n\n\n\n\n\n\næ•£ç‚¹å›¾ä¸è¶‹åŠ¿çº¿å®Œå…¨æŒ‡å—\n\n11 min\n\n\n\n\n\n\n\n\n\n\n\nç›´æ–¹å›¾ä¸å¯†åº¦å›¾å®Œå…¨æŒ‡å—\n\n13 min\n\n\n\n\n\n\n\n\n\n\n\næŸ±çŠ¶å›¾ä¸é¥¼å›¾å®Œå…¨æŒ‡å—\n\n14 min\n\n\n\n\n\n\n\n\n\n\n\næŠ˜çº¿å›¾ä¸æ—¶é—´åºåˆ—å¯è§†åŒ–å®Œå…¨æŒ‡å—\n\n18 min\n\n\n\n\n\n\n\n\n\n\n\né¢ç§¯å›¾ä¸å †å å¯è§†åŒ–å®Œå…¨æŒ‡å—\n\n15 min\n\n\n\n\n\n\n\n\n\n\n\nå¤æ‚ç»„åˆå›¾ä¸å‘è¡¨çº§å›¾è¡¨å®Œå…¨æŒ‡å—\n\n22 min\n\n\n\n\n\n\n\n\n\n\n\nggplot2 å¯è§†åŒ–å…¥é—¨\n\n4 min\n\n\n\n\nNo matching items"
  }
]