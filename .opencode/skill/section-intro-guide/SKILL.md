---
name: section-intro-guide
description: 生成"入门指南/学习路线/基础知识"类页面的超详细教程内容。触发条件:(1)用户要求编写R语言入门教程、学习路线、基础概念讲解;(2)用户需要为初学者创建引导性内容;(3)涉及"00xx"编号的教程文章;(4)用户明确提到"入门"、"学习路线"、"基础知识"、"新手指南"等关键词。生成符合仓库规范的完整.rmd/.qmd教程,强调"概念 → 流程 → 代码 → 解释"结构,确保70%文字+30%代码比例,从0开始详尽讲解。
---

## 核心任务

生成可直接使用的入门指南类教程内容(.rmd/.qmd格式),适合R语言初学者。

## 必备内容结构(按顺序)

### YAML头部与setup代码块

```yaml
---
title: '标题:中文副标题'
date: 'YYYY-MM-DD'
categories:
- 入门指南
- [其他相关分类]
image: images/[topic]-cover.svg
description: 一句话概括本教程内容
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, warning=FALSE, message=FALSE, 
                      fig.width=8, fig.height=5, fig.retina=2, 
                      out.width="100%", dpi=150)
```
```

### 标题层次结构(CRITICAL)

**MUST使用正确的标题层次**:

```markdown
## 一级标题(章节)  # 用于主要章节,生成目录
### 二级标题(小节)  # 用于子主题
#### 三级标题(详细步骤)  # 用于具体操作步骤
```

**CRITICAL RULE**:
- 一级标题(`##`)是生成目录的**唯一**途径
- 文章必须包含至少3个一级标题才会显示目录
- 单个`#`标题由Quarto从YAML的title字段自动生成,**NEVER手动添加**
- 如果文章只有`###`标题而无`##`标题,将**不会显示目录**

**正确示例**:
```markdown
## 教程目标与适用场景  # ✅ 一级标题,会出现在目录中
### 适合人群  # ✅ 二级标题,不会出现在目录中但有层次结构
#### 具体要求  # ✅ 三级标题,用于更细节的内容
```

**错误示例**:
```markdown
### 教程目标与适用场景  # ❌ 只用三级标题,目录不会生成
#### 适合人群  # ❌ 层次混乱
```

### 教程目标与适用场景

**必须包含**:
- 明确学习目标(3-5条)
- 适用人群描述
- 前置知识要求
- 学完后能掌握什么

**示例结构**:
```markdown
## 教程目标与适用场景

本教程旨在[目标描述]。

**适合人群**
- [人群1描述]
- [人群2描述]

**前置知识**
- [要求1]
- [要求2]

**学完后您将掌握**
- [技能1]
- [技能2]
```

### 学习路线图

**必须包含**:
- 阶段划分:入门 → 进阶 → 实战
- 每阶段的学习重点
- 推荐学习顺序
- 时间估算(可选)

### 核心概念详解

**从0开始讲解,假设读者完全不懂**:
- 基本术语定义
- 工作原理解释
- 与相关概念的对比
- 适用场景说明

**要求**:
- 用类比、比喻等通俗方式解释
- 提供对比表格
- 避免直接堆砌专业术语

### 环境准备与安装

**必须包含**:
- R和RStudio安装指引
- 必要R包的安装命令
- 版本要求说明
- 常见安装问题解决

### 实践步骤(核心部分)

**结构要求**:
```
概念讲解 → 代码示例 → 逐行解释 → 输出说明 → 常见变体
```

**每个步骤必须包含**:
- 文字解释(为什么这样做)
- 完整可运行代码
- 代码逐段解释
- 预期输出说明
- 参数含义说明

**代码块规范**:
```r
# 必须有清晰的chunk label
{r setup, include=FALSE}
{r load-packages}
{r example-basic}

# 随机操作必须设置种子
set.seed(2026)

# 优先使用pkg::fn(),除非频繁使用才library()
dplyr::filter(data, condition)
```

### 常见错误与解决方案

**必须列出**:
- 新手最常犯的5-10个错误
- 每个错误的表现形式
- 排查方法
- 正确做法

**示例格式**:
```markdown
| 错误类型 | 表现 | 原因 | 解决方法 |
|---------|------|------|----------|
| [错误1] | [症状] | [原因] | [方法] |
```

### 进阶扩展

**提供**:
- 后续学习方向
- 推荐阅读资源
- 相关教程链接
- 实战项目建议

### 封面图生成(MANDATORY)

**CRITICAL**: 每篇教程必须有封面图,路径必须与YAML中的`image`字段匹配。

**方法1: 使用SVG(推荐)**

在`doc/images/`目录创建SVG文件:

```r
# 示例:创建简单的主题封面
library(ggplot2)

cover <- ggplot() +
  annotate("text", x = 0.5, y = 0.6, 
           label = "[教程主题]", 
           size = 24, fontface = "bold", color = "#2c3e50") +
  annotate("text", x = 0.5, y = 0.4, 
           label = "入门指南", 
           size = 10, color = "#7f8c8d") +
  theme_void() +
  theme(plot.background = element_rect(fill = "#ecf0f1", color = NA))

ggsave("doc/images/[topic]-cover.svg", cover, 
       width = 8, height = 4.5, bg = "white")
```

**方法2: 使用ggplot2生成主题封面**

```r
library(ggplot2)
library(ggsci)

# 创建主题相关的可视化作为封面
cover_plot <- ggplot(...) +
  geom_[relevant_geom]() +
  scale_fill_lancet() +
  theme_minimal(base_size = 14) +
  labs(title = "[教程主题]入门指南",
       subtitle = "从零开始学习")

ggsave("doc/images/[topic]-cover.svg", cover_plot,
       width = 8, height = 4.5, dpi = 300, bg = "white")
```

**CRITICAL CHECKS**:
- [ ] 封面图文件存在于`doc/images/`目录
- [ ] YAML中`image: images/[topic]-cover.svg`路径正确
- [ ] 文件名与YAML中的路径完全匹配
- [ ] 图片清晰、主题相关、视觉美观
- [ ] 封面图适合入门级读者

## 写作规范

### 语言风格

- **客观、科学、结构清晰**
- 以段落叙述为主,列表辅助
- 避免"让读者..."等口语化指令
- 保持学术语气,但通俗易懂

### 文字与代码比例

- **目标比例:70%文字 + 30%代码**
- 代码必须放在解释之后
- 每段代码前后都要有解释文字
- 避免连续多个代码块无解释

### 标题层级

- 不要手动编号(项目已配置自动编号)
- 使用中文标题
- 层级清晰(一级到三级)
- 与现有页面风格一致

### 代码规范

- chunk label必须清晰描述内容
- 相对路径(从`doc/`出发)
- 随机过程设置`set.seed(2026)`并解释
- 优先`pkg::fn()`,频繁使用才`library()`

### 图片与封面

- 若教程内无生成图片,必须创建SVG封面
- 封面路径:`images/[number]-[name]-cover.svg`
- 在YAML的`image`字段引用

## 完整工作流程

### 步骤1:生成教程内容

按照上述结构生成完整的.rmd/.qmd文件。

### 步骤2:创建/检查文件

- 文件命名:`doc/00[number]-[topic].rmd`
- 确保YAML头部完整
- 检查是否需要创建SVG封面

### 步骤3:三项渲染验证

**必须全部成功才算完成**:

```bash
quarto render doc/[当前文章文件名]
quarto render doc/index.qmd  
quarto render doc/sections/guide.qmd
```

**处理依赖问题**:
- 若报R包缺失,先安装:`install.packages("包名")`
- 除非包体积过大或环境不合适,否则应安装
- 确保能产出图片和完整HTML

### 步骤4:更新导航系统

**更新`doc/_quarto.yml`**:
```yaml
- section: 入门指南
  contents:
  - doc/0001-guide.rmd
  - doc/[新文章].rmd  # 添加这行
```

**更新`doc/0001-guide.rmd`**:
在对应分类表格中添加新教程条目,格式与现有一致。

**更新`README.md`**:
在"入门指南"折叠块中添加新教程,链接使用`.html`后缀。

### 步骤5:提交确认

渲染全部成功后,询问用户是否提交。

用户确认后:
```bash
git add doc/[新文章].rmd doc/_quarto.yml doc/0001-guide.rmd README.md
git commit -m "新增教程:[教程标题]"
git push
```

## 质量检查清单

生成内容前,确认:

- [ ] 是否明确了目标读者和学习阶段?
- [ ] 内容是否从0开始,不假设背景知识?
- [ ] 文字解释是否占70%以上?
- [ ] 每段代码是否都有解释?
- [ ] 是否包含"概念→流程→代码→解释"结构?
- [ ] 是否提供了常见错误与解决方案?
- [ ] 是否给出了进阶学习路径?

生成内容后,验证:

- [ ] 三项render是否全部成功?
- [ ] 导航系统是否已更新?
- [ ] 文件命名是否符合规范?
- [ ] 代码是否可复现(seed已设置)?

## 参考优质模板

查看以下文章了解详细结构:

- `doc/0011-rmarkdown.rmd` - RMarkdown入门示例
- `doc/1079-kmeans.rmd` - "概念→流程→代码→解释"完美示范
- `doc/1016-mlr3.rmd` - 详尽程度标杆,完整工作流程

## 常见问题

**Q: 如何确定文字与代码比例?**

A: 目测每页代码块占版面<30%,或统计行数:文字行数应为代码行数2-3倍。

**Q: 什么时候用列表,什么时候用段落?**

A: 默认用段落叙述。仅在对比(表格)、枚举(清单)、步骤(有序列表)时用列表。

**Q: 如何判断解释是否充分?**

A: 假设读者是完全不懂的新手,每段代码都要回答"这是什么"、"为什么这样做"、"参数含义"、"预期输出"。

**Q: 用户需求不明确怎么办?**

A: 提出澄清问题,明确:目标读者、学习阶段、具体主题、期望深度。
