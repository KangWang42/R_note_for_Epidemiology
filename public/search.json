[
  {
    "objectID": "test.html",
    "href": "test.html",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance"
  },
  {
    "objectID": "test.html#råŒ…ä»‹ç»",
    "href": "test.html#råŒ…ä»‹ç»",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance"
  },
  {
    "objectID": "test.html#råŒ…å®‰è£…",
    "href": "test.html#råŒ…å®‰è£…",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n# æ–¹æ³•1ï¼šä» CRAN å®‰è£…ï¼ˆæ¨èï¼‰\ninstall.packages(\"bruceR\", dep = TRUE)\n\n# æ–¹æ³•2ï¼šä» GitHub å®‰è£…æœ€æ–°ç‰ˆ\ninstall.packages(\"devtools\")\ndevtools::install_github(\"psychbruce/bruceR\", dep = TRUE, force = TRUE)\nlibrary(bruceR)"
  },
  {
    "objectID": "test.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "href": "test.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "text": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½\n\nset.wd()ï¼šæ™ºèƒ½è®¾ç½®å·¥ä½œç›®å½•\nè‡ªåŠ¨å°†å·¥ä½œç›®å½•è®¾ç½®ä¸ºå½“å‰è„šæœ¬æ‰€åœ¨è·¯å¾„ï¼š\nset.wd()\n\n\nimport() / export()ï¼šä¸‡èƒ½æ•°æ®å¯¼å…¥å¯¼å‡º\næ”¯æŒå‡ ä¹æ‰€æœ‰å¸¸è§æ•°æ®æ ¼å¼ï¼Œè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼š\n# æ”¯æŒçš„æ ¼å¼ï¼š\n# - æ–‡æœ¬ï¼š.txt, .csv, .tsv\n# - Excelï¼š.xls, .xlsx\n# - SPSSï¼š.sav\n# - Stataï¼š.dta\n# - Rå¯¹è±¡ï¼š.rda, .rds, .RData\n\n# å¯¼å…¥æ•°æ®\ndata &lt;- import(\"data.xlsx\")\ndata &lt;- import(\"data.sav\")\ndata &lt;- import(\"data.dta\")\n\n# å¯¼å‡ºæ•°æ®\nexport(data, file = \"output.xlsx\")\nexport(data, file = \"output.csv\")\n\n\ncc()ï¼šå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\næ¯” c() æ›´ç®€æ´ï¼Œæ— éœ€å¼•å·ï¼š\n# ä¼ ç»Ÿå†™æ³•\nc(\"age\", \"gender\", \"education\")\n## [1] \"age\"       \"gender\"    \"education\"\n# bruceR å†™æ³•\ncc(\"age, gender, education\")\n## [1] \"age\"       \"gender\"    \"education\"\n\n\nprint_table()ï¼šç”Ÿæˆä¸‰çº¿è¡¨\nsummary_data &lt;- data.frame(\n  Variable = c(\"Age\", \"Income\", \"Score\"),\n  Mean = c(35.2, 5000, 78.5),\n  SD = c(8.3, 1200, 12.1),\n  N = c(100, 100, 100)\n)\n\nprint_table(summary_data)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##    Variable     Mean       SD       N\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## 1    Age      35.200    8.300 100.000\n## 2    Income 5000.000 1200.000 100.000\n## 3    Score    78.500   12.100 100.000\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
  },
  {
    "objectID": "test.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "href": "test.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æ•°æ®è®¡ç®—åŠŸèƒ½",
    "text": "æ•°æ®è®¡ç®—åŠŸèƒ½\n\nMEAN() / SUM()ï¼šæ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\nå¿ƒç†å­¦é‡è¡¨ç»å¸¸éœ€è¦è®¡ç®—å¤šä¸ªé¢˜ç›®çš„å‡å€¼æˆ–æ€»åˆ†ï¼Œå¹¶å¤„ç†åå‘è®¡åˆ†ï¼š\n# åˆ›å»ºæ¨¡æ‹Ÿé—®å·æ•°æ®ï¼ˆ5ç‚¹é‡è¡¨ï¼Œå…±6é¢˜ï¼‰\nset.seed(42)\nquestionnaire &lt;- data.frame(\n  id = 1:5,\n  q1 = sample(1:5, 5, replace = TRUE),\n  q2 = sample(1:5, 5, replace = TRUE),\n  q3 = sample(1:5, 5, replace = TRUE),\n  q4 = sample(1:5, 5, replace = TRUE),\n  q5 = sample(1:5, 5, replace = TRUE),\n  q6 = sample(1:5, 5, replace = TRUE)\n)\nquestionnaire\n##   id q1 q2 q3 q4 q5 q6\n## 1  1  1  4  1  3  5  4\n## 2  2  5  2  5  1  5  3\n## 3  3  1  2  4  1  5  2\n## 4  4  1  1  2  3  4  1\n## 5  5  2  4  2  4  2  2\n# è®¡ç®—å‡å€¼ï¼ˆq3ã€q6 åå‘è®¡åˆ†ï¼Œé‡è¡¨èŒƒå›´1-5ï¼‰\nquestionnaire$score_mean &lt;- MEAN(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\n# è®¡ç®—æ€»åˆ†\nquestionnaire$score_sum &lt;- SUM(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\nquestionnaire[, c(\"id\", \"score_mean\", \"score_sum\")]\n##   id score_mean score_sum\n## 1  1   3.333333        20\n## 2  2   2.833333        17\n## 3  3   2.500000        15\n## 4  4   3.000000        18\n## 5  5   3.333333        20\n\n\nRECODE()ï¼šå˜é‡é‡ç¼–ç \nd &lt;- data.frame(age = c(18, 25, 35, 45, 55, 65, 75))\n\nd$age_group &lt;- RECODE(d$age, \n  \"lo:29 = 'é’å¹´'; \n   30:59 = 'ä¸­å¹´'; \n   60:hi = 'è€å¹´'\"\n)\nd\n##   age age_group\n## 1  18      é’å¹´\n## 2  25      é’å¹´\n## 3  35      ä¸­å¹´\n## 4  45      ä¸­å¹´\n## 5  55      ä¸­å¹´\n## 6  65      è€å¹´\n## 7  75      è€å¹´\n\n\nRESCALE()ï¼šå˜é‡æ ‡å‡†åŒ–\nscores &lt;- c(2, 3, 4, 5, 6, 7, 8)\nRESCALE(scores, to = 0:100)\n## [1]   0.00000  16.66667  33.33333  50.00000  66.66667  83.33333 100.00000"
  },
  {
    "objectID": "test.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "href": "test.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¿¡åº¦ä¸å› å­åˆ†æ",
    "text": "ä¿¡åº¦ä¸å› å­åˆ†æ\n\nAlpha()ï¼šä¿¡åº¦åˆ†æ\ndata(\"bfi\", package = \"psych\")\n\n# Alpha éœ€è¦æŒ‡å®šæ•°æ®å’Œå˜é‡å\nAlpha(bfi, var = \"A\", items = 1:5)\n## \n## Reliability Analysis\n## \n## Summary:\n## Total Items: 5\n## Scale Range: 1 ~ 6\n## Total Cases: 2800\n## Valid Cases: 2709 (96.8%)\n## \n## Scale Statistics:\n## Mean = 4.208\n## S.D. = 0.735\n## Cronbachâ€™s Î± = 0.431\n## McDonaldâ€™s Ï‰ = 0.592\n## \n## Warning: Scale reliability is low. You may check item codings.\n## Item A1 correlates negatively with the scale and may be reversed.\n## You can specify this argument: rev=c(\"A1\")\n## \n## Item Statistics (Cronbachâ€™s Î± If Item Deleted):\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##      Mean    S.D. Item-Rest Cor. Cronbachâ€™s Î±\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## A1  2.412 (1.405)         -0.311        0.718\n## A2  4.797 (1.176)          0.372        0.278\n## A3  4.599 (1.305)          0.478        0.174\n## A4  4.682 (1.486)          0.365        0.252\n## A5  4.551 (1.262)          0.448        0.207\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Item-Rest Cor. = Corrected Item-Total Correlation\n\n\nEFA()ï¼šæ¢ç´¢æ€§å› å­åˆ†æ\ndata(\"bfi\", package = \"psych\")\n\n# æ¢ç´¢æ€§å› å­åˆ†æï¼šä½¿ç”¨ var + items æ ¼å¼\n# åˆ†æå¤–å‘æ€§(E)é‡è¡¨çš„5ä¸ªé¢˜ç›®\nEFA(bfi, var = \"E\", items = 1:5, nfactors = 2, plot.scree = FALSE)\n## \n## Principal Component Analysis\n## \n## Summary:\n## Total Items: 5\n## Scale Range: 1 ~ 6\n## Total Cases: 2800\n## Valid Cases: 2713 (96.9%)\n## \n## Extraction Method:\n## - Principal Component Analysis\n## Rotation Method:\n## - Varimax (with Kaiser Normalization)\n## \n## KMO and Bartlett's Test:\n## - Kaiser-Meyer-Olkin (KMO) Measure of Sampling Adequacy: MSA = 0.799\n## - Bartlett's Test of Sphericity: Approx. Ï‡Â²(10) = 3011.40, p &lt; 1e-99 ***\n## \n## Total Variance Explained:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              Eigenvalue Variance % Cumulative % SS Loading Variance % Cumulative %\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Component 1       2.565     51.298       51.298      1.884     37.680       37.680\n## Component 2       0.768     15.368       66.666      1.449     28.986       66.666\n## Component 3       0.643     12.851       79.517                                   \n## Component 4       0.561     11.211       90.728                                   \n## Component 5       0.464      9.272      100.000                                   \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Component Loadings (Rotated) (Sorted by Size):\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##        RC1    RC2 Communality\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## E1   0.812 -0.098       0.668\n## E2   0.752 -0.304       0.658\n## E4  -0.736  0.290       0.625\n## E5  -0.145  0.860       0.761\n## E3  -0.312  0.723       0.620\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Communality = Sum of Squared (SS) Factor Loadings\n## (Uniqueness = 1 - Communality)"
  },
  {
    "objectID": "test.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "href": "test.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "text": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ\n\nDescribe()ï¼šæè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4])\n## Descriptive Statistics:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                 N Mean   SD | Median  Min  Max Skewness Kurtosis\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length  150 5.84 0.83 |   5.80 4.30 7.90     0.31    -0.61\n## Sepal.Width   150 3.06 0.44 |   3.00 2.00 4.40     0.31     0.14\n## Petal.Length  150 3.76 1.77 |   4.35 1.00 6.90    -0.27    -1.42\n## Petal.Width   150 1.20 0.76 |   1.30 0.10 2.50    -0.10    -1.36\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nFreq()ï¼šé¢‘ç‡åˆ†æ\nFreq(iris$Species)\n## Frequency Statistics:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              N    %\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## setosa      50 33.3\n## versicolor  50 33.3\n## virginica   50 33.3\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total N = 150\n\n\nCorr()ï¼šç›¸å…³åˆ†æ\nCorr(iris[, 1:4])\n## Pearson's r and 95% confidence intervals:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                r       [95% CI]     p       N\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length-Sepal.Width   -0.12 [-0.27,  0.04]  .152     150\n## Sepal.Length-Petal.Length   0.87 [ 0.83,  0.91] &lt;.001 *** 150\n## Sepal.Length-Petal.Width    0.82 [ 0.76,  0.86] &lt;.001 *** 150\n## Sepal.Width-Petal.Length   -0.43 [-0.55, -0.29] &lt;.001 *** 150\n## Sepal.Width-Petal.Width    -0.37 [-0.50, -0.22] &lt;.001 *** 150\n## Petal.Length-Petal.Width    0.96 [ 0.95,  0.97] &lt;.001 *** 150\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\nplot of chunk unnamed-chunk-14"
  },
  {
    "objectID": "test.html#ç»Ÿè®¡æ£€éªŒ",
    "href": "test.html#ç»Ÿè®¡æ£€éªŒ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ç»Ÿè®¡æ£€éªŒ",
    "text": "ç»Ÿè®¡æ£€éªŒ\n\nTTEST()ï¼štæ£€éªŒ\n# ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒï¼ˆéœ€è¦ä¸¤æ°´å¹³å› å­ï¼‰\niris_subset &lt;- iris[iris$Species %in% c(\"versicolor\", \"virginica\"), ]\niris_subset$Species &lt;- droplevels(iris_subset$Species)\n\nTTEST(iris_subset, y = \"Sepal.Length\", x = \"Species\")\n## \n## Independent-Samples t-test\n## \n## Hypothesis: two-sided (Î¼2 - Î¼1 â‰  0)\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##      Variable  Factor      Level  N Mean (S.D.)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Sepal.Length Species versicolor 50 5.94 (0.52)\n##  Sepal.Length Species virginica  50 6.59 (0.64)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Leveneâ€™s test for homogeneity of variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                                 Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length: Species (virginica - versicolor)        1.42   1  98  .236    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note: H0 = equal variance (homoscedasticity).\n## If significant (violation of the assumption),\n## then you should better set `var.equal=FALSE`.\n## \n## Results of t-test:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                                                    t df     p     Difference [95% CI] Cohenâ€™s d [95% CI]     BF10\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Length: Species (virginica - versicolor)  5.63 98 &lt;.001 ***   0.65 [0.42, 0.88]  1.13 [0.73, 1.52] 7.04e+04\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nMANOVA()ï¼šå¤šå› ç´ æ–¹å·®åˆ†æ\nMANOVA(data = npk, dv = \"yield\", between = c(\"N\", \"P\", \"K\"))\n## \n## ====== ANOVA (Between-Subjects Design) ======\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\" \"P\" \"K\"   Mean    S.D. n\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0  P0  K0 51.433 (4.600) 3\n##   N0  P0  K1 52.000 (5.635) 3\n##   N0  P1  K0 54.333 (9.411) 3\n##   N0  P1  K1 50.500 (2.364) 3\n##   N1  P0  K0 63.767 (5.086) 3\n##   N1  P0  K1 54.667 (4.216) 3\n##   N1  P1  K0 57.933 (5.478) 3\n##   N1  P1  K1 54.367 (5.006) 3\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total sample size: N = 24\n## \n## ANOVA Table:\n## Dependent variable(s):      yield\n## Between-subjects factor(s): N, P, K\n## Within-subjects factor(s):  â€“\n## Covariate(s):               â€“\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                 MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## N          189.282 30.724   1  16 6.161  .025 *     .278 [.024, .529] .278\n## P            8.402 30.724   1  16 0.273  .608       .017 [.000, .220] .017\n## K           95.202 30.724   1  16 3.099  .097 .     .162 [.000, .427] .162\n## N * P       21.282 30.724   1  16 0.693  .418       .041 [.000, .277] .041\n## N * K       33.135 30.724   1  16 1.078  .314       .063 [.000, .312] .063\n## P * K        0.482 30.724   1  16 0.016  .902       .001 [.000, .078] .001\n## N * P * K   37.002 30.724   1  16 1.204  .289       .070 [.000, .322] .070\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## MSE = mean square error (the residual variance of the linear model)\n## Î·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\n## Ï‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\n## Î·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\n## Cohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n## \n## Leveneâ€™s Test for Homogeneity of Variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## DV: yield       0.986   7  16  .475    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\nEMMEANS()ï¼šè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\nresult &lt;- MANOVA(npk, dv = \"yield\", between = c(\"N\", \"P\"))\n## \n## ====== ANOVA (Between-Subjects Design) ======\n## \n## Descriptives:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\" \"P\"   Mean    S.D. n\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0  P0 51.717 (4.611) 6\n##   N0  P1 52.417 (6.486) 6\n##   N1  P0 59.217 (6.504) 6\n##   N1  P1 56.150 (5.084) 6\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Total sample size: N = 24\n## \n## ANOVA Table:\n## Dependent variable(s):      yield\n## Between-subjects factor(s): N, P\n## Within-subjects factor(s):  â€“\n## Covariate(s):               â€“\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##             MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## N      189.282 32.870   1  20 5.758  .026 *     .224 [.017, .460] .224\n## P        8.402 32.870   1  20 0.256  .619       .013 [.000, .181] .013\n## N * P   21.282 32.870   1  20 0.647  .430       .031 [.000, .230] .031\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## MSE = mean square error (the residual variance of the linear model)\n## Î·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\n## Ï‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\n## Î·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\n## Cohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n## \n## Leveneâ€™s Test for Homogeneity of Variance:\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Leveneâ€™s F df1 df2     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## DV: yield       0.160   3  20  .922    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEMMEANS(result, effect = \"N\")\n## ------ EMMEANS (effect = \"N\") ------\n## \n## Joint Tests of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Effect df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N       1  20 5.758  .026 *     .224 [.017, .460]\n##   P       1  20 0.256  .619       .013 [.000, .181]\n##   N * P   1  20 0.647  .430       .031 [.000, .230]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. Simple effects of repeated measures with 3 or more levels\n## are different from the results obtained with SPSS MANOVA syntax.\n## \n## Univariate Tests of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##            Sum of Squares df Mean Square     F     p    \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Mean: \"N\"         189.282  1     189.282 5.758  .026 *  \n## Residuals         657.400 20      32.870                \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. Identical to the results obtained with SPSS GLM EMMEANS syntax.\n## \n## Estimated Marginal Means of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  \"N\"   Mean [95% CI of Mean]    S.E.\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N0 52.067 [48.614, 55.519] (1.655)\n##   N1 57.683 [54.231, 61.136] (1.655)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## \n## Pairwise Comparisons of \"N\":\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##  Contrast Estimate    S.E. df     t     p     Cohenâ€™s d [95% CI of d]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##   N1 - N0    5.617 (2.341) 20 2.400  .026 *      0.980 [0.128, 1.831]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Pooled SD for computing Cohenâ€™s d: 5.733\n## Results are averaged over the levels of: P\n## No need to adjust p values.\n## \n## Disclaimer:\n## By default, pooled SD is Root Mean Square Error (RMSE).\n## There is much disagreement on how to compute Cohenâ€™s d.\n## You are completely responsible for setting `sd.pooled`.\n## You might also use `effectsize::t_to_d()` to compute d."
  },
  {
    "objectID": "test.html#å›å½’åˆ†æ",
    "href": "test.html#å›å½’åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å›å½’åˆ†æ",
    "text": "å›å½’åˆ†æ\n\nmodel_summary()ï¼šæ¨¡å‹æ±‡æ€»\nlm1 &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)\nlm2 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length, data = iris)\nlm3 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)\n\n# å¤šä¸ªæ¨¡å‹å¯¹æ¯”\nmodel_summary(list(lm1, lm2, lm3))\n## \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##               (1) Sepal.Length  (2) Sepal.Length  (3) Sepal.Length\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## (Intercept)     6.526 ***         2.249 ***         1.856 ***     \n##                (0.479)           (0.248)           (0.251)        \n## Sepal.Width    -0.223             0.596 ***         0.651 ***     \n##                (0.155)           (0.069)           (0.067)        \n## Petal.Length                      0.472 ***         0.709 ***     \n##                                  (0.017)           (0.057)        \n## Petal.Width                                        -0.556 ***     \n##                                                    (0.128)        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2             0.014             0.840             0.859         \n## Adj. R^2        0.007             0.838             0.856         \n## Num. obs.     150               150               150             \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n# è¾“å‡ºæ ‡å‡†åŒ–ç³»æ•°\nmodel_summary(lm3, std = TRUE)\n## \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##               (1) Sepal.Length\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Sepal.Width      .343 ***     \n##                 (.035)        \n## Petal.Length    1.512 ***     \n##                 (.121)        \n## Petal.Width     -.512 ***     \n##                 (.117)        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2              .859         \n## Adj. R^2         .856         \n## Num. obs.     150             \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n## \n## # Check for Multicollinearity\n## \n## Low Correlation\n## \n##         Term  VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n##  Sepal.Width 1.27 [ 1.11,  1.65]     1.13      0.79     [0.61, 0.90]\n## \n## High Correlation\n## \n##          Term   VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n##  Petal.Length 15.10 [11.27, 20.36]     3.89      0.07     [0.05, 0.09]\n##   Petal.Width 14.23 [10.63, 19.19]     3.77      0.07     [0.05, 0.09]"
  },
  {
    "objectID": "test.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "href": "test.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "text": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ\n\nPROCESS()ï¼šä¸­ä»‹è°ƒèŠ‚åˆ†æ\nset.seed(123)\nn &lt;- 200\nmediation_data &lt;- data.frame(\n  X = rnorm(n),\n  M = rnorm(n),\n  Y = rnorm(n)\n)\nmediation_data$M &lt;- 0.5 * mediation_data$X + rnorm(n, sd = 0.5)\nmediation_data$Y &lt;- 0.4 * mediation_data$M + 0.3 * mediation_data$X + rnorm(n, sd = 0.5)\n\n# ç®€å•ä¸­ä»‹æ¨¡å‹\nPROCESS(mediation_data, y = \"Y\", x = \"X\", meds = \"M\", \n        ci = \"boot\", nsim = 100)\n## \n## ****************** PART 1. Regression Model Summary ******************\n## \n## PROCESS Model ID : 4\n## Model Type : Simple Mediation\n## -    Outcome (Y) : Y\n## -  Predictor (X) : X\n## -  Mediators (M) : M\n## - Moderators (W) : -\n## - Covariates (C) : -\n## -   HLM Clusters : -\n## \n## All numeric predictors have been grand-mean centered.\n## (For details, please see the help page of PROCESS.)\n## \n## Formula of Mediator:\n## -    M ~ X\n## Formula of Outcome:\n## -    Y ~ X + M\n## \n## CAUTION:\n##   Fixed effect (coef.) of a predictor involved in an interaction\n##   denotes its \"simple effect/slope\" at the other predictor = 0.\n##   Only when all predictors in an interaction are mean-centered\n##   can the fixed effect be interpreted as \"main effect\"!\n##   \n## Model Summary\n## \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##              (1) Y        (2) M        (3) Y      \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## (Intercept)    0.010       -0.015        0.010    \n##               (0.039)      (0.036)      (0.037)   \n## X              0.462 ***    0.475 ***    0.302 ***\n##               (0.041)      (0.039)      (0.052)   \n## M                                        0.336 ***\n##                                         (0.072)   \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## R^2            0.391        0.434        0.452    \n## Adj. R^2       0.388        0.431        0.446    \n## Num. obs.    200          200          200        \n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n## \n## ************ PART 2. Mediation/Moderation Effect Estimate ************\n## \n## Package Use : â€˜mediationâ€™ (v4.5.0)\n## Effect Type : Simple Mediation (Model 4)\n## Sample Size : 200\n## Random Seed : set.seed()\n## Simulations : 100 (Bootstrap)\n## \n## Running 100 simulations...\n## Indirect Path: \"X\" (X) ==&gt; \"M\" (M) ==&gt; \"Y\" (Y)\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n##                Effect    S.E.      z     p      [Boot 95% CI]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Indirect (ab)   0.160 (0.039)  4.046 &lt;.001 *** [0.098, 0.240]\n## Direct (c')     0.302 (0.053)  5.713 &lt;.001 *** [0.192, 0.387]\n## Total (c)       0.462 (0.040) 11.623 &lt;.001 *** [0.399, 0.545]\n## â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n## Percentile Bootstrap Confidence Interval\n## (SE and CI are estimated based on 100 Bootstrap samples.)\n## \n## Note. The results based on bootstrapping or other random processes\n## are unlikely identical to other statistical software (e.g., SPSS).\n## To make results reproducible, you need to set a seed (any number).\n## Please see the help page for details: help(PROCESS)\n## Ignore this note if you have already set a seed. :)"
  },
  {
    "objectID": "test.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "href": "test.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å…¶ä»–å®ç”¨åŠŸèƒ½",
    "text": "å…¶ä»–å®ç”¨åŠŸèƒ½\n\nè¿ç®—ç¬¦\n# %notin%ï¼šä¸åœ¨å…¶ä¸­\nc(1, 2, 3) %notin% c(2, 4, 6)\n## [1]  TRUE FALSE  TRUE\n# %allin%ï¼šå…¨éƒ¨åœ¨å…¶ä¸­\nc(1, 2) %allin% c(1, 2, 3, 4)\n## [1] TRUE\n\n\ntheme_bruce()ï¼šggplot2 ä¸»é¢˜\nlibrary(ggplot2)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(title = \"é¸¢å°¾èŠ±æ•°æ®å¯è§†åŒ–\") +\n  theme_bruce()\n\n\n\nplot of chunk unnamed-chunk-21"
  },
  {
    "objectID": "test.html#å¯¼å‡ºåˆ°-word",
    "href": "test.html#å¯¼å‡ºåˆ°-word",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å¯¼å‡ºåˆ° Word",
    "text": "å¯¼å‡ºåˆ° Word\nbruceR çš„ä¸€å¤§ç‰¹è‰²æ˜¯å¯ä»¥å°†ç»“æœç›´æ¥å¯¼å‡ºåˆ° Word æ–‡æ¡£ï¼š\n# æè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4], file = \"descriptives.doc\")\n\n# ç›¸å…³çŸ©é˜µ\nCorr(iris[, 1:4], file = \"correlation.doc\")\n\n# å›å½’æ¨¡å‹\nmodel_summary(list(lm1, lm2, lm3), file = \"regression.doc\")\n\n# ä¸­ä»‹åˆ†æ\nPROCESS(data, y = \"Y\", x = \"X\", meds = \"M\", file = \"mediation.doc\")"
  },
  {
    "objectID": "test.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "test.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "å‡½æ•°é€ŸæŸ¥è¡¨\n\n\n\nç±»åˆ«\nå‡½æ•°\nåŠŸèƒ½\n\n\n\n\nåŸºç¡€\nset.wd()\nè®¾ç½®å·¥ä½œç›®å½•åˆ°å½“å‰è„šæœ¬ä½ç½®\n\n\n\nimport() / export()\nä¸‡èƒ½æ•°æ®å¯¼å…¥/å¯¼å‡º\n\n\n\ncc()\nå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\n\n\n\nprint_table()\næ‰“å°ä¸‰çº¿è¡¨\n\n\nè®¡ç®—\nMEAN() / SUM()\næ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\n\n\n\nRECODE()\nå˜é‡é‡ç¼–ç \n\n\n\nRESCALE()\nå˜é‡æ ‡å‡†åŒ–\n\n\nä¿¡æ•ˆåº¦\nAlpha()\nCronbachâ€™s Î± ä¿¡åº¦åˆ†æ\n\n\n\nEFA() / PCA()\næ¢ç´¢æ€§å› å­åˆ†æ/ä¸»æˆåˆ†åˆ†æ\n\n\n\nCFA()\néªŒè¯æ€§å› å­åˆ†æ\n\n\næè¿°\nDescribe()\næè¿°ç»Ÿè®¡\n\n\n\nFreq()\né¢‘ç‡åˆ†æä¸äº¤å‰è¡¨\n\n\n\nCorr()\nç›¸å…³åˆ†æä¸çƒ­åŠ›å›¾\n\n\næ£€éªŒ\nTTEST()\ntæ£€éªŒï¼ˆå•æ ·æœ¬/ç‹¬ç«‹/é…å¯¹ï¼‰\n\n\n\nMANOVA()\nå¤šå› ç´ æ–¹å·®åˆ†æ\n\n\n\nEMMEANS()\nè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\n\nå›å½’\nmodel_summary()\nå›å½’æ¨¡å‹æ•´æ´è¾“å‡º\n\n\n\nGLM_summary()\nå¹¿ä¹‰çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\n\nHLM_summary()\nå¤šå±‚çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\nä¸­ä»‹\nPROCESS()\nä¸­ä»‹/è°ƒèŠ‚æ•ˆåº”åˆ†æ\n\n\n\nmed_summary()\nä¸­ä»‹æ•ˆåº”æ±‡æ€»"
  },
  {
    "objectID": "test.html#å‚è€ƒèµ„æº",
    "href": "test.html#å‚è€ƒèµ„æº",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nbruceR GitHub ä¸»é¡µ\nCRAN å®˜æ–¹é¡µé¢\nä¸­æ–‡æ•™ç¨‹ï¼šæ¦‚è¿°ç¯‡\nä¸­æ–‡æ•™ç¨‹ï¼šå¸¸è§é—®é¢˜\nå¼•ç”¨ï¼šBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions. https://doi.org/10.32614/CRAN.package.bruceR"
  },
  {
    "objectID": "sections/packages.html",
    "href": "sections/packages.html",
    "title": "å®ç”¨ R åŒ…",
    "section": "",
    "text": "è¿™é‡Œæ”¶é›†äº†æé«˜æ•ˆç‡çš„å„ç±» R åŒ…ï¼Œæ¶µç›–æ•°æ®æ¸…æ´—ã€ç»Ÿè®¡åˆ†æã€è¡¨æ ¼ç”Ÿæˆç­‰å¤šä¸ªæ–¹é¢ã€‚æ¯ä¸ªåŒ…éƒ½é™„æœ‰è¯¦ç»†çš„ä½¿ç”¨æ•™ç¨‹å’Œå®é™…æ¡ˆä¾‹ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbruceR - ç»Ÿè®¡åˆ†æå·¥å…·\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\ncompareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nscitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\npurrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯\n\n2 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R è¯­è¨€å­¦ä¹ ç¬”è®°",
    "section": "",
    "text": "ğŸ“Š æ•°æ®ç§‘å­¦ Â· R è¯­è¨€\n\n\nè¿™é‡Œæ˜¯æˆ‘çš„ R è¯­è¨€æ•°å­—èŠ±å›­ã€‚è®°å½•æ•°æ®åˆ†æçš„çµæ„Ÿã€åˆ†äº«å®ç”¨ R åŒ…ã€å¤ç°ç²¾ç¾çš„å¯è§†åŒ–å›¾è¡¨ã€‚\n\n\n15+ å­¦ä¹ ç¬”è®°\n\n\n3 ä¸»é¢˜åˆ†ç±»\n\n\nâˆ å­¦ä¹ çƒ­æƒ…\n\n\n\nå¼€å§‹æ¢ç´¢ æŸ¥çœ‹æ‰€æœ‰æ–‡ç«  â†’\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(ggplot2)\n\ndata |&gt;\n  filter(!is.na(value)) |&gt;\n  group_by(category) |&gt;\n  summarize(mean = mean(value)) |&gt;\n  ggplot(aes(x = category, y = mean)) +\n  geom_col(fill = \"#6366f1\") +\n  theme_minimal()"
  },
  {
    "objectID": "index.html#æœ€æ–°æ›´æ–°",
    "href": "index.html#æœ€æ–°æ›´æ–°",
    "title": "R è¯­è¨€å­¦ä¹ ç¬”è®°",
    "section": "ğŸ“… æœ€æ–°æ›´æ–°",
    "text": "ğŸ“… æœ€æ–°æ›´æ–°"
  },
  {
    "objectID": "2019-dualaxis.html",
    "href": "2019-dualaxis.html",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "",
    "text": "åŒåæ ‡è½´ï¼ˆDual Y-Axisï¼‰å›¾è¡¨å¯ä»¥åœ¨åŒä¸€å¼ å›¾ä¸­å±•ç¤ºä¸¤ä¸ªé‡çº²ä¸åŒçš„å˜é‡ï¼Œå¸¸ç”¨äºå±•ç¤ºè¶‹åŠ¿å¯¹æ¯”ã€æŸ±çº¿æ··åˆå›¾ç­‰åœºæ™¯ã€‚æœ¬æ•™ç¨‹ä»‹ç»å¦‚ä½•åœ¨ ggplot2 ä¸­å®ç°åŒåæ ‡è½´ç»‘å›¾ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#ä»€ä¹ˆæ˜¯åŒåæ ‡è½´",
    "href": "2019-dualaxis.html#ä»€ä¹ˆæ˜¯åŒåæ ‡è½´",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "ä»€ä¹ˆæ˜¯åŒåæ ‡è½´ï¼Ÿ",
    "text": "ä»€ä¹ˆæ˜¯åŒåæ ‡è½´ï¼Ÿ\nåŒåæ ‡è½´å›¾è¡¨æ˜¯æŒ‡åœ¨åŒä¸€å¼ å›¾ä¸­ä½¿ç”¨ä¸¤ä¸ª Y è½´ï¼š\n\nå·¦ Y è½´ï¼ˆä¸»è½´ï¼‰ï¼šé€šå¸¸å±•ç¤ºä¸»è¦å˜é‡\nå³ Y è½´ï¼ˆæ¬¡è½´ï¼‰ï¼šå±•ç¤ºæ¬¡è¦å˜é‡ï¼Œé‡çº²å¯èƒ½ä¸åŒ\n\n\né€‚ç”¨åœºæ™¯\n\n\n\nåœºæ™¯\nç¤ºä¾‹\n\n\n\n\næŸ±çº¿æ··åˆå›¾\næŸ±çŠ¶å›¾æ˜¾ç¤ºé”€é‡ï¼ŒæŠ˜çº¿å›¾æ˜¾ç¤ºå¢é•¿ç‡\n\n\nè¶‹åŠ¿å¯¹æ¯”\næ¸©åº¦ä¸é™é›¨é‡çš„æ—¶é—´å˜åŒ–\n\n\nå› æœå…³ç³»\nå¹¿å‘ŠæŠ•å…¥ä¸é”€å”®é¢çš„å…³ç³»\n\n\n\n\n\näº‰è®®ä¸æ³¨æ„äº‹é¡¹\nåŒåæ ‡è½´å›¾è¡¨å­˜åœ¨ä¸€äº›äº‰è®®ï¼š\n\nè¯¯å¯¼æ€§ï¼šä¸¤ä¸ª Y è½´çš„åˆ»åº¦æ¯”ä¾‹ä¼šå½±å“è¯»è€…å¯¹æ•°æ®å…³ç³»çš„ç†è§£\nå¯è¯»æ€§ï¼šå¢åŠ äº†å›¾è¡¨çš„å¤æ‚åº¦\næ›¿ä»£æ–¹æ¡ˆï¼šåˆ†é¢å›¾ï¼ˆfacetï¼‰é€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©\n\nä½¿ç”¨å»ºè®®ï¼š\n\nâœ… ä¸¤ä¸ªå˜é‡ç¡®å®æœ‰å…³è”æ—¶ä½¿ç”¨\nâœ… æ˜ç¡®æ ‡æ³¨ä¸¤ä¸ªè½´çš„å•ä½\nâŒ é¿å…åˆ»æ„è°ƒæ•´åˆ»åº¦æ¥åˆ¶é€ ç›¸å…³æ€§å‡è±¡",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åŸºç¡€ç”¨æ³•",
    "href": "2019-dualaxis.html#åŸºç¡€ç”¨æ³•",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "åŸºç¡€ç”¨æ³•",
    "text": "åŸºç¡€ç”¨æ³•\n\nggplot2 ä¸­çš„ sec_axis()\nggplot2 é€šè¿‡ sec_axis() å‡½æ•°å®ç°åŒåæ ‡è½´ã€‚æ ¸å¿ƒåŸç†æ˜¯ æ¬¡è½´å¿…é¡»æ˜¯ä¸»è½´çš„çº¿æ€§å˜æ¢ã€‚\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\n\n\næœ€ç®€ç¤ºä¾‹\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ndf &lt;- data.frame(\n  month = 1:12,\n  sales = c(120, 135, 150, 180, 200, 220, 250, 240, 210, 180, 150, 160),\n  growth_rate = c(5, 8, 12, 15, 18, 20, 22, 18, 12, 8, 5, 6)\n)\n\n# å®šä¹‰è½¬æ¢ç³»æ•°ï¼ˆè®©ä¸¤ä¸ªå˜é‡åœ¨å›¾ä¸Šæœ‰ç›¸ä¼¼çš„èŒƒå›´ï¼‰\ncoef &lt;- max(df$sales) / max(df$growth_rate)\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales), fill = \"#4f46e5\", alpha = 0.7) +\n  geom_line(aes(y = growth_rate * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef), color = \"#ef4444\", size = 3) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12)\n\n\n\n\n\n\n\n\n\n\nå…³é”®æ­¥éª¤è§£æ\n\nè®¡ç®—è½¬æ¢ç³»æ•°ï¼šcoef &lt;- max(ä¸»è½´å˜é‡) / max(æ¬¡è½´å˜é‡)\nç»‘åˆ¶æ¬¡è½´æ•°æ®æ—¶ä¹˜ä»¥ç³»æ•°ï¼šaes(y = growth_rate * coef)\nè®¾ç½® sec_axis æ—¶é™¤ä»¥ç³»æ•°ï¼šsec_axis(~ . / coef, name = \"æ¬¡è½´æ ‡ç­¾\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#æŸ±çº¿æ··åˆå›¾",
    "href": "2019-dualaxis.html#æŸ±çº¿æ··åˆå›¾",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "æŸ±çº¿æ··åˆå›¾",
    "text": "æŸ±çº¿æ··åˆå›¾\næŸ±çº¿æ··åˆå›¾æ˜¯åŒåæ ‡è½´æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯ã€‚\n\nåŸºç¡€ç‰ˆæœ¬\n\n# æ¨¡æ‹Ÿå­£åº¦æ•°æ®\nquarterly &lt;- data.frame(\n  quarter = c(\"Q1\", \"Q2\", \"Q3\", \"Q4\"),\n  revenue = c(450, 520, 680, 720),\n  profit_margin = c(12, 15, 18, 20)\n)\n\ncoef &lt;- max(quarterly$revenue) / max(quarterly$profit_margin)\n\nggplot(quarterly, aes(x = quarter)) +\n  geom_col(aes(y = revenue), fill = \"#0ea5e9\", width = 0.6) +\n  geom_line(aes(y = profit_margin * coef, group = 1), \n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(aes(y = profit_margin * coef), \n             color = \"#f97316\", size = 4) +\n  scale_y_continuous(\n    name = \"è¥æ”¶ (ä¸‡å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"åˆ©æ¶¦ç‡ (%)\")\n  ) +\n  labs(title = \"å­£åº¦è¥æ”¶ä¸åˆ©æ¶¦ç‡\", x = NULL) +\n  theme_minimal(base_size = 12)\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ•°æ®æ ‡ç­¾\n\nggplot(quarterly, aes(x = quarter)) +\n  geom_col(aes(y = revenue), fill = \"#0ea5e9\", width = 0.6) +\n  geom_text(aes(y = revenue, label = revenue), vjust = -0.5, size = 4) +\n  geom_line(aes(y = profit_margin * coef, group = 1), \n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(aes(y = profit_margin * coef), \n             color = \"#f97316\", size = 4) +\n  geom_text(aes(y = profit_margin * coef, label = paste0(profit_margin, \"%\")), \n            vjust = -1, color = \"#f97316\", size = 4) +\n  scale_y_continuous(\n    name = \"è¥æ”¶ (ä¸‡å…ƒ)\",\n    limits = c(0, max(quarterly$revenue) * 1.15),\n    sec.axis = sec_axis(~ . / coef, name = \"åˆ©æ¶¦ç‡ (%)\")\n  ) +\n  labs(title = \"å­£åº¦è¥æ”¶ä¸åˆ©æ¶¦ç‡\", x = NULL) +\n  theme_minimal(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åŒæŠ˜çº¿å›¾",
    "href": "2019-dualaxis.html#åŒæŠ˜çº¿å›¾",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "åŒæŠ˜çº¿å›¾",
    "text": "åŒæŠ˜çº¿å›¾\nå½“ä¸¤ä¸ªå˜é‡éƒ½æ˜¯è¿ç»­æ—¶é—´åºåˆ—æ—¶ï¼Œå¯ä»¥ç”¨åŒæŠ˜çº¿å›¾ã€‚\n\n# æ¨¡æ‹Ÿæ°”è±¡æ•°æ®\nweather &lt;- data.frame(\n  date = seq(as.Date(\"2025-01-01\"), as.Date(\"2025-12-01\"), by = \"month\"),\n  temperature = c(8, 10, 15, 20, 25, 30, 33, 32, 28, 22, 15, 10),\n  rainfall = c(45, 60, 80, 120, 180, 220, 150, 100, 70, 50, 40, 35)\n)\n\ncoef &lt;- max(weather$rainfall) / max(weather$temperature)\n\nggplot(weather, aes(x = date)) +\n  geom_line(aes(y = temperature), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = temperature), color = \"#ef4444\", size = 2.5) +\n  geom_area(aes(y = rainfall / coef), fill = \"#3b82f6\", alpha = 0.3) +\n  geom_line(aes(y = rainfall / coef), color = \"#3b82f6\", linewidth = 1.2) +\n  scale_y_continuous(\n    name = \"æ¸©åº¦ (Â°C)\",\n    sec.axis = sec_axis(~ . * coef, name = \"é™é›¨é‡ (mm)\")\n  ) +\n  scale_x_date(date_labels = \"%mæœˆ\", date_breaks = \"1 month\") +\n  labs(title = \"2025 å¹´æœˆåº¦æ¸©åº¦ä¸é™é›¨é‡\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "href": "2019-dualaxis.html#è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "è‡ªå®šä¹‰åæ ‡è½´æ ·å¼",
    "text": "è‡ªå®šä¹‰åæ ‡è½´æ ·å¼\n\nåŒ¹é…é¢œè‰²\nè®©åæ ‡è½´é¢œè‰²ä¸å¯¹åº”çš„æ•°æ®ç³»åˆ—é¢œè‰²ä¸€è‡´ï¼Œæé«˜å¯è¯»æ€§ï¼š\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales), fill = \"#4f46e5\", alpha = 0.8) +\n  geom_line(aes(y = growth_rate * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef), color = \"#ef4444\", size = 3) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#4f46e5\", face = \"bold\"),\n    axis.text.y.left = element_text(color = \"#4f46e5\"),\n    axis.title.y.right = element_text(color = \"#ef4444\", face = \"bold\"),\n    axis.text.y.right = element_text(color = \"#ef4444\")\n  )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ å›¾ä¾‹\nåŒåæ ‡è½´å›¾è¡¨é»˜è®¤æ²¡æœ‰å›¾ä¾‹ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼š\n\nggplot(df, aes(x = month)) +\n  geom_col(aes(y = sales, fill = \"é”€å”®é¢\"), alpha = 0.8) +\n  geom_line(aes(y = growth_rate * coef, color = \"å¢é•¿ç‡\"), linewidth = 1.2) +\n  geom_point(aes(y = growth_rate * coef, color = \"å¢é•¿ç‡\"), size = 3) +\n  scale_fill_manual(values = c(\"é”€å”®é¢\" = \"#4f46e5\")) +\n  scale_color_manual(values = c(\"å¢é•¿ç‡\" = \"#ef4444\")) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(\n    title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\",\n    x = NULL,\n    fill = NULL,\n    color = NULL\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"top\",\n    legend.box = \"horizontal\"\n  ) +\n  guides(\n    fill = guide_legend(order = 1),\n    color = guide_legend(order = 2)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#åˆ†ç»„åŒåæ ‡è½´",
    "href": "2019-dualaxis.html#åˆ†ç»„åŒåæ ‡è½´",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "åˆ†ç»„åŒåæ ‡è½´",
    "text": "åˆ†ç»„åŒåæ ‡è½´\nå½“æœ‰åˆ†ç»„å˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å †å æˆ–åˆ†ç»„æŸ±çŠ¶å›¾ã€‚\n\n# åˆ†ç»„æ•°æ®\ngrouped_data &lt;- data.frame(\n  quarter = rep(c(\"Q1\", \"Q2\", \"Q3\", \"Q4\"), each = 2),\n  category = rep(c(\"äº§å“A\", \"äº§å“B\"), 4),\n  sales = c(200, 150, 250, 180, 300, 220, 280, 250),\n  total_growth = rep(c(8, 12, 15, 10), each = 2)\n)\n\n# è®¡ç®—æ¯å­£åº¦æ€»é”€å”®é¢ç”¨äºç»‘å›¾\ngrouped_summary &lt;- grouped_data |&gt;\n  group_by(quarter) |&gt;\n  summarise(total_sales = sum(sales), growth = first(total_growth))\n\ncoef &lt;- max(grouped_summary$total_sales) / max(grouped_summary$growth)\n\nggplot() +\n  geom_col(data = grouped_data, \n           aes(x = quarter, y = sales, fill = category),\n           position = \"dodge\", width = 0.7) +\n  geom_line(data = grouped_summary,\n            aes(x = quarter, y = growth * coef, group = 1),\n            color = \"#f97316\", linewidth = 1.5) +\n  geom_point(data = grouped_summary,\n             aes(x = quarter, y = growth * coef),\n             color = \"#f97316\", size = 4) +\n  scale_fill_manual(values = c(\"äº§å“A\" = \"#4f46e5\", \"äº§å“B\" = \"#06b6d4\")) +\n  scale_y_continuous(\n    name = \"é”€å”®é¢ (ä¸‡å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  labs(title = \"åˆ†äº§å“é”€å”®é¢ä¸æ€»ä½“å¢é•¿ç‡\", x = NULL, fill = NULL) +\n  theme_minimal(base_size = 12) +\n  theme(legend.position = \"top\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#ä½¿ç”¨-ggnewscale-å®ç°åŒå›¾ä¾‹",
    "href": "2019-dualaxis.html#ä½¿ç”¨-ggnewscale-å®ç°åŒå›¾ä¾‹",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "ä½¿ç”¨ ggnewscale å®ç°åŒå›¾ä¾‹",
    "text": "ä½¿ç”¨ ggnewscale å®ç°åŒå›¾ä¾‹\nå½“éœ€è¦ä¸ºä¸¤ä¸ªè½´åˆ†åˆ«è®¾ç½®å®Œæ•´çš„å›¾ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ggnewscale åŒ…ï¼š\n\nlibrary(ggnewscale)\n\nggplot(df, aes(x = month)) +\n  # ç¬¬ä¸€ä¸ªå›¾å±‚ï¼šæŸ±çŠ¶å›¾\n  geom_col(aes(y = sales, fill = sales), alpha = 0.8) +\n  scale_fill_gradient(low = \"#c7d2fe\", high = \"#4f46e5\", name = \"é”€å”®é¢\") +\n  # å¼€å¯æ–°çš„å¡«å……/é¢œè‰²æ ‡åº¦\n\n  new_scale_color() +\n  # ç¬¬äºŒä¸ªå›¾å±‚ï¼šæŠ˜çº¿å›¾\n  geom_line(aes(y = growth_rate * coef, color = growth_rate), linewidth = 1.5) +\n  geom_point(aes(y = growth_rate * coef, color = growth_rate), size = 3) +\n  scale_color_gradient(low = \"#fca5a5\", high = \"#dc2626\", name = \"å¢é•¿ç‡ (%)\") +\n  scale_y_continuous(\n    name = \"é”€å”®é¢\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¢é•¿ç‡ (%)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®é¢ä¸å¢é•¿ç‡\", x = NULL) +\n  theme_bw(base_size = 12)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "2019-dualaxis.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹1ï¼šç»æµæŒ‡æ ‡å¯¹æ¯”\n\n# æ¨¡æ‹Ÿç»æµæ•°æ®\neconomy &lt;- data.frame(\n  year = 2015:2024,\n  gdp = c(68.9, 74.6, 83.2, 91.9, 99.1, 101.4, 114.4, 121.0, 126.1, 134.8),\n  gdp_growth = c(6.9, 6.7, 6.8, 6.6, 6.0, 2.3, 8.1, 3.0, 5.2, 5.0)\n)\n\ncoef &lt;- max(economy$gdp) / max(economy$gdp_growth)\n\nggplot(economy, aes(x = year)) +\n  geom_area(aes(y = gdp), fill = \"#4f46e5\", alpha = 0.3) +\n  geom_line(aes(y = gdp), color = \"#4f46e5\", linewidth = 1.2) +\n  geom_point(aes(y = gdp), color = \"#4f46e5\", size = 2.5) +\n  geom_line(aes(y = gdp_growth * coef), color = \"#ef4444\", linewidth = 1.2) +\n  geom_point(aes(y = gdp_growth * coef), color = \"#ef4444\", size = 2.5) +\n  scale_y_continuous(\n    name = \"GDP (ä¸‡äº¿å…ƒ)\",\n    sec.axis = sec_axis(~ . / coef, name = \"GDPå¢é€Ÿ (%)\")\n  ) +\n  scale_x_continuous(breaks = 2015:2024) +\n  labs(title = \"ä¸­å›½ GDP æ€»é‡ä¸å¢é€Ÿ (2015-2024)\", x = NULL) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#4f46e5\"),\n    axis.text.y.left = element_text(color = \"#4f46e5\"),\n    axis.title.y.right = element_text(color = \"#ef4444\"),\n    axis.text.y.right = element_text(color = \"#ef4444\"),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šè¥é”€æ•ˆæœåˆ†æ\n\n# æ¨¡æ‹Ÿè¥é”€æ•°æ®\nmarketing &lt;- data.frame(\n  week = 1:12,\n  ad_spend = c(5, 8, 12, 15, 20, 25, 22, 18, 15, 12, 10, 8),\n  conversions = c(120, 180, 280, 350, 480, 600, 550, 420, 350, 280, 220, 180)\n)\n\ncoef &lt;- max(marketing$conversions) / max(marketing$ad_spend)\n\nggplot(marketing, aes(x = week)) +\n  geom_col(aes(y = conversions, fill = \"è½¬åŒ–æ•°\"), alpha = 0.7, width = 0.7) +\n  geom_line(aes(y = ad_spend * coef, color = \"å¹¿å‘Šæ”¯å‡º\"), linewidth = 1.5) +\n  geom_point(aes(y = ad_spend * coef, color = \"å¹¿å‘Šæ”¯å‡º\"), size = 3) +\n  scale_fill_manual(values = c(\"è½¬åŒ–æ•°\" = \"#10b981\")) +\n  scale_color_manual(values = c(\"å¹¿å‘Šæ”¯å‡º\" = \"#f59e0b\")) +\n  scale_y_continuous(\n    name = \"è½¬åŒ–æ•°\",\n    sec.axis = sec_axis(~ . / coef, name = \"å¹¿å‘Šæ”¯å‡º (ä¸‡å…ƒ)\")\n  ) +\n  scale_x_continuous(breaks = 1:12, labels = paste0(\"ç¬¬\", 1:12, \"å‘¨\")) +\n  labs(\n    title = \"å¹¿å‘ŠæŠ•å…¥ä¸è½¬åŒ–æ•ˆæœ\",\n    subtitle = \"12 å‘¨è¥é”€æ´»åŠ¨è¿½è¸ª\",\n    x = NULL, fill = NULL, color = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹3ï¼šåº“å­˜ç®¡ç†\n\n# æ¨¡æ‹Ÿåº“å­˜æ•°æ®\ninventory &lt;- data.frame(\n  month = factor(month.abb, levels = month.abb),\n  stock = c(1000, 850, 920, 780, 650, 500, 600, 750, 900, 1100, 1200, 1050),\n  turnover = c(2.5, 2.8, 2.6, 3.0, 3.5, 4.0, 3.8, 3.2, 2.8, 2.4, 2.2, 2.5)\n)\n\ncoef &lt;- max(inventory$stock) / max(inventory$turnover)\n\nggplot(inventory, aes(x = month)) +\n  geom_col(aes(y = stock), fill = \"#6366f1\", alpha = 0.7, width = 0.6) +\n  geom_line(aes(y = turnover * coef, group = 1), \n            color = \"#ec4899\", linewidth = 1.5) +\n  geom_point(aes(y = turnover * coef), color = \"#ec4899\", size = 3.5) +\n  geom_hline(yintercept = 800, linetype = \"dashed\", color = \"#6366f1\", alpha = 0.5) +\n  annotate(\"text\", x = 11.5, y = 850, label = \"å®‰å…¨åº“å­˜çº¿\", \n           color = \"#6366f1\", size = 3.5) +\n  scale_y_continuous(\n    name = \"åº“å­˜é‡ (ä»¶)\",\n    sec.axis = sec_axis(~ . / coef, name = \"å‘¨è½¬ç‡\")\n  ) +\n  labs(\n    title = \"åº“å­˜é‡ä¸å‘¨è½¬ç‡æœˆåº¦å˜åŒ–\",\n    x = NULL\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    axis.title.y.left = element_text(color = \"#6366f1\", face = \"bold\"),\n    axis.text.y.left = element_text(color = \"#6366f1\"),\n    axis.title.y.right = element_text(color = \"#ec4899\", face = \"bold\"),\n    axis.text.y.right = element_text(color = \"#ec4899\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å°è£…å‡½æ•°",
    "href": "2019-dualaxis.html#å°è£…å‡½æ•°",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "å°è£…å‡½æ•°",
    "text": "å°è£…å‡½æ•°\nä¸ºäº†æ–¹ä¾¿å¤ç”¨ï¼Œå¯ä»¥å°†åŒåæ ‡è½´ç»‘å›¾å°è£…æˆå‡½æ•°ï¼š\n\n#' åˆ›å»ºæŸ±çº¿æ··åˆåŒåæ ‡è½´å›¾\n#' \n#' @param data æ•°æ®æ¡†\n#' @param x xè½´å˜é‡åï¼ˆå­—ç¬¦ä¸²ï¼‰\n#' @param y1 ä¸»è½´å˜é‡åï¼ˆæŸ±çŠ¶å›¾ï¼‰\n#' @param y2 æ¬¡è½´å˜é‡åï¼ˆæŠ˜çº¿å›¾ï¼‰\n#' @param y1_name ä¸»è½´æ ‡ç­¾\n#' @param y2_name æ¬¡è½´æ ‡ç­¾\n#' @param title å›¾è¡¨æ ‡é¢˜\n#' @param bar_color æŸ±çŠ¶å›¾é¢œè‰²\n#' @param line_color æŠ˜çº¿å›¾é¢œè‰²\ncreate_dual_axis_plot &lt;- function(\n    data, x, y1, y2,\n    y1_name = y1, y2_name = y2,\n    title = NULL,\n    bar_color = \"#4f46e5\",\n    line_color = \"#ef4444\"\n) {\n  \n  # æå–æ•°æ®\n  x_val &lt;- data[[x]]\n  y1_val &lt;- data[[y1]]\n  y2_val &lt;- data[[y2]]\n  \n  # è®¡ç®—è½¬æ¢ç³»æ•°\n  coef &lt;- max(y1_val, na.rm = TRUE) / max(y2_val, na.rm = TRUE)\n  \n  # åˆ›å»ºç»‘å›¾æ•°æ®\n  plot_data &lt;- data.frame(\n    x = x_val,\n    y1 = y1_val,\n    y2 = y2_val,\n    y2_scaled = y2_val * coef\n  )\n  \n  # ç»˜å›¾\n  ggplot(plot_data, aes(x = x)) +\n    geom_col(aes(y = y1), fill = bar_color, alpha = 0.7, width = 0.6) +\n    geom_line(aes(y = y2_scaled, group = 1), color = line_color, linewidth = 1.2) +\n    geom_point(aes(y = y2_scaled), color = line_color, size = 3) +\n    scale_y_continuous(\n      name = y1_name,\n      sec.axis = sec_axis(~ . / coef, name = y2_name)\n    ) +\n    labs(title = title, x = NULL) +\n    theme_bw(base_size = 12) +\n    theme(\n      axis.title.y.left = element_text(color = bar_color, face = \"bold\"),\n      axis.text.y.left = element_text(color = bar_color),\n      axis.title.y.right = element_text(color = line_color, face = \"bold\"),\n      axis.text.y.right = element_text(color = line_color)\n    )\n}\n\n# ä½¿ç”¨ç¤ºä¾‹\ncreate_dual_axis_plot(\n  data = df,\n  x = \"month\",\n  y1 = \"sales\",\n  y2 = \"growth_rate\",\n  y1_name = \"é”€å”®é¢\",\n  y2_name = \"å¢é•¿ç‡ (%)\",\n  title = \"æœˆåº¦é”€å”®æ•°æ®\"\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å¸¸è§é—®é¢˜",
    "href": "2019-dualaxis.html#å¸¸è§é—®é¢˜",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n1. å¦‚ä½•ç¡®å®šåˆé€‚çš„è½¬æ¢ç³»æ•°ï¼Ÿ\næœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯è®©ä¸¤ä¸ªå˜é‡çš„æœ€å¤§å€¼å¯¹é½ï¼š\ncoef &lt;- max(ä¸»è½´å˜é‡) / max(æ¬¡è½´å˜é‡)\nä¹Ÿå¯ä»¥æ ¹æ®æ•°æ®èŒƒå›´è°ƒæ•´ï¼š\n# è®©ä¸¤ä¸ªå˜é‡çš„èŒƒå›´å¯¹é½\ncoef &lt;- diff(range(ä¸»è½´å˜é‡)) / diff(range(æ¬¡è½´å˜é‡))\n\n\n2. æ¬¡è½´æ•°æ®æ˜¾ç¤ºä¸å®Œæ•´æ€ä¹ˆåŠï¼Ÿ\nè°ƒæ•´ä¸»è½´çš„ limitsï¼š\nscale_y_continuous(\n  limits = c(0, max(ä¸»è½´å˜é‡) * 1.1),  # ç•™å‡º10%ç©ºé—´\n  sec.axis = sec_axis(...)\n)\n\n\n3. å¦‚ä½•è®©æ¬¡è½´ä» 0 å¼€å§‹ï¼Ÿ\néœ€è¦å¯¹æ•°æ®è¿›è¡Œåç§»å˜æ¢ï¼š\n\n# ç¤ºä¾‹ï¼šæ¬¡è½´æ•°æ®èŒƒå›´æ˜¯ 10-30ï¼Œæƒ³è®©å®ƒä» 0 å¼€å§‹æ˜¾ç¤º\ndf_offset &lt;- data.frame(\n  x = 1:5,\n  y1 = c(100, 150, 200, 180, 220),\n  y2 = c(10, 15, 20, 25, 30)\n)\n\n# è®¡ç®—åç§»å’Œç¼©æ”¾\ny2_min &lt;- min(df_offset$y2)\ny2_max &lt;- max(df_offset$y2)\ny1_max &lt;- max(df_offset$y1)\n\n# å˜æ¢å…¬å¼: y2_transformed = (y2 - y2_min) * y1_max / (y2_max - y2_min)\ncoef &lt;- y1_max / (y2_max - y2_min)\noffset &lt;- y2_min\n\nggplot(df_offset, aes(x = x)) +\n  geom_col(aes(y = y1), fill = \"#4f46e5\", alpha = 0.7) +\n  geom_line(aes(y = (y2 - offset) * coef), color = \"#ef4444\", linewidth = 1.2) +\n  scale_y_continuous(\n    name = \"ä¸»è½´\",\n    sec.axis = sec_axis(~ . / coef + offset, name = \"æ¬¡è½´\")\n  ) +\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n4. åŒåæ ‡è½´ vs åˆ†é¢å›¾\nå½“ä¸ç¡®å®šæ˜¯å¦ä½¿ç”¨åŒåæ ‡è½´æ—¶ï¼Œè€ƒè™‘ç”¨åˆ†é¢å›¾æ›¿ä»£ï¼š\n\n# æ•°æ®è½¬æ¢ä¸ºé•¿æ ¼å¼\ndf_long &lt;- df |&gt;\n  pivot_longer(cols = c(sales, growth_rate), \n               names_to = \"metric\", \n               values_to = \"value\") |&gt;\n  mutate(metric = ifelse(metric == \"sales\", \"é”€å”®é¢\", \"å¢é•¿ç‡ (%)\"))\n\n# åˆ†é¢å›¾\nggplot(df_long, aes(x = month, y = value, color = metric)) +\n  geom_line(linewidth = 1.2) +\n  geom_point(size = 2.5) +\n  facet_wrap(~ metric, ncol = 1, scales = \"free_y\") +\n  scale_x_continuous(breaks = 1:12, labels = paste0(1:12, \"æœˆ\")) +\n  labs(title = \"æœˆåº¦é”€å”®æ•°æ®\", x = NULL, y = NULL, color = NULL) +\n  theme_bw(base_size = 12) +\n  theme(legend.position = \"none\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#æ€»ç»“",
    "href": "2019-dualaxis.html#æ€»ç»“",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nåŒåæ ‡è½´çš„æ ¸å¿ƒè¦ç‚¹ï¼š\n\nåŸç†ï¼šæ¬¡è½´æ˜¯ä¸»è½´çš„çº¿æ€§å˜æ¢ï¼Œé€šè¿‡ sec_axis() å®ç°\nè½¬æ¢ç³»æ•°ï¼šcoef = max(ä¸»è½´) / max(æ¬¡è½´)\nç»˜åˆ¶æ¬¡è½´æ•°æ®ï¼šä¹˜ä»¥ç³»æ•° y2 * coef\nè®¾ç½®æ¬¡è½´åˆ»åº¦ï¼šé™¤ä»¥ç³»æ•° ~ . / coef\nç¾åŒ–ï¼šåŒ¹é…åæ ‡è½´é¢œè‰²ï¼Œæ·»åŠ å›¾ä¾‹\n\nä½¿ç”¨å»ºè®®ï¼š\n\nâœ… ä¸¤ä¸ªå˜é‡æœ‰æ˜ç¡®å…³è”æ—¶ä½¿ç”¨\nâœ… ç”¨é¢œè‰²åŒºåˆ†ä¸¤ä¸ªè½´\nâœ… æ¸…æ™°æ ‡æ³¨å•ä½\nâŒ é¿å…åˆ»æ„è°ƒæ•´æ¯”ä¾‹è¯¯å¯¼è¯»è€…\nâŒ å½“æ•°æ®å¤æ‚æ—¶ï¼Œè€ƒè™‘åˆ†é¢å›¾æ›¿ä»£",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2019-dualaxis.html#å‚è€ƒèµ„æº",
    "href": "2019-dualaxis.html#å‚è€ƒèµ„æº",
    "title": "åŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nggplot2 å®˜æ–¹æ–‡æ¡£ - sec_axis\nggnewscale åŒ…\nWhy not to use two Y axes - å…³äºåŒåæ ‡è½´äº‰è®®çš„è®¨è®º",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åŒåæ ‡è½´"
    ]
  },
  {
    "objectID": "2017-ggtext.html",
    "href": "2017-ggtext.html",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "",
    "text": "ggtext åŒ…æ‰©å±•äº† ggplot2 çš„æ–‡æœ¬æ¸²æŸ“èƒ½åŠ›ï¼Œæ”¯æŒ Markdown å’Œ HTML è¯­æ³•ï¼Œæ˜¯è§£å†³ä¸­è‹±æ–‡å­—ä½“æ··åˆæ˜¾ç¤ºçš„ç»ˆææ–¹æ¡ˆã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#råŒ…ä»‹ç»",
    "href": "2017-ggtext.html#råŒ…ä»‹ç»",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\n\nä¸ºä»€ä¹ˆéœ€è¦ ggtextï¼Ÿ\nåœ¨ç§‘ç ”ç»‘å›¾ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š\n\nä¸­è‹±æ–‡æ··åˆï¼šæ ‡é¢˜éœ€è¦åŒæ—¶æ˜¾ç¤ºä¸­æ–‡å’Œè‹±æ–‡ï¼Œä½†å­—ä½“ä¸ç»Ÿä¸€\nå¯Œæ–‡æœ¬æ ¼å¼ï¼šéœ€è¦åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ç²—ä½“ã€æ–œä½“ã€é¢œè‰²ç­‰æ ¼å¼\nä¸Šä¸‹æ ‡ï¼šåŒ–å­¦å¼ Hâ‚‚Oã€æ•°å­¦å…¬å¼ RÂ² ç­‰éœ€è¦ç‰¹æ®Šæ ¼å¼\nå›¾ä¾‹ç¾åŒ–ï¼šå¸Œæœ›å›¾ä¾‹æ–‡å­—å¸¦é¢œè‰²ã€æ ¼å¼\n\nggtext å®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ï¼\n\n\nå®‰è£…ä¸åŠ è½½\n\ninstall.packages(\"ggtext\")\n\n\nlibrary(ggplot2)\nlibrary(ggtext)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#åŸºç¡€ç”¨æ³•markdown-æ–‡æœ¬",
    "href": "2017-ggtext.html#åŸºç¡€ç”¨æ³•markdown-æ–‡æœ¬",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "åŸºç¡€ç”¨æ³•ï¼šMarkdown æ–‡æœ¬",
    "text": "åŸºç¡€ç”¨æ³•ï¼šMarkdown æ–‡æœ¬\n\nelement_markdown() åŸºç¡€\nggtext çš„æ ¸å¿ƒå‡½æ•°æ˜¯ element_markdown()ï¼Œå®ƒæ›¿ä»£ element_text() æ¥æ¸²æŸ“å¯Œæ–‡æœ¬ã€‚\n\n# åˆ›å»ºç¤ºä¾‹æ•°æ®\ndata &lt;- data.frame(\n  category = c(\"Control\", \"Treatment A\", \"Treatment B\"),\n  value = c(25, 45, 35)\n)\n\n# ä½¿ç”¨ Markdown è¯­æ³•çš„æ ‡é¢˜\nggplot(data, aes(x = category, y = value, fill = category)) +\n  geom_col() +\n  labs(\n    title = \"**å®éªŒç»“æœ** (*Experimental Results*)\",\n    x = \"åˆ†ç»„\",\n    y = \"æ•°å€¼\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_markdown(size = 16, hjust = 0.5)\n  ) +\n  scale_fill_brewer(palette = \"Set2\")\n\n\n\n\n\n\n\n\n\n\næ”¯æŒçš„ Markdown è¯­æ³•\n\n\n\nè¯­æ³•\næ•ˆæœ\nç¤ºä¾‹\n\n\n\n\n**text**\nç²—ä½“\nç²—ä½“æ–‡å­—\n\n\n*text*\næ–œä½“\næ–œä½“æ–‡å­—\n\n\n&lt;sup&gt;text&lt;/sup&gt;\nä¸Šæ ‡\nR2\n\n\n&lt;sub&gt;text&lt;/sub&gt;\nä¸‹æ ‡\nH2O\n\n\n&lt;span style='color:red'&gt;\né¢œè‰²\nçº¢è‰²æ–‡å­—\n\n\n&lt;br&gt;\næ¢è¡Œ\nå¤šè¡Œæ–‡æœ¬\n\n\n\n\nggplot(data, aes(x = category, y = value, fill = category)) +\n  geom_col() +\n  labs(\n    title = \"H&lt;sub&gt;2&lt;/sub&gt;O å«é‡ä¸ CO&lt;sub&gt;2&lt;/sub&gt; æµ“åº¦\",\n    subtitle = \"ç›¸å…³ç³»æ•° R&lt;sup&gt;2&lt;/sup&gt; = 0.95\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    plot.subtitle = element_markdown(size = 11, hjust = 0.5, color = \"gray50\")\n  ) +\n  scale_fill_brewer(palette = \"Pastel1\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "href": "2017-ggtext.html#ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®",
    "text": "ä¸­è‹±æ–‡æ··åˆå­—ä½“è®¾ç½®\n\næ ¸å¿ƒåŸç†\nggtext ä½¿ç”¨ CSS è¯­æ³•æ¥æŒ‡å®šå­—ä½“ï¼Œé€šè¿‡ &lt;span style='font-family:...'&gt; å¯ä»¥ä¸ºä¸åŒæ–‡å­—æŒ‡å®šä¸åŒå­—ä½“ã€‚\n\n\nåŸºç¡€ç¤ºä¾‹ï¼šä¸­è‹±æ–‡åˆ†åˆ«è®¾ç½®å­—ä½“\n\n# åˆ›å»ºå¸¦ä¸­è‹±æ–‡æ ‡ç­¾çš„æ•°æ®\ndf &lt;- data.frame(\n  group = c(\"å¯¹ç…§ç»„\\nControl\", \"æ²»ç–—ç»„A\\nTreatment A\", \"æ²»ç–—ç»„B\\nTreatment B\"),\n  mean_value = c(23.5, 45.2, 38.7)\n)\n\nggplot(df, aes(x = group, y = mean_value, fill = group)) +\n  geom_col(width = 0.7) +\n  labs(\n    title = \"&lt;span style='font-family:SimHei'&gt;ä¸´åºŠè¯•éªŒç»“æœ&lt;/span&gt; &lt;span style='font-family:Arial'&gt;Clinical Trial Results&lt;/span&gt;\",\n    x = NULL,\n    y = \"&lt;span style='font-family:SimSun'&gt;æ•°å€¼&lt;/span&gt; (Value)\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_markdown(size = 16, hjust = 0.5),\n    axis.title.y = element_markdown(),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Blues\")\n\n\n\n\n\n\n\n\n\n\næ¨èçš„ä¸­è‹±æ–‡å­—ä½“æ­é…\n\n\n\nç”¨é€”\nä¸­æ–‡å­—ä½“\nè‹±æ–‡å­—ä½“\næ•ˆæœ\n\n\n\n\næ­£æ–‡\nSimSun (å®‹ä½“)\nTimes New Roman\nå­¦æœ¯è§„èŒƒ\n\n\næ ‡é¢˜\nSimHei (é»‘ä½“)\nArial\né†’ç›®æ¸…æ™°\n\n\nå¼ºè°ƒ\nMicrosoft YaHei (å¾®è½¯é›…é»‘)\nHelvetica\nç°ä»£ç®€æ´\n\n\nä»£ç \nSimSun\nConsolas\nç­‰å®½æ•´é½\n\n\n\n\n\nåˆ›å»ºä¾¿æ·å‡½æ•°\nä¸ºäº†ç®€åŒ–ä¸­è‹±æ–‡æ··åˆå­—ä½“çš„è®¾ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè¾…åŠ©å‡½æ•°ï¼š\n\n# ä¸­è‹±æ–‡æ··åˆæ–‡æœ¬æ ¼å¼åŒ–å‡½æ•°\nformat_cn_en &lt;- function(cn_text, en_text, \n                         cn_font = \"SimHei\", \n                         en_font = \"Arial\",\n                         cn_color = \"black\",\n                         en_color = \"gray30\") {\n  glue::glue(\n    \"&lt;span style='font-family:{cn_font}; color:{cn_color}'&gt;{cn_text}&lt;/span&gt; \",\n    \"&lt;span style='font-family:{en_font}; color:{en_color}; font-style:italic'&gt;{en_text}&lt;/span&gt;\"\n  )\n}\n\n# ä½¿ç”¨ç¤ºä¾‹\ntitle_text &lt;- format_cn_en(\"ç”Ÿå­˜åˆ†æç»“æœ\", \"Survival Analysis\")\n\nggplot(mtcars, aes(x = factor(cyl), y = mpg, fill = factor(cyl))) +\n  geom_boxplot() +\n  labs(title = title_text) +\n  theme_bw() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Set2\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#é«˜çº§åº”ç”¨å½©è‰²åæ ‡è½´æ ‡ç­¾",
    "href": "2017-ggtext.html#é«˜çº§åº”ç”¨å½©è‰²åæ ‡è½´æ ‡ç­¾",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "é«˜çº§åº”ç”¨ï¼šå½©è‰²åæ ‡è½´æ ‡ç­¾",
    "text": "é«˜çº§åº”ç”¨ï¼šå½©è‰²åæ ‡è½´æ ‡ç­¾\n\næŒ‰åˆ†ç»„ç€è‰²çš„ X è½´æ ‡ç­¾\n\n# åˆ›å»ºæ•°æ®ï¼Œæ ‡ç­¾åŒ…å«é¢œè‰²ä¿¡æ¯\niris_summary &lt;- iris |&gt;\n  group_by(Species) |&gt;\n  summarise(mean_length = mean(Sepal.Length), .groups = \"drop\") |&gt;\n  mutate(\n    # ä¸ºæ¯ä¸ªç‰©ç§åˆ›å»ºå¸¦é¢œè‰²çš„æ ‡ç­¾\n    colored_label = case_when(\n      Species == \"setosa\" ~ \"&lt;span style='color:#E41A1C'&gt;**Setosa** å±±é¸¢å°¾&lt;/span&gt;\",\n      Species == \"versicolor\" ~ \"&lt;span style='color:#377EB8'&gt;**Versicolor** å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n      Species == \"virginica\" ~ \"&lt;span style='color:#4DAF4A'&gt;**Virginica** ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n    )\n  )\n\nggplot(iris_summary, aes(x = colored_label, y = mean_length, fill = Species)) +\n  geom_col(width = 0.6) +\n  labs(\n    title = \"é¸¢å°¾èŠ±è¼ç‰‡é•¿åº¦æ¯”è¾ƒ\",\n    x = NULL,\n    y = \"å¹³å‡è¼ç‰‡é•¿åº¦ (cm)\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    axis.text.x = element_markdown(size = 11),\n    legend.position = \"none\"\n  ) +\n  scale_fill_manual(values = c(\"#E41A1C\", \"#377EB8\", \"#4DAF4A\"))\n\n\n\n\n\n\n\n\n\n\nå½©è‰²å›¾ä¾‹æ–‡å­—\n\n# ä½¿ç”¨ ggtext ç¾åŒ–å›¾ä¾‹\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  scale_color_manual(\n    values = c(\"setosa\" = \"#E41A1C\", \"versicolor\" = \"#377EB8\", \"virginica\" = \"#4DAF4A\"),\n    labels = c(\n      \"setosa\" = \"&lt;span style='color:#E41A1C'&gt;**Setosa** å±±é¸¢å°¾&lt;/span&gt;\",\n      \"versicolor\" = \"&lt;span style='color:#377EB8'&gt;**Versicolor** å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n      \"virginica\" = \"&lt;span style='color:#4DAF4A'&gt;**Virginica** ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n    )\n  ) +\n  labs(\n    title = \"é¸¢å°¾èŠ±å½¢æ€ç‰¹å¾æ•£ç‚¹å›¾\",\n    x = \"è¼ç‰‡é•¿åº¦ Sepal Length (cm)\",\n    y = \"è¼ç‰‡å®½åº¦ Sepal Width (cm)\",\n    color = \"ç‰©ç§ Species\"\n  ) +\n  theme_bw() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    legend.text = element_markdown(size = 10)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#æ–‡æœ¬æ¡†geom_richtext-å’Œ-geom_textbox",
    "href": "2017-ggtext.html#æ–‡æœ¬æ¡†geom_richtext-å’Œ-geom_textbox",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "æ–‡æœ¬æ¡†ï¼šgeom_richtext() å’Œ geom_textbox()",
    "text": "æ–‡æœ¬æ¡†ï¼šgeom_richtext() å’Œ geom_textbox()\n\ngeom_richtext()ï¼šå¯Œæ–‡æœ¬æ ‡æ³¨\n\n# åœ¨å›¾ä¸­æ·»åŠ å¯Œæ–‡æœ¬æ ‡æ³¨\ndf_annotation &lt;- data.frame(\n  x = 6.5,\n  y = 4.2,\n  label = \"**æœ€å¤§å€¼ç‚¹**&lt;br&gt;&lt;span style='color:red; font-size:10pt'&gt;*Sepal.Length* = 7.9&lt;/span&gt;\"\n)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width)) +\n  geom_point(aes(color = Species), alpha = 0.6) +\n  geom_richtext(\n    data = df_annotation,\n    aes(x = x, y = y, label = label),\n    fill = \"white\",\n    label.color = \"gray50\",\n    hjust = 0\n  ) +\n  labs(title = \"ä½¿ç”¨ geom_richtext æ·»åŠ æ ‡æ³¨\") +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  scale_color_brewer(palette = \"Set1\")\n\n\n\n\n\n\n\n\n\n\ngeom_textbox()ï¼šæ–‡æœ¬æ¡†\n\n# æ·»åŠ å¯æ¢è¡Œçš„æ–‡æœ¬æ¡†\nlong_text &lt;- \"è¿™æ˜¯ä¸€æ®µè¾ƒé•¿çš„è¯´æ˜æ–‡å­—ï¼Œä½¿ç”¨ **geom_textbox** å¯ä»¥å®ç°è‡ªåŠ¨æ¢è¡Œã€‚æ”¯æŒ *Markdown* è¯­æ³•å’Œ &lt;span style='color:blue'&gt;HTML æ ·å¼&lt;/span&gt;ã€‚\"\n\nggplot(mtcars, aes(x = wt, y = mpg)) +\n  geom_point(aes(color = factor(cyl))) +\n  geom_textbox(\n    aes(x = 4.5, y = 30, label = long_text),\n    width = unit(5, \"cm\"),\n    fill = \"lightyellow\",\n    box.color = \"orange\",\n    hjust = 0.5\n  ) +\n  labs(title = \"ä½¿ç”¨ geom_textbox æ·»åŠ è¯´æ˜\") +\n  theme_bw() +\n  theme(plot.title = element_text(hjust = 0.5)) +\n  scale_color_brewer(palette = \"Dark2\", name = \"æ°”ç¼¸æ•°\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "href": "2017-ggtext.html#å®æˆ˜æ¡ˆä¾‹å®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨",
    "text": "å®æˆ˜æ¡ˆä¾‹ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡æ··åˆå›¾è¡¨\n\næ¡ˆä¾‹1ï¼šä¸´åºŠè¯•éªŒç»“æœå›¾\n\n# æ¨¡æ‹Ÿä¸´åºŠæ•°æ®\nset.seed(42)\nclinical_data &lt;- data.frame(\n  group = rep(c(\"å®‰æ…°å‰‚ç»„\\nPlacebo\", \"ä½å‰‚é‡ç»„\\nLow Dose\", \"é«˜å‰‚é‡ç»„\\nHigh Dose\"), each = 30),\n  response = c(\n    rnorm(30, 50, 10),\n    rnorm(30, 60, 12),\n    rnorm(30, 75, 8)\n  )\n)\n\n# è®¡ç®—æ±‡æ€»ç»Ÿè®¡\nsummary_data &lt;- clinical_data |&gt;\n  group_by(group) |&gt;\n  summarise(\n    mean_val = mean(response),\n    se = sd(response) / sqrt(n()),\n    .groups = \"drop\"\n  )\n\n# åˆ›å»ºå›¾è¡¨\np_clinical &lt;- ggplot(summary_data, aes(x = group, y = mean_val, fill = group)) +\n  geom_col(width = 0.6, color = \"black\", linewidth = 0.3) +\n  geom_errorbar(\n    aes(ymin = mean_val - se, ymax = mean_val + se),\n    width = 0.2\n  ) +\n  labs(\n    title = \"&lt;span style='font-family:SimHei; font-size:16pt'&gt;**è¯ç‰©ç–—æ•ˆè¯„ä¼°**&lt;/span&gt;&lt;br&gt;&lt;span style='font-family:Arial; color:gray40; font-size:12pt'&gt;*Drug Efficacy Assessment*&lt;/span&gt;\",\n    x = NULL,\n    y = \"&lt;span style='font-family:SimSun'&gt;åº”ç­”ç‡ (%)&lt;/span&gt; &lt;span style='font-family:Arial; color:gray50'&gt;Response Rate&lt;/span&gt;\"\n  ) +\n  theme_bw(base_size = 11) +\n  theme(\n    plot.title = element_markdown(hjust = 0.5, lineheight = 1.2),\n    axis.title.y = element_markdown(),\n    axis.text.x = element_text(size = 10),\n    legend.position = \"none\"\n  ) +\n  scale_fill_brewer(palette = \"Blues\") +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1)))\n\np_clinical\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šå¸¦å›¾ç‰‡çš„å›¾ä¾‹\n\n# åˆ›å»ºè‡ªå®šä¹‰å›¾ä¾‹æ ‡ç­¾ï¼ˆæ¨¡æ‹Ÿå¸¦å›¾æ ‡æ•ˆæœï¼‰\nlegend_labels &lt;- c(\n  \"setosa\" = \"&lt;span style='color:#E41A1C'&gt;â—&lt;/span&gt; **Setosa** &lt;span style='color:gray50'&gt;å±±é¸¢å°¾&lt;/span&gt;\",\n  \"versicolor\" = \"&lt;span style='color:#377EB8'&gt;â—&lt;/span&gt; **Versicolor** &lt;span style='color:gray50'&gt;å˜è‰²é¸¢å°¾&lt;/span&gt;\",\n  \"virginica\" = \"&lt;span style='color:#4DAF4A'&gt;â—&lt;/span&gt; **Virginica** &lt;span style='color:gray50'&gt;ç»´å‰å°¼äºšé¸¢å°¾&lt;/span&gt;\"\n)\n\nggplot(iris, aes(x = Sepal.Length, y = Petal.Length, color = Species)) +\n  geom_point(size = 2.5, alpha = 0.7) +\n  scale_color_manual(\n    values = c(\"setosa\" = \"#E41A1C\", \"versicolor\" = \"#377EB8\", \"virginica\" = \"#4DAF4A\"),\n    labels = legend_labels\n  ) +\n  labs(\n    title = \"é¸¢å°¾èŠ± **è¼ç‰‡** ä¸ **èŠ±ç“£** é•¿åº¦å…³ç³»\",\n    subtitle = \"*Relationship between Sepal and Petal Length*\",\n    x = \"è¼ç‰‡é•¿åº¦ (cm)\",\n    y = \"èŠ±ç“£é•¿åº¦ (cm)\",\n    color = \"ç‰©ç§ Species\"\n  ) +\n  theme_bw() +\n  theme(\n    plot.title = element_markdown(size = 14, hjust = 0.5),\n    plot.subtitle = element_markdown(size = 11, hjust = 0.5, color = \"gray50\"),\n    legend.text = element_markdown(size = 10),\n    legend.title = element_text(face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "href": "2017-ggtext.html#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ",
    "text": "å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ\n\n1. å­—ä½“ä¸æ˜¾ç¤º\n\n# æ£€æŸ¥ç³»ç»Ÿå¯ç”¨å­—ä½“\nwindowsFonts()\n\n# æŸ¥çœ‹ç‰¹å®šå­—ä½“æ˜¯å¦å¯ç”¨\nlibrary(systemfonts)\nsystem_fonts() |&gt; \n  filter(grepl(\"Sim|Microsoft\", family, ignore.case = TRUE))\n\n\n\n2. PDF å¯¼å‡ºä¸­æ–‡ä¹±ç \n\n# ä½¿ç”¨ ragg åŒ…å¯¼å‡º PNGï¼ˆæ¨èï¼‰\nggsave(\"figure.png\", plot = p, device = ragg::agg_png, dpi = 300)\n\n# PDF ä½¿ç”¨ cairo_pdf\nggsave(\"figure.pdf\", plot = p, device = cairo_pdf)\n\n\n\n3. element_markdown ä¸ element_text çš„åŒºåˆ«\n\n\n\nç‰¹æ€§\nelement_text()\nelement_markdown()\n\n\n\n\nçº¯æ–‡æœ¬\nâœ“\nâœ“\n\n\nç²—ä½“/æ–œä½“\nface å‚æ•°\nMarkdown è¯­æ³•\n\n\né¢œè‰²\ncolor å‚æ•°\nHTML span æ ‡ç­¾\n\n\nå¤šå­—ä½“\nâœ—\nâœ“\n\n\nä¸Šä¸‹æ ‡\nâœ—\nâœ“",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2017-ggtext.html#æ€»ç»“",
    "href": "2017-ggtext.html#æ€»ç»“",
    "title": "ggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nggtext åŒ…çš„æ ¸å¿ƒåŠŸèƒ½ï¼š\n\nelement_markdown()ï¼šåœ¨ä¸»é¢˜å…ƒç´ ä¸­ä½¿ç”¨ Markdown/HTML\ngeom_richtext()ï¼šåœ¨å›¾ä¸­æ·»åŠ å¯Œæ–‡æœ¬æ ‡æ³¨\ngeom_textbox()ï¼šæ·»åŠ å¯æ¢è¡Œçš„æ–‡æœ¬æ¡†\nä¸­è‹±æ–‡æ··åˆï¼šé€šè¿‡ CSS font-family å±æ€§å®ç°\n\næ¨èçš„å·¥ä½œæµç¨‹ï¼š\n\nä½¿ç”¨ glue åŒ…æ„å»ºå¤æ‚çš„ HTML å­—ç¬¦ä¸²\nåˆ›å»ºè¾…åŠ©å‡½æ•°ç®€åŒ–é‡å¤æ“ä½œ\nä½¿ç”¨ ragg åŒ…å¯¼å‡ºç¡®ä¿ä¸­æ–‡æ­£å¸¸æ˜¾ç¤º\n\nå‚è€ƒèµ„æºï¼š\n\nggtext å®˜æ–¹æ–‡æ¡£\nCRAN é¡µé¢\nggtext GitHub",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "ggtext - ä¸­è‹±æ–‡å­—ä½“æ··åˆ"
    ]
  },
  {
    "objectID": "2015-map.html",
    "href": "2015-map.html",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¦‚ä½•ç»˜åˆ¶é‡‡æ ·åœ°å›¾å’Œå›½å†…åŒºåŸŸåœ°å›¾ï¼Œå¹¶è‡ªå®šä¹‰ç›¸å…³å†…å®¹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»˜åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#råŒ…ä»‹ç»",
    "href": "2015-map.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nggspatialæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»˜åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#råŒ…å®‰è£…",
    "href": "2015-map.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"ggspatial\")\ninstall.packages(\"sf\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»˜åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#åŸºç¡€ç»˜å›¾ä»£ç ",
    "href": "2015-map.html#åŸºç¡€ç»˜å›¾ä»£ç ",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "åŸºç¡€ç»˜å›¾ä»£ç ",
    "text": "åŸºç¡€ç»˜å›¾ä»£ç \n\nå¯¼å…¥åœ°å›¾jsonæ•°æ®\nè¿›å…¥ä»é˜¿é‡Œäº‘DataVå¯è§†åŒ–ç½‘ç«™ï¼ˆå¯é€‰æ‹©å…¶ä»–å¹³å°ï¼‰ä¸‹è½½æ ¼å¼ä¸º.jsonçš„åœ°å›¾æ•°æ®ï¼š\n\n\n\næ•°æ®å¯¼å…¥\n\nlibrary(ggspatial)\n\nWarning: ç¨‹åºåŒ…'ggspatial'æ˜¯ç”¨Rç‰ˆæœ¬4.5.1 æ¥å»ºé€ çš„\n\nlibrary(sf)\n\nWarning: ç¨‹åºåŒ…'sf'æ˜¯ç”¨Rç‰ˆæœ¬4.5.1 æ¥å»ºé€ çš„\n\n\nLinking to GEOS 3.13.1, GDAL 3.11.0, PROJ 9.6.0; sf_use_s2() is TRUE\n\nlibrary(ggplot2)\n\nWarning: ç¨‹åºåŒ…'ggplot2'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\n# å¯¼å…¥åœ°å›¾jsonæ•°æ®\nmap &lt;- st_read(\"01-attch\\\\10\\\\å¹¿å·å¸‚.json\")\n\nReading layer `å¹¿å·å¸‚' from data source \n  `E:\\99 å…¶å®ƒ\\05 Rè¯­è¨€\\doc\\01-attch\\10\\å¹¿å·å¸‚.json' using driver `GeoJSON'\nSimple feature collection with 11 features and 9 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 112.9585 ymin: 22.51436 xmax: 114.06 ymax: 23.93292\nGeodetic CRS:  WGS 84\n\n\n\n\nå¼€å§‹ç»˜åˆ¶\n\næ·»åŠ çœä»½åŒºè¾¹æ¡†\n\nggplot() +\n  labs(title = \"Guangzhou\", x = NULL, y = NULL) +\n  geom_sf(data = map, fill = c(\"#f0eedf\"), size = 0.8, color = \"black\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æŒ‡å—é’ˆannotation\n\np &lt;- ggplot() +\n  labs(title = \"Guangzhou\", x = NULL, y = NULL) +\n  geom_sf(data = map, fill = c(\"#f0eedf\"), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  )\np",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»˜åˆ¶"
    ]
  },
  {
    "objectID": "2015-map.html#æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "href": "2015-map.html#æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "title": "Rè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹",
    "section": "æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹",
    "text": "æˆ‘ä»¬æ¥è‡ªå®šä¹‰ç»˜å›¾å†…å®¹\n\nè®¾ç½®ç™½äº‘åŒºå¤©æ²³åŒºçªå‡ºæ˜¾ç¤º\næˆ‘ä»¬æ–°åŠ ä¸€ä¸ªå›¾å±‚å°±å¯ä»¥ï¼Œç„¶åfillå¡«å……äº®è‰²\n\np + geom_sf(\n  data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n  fill = c(\"#c98c50\"),\n  size = 0.8,\n  color = \"black\"\n)\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®text\næ¥ä¸‹æ¥æˆ‘ä»¬è¦åœ¨å›¾é‡Œæ ‡æ³¨éƒ¨åˆ†åŒºå\n\nlibrary(showtext)\nshowtext::showtext_auto()\n\n\np + geom_sf(\n  data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n  fill = c(\"#c98c50\"),\n  size = 0.8,\n  color = \"black\"\n) +\n  geom_sf_text(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  )\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®ä¸€ä¸ªåˆé€‚çš„ä¸»é¢˜\n\np2 &lt;-\n  p + geom_sf(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    fill = c(\"#c98c50\"),\n    size = 0.8,\n    color = \"black\"\n  ) +\n  geom_sf_text(\n    data = map |&gt; dplyr::filter(name %in% c(\"å¤©æ²³åŒº\", \"ç™½äº‘åŒº\", \"ç•ªç¦ºåŒº\")),\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal()\n\np2\n\n\n\n\n\n\n\n\n\n\nè®¾ç½®æ ¹æ®æ•°å€¼å˜é‡å¯¹å„åŒºçš„fillè¿›è¡Œæ˜ å°„\n\n# å…ˆç”Ÿæˆä¸€ä¸ªéšæœºå˜é‡\nmap_neat_1 &lt;-\n  map |&gt;\n  dplyr::mutate(\n    value = sample(1:100, nrow(map), replace = TRUE)\n  )\n\n\nggplot() +\n  labs(title = \"map_neat_1\", x = NULL, y = NULL) +\n  geom_sf(data = map_neat_1, aes(fill = value), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  ) +\n  geom_sf_text(\n    data = map,\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\næ ¹æ®åˆ†ç±»å˜é‡å¯¹åŒºè¿›è¡Œfillæ˜ å°„\n\nlibrary(MetBrewer)\n\nmap_neat_2 &lt;-\n  map |&gt;\n  dplyr::mutate(\n    group = sample(c(\"A\", \"B\", \"C\"), nrow(map), replace = TRUE)\n  )\n\nggplot() +\n  labs(title = \"map_neat_2\", x = NULL, y = NULL) +\n  geom_sf(data = map_neat_2, aes(fill = group), size = 0.8, color = \"black\") + # è®¾ç½®æ¯”ä¾‹å°º\n  annotation_north_arrow(\n    location = \"tl\",\n    style = north_arrow_nautical(\n      fill = c(\"black\", \"white\"),\n      line_col = \"black\"\n    )\n  ) +\n  geom_sf_text(\n    data = map,\n    aes(label = name),\n    size = 3,\n    color = \"black\",\n    fontface = \"bold\"\n  ) +\n  theme_minimal() +\n  scale_fill_met_d(\"Cassatt1\")\n\n\n\n\n\n\n\n\n\n\næ·»åŠ é‡‡æ ·ç‚¹\n\ndata_sample &lt;-\n  tibble::tibble(\n    lon = c(113.292333, 113.412333, 113.532333),\n    lat = c(23.191944, 23.331944, 22.931944),\n    point = c(\"A\", \"B\", \"C\"),\n  )\n\np2 +\n  geom_point(\n    data = data_sample,\n    aes(x = lon, y = lat),\n    size = 2,\n    color = \"#1647a3\"\n  ) +\n  geom_text(\n    data = data_sample,\n    aes(x = lon, y = lat, label = point),\n    size = 4,\n    color = \"#000000\",\n    fontface = \"bold\",\n    nudge_y = 0.05\n  )+\n  labs(title = \"å¹¿å·å¸‚\")+\n  theme(plot.title = element_text(hjust = 0.5))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "åœ°å›¾ç»˜åˆ¶"
    ]
  },
  {
    "objectID": "2013-legend.html",
    "href": "2013-legend.html",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "",
    "text": "ggplot2ä¸­çš„å›¾ä¾‹æ ·å¼ä¿®æ”¹ï¼ˆå›¾ä¾‹é—´è·ï¼Œä½ç½®ä¿®æ”¹ç­‰ï¼‰ä¸€ç›´æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·çš„å¿ƒå¤´ç—›ï¼Œå› ä¸ºå®ƒçš„ä¿®æ”¹æ–¹æ³•å®åœ¨å¤ªå¤šäº†ï¼Œè€Œä¸”å¾ˆéš¾è®°ä½ã€‚å¤šç§å‚æ•°æ–¹æ³•çœ‹èµ·æ¥æ‚ä¹±æ— ç« ï¼Œä½†æ˜¯åœ¨24å¹´2æœˆæ›´æ–°çš„ggplot2 2.3.5ä¹‹åï¼Œggplot2çš„å›¾ä¾‹ä¿®æ”¹æ–¹æ³•ç»ˆäºæœ‰äº†ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ä¸€ä¸‹å§\nåœ¨ggplot2æ›´æ–°åæœ‰ä¸”ä»…æœ‰ä¸€ç§æ–¹å¼ä¿®æ”¹å›¾ä¾‹æ ·å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨theme()å‚æ•° ã€‚theme()å‡½æ•°æœ‰æ–°çš„å‚æ•°æ¥æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚ï¼Œè¿™ä½¿å¾—å…¨å±€æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚å˜å¾—æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼š theme(legend.frame)æ›¿æ¢ guide_colourbar(frame.colour, frame.linewidth, frame.linetype) å’Œ theme(legend.axis.line)æ›¿æ¢ guide_bins(axis, axis.colour, axis.linewidth, axis.arrow) ã€‚ï¼ˆå¦‚æœæœ‰å…¶å®ƒæ–¹æ³•å°±æ˜¯è¿˜æ²¡å¼ƒç½®ï¼Œå»ºè®®ä¸è¦ç”¨äº†ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#å›¾ä¾‹æ ·å¼ä¿®æ”¹ä»‹ç»",
    "href": "2013-legend.html#å›¾ä¾‹æ ·å¼ä¿®æ”¹ä»‹ç»",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "",
    "text": "ggplot2ä¸­çš„å›¾ä¾‹æ ·å¼ä¿®æ”¹ï¼ˆå›¾ä¾‹é—´è·ï¼Œä½ç½®ä¿®æ”¹ç­‰ï¼‰ä¸€ç›´æ˜¯å¤§éƒ¨åˆ†ç”¨æˆ·çš„å¿ƒå¤´ç—›ï¼Œå› ä¸ºå®ƒçš„ä¿®æ”¹æ–¹æ³•å®åœ¨å¤ªå¤šäº†ï¼Œè€Œä¸”å¾ˆéš¾è®°ä½ã€‚å¤šç§å‚æ•°æ–¹æ³•çœ‹èµ·æ¥æ‚ä¹±æ— ç« ï¼Œä½†æ˜¯åœ¨24å¹´2æœˆæ›´æ–°çš„ggplot2 2.3.5ä¹‹åï¼Œggplot2çš„å›¾ä¾‹ä¿®æ”¹æ–¹æ³•ç»ˆäºæœ‰äº†ä¸€ä¸ªç»Ÿä¸€çš„æ ‡å‡†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ä¸€ä¸‹å§\nåœ¨ggplot2æ›´æ–°åæœ‰ä¸”ä»…æœ‰ä¸€ç§æ–¹å¼ä¿®æ”¹å›¾ä¾‹æ ·å¼ï¼Œé‚£å°±æ˜¯ä½¿ç”¨theme()å‚æ•° ã€‚theme()å‡½æ•°æœ‰æ–°çš„å‚æ•°æ¥æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚ï¼Œè¿™ä½¿å¾—å…¨å±€æ§åˆ¶å›¾ä¾‹çš„å¤–è§‚å˜å¾—æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼š theme(legend.frame)æ›¿æ¢ guide_colourbar(frame.colour, frame.linewidth, frame.linetype) å’Œ theme(legend.axis.line)æ›¿æ¢ guide_bins(axis, axis.colour, axis.linewidth, axis.arrow) ã€‚ï¼ˆå¦‚æœæœ‰å…¶å®ƒæ–¹æ³•å°±æ˜¯è¿˜æ²¡å¼ƒç½®ï¼Œå»ºè®®ä¸è¦ç”¨äº†ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "href": "2013-legend.html#æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "æœ¬æœŸä¸»è¦å†…å®¹æ¥æº",
    "text": "æœ¬æœŸä¸»è¦å†…å®¹æ¥æº\næ›´æ–°è¯´æ˜\nguide_legendæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#åŠ è½½åŒ…",
    "href": "2013-legend.html#åŠ è½½åŒ…",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "åŠ è½½åŒ…",
    "text": "åŠ è½½åŒ…\n\nlibrary(ggplot2)\n\nWarning: ç¨‹åºåŒ…'ggplot2'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2013-legend.html#å›¾ä¾‹è¡Œä¸º",
    "href": "2013-legend.html#å›¾ä¾‹è¡Œä¸º",
    "title": "Rè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹",
    "section": "å›¾ä¾‹è¡Œä¸º",
    "text": "å›¾ä¾‹è¡Œä¸º\n\nguide_legendç³»åˆ—\nggplot2 ä¸­çš„å›¾ä¾‹åŒ…å«åä¸ºguide_legend()ï¼Œè¿˜åŒ…æ‹¬guide_colourbar() ã€ guide_coloursteps()å’Œguide_bins()åŸºæœ¬å‚æ•°éƒ½ä¸€è‡´ï¼Œè®¾ç½®å›¾ä¾‹çš„ç±»å‹ ã€‚\n\nguide_legend(\n  title = waiver(),\n  theme = NULL,\n  position = NULL,\n  direction = NULL,\n  override.aes = list(),\n  nrow = NULL,\n  ncol = NULL,\n  reverse = FALSE,\n  order = 0,\n  ...\n)\n\n\n\næ›´æ–°ååŠ äº†ä»€ä¹ˆ\nä¸‹æ–¹ä»£ç å±•ç¤ºäº†å¦‚ä½•è®¾ç½®æŸå•ç‹¬æ˜ å°„çš„å›¾ä¾‹æ ·å¼å’Œå…¨å±€æ ·å¼çš„åŒºåˆ«ã€‚å¦‚æœè¦å•ç‹¬è®¾ç½®æŸæ˜ å°„çš„å›¾ä¾‹æ ·å¼ï¼Œåªéœ€å°†å…¶æ·»åŠ åˆ°guides() ã€‚å¦‚æœè¦è®¾ç½®å…¨å±€æ ·å¼ï¼Œåªéœ€å°†å…¶æ·»åŠ åˆ°theme() ã€‚æœ€ç»ˆçš„å‚æ•°å½¢å¼å°±æ˜¯theme(legend.XXX = element_XXX()) ã€‚\n\nggplot(mpg, aes(displ, hwy, shape = factor(cyl), colour = cty)) +\n  geom_point() +\n  # è®¾ç½®å•ç‹¬æ˜ å°„çš„å›¾ä¾‹\n  guides(\n    shape  = guide_legend(theme = theme(legend.text = element_text(colour = \"red\"))),\n    colour = guide_colorbar(theme = theme(legend.frame = element_rect(colour = \"red\")))\n  ) +\n  # è®¾ç½®å…¨å±€å›¾ä¾‹çš„æ ·å¼\n  theme(\n    legend.title.position = \"left\",\n    # Title justification is controlled by hjust/vjust in the element\n    legend.title = element_text(angle = 90, hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹æ˜¯å¦æ˜¾ç¤º\nå”¯ä¸€ä¸æ”¾åœ¨themeé‡Œçš„å‚æ•°å°±æ˜¯legend.show ã€‚æ‚¨å¯ä»¥åœ¨å›¾å±‚ä¸­è®¾ç½®show.legend = TRUEé€‰é¡¹ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œ show.legendå‚æ•°ä»ç„¶å¯ä»¥ä»¥ç‰¹å®šäºç¾å­¦çš„æ–¹å¼è®¾ç½®ã€‚å°†å…¶è®¾ç½®ä¸ºTRUEè¡¨ç¤ºâ€œå§‹ç»ˆæ˜¾ç¤ºâ€ï¼Œ FALSEè¡¨ç¤ºâ€œä»ä¸æ˜¾ç¤ºâ€ï¼Œ NAè¡¨ç¤ºâ€œå¦‚æœæ‰¾åˆ°åˆ™æ˜¾ç¤ºâ€ã€‚æŸ¥çœ‹ä¸‹æ–¹ç¤ºä¾‹ï¼Œåœ¨è®¾ç½®äº†plotçš„showlegendé‡Œåœ¨å›¾ä¾‹ä¸­å¼ºåˆ¶æ˜¾ç¤ºäº†ç‚¹å’Œçº¿ã€‚\n::: {.cell}\np &lt;- ggplot(mpg, aes(displ, hwy)) +\n scale_alpha_manual(values = c(0.5, 1))\n\np +\n geom_point(aes(colour = \"points\", alpha = \"points\")) +\n geom_line(\n   aes(colour = \"line\", alpha = \"line\"),\n   stat = \"smooth\", formula = y ~ x, method = \"lm\"\n )\n::: {.cell-output-display}  :::\np +\n geom_point(\n   aes(colour = \"points\", alpha = \"points\"),\n   show.legend = TRUE # always show\n ) +\n geom_line(\n   aes(colour = \"line\", alpha = \"line\"),\n   stat = \"smooth\", formula = y ~ x, method = \"lm\",\n   show.legend = c(colour = NA, alpha = TRUE) # always show in alpha\n )\n::: {.cell-output-display}  ::: :::\n\n\nå›¾ä¾‹ä½ç½®\nå›¾ä¾‹ä½ç½®ä¸å†ä»…é™äºå›¾çš„ä¸€ä¾§ã€‚é€šè¿‡è®¾ç½®guidesçš„positionå‚æ•°ï¼Œä½ å¯ä»¥å®šåˆ¶å“ªäº›å‚è€ƒçº¿å‡ºç°åœ¨ç»˜å›¾ä¸­çš„ä½ç½®ã€‚æ²¡æœ‰è®¾ç½®ä½ç½®çš„å‚è€ƒçº¿ï¼ˆä¾‹å¦‚ä¸‹é¢çš„â€œdrvâ€å½¢çŠ¶å›¾ä¾‹ï¼‰éµå¾ªå…¨å±€ä¸»é¢˜çš„legend.positionè®¾ç½®ã€‚\n\np &lt;- ggplot(mpg, \n    aes(displ, hwy, shape = drv, colour = cty, size = year)) +\n  geom_point(aes(alpha = cyl))+\n  theme(legend.position = \"left\") +\n  guides(\n    colour = guide_colourbar(position = \"right\"),\n    size   = guide_legend(position = \"top\"),\n    alpha  = guide_legend(position = \"inside\")\n  ) \np\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹çš„å¯¹é½\nå›¾ä¾‹çš„å¯¹é½å¯ä»¥é€šè¿‡ä½¿ç”¨themeçš„legend.justification.{position}å‚æ•°æ¥æ§åˆ¶ã€‚æ­¤å¤–ï¼Œé€šè¿‡è®¾ç½®legend.locationå‚æ•°ï¼Œå¯ä»¥å°†é¡¶éƒ¨å’Œåº•éƒ¨å‚è€ƒçº¿ä¸ç»˜å›¾è€Œä¸æ˜¯é¢æ¿å¯¹é½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“plot.title.position = \"plot\"æ—¶ï¼Œå·¦ä¾§å›¾ä¾‹å·²ç»å¯¹é½ã€‚å› æ­¤ï¼Œå¯¹äºlegend.locationè®¾ç½®ï¼Œé¡¶éƒ¨å’Œåº•éƒ¨å‚è€ƒçº¿ä¼˜å…ˆã€‚\n\np + \n  labs(title = \"Plot-aligned title\") +\n  theme(\n    legend.margin = margin(0, 0, 0, 0), # turned off for alignment\n    legend.justification.top = \"left\",\n    legend.justification.left = \"top\",\n    legend.justification.bottom = \"right\",\n    legend.justification.inside = c(1, 1),\n    legend.location = \"plot\",\n    plot.title.position = \"plot\"\n  )\n\n\n\n\n\n\n\n\n\n\n\nå›¾ä¾‹çš„é—´è·\næˆ‘ä»¬å…ˆè§‚çœ‹ä¸€ä¸‹ä¸‹æ–¹çš„å›¾ï¼Œè¡¨ç¤ºå›¾ä¾‹çš„ç»„æˆå’Œé—´è·çš„å«ä¹‰\n\n\n\nå›¾ä¾‹å›¾ç¤º\n\n\nå½“æ ‡é¢˜å’Œé”®æ²¡æœ‰æ˜ç¡®çš„è¾¹è·æ—¶ï¼Œä¼šæ ¹æ®æ–‡æœ¬æˆ–æ ‡é¢˜ä½ç½®è‡ªåŠ¨æ·»åŠ é€‚å½“çš„è¾¹è·ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨è¦†ç›–è¾¹è·ï¼Œå®ƒä»¬å°†æŒ‰ä½ çš„è®¾ç½®æ¥èµ°ã€‚\n\nggplot(mpg, aes(displ, hwy, colour = class)) +\n  geom_point() +\n  guides(colour = guide_legend(ncol = 2)) +\n  theme(\n    legend.key.spacing.x = unit(10, \"pt\"),\n    legend.key.spacing.y = unit(20, \"pt\"),\n    legend.text = element_text(margin = margin(l = 0)),\n    legend.title = element_text(margin = margin(b = 20))\n  )\n\n\n\n\n\n\n\n\n\n\næ·»åŠ ç‰¹æ®Šå›¾ä¾‹\nguide_custom() ã€‚å®ƒå¯ç”¨äºå°†ä»»ä½•å›¾å½¢å¯¹è±¡ï¼ˆgrobï¼‰æ·»åŠ åˆ°ç»˜å›¾ä¸­ï¼Œä¾‹å¦‚annotation_custom() ã€‚ä½†æœ‰ä¸€äº›åŒºåˆ«ï¼šå®ƒçš„ä½ç½®å°±åƒå›¾ä¾‹ä¸€æ ·ï¼Œå¹¶æ·»åŠ äº†æ ‡é¢˜å’Œé¡µè¾¹è·ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œæœ¬å›¾ä¾‹æ˜¯â€œç‰¹æ®Šçš„â€ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€ä¸ç›´æ¥åæ˜ æ¯”ä¾‹çš„æŒ‡å—ã€‚ç¼ºç‚¹æ˜¯å®ƒæ— æ³•ä»å›¾ä¸­è¯»å–å±æ€§ï¼Œä½†ä¼˜ç‚¹æ˜¯å®ƒéå¸¸çµæ´»ã€‚\n\nx &lt;- c(0.5, 1, 1.5, 1.2, 1.5, 1, 0.5, 0.8, 1, 1.15, 2, 1.15, 1, 0.85, 0, 0.85)\ny &lt;- c(1.5, 1.2, 1.5, 1, 0.5, 0.8, 0.5, 1, 2, 1.15, 1, 0.85, 0, 0.85, 1, 1.15)\n\ncompass_rose &lt;- grid::polygonGrob(\n  x = unit(x, \"cm\"), y = unit(y, \"cm\"), id.lengths = c(8, 8),\n  gp = grid::gpar(fill = c(\"grey50\", \"grey25\"), col = NA)\n)\n\nnc &lt;- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)\nggplot(nc) +\n  geom_sf(aes(fill = AREA)) +\n  guides(custom = guide_custom(compass_rose, title = \"compass\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "å›¾ä¾‹è‡ªå®šä¹‰"
    ]
  },
  {
    "objectID": "2011-viscolor.html",
    "href": "2011-viscolor.html",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "",
    "text": "ç¬¬98æœŸ Rè¯­è¨€æ•™ç¨‹ ç§‘ç ”ç»˜å›¾é…è‰²å¸¸ç”¨RåŒ…\nåœ¨rè¯­è¨€ï¼Œggplot2ç»˜å›¾è¿‡ç¨‹ä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†å°±æ˜¯é…è‰²çš„é€‰æ‹©ã€‚ä¼˜ç§€çš„é…è‰²è¦å……åˆ†è€ƒè™‘åˆ°é¢œè‰²çš„åŒºåˆ†åº¦ï¼ŒæœŸåˆŠè¦æ±‚ï¼Œå†·æš–ç‰¹ç‚¹ç­‰\næœ¬æœŸä»‹ç»å¦‚ä½•è°ƒæ•´rè¯­è¨€ä¸­çš„é…è‰²ï¼Œä½¿æ•´ä¸ªå›¾ç‰‡ç¾è§‚ä¼˜é›…",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#åŸºç¡€å·¥ä½œ",
    "href": "2011-viscolor.html#åŸºç¡€å·¥ä½œ",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "åŸºç¡€å·¥ä½œ",
    "text": "åŸºç¡€å·¥ä½œ\n\nåŠ è½½æ•°æ®\n\nlibrary(bruceR)\nlibrary(ggplot2)\ndata(iris)\nhead(iris, 10)\n\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1           5.1         3.5          1.4         0.2  setosa\n2           4.9         3.0          1.4         0.2  setosa\n3           4.7         3.2          1.3         0.2  setosa\n4           4.6         3.1          1.5         0.2  setosa\n5           5.0         3.6          1.4         0.2  setosa\n6           5.4         3.9          1.7         0.4  setosa\n7           4.6         3.4          1.4         0.3  setosa\n8           5.0         3.4          1.5         0.2  setosa\n9           4.4         2.9          1.4         0.2  setosa\n10          4.9         3.1          1.5         0.1  setosa\n\n\n\n\nä½¿ç”¨ré»˜è®¤é…è‰²æ–¹æ¡ˆ\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nggplot2æ‰‹åŠ¨è°ƒè‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = c(\"black\", \"grey\", \"brown\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#ä½¿ç”¨rcolorbreweråŒ…è®¾ç½®é¢œè‰²",
    "href": "2011-viscolor.html#ä½¿ç”¨rcolorbreweråŒ…è®¾ç½®é¢œè‰²",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "ä½¿ç”¨RColorBreweråŒ…è®¾ç½®é¢œè‰²",
    "text": "ä½¿ç”¨RColorBreweråŒ…è®¾ç½®é¢œè‰²\n\nRcolorbrewä»‹ç»\nCRANåº“:CRAN: Package RColorBrewer (r-project.org)\nè°ƒç”¨ç½‘ç«™https://colorbrewer2.org/ä¸Šçš„é…è‰²æ–¹æ¡ˆ,ä½¿ç”¨äººæ•°ä¼—å¤š,æ•´ä½“æ¯”è¾ƒä¸­è§„ä¸­çŸ©\n\nlibrary(RColorBrewer)\n\n\n\næŸ¥çœ‹é…è‰²ç›˜ï¼Œé€‰æ‹©3é¢œè‰²ï¼ŒåŒºåˆ†è‰²\n\nå…ˆdisplayé…è‰²,æŸ¥çœ‹ç›®æ ‡è‰²æ•°å’Œè‰²å‹\né€‰æ‹©åˆé€‚çš„è°ƒè‰²ç›˜,åœ¨ggplotä¸­ä½¿ç”¨ scale_*_brewerè°ƒç”¨\n\n\ndisplay.brewer.all(3, type = 'div')\n\n\n\n\n\n\n\n\n\n\nggplot2å»ºç«‹æŸ±çŠ¶å›¾å¯è§†åŒ–\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_brewer(palette = \"Spectral\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "href": "2011-viscolor.html#ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²",
    "text": "ä½¿ç”¨ggsciåŒ…è®¾ç½®é¢œè‰²\n\nRåŒ…ä»‹ç»\nggsciåŒ…å«æœŸåˆŠæˆ–è½¯ä»¶çš„ç»å…¸é…è‰²,æŠ•ç¨¿æ—¶è°ƒç”¨å¿«,æ•ˆæœå¥½,é¡ºæ‰‹å°±ç”¨ä¸Šäº†æˆ‘ç”¨è¯¥åŒ…é…è‰²æœ€å¤š\nCRANåº“:CRAN: Package ggsci (r-project.org)\næ•™ç¨‹:Scientific Journal and Sci-Fi Themed Color Palettes for ggplot2 (r-project.org)\n\nlibrary(ggsci)\n\n\n\né…è‰²æ–¹æ¡ˆ\n\n\n\n\n\n\n\n\n\nName\nScales\nPalette Types\nPalette Generator\n\n\n\n\nNPG\nscale_color_npg() scale_fill_npg()\n\"nrc\"\npal_npg()\n\n\nAAAS\nscale_color_aaas() scale_fill_aaas()\n\"default\"\npal_aaas()\n\n\nNEJM\nscale_color_nejm() scale_fill_nejm()\n\"default\"\npal_nejm()\n\n\nLancet\nscale_color_lancet() scale_fill_lancet()\n\"lanonc\"\npal_lancet()\n\n\nJAMA\nscale_color_jama() scale_fill_jama()\n\"default\"\npal_jama()\n\n\nBMJ\nscale_color_bmj() scale_fill_bmj()\n\"default\"\npal_bmj()\n\n\nJCO\nscale_color_jco() scale_fill_jco()\n\"default\"\npal_jco()\n\n\nUCSCGB\nscale_color_ucscgb() scale_fill_ucscgb()\n\"default\"\npal_ucscgb()\n\n\nD3\nscale_color_d3()``scale_fill_d3()\n\"category10\" \"category20\" \"category20b\" \"category20c\"\npal_d3()\n\n\nObservable\nscale_color_observable() scale_fill_observable()\n\"observable10\"\npal_observable()\n\n\nLocusZoom\nscale_color_locuszoom() scale_fill_locuszoom()\n\"default\"\npal_locuszoom()\n\n\nIGV\nscale_color_igv() scale_fill_igv()\n\"default\"``\"alternating\"\npal_igv()\n\n\nCOSMIC\nscale_color_cosmic() scale_fill_cosmic()\n\"hallmarks_light\"``\"hallmarks_dark\"``\"signature_substitutions\"\npal_cosmic()\n\n\nUChicago\nscale_color_uchicago() scale_fill_uchicago()\n\"default\"``\"light\"``\"dark\"\npal_uchicago()\n\n\nStar Trek\nscale_color_startrek() scale_fill_startrek()\n\"uniform\"\npal_startrek()\n\n\nTron Legacy\nscale_color_tron() scale_fill_tron()\n\"legacy\"\npal_tron()\n\n\nFuturama\nscale_color_futurama() scale_fill_futurama()\n\"planetexpress\"\npal_futurama()\n\n\nRick and Morty\nscale_color_rickandmorty() scale_fill_rickandmorty()\n\"schwifty\"\npal_rickandmorty()\n\n\nThe Simpsons\nscale_color_simpsons() scale_fill_simpsons()\n\"springfield\"\npal_simpsons()\n\n\nFlat UI\nscale_color_flatui() scale_fill_flatui()\n\"default\" \"flattastic\" \"aussie\"\npal_flatui()\n\n\nFrontiers\nscale_color_frontiers() scale_fill_frontiers()\n\"default\"\npal_frontiers()\n\n\nGSEA\nscale_color_gsea() scale_fill_gsea()\n\"default\"\npal_gsea()\n\n\nBootstrap 5\nscale_color_bs5() scale_fill_bs5()\n\"blue\" \"indigo\"``\"purple\" \"pink\"``\"red\" \"orange\"``\"yellow\" \"green\"``\"teal\" \"cyan\"``\"gray\"\npal_bs5()\n\n\nMaterial Design\nscale_color_material() scale_fill_material()\n\"red\" \"pink\"``\"purple\" \"deep-purple\"``\"indigo\" \"blue\"``\"light-blue\" \"cyan\"``\"teal\" \"green\"``\"light-green\" \"lime\"``\"yellow\" \"amber\"``\"orange\" \"deep-orange\"``\"brown\" \"grey\"``\"blue-grey\"\npal_material()\n\n\nTailwind CSS\nscale_color_tw3() scale_fill_tw3()\n\"slate\" \"gray\"``\"zinc\" \"neutral\"``\"stone\" \"red\"``\"orange\" \"amber\"``\"yellow\" \"lime\"``\"green\" \"emerald\"``\"teal\" \"cyan\"``\"sky\" \"blue\"``\"indigo\" \"violet\"``\"purple\" \"fuchsia\"``\"pink\" \"rose\"\npal_tw3()\n\n\n\n\n\n\næŸ³å¶åˆ€é…è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_lancet()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "2011-viscolor.html#å…¶å®ƒå®ç”¨råŒ…",
    "href": "2011-viscolor.html#å…¶å®ƒå®ç”¨råŒ…",
    "title": "Rè¯­è¨€é…è‰²æ•™ç¨‹",
    "section": "å…¶å®ƒå®ç”¨råŒ…",
    "text": "å…¶å®ƒå®ç”¨råŒ…\n\nviridis: Colorblind-Friendly Color Maps for R\n\nä»‹ç»\nå®˜æ–¹ä»“åº“:CRAN: Package viridis (r-project.org)\næ•™ç¨‹:Introduction to the viridis color maps (r-project.org)\nå¤šç”¨äºè¿ç»­æ¸å˜è‰²\n\n\nä½¿ç”¨æ•ˆæœ\nè‰²ç›˜\n\nä½¿ç”¨æ–¹æ¡ˆå‚è€ƒ\n\n\n\n\nä½¿ç”¨MetBreweråŒ…è®¾ç½®é¢œè‰²\n\nråŒ…ä»‹ç»\nå®˜æ–¹CRANåº“:CRAN: Package MetBrewer (r-project.org)\né…è‰²æ–¹æ¡ˆå‚è€ƒçº½çº¦å¤§éƒ½ä¼šè‰ºæœ¯åšç‰©é¦†,è‰ºæœ¯æ„Ÿçˆ†è¡¨ä¸€èµ·æ¥çœ‹çœ‹\n\nlibrary(MetBrewer)\n\n\n\næŸ¥çœ‹é…è‰²ç›˜ï¼Œé€‰æ‹©3é¢œè‰²ï¼ŒåŒºåˆ†è‰²\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = met.brewer(\"Austria\"))\n\n\n\n\n\n\n\n\n\nggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Sepal Length by Species\", x = \"Species\", y = \"Sepal Length\") +\n  theme_minimal()+\n  scale_fill_manual(values = met.brewer(\"Degas\"))\n\n\n\n\n\n\n\n\næœ€åçœ‹çœ‹å¥½çœ‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "é…è‰²æ–¹æ¡ˆ"
    ]
  },
  {
    "objectID": "1013-scitb.html",
    "href": "1013-scitb.html",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "",
    "text": "scitbæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåŸºçº¿è¡¨å¼€å‘çš„åŒ…ï¼Œç›¸è¾ƒäºtableone scitbå…·æœ‰æ›´å¥½ä½¿ç”¨ï¼Œå¯¼å‡ºæ–¹ä¾¿ï¼Œå¿«é€Ÿè®¾ç½®çš„ä¼˜ç‚¹\nCRANåº“\nä½œè€…æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…ä»‹ç»",
    "href": "1013-scitb.html#råŒ…ä»‹ç»",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "",
    "text": "scitbæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåŸºçº¿è¡¨å¼€å‘çš„åŒ…ï¼Œç›¸è¾ƒäºtableone scitbå…·æœ‰æ›´å¥½ä½¿ç”¨ï¼Œå¯¼å‡ºæ–¹ä¾¿ï¼Œå¿«é€Ÿè®¾ç½®çš„ä¼˜ç‚¹\nCRANåº“\nä½œè€…æ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…å®‰è£…",
    "href": "1013-scitb.html#råŒ…å®‰è£…",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"scitb\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#råŒ…ä½¿ç”¨",
    "href": "1013-scitb.html#råŒ…ä½¿ç”¨",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\n\nå¯¼å…¥ç¤ºä¾‹æ•°æ®\nå¯¼å…¥æ•°æ®prematurityï¼Œï¼šlow æ˜¯å¦æ˜¯å°äº2500gæ—©äº§ä½ä½“é‡å„¿ï¼Œage æ¯äº²çš„å¹´é¾„ï¼Œlwt æœ«æ¬¡æœˆç»ä½“é‡ï¼Œrace ç§æ—ï¼Œsmokeå­•æœŸæŠ½çƒŸï¼Œptl æ—©äº§å²ï¼ˆè®¡æ•°ï¼‰ï¼Œht æœ‰é«˜è¡€å‹ç—…å²ï¼Œui å­å®«è¿‡æ•ï¼Œftv æ—©å­•æ—¶çœ‹åŒ»ç”Ÿçš„æ¬¡æ•°bwt æ–°ç”Ÿå„¿ä½“é‡æ•°å€¼\n\nlibrary(scitb)\n\nWarning: ç¨‹åºåŒ…'scitb'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(bruceR)\n\n\nbruceR (v2025.11)\nBroadly Useful Convenient and Efficient R functions\n\nPackages also loaded:\nâœ” dplyr         âœ” data.table\nâœ” tidyr         âœ” emmeans\nâœ” stringr       âœ” lmerTest\nâœ” forcats       âœ” effectsize\nâœ” ggplot2       âœ” performance\nâœ” cowplot       âœ” interactions\n\nMain functions of `bruceR`:\ncc()            Describe()  TTEST()\nadd()           Freq()      MANOVA()\n.mean()         Corr()      EMMEANS()\nset.wd()        Alpha()     PROCESS()\nimport()        EFA()       model_summary()\nprint_table()   CFA()       lavaan_summary()\n\nFor full functionality, please install all dependencies:\ninstall.packages(\"bruceR\", dep=TRUE)\n\nOnline documentation:\nhttps://psychbruce.github.io/bruceR\n\nTo use this package in publications, please cite:\nBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions (Version 2025.11) [Computer software]. https://doi.org/10.32614/CRAN.package.bruceR\n\ndata &lt;- prematurity\nhead(data,5)\n\n  id low age lwt  race     smoke ptl ht ui ftv  bwt\n1 85   0  19 182 black nonsmoker   0  0  1   0 2523\n2 86   0  33 155 other nonsmoker   0  0  0   3 2551\n3 87   0  20 105 white    smoker   0  0  0   1 2557\n4 88   0  21 108 white    smoker   0  0  1   2 2594\n5 89   0  18 107 white    smoker   0  0  1   0 2600\n\n\n\n\nç”Ÿæˆæè¿°æ€§è¡¨1\n\né¦–å…ˆå®šä¹‰å˜é‡\nä¸ºä»€ä¹ˆè¿™é‡Œè¦å®šä¹‰å˜é‡ï¼Œè€Œä¸åœ¨åŸºçº¿è¡¨å‡½æ•°é‡Œç›´æ¥å¼•å…¥å­—ç¬¦å‘é‡ï¼Œè¿™æ˜¯ä¸ºäº†æœ‰è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚å…ˆä»æ„å»ºå‡½æ•°æ¡†æ¶å¼€å§‹ï¼Œæœ€åå‡½æ•°è°ƒç”¨ï¼Œåç»­æ— è®ºæ˜¯ä¿®æ”¹å˜é‡è¿˜æ˜¯å¢åˆ å˜é‡éƒ½ä¼šå¾ˆæ¸…æ™°\n\nallVars&lt;-c(\"low\",\"age\",\"lwt\",\"race\",\"smoke\",\"ptl\",\"ht\",\"ui\",\"ftv\",\"bwt\")\nfvars&lt;-c(\"low\",\"race\",\"smoke\",\"ptl\",\"ht\",\"ui\",\"ftv\")\nstrata&lt;-c(\"bwt\")\n\n\n\nç”ŸæˆåŸºçº¿è¡¨\n\ndata_neat &lt;- data |&gt; \n  mutate(\n    race = as.factor(race),\n    smoke = as.factor(smoke)\n  )\n\ntab0&lt;-scitb1(vars=allVars,fvars=fvars,strata=strata,data=data_neat)\n\n      Min 33.33333% 66.66667%       Max \n  709.000  2598.000  3283.667  4990.000 \n\n\nStrata is treated as a continuous variable.\n\ntab0\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"63\"                     \"63\"                    \nd1 \"age\"          \"22.00 (19.50-25.00)\"    \"23.00 (19.00-28.00)\"   \nd1 \"lwt\"          \"120.00 (105.00-131.00)\" \"120.00 (109.50-132.50)\"\nd1 \"bwt\"          \"2126.24Â±394.60\"         \"2969.94Â±190.20\"        \nd2 \"low\"          \" \"                      \" \"                     \n   \"0\"            \" 4 (6.35%)\"             \"63 (100.00%)\"          \n   \"1\"            \"59 (93.65%)\"            \" 0 (0.00%)\"            \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"12 (19.05%)\"            \" 8 (12.70%)\"           \n   \"other\"        \"26 (41.27%)\"            \"25 (39.68%)\"           \n   \"white\"        \"25 (39.68%)\"            \"30 (47.62%)\"           \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"31 (49.21%)\"            \"39 (61.90%)\"           \n   \"smoker\"       \"32 (50.79%)\"            \"24 (38.10%)\"           \nd2 \"ptl\"          \" \"                      \" \"                     \n   \"0\"            \"45 (71.43%)\"            \"58 (92.06%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 4 (6.35%)\"            \n   \"2\"            \" 2 (3.17%)\"             \" 1 (1.59%)\"            \n   \"3\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"56 (88.89%)\"            \"61 (96.83%)\"           \n   \"1\"            \" 7 (11.11%)\"            \" 2 (3.17%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"47 (74.60%)\"            \"54 (85.71%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 9 (14.29%)\"           \nd2 \"ftv\"          \" \"                      \" \"                     \n   \"0\"            \"37 (58.73%)\"            \"32 (50.79%)\"           \n   \"1\"            \"12 (19.05%)\"            \"15 (23.81%)\"           \n   \"2\"            \" 8 (12.70%)\"            \"13 (20.63%)\"           \n   \"3\"            \" 5 (7.94%)\"             \" 2 (3.17%)\"            \n   \"4\"            \" 1 (1.59%)\"             \" 1 (1.59%)\"            \n   \"6\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \n   G.2                      p value \n   \"63\"                     \"\"      \nd1 \"23.00 (19.50-28.00)\"    \"0.483\" \nd1 \"131.00 (120.00-156.00)\" \"&lt;0.001\"\nd1 \"3736.68Â±317.76\"         \"&lt;0.001\"\nd2 \" \"                      \"&lt;0.001\"\n   \"63 (100.00%)\"           \" \"     \n   \" 0 (0.00%)\"             \" \"     \nd2 \" \"                      \"0.060\" \n   \" 6 (9.52%)\"             \" \"     \n   \"16 (25.40%)\"            \" \"     \n   \"41 (65.08%)\"            \" \"     \nd2 \" \"                      \"0.037\" \n   \"45 (71.43%)\"            \" \"     \n   \"18 (28.57%)\"            \" \"     \nd2 \" \"                      \"0.012\" \n   \"56 (88.89%)\"            \" \"     \n   \" 4 (6.35%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \nd2 \" \"                      \"0.154\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.005\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.283\" \n   \"31 (49.21%)\"            \" \"     \n   \"20 (31.75%)\"            \" \"     \n   \" 9 (14.29%)\"            \" \"     \n   \" 0 (0.00%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \n\n\n\n\nè®¾ç½®æœ‰éæ­£æ€èµ„æ–™\nè®¾ç½®éæ­£æ€åå¯ä»¥çœ‹åˆ°lwtå˜é‡æ˜¯ç”¨ç™¾åˆ†ä½æ•°è¿›è¡Œæè¿°ï¼Œåè¾¹çš„pvalueä¹Ÿè°ƒç”¨éå‚æ£€éªŒ\n\ntab2 &lt;-scitb1(vars=allVars,fvars=fvars,strata=strata,data=data_neat, nonnormal=c(\"lwt\"))\n\n      Min 33.33333% 66.66667%       Max \n  709.000  2598.000  3283.667  4990.000 \n\n\nStrata is treated as a continuous variable.\n\ntab2\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"63\"                     \"63\"                    \nd1 \"age\"          \"22.00 (19.50-25.00)\"    \"23.00 (19.00-28.00)\"   \nd1 \"lwt\"          \"120.00 (105.00-131.00)\" \"120.00 (109.50-132.50)\"\nd1 \"bwt\"          \"2126.24Â±394.60\"         \"2969.94Â±190.20\"        \nd2 \"low\"          \" \"                      \" \"                     \n   \"0\"            \" 4 (6.35%)\"             \"63 (100.00%)\"          \n   \"1\"            \"59 (93.65%)\"            \" 0 (0.00%)\"            \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"12 (19.05%)\"            \" 8 (12.70%)\"           \n   \"other\"        \"26 (41.27%)\"            \"25 (39.68%)\"           \n   \"white\"        \"25 (39.68%)\"            \"30 (47.62%)\"           \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"31 (49.21%)\"            \"39 (61.90%)\"           \n   \"smoker\"       \"32 (50.79%)\"            \"24 (38.10%)\"           \nd2 \"ptl\"          \" \"                      \" \"                     \n   \"0\"            \"45 (71.43%)\"            \"58 (92.06%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 4 (6.35%)\"            \n   \"2\"            \" 2 (3.17%)\"             \" 1 (1.59%)\"            \n   \"3\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"56 (88.89%)\"            \"61 (96.83%)\"           \n   \"1\"            \" 7 (11.11%)\"            \" 2 (3.17%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"47 (74.60%)\"            \"54 (85.71%)\"           \n   \"1\"            \"16 (25.40%)\"            \" 9 (14.29%)\"           \nd2 \"ftv\"          \" \"                      \" \"                     \n   \"0\"            \"37 (58.73%)\"            \"32 (50.79%)\"           \n   \"1\"            \"12 (19.05%)\"            \"15 (23.81%)\"           \n   \"2\"            \" 8 (12.70%)\"            \"13 (20.63%)\"           \n   \"3\"            \" 5 (7.94%)\"             \" 2 (3.17%)\"            \n   \"4\"            \" 1 (1.59%)\"             \" 1 (1.59%)\"            \n   \"6\"            \" 0 (0.00%)\"             \" 0 (0.00%)\"            \n   G.2                      p value \n   \"63\"                     \"\"      \nd1 \"23.00 (19.50-28.00)\"    \"0.483\" \nd1 \"131.00 (120.00-156.00)\" \"&lt;0.001\"\nd1 \"3736.68Â±317.76\"         \"&lt;0.001\"\nd2 \" \"                      \"&lt;0.001\"\n   \"63 (100.00%)\"           \" \"     \n   \" 0 (0.00%)\"             \" \"     \nd2 \" \"                      \"0.060\" \n   \" 6 (9.52%)\"             \" \"     \n   \"16 (25.40%)\"            \" \"     \n   \"41 (65.08%)\"            \" \"     \nd2 \" \"                      \"0.037\" \n   \"45 (71.43%)\"            \" \"     \n   \"18 (28.57%)\"            \" \"     \nd2 \" \"                      \"0.012\" \n   \"56 (88.89%)\"            \" \"     \n   \" 4 (6.35%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \nd2 \" \"                      \"0.154\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.005\" \n   \"60 (95.24%)\"            \" \"     \n   \" 3 (4.76%)\"             \" \"     \nd2 \" \"                      \"0.283\" \n   \"31 (49.21%)\"            \" \"     \n   \"20 (31.75%)\"            \" \"     \n   \" 9 (14.29%)\"            \" \"     \n   \" 0 (0.00%)\"             \" \"     \n   \" 2 (3.17%)\"             \" \"     \n   \" 1 (1.59%)\"             \" \"     \n\n\n\n\n\nè¿ç»­å˜é‡å¿«é€Ÿåˆ†å±‚æè¿°\nè¾“å‡º1å¯ä»¥çœ‹å‡ºå¹´é¾„çš„è‡ªåŠ¨åˆ†å±‚è®°å½•ï¼Œè¡¨æ˜ä»14åˆ°20åˆ°25åˆ°45è¿›è¡Œäº†åˆ†å±‚\nå¦‚æœæƒ³è¦ç”Ÿæˆå…¶å®ƒåˆ†å±‚æ•°ï¼Œè®¾ç½®å‚æ•° num = n\n\n# allvaråˆ ä¸åˆ é™¤å¹´é¾„éƒ½å¯ä»¥\n\nallVars3 &lt;-c(\"race\", \"lwt\",\"smoke\", \"ptl\", \"ht\", \"ui\",\"ftv\", \"bwt\")\nfvars3 &lt;-c(\"smoke\",\"ht\",\"ui\",\"race\")\nstrata3 &lt;- \"age\"\n\ntab3 &lt;-scitb1(vars=allVars3,fvars=fvars3,strata=strata3,data=data_neat)\n\n      Min 33.33333% 66.66667%       Max \n       14        20        25        45 \n\n\nStrata is treated as a continuous variable.\n\ntab3\n\n   Characteristic G.0                      G.1                     \n   \"N\"            \"51\"                     \"69\"                    \nd1 \"lwt\"          \"119.00 (106.00-135.00)\" \"121.00 (110.00-132.00)\"\nd1 \"ptl\"          \"0.00 (0.00-0.00)\"       \"0.00 (0.00-0.00)\"      \nd1 \"ftv\"          \"0.00 (0.00-1.00)\"       \"0.00 (0.00-1.00)\"      \nd1 \"bwt\"          \"2974.08Â±612.51\"         \"2921.42Â±697.85\"        \nd2 \"smoke\"        \" \"                      \" \"                     \n   \"nonsmoker\"    \"28 (54.90%)\"            \"44 (63.77%)\"           \n   \"smoker\"       \"23 (45.10%)\"            \"25 (36.23%)\"           \nd2 \"ht\"           \" \"                      \" \"                     \n   \"0\"            \"48 (94.12%)\"            \"64 (92.75%)\"           \n   \"1\"            \" 3 (5.88%)\"             \" 5 (7.25%)\"            \nd2 \"ui\"           \" \"                      \" \"                     \n   \"0\"            \"43 (84.31%)\"            \"58 (84.06%)\"           \n   \"1\"            \" 8 (15.69%)\"            \"11 (15.94%)\"           \nd2 \"race\"         \" \"                      \" \"                     \n   \"black\"        \"10 (19.61%)\"            \"10 (14.49%)\"           \n   \"other\"        \"18 (35.29%)\"            \"27 (39.13%)\"           \n   \"white\"        \"23 (45.10%)\"            \"32 (46.38%)\"           \n   G.2                      p value\n   \"69\"                     \"\"     \nd1 \"130.00 (115.00-153.00)\" \"0.086\"\nd1 \"0.00 (0.00-0.00)\"       \"0.171\"\nd1 \"1.00 (0.00-2.00)\"       \"0.011\"\nd1 \"2945.13Â±839.82\"         \"0.927\"\nd2 \" \"                      \"0.587\"\n   \"43 (62.32%)\"            \" \"    \n   \"26 (37.68%)\"            \" \"    \nd2 \" \"                      \"0.929\"\n   \"65 (94.20%)\"            \" \"    \n   \" 4 (5.80%)\"             \" \"    \nd2 \" \"                      \"0.873\"\n   \"60 (86.96%)\"            \" \"    \n   \" 9 (13.04%)\"            \" \"    \nd2 \" \"                      \"0.320\"\n   \" 6 (8.70%)\"             \" \"    \n   \"22 (31.88%)\"            \" \"    \n   \"41 (59.42%)\"            \" \"    \n\n\n\n\nä¿å­˜ç»“æœ\n\nwrite.csv(tab0,file= \"01-attch\\\\10\\\\data.csv\",row.names = F, \n    fileEncoding = \"gbk\")\n\nä¿å­˜å‡ºæ¥æ˜¯ä¸‹å›¾ï¼Œå¤åˆ¶åˆ°wordæ”¹æ”¹å°±èƒ½ç”¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1013-scitb.html#æ€»ç»“",
    "href": "1013-scitb.html#æ€»ç»“",
    "title": "scitb-å¿«é€Ÿç”ŸæˆåŸºçº¿è¡¨ä¸€",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nä½¿ç”¨ä½“éªŒï¼šè‡ªå®šä¹‰åº¦ï¼Œç»“æœå±•ç¤ºç­‰ä¸å¦‚comparegroupsï¼Œä½†æ˜¯èƒœåœ¨å‚æ•°ç®€å•ï¼Œåœ¨æœŸåˆŠæ²¡é‚£ä¹ˆé«˜è¦æ±‚å’Œå¹³æ—¶å±•ç¤ºå¯ä»¥ç”¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "scitb - å¿«é€ŸåŸºçº¿è¡¨"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html",
    "href": "1011-rpac_brucer.html",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#råŒ…ä»‹ç»",
    "href": "1011-rpac_brucer.html#råŒ…ä»‹ç»",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "",
    "text": "bruceR å…¨ç§° â€œBRoadly Useful Convenient and Efficient R functionsâ€ï¼Œç”±åŒ…å¯’å´éœœåšå£«å¼€å‘ï¼Œæ˜¯ä¸€ä¸ªé›†æˆäº†ä¼—å¤šå®ç”¨åŠŸèƒ½çš„ R åŒ…ï¼Œä¸“ä¸ºç§‘ç ”æ•°æ®åˆ†æè®¾è®¡ã€‚\né“¾æ¥ï¼šCRAN | GitHub | ä¸­æ–‡æ•™ç¨‹\n\n\nbruceR æ¶µç›–äº†æ•°æ®åˆ†æçš„å®Œæ•´æµç¨‹ï¼š\n\n\n\n\n\n\n\n\næ¨¡å—\nåŠŸèƒ½\nä¸»è¦å‡½æ•°\n\n\n\n\nåŸºç¡€ç¼–ç¨‹\nè·¯å¾„è®¾ç½®ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€è¡¨æ ¼æ‰“å°\nset.wd(), import(), export(), print_table()\n\n\næ•°æ®è®¡ç®—\né‡è¡¨è®¡ç®—ã€åå‘è®¡åˆ†ã€é‡ç¼–ç \nMEAN(), SUM(), RECODE(), RESCALE()\n\n\nä¿¡æ•ˆåº¦åˆ†æ\nä¿¡åº¦åˆ†æã€å› å­åˆ†æ\nAlpha(), EFA(), PCA(), CFA()\n\n\næè¿°ç»Ÿè®¡\næè¿°ç»Ÿè®¡ã€é¢‘ç‡åˆ†æã€ç›¸å…³åˆ†æ\nDescribe(), Freq(), Corr()\n\n\næ–¹å·®åˆ†æ\ntæ£€éªŒã€ANOVAã€ç®€å•æ•ˆåº”ã€äº‹åæ¯”è¾ƒ\nTTEST(), MANOVA(), EMMEANS()\n\n\nå›å½’æ¨¡å‹\næ¨¡å‹æ±‡æ€»ã€å¤šå±‚æ¨¡å‹\nmodel_summary(), HLM_summary()\n\n\nä¸­ä»‹è°ƒèŠ‚\nPROCESS å®\nPROCESS(), med_summary()\n\n\n\n\n\n\nåŠ è½½ bruceR æ—¶ä¼šè‡ªåŠ¨åŠ è½½å¸¸ç”¨åŒ…ï¼š\n\næ•°æ®å¤„ç†ï¼šdata.table, dplyr, tidyr, stringr\nå¯è§†åŒ–ï¼šggplot2\nç»Ÿè®¡åˆ†æï¼špsych, emmeans, lmerTest, effectsize, performance",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#råŒ…å®‰è£…",
    "href": "1011-rpac_brucer.html#råŒ…å®‰è£…",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# æ–¹æ³•1ï¼šä» CRAN å®‰è£…ï¼ˆæ¨èï¼‰\ninstall.packages(\"bruceR\", dep = TRUE)\n\n# æ–¹æ³•2ï¼šä» GitHub å®‰è£…æœ€æ–°ç‰ˆ\ninstall.packages(\"devtools\")\ndevtools::install_github(\"psychbruce/bruceR\", dep = TRUE, force = TRUE)\n\n\nlibrary(bruceR)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½",
    "text": "åŸºç¡€ç¼–ç¨‹åŠŸèƒ½\n\nset.wd()ï¼šæ™ºèƒ½è®¾ç½®å·¥ä½œç›®å½•\nè‡ªåŠ¨å°†å·¥ä½œç›®å½•è®¾ç½®ä¸ºå½“å‰è„šæœ¬æ‰€åœ¨è·¯å¾„ï¼š\n\nset.wd()\n\n\n\nimport() / export()ï¼šä¸‡èƒ½æ•°æ®å¯¼å…¥å¯¼å‡º\næ”¯æŒå‡ ä¹æ‰€æœ‰å¸¸è§æ•°æ®æ ¼å¼ï¼Œè‡ªåŠ¨è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼š\n\n# æ”¯æŒçš„æ ¼å¼ï¼š\n# - æ–‡æœ¬ï¼š.txt, .csv, .tsv\n# - Excelï¼š.xls, .xlsx\n# - SPSSï¼š.sav\n# - Stataï¼š.dta\n# - Rå¯¹è±¡ï¼š.rda, .rds, .RData\n\n# å¯¼å…¥æ•°æ®\ndata &lt;- import(\"data.xlsx\")\ndata &lt;- import(\"data.sav\")\ndata &lt;- import(\"data.dta\")\n\n# å¯¼å‡ºæ•°æ®\nexport(data, file = \"output.xlsx\")\nexport(data, file = \"output.csv\")\n\n\n\ncc()ï¼šå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\næ¯” c() æ›´ç®€æ´ï¼Œæ— éœ€å¼•å·ï¼š\n\n# ä¼ ç»Ÿå†™æ³•\nc(\"age\", \"gender\", \"education\")\n\n[1] \"age\"       \"gender\"    \"education\"\n\n# bruceR å†™æ³•\ncc(\"age, gender, education\")\n\n[1] \"age\"       \"gender\"    \"education\"\n\n\n\n\nprint_table()ï¼šç”Ÿæˆä¸‰çº¿è¡¨\n\nsummary_data &lt;- data.frame(\n  Variable = c(\"Age\", \"Income\", \"Score\"),\n  Mean = c(35.2, 5000, 78.5),\n  SD = c(8.3, 1200, 12.1),\n  N = c(100, 100, 100)\n)\n\nprint_table(summary_data)\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n   Variable     Mean       SD       N\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n1    Age      35.200    8.300 100.000\n2    Income 5000.000 1200.000 100.000\n3    Score    78.500   12.100 100.000\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#æ•°æ®è®¡ç®—åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æ•°æ®è®¡ç®—åŠŸèƒ½",
    "text": "æ•°æ®è®¡ç®—åŠŸèƒ½\n\nMEAN() / SUM()ï¼šæ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\nå¿ƒç†å­¦é‡è¡¨ç»å¸¸éœ€è¦è®¡ç®—å¤šä¸ªé¢˜ç›®çš„å‡å€¼æˆ–æ€»åˆ†ï¼Œå¹¶å¤„ç†åå‘è®¡åˆ†ï¼š\n\n# åˆ›å»ºæ¨¡æ‹Ÿé—®å·æ•°æ®ï¼ˆ5ç‚¹é‡è¡¨ï¼Œå…±6é¢˜ï¼‰\nset.seed(42)\nquestionnaire &lt;- data.frame(\n  id = 1:5,\n  q1 = sample(1:5, 5, replace = TRUE),\n  q2 = sample(1:5, 5, replace = TRUE),\n  q3 = sample(1:5, 5, replace = TRUE),\n  q4 = sample(1:5, 5, replace = TRUE),\n  q5 = sample(1:5, 5, replace = TRUE),\n  q6 = sample(1:5, 5, replace = TRUE)\n)\nquestionnaire\n\n  id q1 q2 q3 q4 q5 q6\n1  1  1  4  1  3  5  4\n2  2  5  2  5  1  5  3\n3  3  1  2  4  1  5  2\n4  4  1  1  2  3  4  1\n5  5  2  4  2  4  2  2\n\n# è®¡ç®—å‡å€¼ï¼ˆq3ã€q6 åå‘è®¡åˆ†ï¼Œé‡è¡¨èŒƒå›´1-5ï¼‰\nquestionnaire$score_mean &lt;- MEAN(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\n# è®¡ç®—æ€»åˆ†\nquestionnaire$score_sum &lt;- SUM(\n  questionnaire, \n  varrange = \"q1:q6\",\n  rev = c(\"q3\", \"q6\"),\n  likert = 1:5\n)\n\nquestionnaire[, c(\"id\", \"score_mean\", \"score_sum\")]\n\n  id score_mean score_sum\n1  1   3.333333        20\n2  2   2.833333        17\n3  3   2.500000        15\n4  4   3.000000        18\n5  5   3.333333        20\n\n\n\n\nRECODE()ï¼šå˜é‡é‡ç¼–ç \n\nd &lt;- data.frame(age = c(18, 25, 35, 45, 55, 65, 75))\n\nd$age_group &lt;- RECODE(d$age, \n  \"lo:29 = 'é’å¹´'; \n   30:59 = 'ä¸­å¹´'; \n   60:hi = 'è€å¹´'\"\n)\nd\n\n  age age_group\n1  18      é’å¹´\n2  25      é’å¹´\n3  35      ä¸­å¹´\n4  45      ä¸­å¹´\n5  55      ä¸­å¹´\n6  65      è€å¹´\n7  75      è€å¹´\n\n\n\n\nRESCALE()ï¼šå˜é‡æ ‡å‡†åŒ–\n\nscores &lt;- c(2, 3, 4, 5, 6, 7, 8)\nRESCALE(scores, to = 0:100)\n\n[1]   0.00000  16.66667  33.33333  50.00000  66.66667  83.33333 100.00000",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "href": "1011-rpac_brucer.html#ä¿¡åº¦ä¸å› å­åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¿¡åº¦ä¸å› å­åˆ†æ",
    "text": "ä¿¡åº¦ä¸å› å­åˆ†æ\n\nAlpha()ï¼šä¿¡åº¦åˆ†æ\n\ndata(\"bfi\", package = \"psych\")\n\n# Alpha éœ€è¦æŒ‡å®šæ•°æ®å’Œå˜é‡å\nAlpha(bfi, var = \"A\", items = 1:5)\n\n\nReliability Analysis\n\nSummary:\nTotal Items: 5\nScale Range: 1 ~ 6\nTotal Cases: 2800\nValid Cases: 2709 (96.8%)\n\nScale Statistics:\nMean = 4.208\nS.D. = 0.735\nCronbachâ€™s Î± = 0.431\nMcDonaldâ€™s Ï‰ = 0.592\n\nWarning: Scale reliability is low. You may check item codings.\nItem A1 correlates negatively with the scale and may be reversed.\nYou can specify this argument: rev=c(\"A1\")\n\nItem Statistics (Cronbachâ€™s Î± If Item Deleted):\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n     Mean    S.D. Item-Rest Cor. Cronbachâ€™s Î±\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nA1  2.412 (1.405)         -0.311        0.718\nA2  4.797 (1.176)          0.372        0.278\nA3  4.599 (1.305)          0.478        0.174\nA4  4.682 (1.486)          0.365        0.252\nA5  4.551 (1.262)          0.448        0.207\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nItem-Rest Cor. = Corrected Item-Total Correlation\n\n\n\n\nEFA()ï¼šæ¢ç´¢æ€§å› å­åˆ†æ\n\ndata(\"bfi\", package = \"psych\")\n\n# æ¢ç´¢æ€§å› å­åˆ†æï¼šä½¿ç”¨ var + items æ ¼å¼\n# åˆ†æå¤–å‘æ€§(E)é‡è¡¨çš„5ä¸ªé¢˜ç›®\nEFA(bfi, var = \"E\", items = 1:5, nfactors = 2, plot.scree = FALSE)\n\n\nPrincipal Component Analysis\n\nSummary:\nTotal Items: 5\nScale Range: 1 ~ 6\nTotal Cases: 2800\nValid Cases: 2713 (96.9%)\n\nExtraction Method:\n- Principal Component Analysis\nRotation Method:\n- Varimax (with Kaiser Normalization)\n\nKMO and Bartlett's Test:\n- Kaiser-Meyer-Olkin (KMO) Measure of Sampling Adequacy: MSA = 0.799\n- Bartlett's Test of Sphericity: Approx. Ï‡Â²(10) = 3011.40, p &lt; 1e-99 ***\n\nTotal Variance Explained:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             Eigenvalue Variance % Cumulative % SS Loading Variance % Cumulative %\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nComponent 1       2.565     51.298       51.298      1.884     37.680       37.680\nComponent 2       0.768     15.368       66.666      1.449     28.986       66.666\nComponent 3       0.643     12.851       79.517                                   \nComponent 4       0.561     11.211       90.728                                   \nComponent 5       0.464      9.272      100.000                                   \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nComponent Loadings (Rotated) (Sorted by Size):\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n       RC1    RC2 Communality\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nE1   0.812 -0.098       0.668\nE2   0.752 -0.304       0.658\nE4  -0.736  0.290       0.625\nE5  -0.145  0.860       0.761\nE3  -0.312  0.723       0.620\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nCommunality = Sum of Squared (SS) Factor Loadings\n(Uniqueness = 1 - Communality)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "href": "1011-rpac_brucer.html#æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ",
    "text": "æè¿°ç»Ÿè®¡ä¸ç›¸å…³åˆ†æ\n\nDescribe()ï¼šæè¿°ç»Ÿè®¡\n\nDescribe(iris[, 1:4])\n\nDescriptive Statistics:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                N Mean   SD | Median  Min  Max Skewness Kurtosis\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length  150 5.84 0.83 |   5.80 4.30 7.90     0.31    -0.61\nSepal.Width   150 3.06 0.44 |   3.00 2.00 4.40     0.31     0.14\nPetal.Length  150 3.76 1.77 |   4.35 1.00 6.90    -0.27    -1.42\nPetal.Width   150 1.20 0.76 |   1.30 0.10 2.50    -0.10    -1.36\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nFreq()ï¼šé¢‘ç‡åˆ†æ\n\nFreq(iris$Species)\n\nFrequency Statistics:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             N    %\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nsetosa      50 33.3\nversicolor  50 33.3\nvirginica   50 33.3\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal N = 150\n\n\n\n\nCorr()ï¼šç›¸å…³åˆ†æ\n\nCorr(iris[, 1:4])\n\nPearson's r and 95% confidence intervals:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                               r       [95% CI]     p       N\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length-Sepal.Width   -0.12 [-0.27,  0.04]  .152     150\nSepal.Length-Petal.Length   0.87 [ 0.83,  0.91] &lt;.001 *** 150\nSepal.Length-Petal.Width    0.82 [ 0.76,  0.86] &lt;.001 *** 150\nSepal.Width-Petal.Length   -0.43 [-0.55, -0.29] &lt;.001 *** 150\nSepal.Width-Petal.Width    -0.37 [-0.50, -0.22] &lt;.001 *** 150\nPetal.Length-Petal.Width    0.96 [ 0.95,  0.97] &lt;.001 *** 150\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ç»Ÿè®¡æ£€éªŒ",
    "href": "1011-rpac_brucer.html#ç»Ÿè®¡æ£€éªŒ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ç»Ÿè®¡æ£€éªŒ",
    "text": "ç»Ÿè®¡æ£€éªŒ\n\nTTEST()ï¼štæ£€éªŒ\n\n# ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒï¼ˆéœ€è¦ä¸¤æ°´å¹³å› å­ï¼‰\niris_subset &lt;- iris[iris$Species %in% c(\"versicolor\", \"virginica\"), ]\niris_subset$Species &lt;- droplevels(iris_subset$Species)\n\nTTEST(iris_subset, y = \"Sepal.Length\", x = \"Species\")\n\n\nIndependent-Samples t-test\n\nHypothesis: two-sided (Î¼2 - Î¼1 â‰  0)\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n     Variable  Factor      Level  N Mean (S.D.)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Sepal.Length Species versicolor 50 5.94 (0.52)\n Sepal.Length Species virginica  50 6.59 (0.64)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nLeveneâ€™s test for homogeneity of variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                                                Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length: Species (virginica - versicolor)        1.42   1  98  .236    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote: H0 = equal variance (homoscedasticity).\nIf significant (violation of the assumption),\nthen you should better set `var.equal=FALSE`.\n\nResults of t-test:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                                                   t df     p     Difference [95% CI] Cohenâ€™s d [95% CI]     BF10\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Length: Species (virginica - versicolor)  5.63 98 &lt;.001 ***   0.65 [0.42, 0.88]  1.13 [0.73, 1.52] 7.04e+04\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nMANOVA()ï¼šå¤šå› ç´ æ–¹å·®åˆ†æ\n\nMANOVA(data = npk, dv = \"yield\", between = c(\"N\", \"P\", \"K\"))\n\n\n====== ANOVA (Between-Subjects Design) ======\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\" \"P\" \"K\"   Mean    S.D. n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0  P0  K0 51.433 (4.600) 3\n  N0  P0  K1 52.000 (5.635) 3\n  N0  P1  K0 54.333 (9.411) 3\n  N0  P1  K1 50.500 (2.364) 3\n  N1  P0  K0 63.767 (5.086) 3\n  N1  P0  K1 54.667 (4.216) 3\n  N1  P1  K0 57.933 (5.478) 3\n  N1  P1  K1 54.367 (5.006) 3\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal sample size: N = 24\n\nANOVA Table:\nDependent variable(s):      yield\nBetween-subjects factor(s): N, P, K\nWithin-subjects factor(s):  â€“\nCovariate(s):               â€“\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n                MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nN          189.282 30.724   1  16 6.161  .025 *     .278 [.024, .529] .278\nP            8.402 30.724   1  16 0.273  .608       .017 [.000, .220] .017\nK           95.202 30.724   1  16 3.099  .097 .     .162 [.000, .427] .162\nN * P       21.282 30.724   1  16 0.693  .418       .041 [.000, .277] .041\nN * K       33.135 30.724   1  16 1.078  .314       .063 [.000, .312] .063\nP * K        0.482 30.724   1  16 0.016  .902       .001 [.000, .078] .001\nN * P * K   37.002 30.724   1  16 1.204  .289       .070 [.000, .322] .070\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMSE = mean square error (the residual variance of the linear model)\nÎ·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\nÏ‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\nÎ·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\nCohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n\nLeveneâ€™s Test for Homogeneity of Variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDV: yield       0.986   7  16  .475    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n\n\n\nEMMEANS()ï¼šè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\nresult &lt;- MANOVA(npk, dv = \"yield\", between = c(\"N\", \"P\"))\n\n\n====== ANOVA (Between-Subjects Design) ======\n\nDescriptives:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\" \"P\"   Mean    S.D. n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0  P0 51.717 (4.611) 6\n  N0  P1 52.417 (6.486) 6\n  N1  P0 59.217 (6.504) 6\n  N1  P1 56.150 (5.084) 6\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal sample size: N = 24\n\nANOVA Table:\nDependent variable(s):      yield\nBetween-subjects factor(s): N, P\nWithin-subjects factor(s):  â€“\nCovariate(s):               â€“\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n            MS    MSE df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]  Î·Â²G\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nN      189.282 32.870   1  20 5.758  .026 *     .224 [.017, .460] .224\nP        8.402 32.870   1  20 0.256  .619       .013 [.000, .181] .013\nN * P   21.282 32.870   1  20 0.647  .430       .031 [.000, .230] .031\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMSE = mean square error (the residual variance of the linear model)\nÎ·Â²p = partial eta-squared = SS / (SS + SSE) = F * df1 / (F * df1 + df2)\nÏ‰Â²p = partial omega-squared = (F - 1) * df1 / (F * df1 + df2 + 1)\nÎ·Â²G = generalized eta-squared (see Olejnik & Algina, 2003)\nCohenâ€™s fÂ² = Î·Â²p / (1 - Î·Â²p)\n\nLeveneâ€™s Test for Homogeneity of Variance:\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Leveneâ€™s F df1 df2     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDV: yield       0.160   3  20  .922    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nEMMEANS(result, effect = \"N\")\n\n------ EMMEANS (effect = \"N\") ------\n\nJoint Tests of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Effect df1 df2     F     p     Î·Â²p [90% CI of Î·Â²p]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N       1  20 5.758  .026 *     .224 [.017, .460]\n  P       1  20 0.256  .619       .013 [.000, .181]\n  N * P   1  20 0.647  .430       .031 [.000, .230]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. Simple effects of repeated measures with 3 or more levels\nare different from the results obtained with SPSS MANOVA syntax.\n\nUnivariate Tests of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n           Sum of Squares df Mean Square     F     p    \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nMean: \"N\"         189.282  1     189.282 5.758  .026 *  \nResiduals         657.400 20      32.870                \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. Identical to the results obtained with SPSS GLM EMMEANS syntax.\n\nEstimated Marginal Means of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n \"N\"   Mean [95% CI of Mean]    S.E.\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N0 52.067 [48.614, 55.519] (1.655)\n  N1 57.683 [54.231, 61.136] (1.655)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nPairwise Comparisons of \"N\":\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n Contrast Estimate    S.E. df     t     p     Cohenâ€™s d [95% CI of d]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  N1 - N0    5.617 (2.341) 20 2.400  .026 *      0.980 [0.128, 1.831]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nPooled SD for computing Cohenâ€™s d: 5.733\nResults are averaged over the levels of: P\nNo need to adjust p values.\n\nDisclaimer:\nBy default, pooled SD is Root Mean Square Error (RMSE).\nThere is much disagreement on how to compute Cohenâ€™s d.\nYou are completely responsible for setting `sd.pooled`.\nYou might also use `effectsize::t_to_d()` to compute d.",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å›å½’åˆ†æ",
    "href": "1011-rpac_brucer.html#å›å½’åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å›å½’åˆ†æ",
    "text": "å›å½’åˆ†æ\n\nmodel_summary()ï¼šæ¨¡å‹æ±‡æ€»\n\nlm1 &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)\nlm2 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length, data = iris)\nlm3 &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)\n\n# å¤šä¸ªæ¨¡å‹å¯¹æ¯”\nmodel_summary(list(lm1, lm2, lm3))\n\n\nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n              (1) Sepal.Length  (2) Sepal.Length  (3) Sepal.Length\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n(Intercept)     6.526 ***         2.249 ***         1.856 ***     \n               (0.479)           (0.248)           (0.251)        \nSepal.Width    -0.223             0.596 ***         0.651 ***     \n               (0.155)           (0.069)           (0.067)        \nPetal.Length                      0.472 ***         0.709 ***     \n                                 (0.017)           (0.057)        \nPetal.Width                                        -0.556 ***     \n                                                   (0.128)        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2             0.014             0.840             0.859         \nAdj. R^2        0.007             0.838             0.856         \nNum. obs.     150               150               150             \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n# è¾“å‡ºæ ‡å‡†åŒ–ç³»æ•°\nmodel_summary(lm3, std = TRUE)\n\n\nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n              (1) Sepal.Length\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nSepal.Width      .343 ***     \n                (.035)        \nPetal.Length    1.512 ***     \n                (.121)        \nPetal.Width     -.512 ***     \n                (.117)        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2              .859         \nAdj. R^2         .856         \nNum. obs.     150             \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n# Check for Multicollinearity\n\nLow Correlation\n\n        Term  VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n Sepal.Width 1.27 [ 1.11,  1.65]     1.13      0.79     [0.61, 0.90]\n\nHigh Correlation\n\n         Term   VIF     VIF 95% CI adj. VIF Tolerance Tolerance 95% CI\n Petal.Length 15.10 [11.27, 20.36]     3.89      0.07     [0.05, 0.09]\n  Petal.Width 14.23 [10.63, 19.19]     3.77      0.07     [0.05, 0.09]",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "href": "1011-rpac_brucer.html#ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ",
    "text": "ä¸­ä»‹ä¸è°ƒèŠ‚åˆ†æ\n\nPROCESS()ï¼šä¸­ä»‹è°ƒèŠ‚åˆ†æ\n\nset.seed(123)\nn &lt;- 200\nmediation_data &lt;- data.frame(\n  X = rnorm(n),\n  M = rnorm(n),\n  Y = rnorm(n)\n)\nmediation_data$M &lt;- 0.5 * mediation_data$X + rnorm(n, sd = 0.5)\nmediation_data$Y &lt;- 0.4 * mediation_data$M + 0.3 * mediation_data$X + rnorm(n, sd = 0.5)\n\n# ç®€å•ä¸­ä»‹æ¨¡å‹\nPROCESS(mediation_data, y = \"Y\", x = \"X\", meds = \"M\", \n        ci = \"boot\", nsim = 100)\n\n\n****************** PART 1. Regression Model Summary ******************\n\nPROCESS Model ID : 4\nModel Type : Simple Mediation\n-    Outcome (Y) : Y\n-  Predictor (X) : X\n-  Mediators (M) : M\n- Moderators (W) : -\n- Covariates (C) : -\n-   HLM Clusters : -\n\nAll numeric predictors have been grand-mean centered.\n(For details, please see the help page of PROCESS.)\n\nFormula of Mediator:\n-    M ~ X\nFormula of Outcome:\n-    Y ~ X + M\n\nCAUTION:\n  Fixed effect (coef.) of a predictor involved in an interaction\n  denotes its \"simple effect/slope\" at the other predictor = 0.\n  Only when all predictors in an interaction are mean-centered\n  can the fixed effect be interpreted as \"main effect\"!\n  \nModel Summary\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n             (1) Y        (2) M        (3) Y      \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n(Intercept)    0.010       -0.015        0.010    \n              (0.039)      (0.036)      (0.037)   \nX              0.462 ***    0.475 ***    0.302 ***\n              (0.041)      (0.039)      (0.052)   \nM                                        0.336 ***\n                                        (0.072)   \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nR^2            0.391        0.434        0.452    \nAdj. R^2       0.388        0.431        0.446    \nNum. obs.    200          200          200        \nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nNote. * p &lt; .05, ** p &lt; .01, *** p &lt; .001.\n\n************ PART 2. Mediation/Moderation Effect Estimate ************\n\nPackage Use : â€˜mediationâ€™ (v4.5.0)\nEffect Type : Simple Mediation (Model 4)\nSample Size : 200\nRandom Seed : set.seed()\nSimulations : 100 (Bootstrap)\n\n\n\nRunning 100 simulations...\nIndirect Path: \"X\" (X) ==&gt; \"M\" (M) ==&gt; \"Y\" (Y)\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n               Effect    S.E.      z     p      [Boot 95% CI]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nIndirect (ab)   0.160 (0.035)  4.559 &lt;.001 *** [0.092, 0.228]\nDirect (c')     0.302 (0.051)  5.925 &lt;.001 *** [0.201, 0.397]\nTotal (c)       0.462 (0.040) 11.639 &lt;.001 *** [0.388, 0.546]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nPercentile Bootstrap Confidence Interval\n(SE and CI are estimated based on 100 Bootstrap samples.)\n\nNote. The results based on bootstrapping or other random processes\nare unlikely identical to other statistical software (e.g., SPSS).\nTo make results reproducible, you need to set a seed (any number).\nPlease see the help page for details: help(PROCESS)\nIgnore this note if you have already set a seed. :)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "href": "1011-rpac_brucer.html#å…¶ä»–å®ç”¨åŠŸèƒ½",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å…¶ä»–å®ç”¨åŠŸèƒ½",
    "text": "å…¶ä»–å®ç”¨åŠŸèƒ½\n\nè¿ç®—ç¬¦\n\n# %notin%ï¼šä¸åœ¨å…¶ä¸­\nc(1, 2, 3) %notin% c(2, 4, 6)\n\n[1]  TRUE FALSE  TRUE\n\n# %allin%ï¼šå…¨éƒ¨åœ¨å…¶ä¸­\nc(1, 2) %allin% c(1, 2, 3, 4)\n\n[1] TRUE\n\n\n\n\ntheme_bruce()ï¼šggplot2 ä¸»é¢˜\n\nlibrary(ggplot2)\n\nggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point(size = 2, alpha = 0.7) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(title = \"é¸¢å°¾èŠ±æ•°æ®å¯è§†åŒ–\") +\n  theme_bruce()",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å¯¼å‡ºåˆ°-word",
    "href": "1011-rpac_brucer.html#å¯¼å‡ºåˆ°-word",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å¯¼å‡ºåˆ° Word",
    "text": "å¯¼å‡ºåˆ° Word\nbruceR çš„ä¸€å¤§ç‰¹è‰²æ˜¯å¯ä»¥å°†ç»“æœç›´æ¥å¯¼å‡ºåˆ° Word æ–‡æ¡£ï¼š\n\n# æè¿°ç»Ÿè®¡\nDescribe(iris[, 1:4], file = \"descriptives.doc\")\n\n# ç›¸å…³çŸ©é˜µ\nCorr(iris[, 1:4], file = \"correlation.doc\")\n\n# å›å½’æ¨¡å‹\nmodel_summary(list(lm1, lm2, lm3), file = \"regression.doc\")\n\n# ä¸­ä»‹åˆ†æ\nPROCESS(data, y = \"Y\", x = \"X\", meds = \"M\", file = \"mediation.doc\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "1011-rpac_brucer.html#å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "å‡½æ•°é€ŸæŸ¥è¡¨\n\n\n\nç±»åˆ«\nå‡½æ•°\nåŠŸèƒ½\n\n\n\n\nåŸºç¡€\nset.wd()\nè®¾ç½®å·¥ä½œç›®å½•åˆ°å½“å‰è„šæœ¬ä½ç½®\n\n\n\nimport() / export()\nä¸‡èƒ½æ•°æ®å¯¼å…¥/å¯¼å‡º\n\n\n\ncc()\nå¿«é€Ÿåˆ›å»ºå­—ç¬¦å‘é‡\n\n\n\nprint_table()\næ‰“å°ä¸‰çº¿è¡¨\n\n\nè®¡ç®—\nMEAN() / SUM()\næ¨ªå‘è®¡ç®—ï¼ˆæ”¯æŒåå‘è®¡åˆ†ï¼‰\n\n\n\nRECODE()\nå˜é‡é‡ç¼–ç \n\n\n\nRESCALE()\nå˜é‡æ ‡å‡†åŒ–\n\n\nä¿¡æ•ˆåº¦\nAlpha()\nCronbachâ€™s Î± ä¿¡åº¦åˆ†æ\n\n\n\nEFA() / PCA()\næ¢ç´¢æ€§å› å­åˆ†æ/ä¸»æˆåˆ†åˆ†æ\n\n\n\nCFA()\néªŒè¯æ€§å› å­åˆ†æ\n\n\næè¿°\nDescribe()\næè¿°ç»Ÿè®¡\n\n\n\nFreq()\né¢‘ç‡åˆ†æä¸äº¤å‰è¡¨\n\n\n\nCorr()\nç›¸å…³åˆ†æä¸çƒ­åŠ›å›¾\n\n\næ£€éªŒ\nTTEST()\ntæ£€éªŒï¼ˆå•æ ·æœ¬/ç‹¬ç«‹/é…å¯¹ï¼‰\n\n\n\nMANOVA()\nå¤šå› ç´ æ–¹å·®åˆ†æ\n\n\n\nEMMEANS()\nè¾¹é™…å‡å€¼ä¸äº‹åæ¯”è¾ƒ\n\n\nå›å½’\nmodel_summary()\nå›å½’æ¨¡å‹æ•´æ´è¾“å‡º\n\n\n\nGLM_summary()\nå¹¿ä¹‰çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\n\nHLM_summary()\nå¤šå±‚çº¿æ€§æ¨¡å‹æ±‡æ€»\n\n\nä¸­ä»‹\nPROCESS()\nä¸­ä»‹/è°ƒèŠ‚æ•ˆåº”åˆ†æ\n\n\n\nmed_summary()\nä¸­ä»‹æ•ˆåº”æ±‡æ€»",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "1011-rpac_brucer.html#å‚è€ƒèµ„æº",
    "href": "1011-rpac_brucer.html#å‚è€ƒèµ„æº",
    "title": "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·",
    "section": "å‚è€ƒèµ„æº",
    "text": "å‚è€ƒèµ„æº\n\nbruceR GitHub ä¸»é¡µ\nCRAN å®˜æ–¹é¡µé¢\nä¸­æ–‡æ•™ç¨‹ï¼šæ¦‚è¿°ç¯‡\nä¸­æ–‡æ•™ç¨‹ï¼šå¸¸è§é—®é¢˜\nå¼•ç”¨ï¼šBao, H. W. S. (2021). bruceR: Broadly useful convenient and efficient R functions. https://doi.org/10.32614/CRAN.package.bruceR",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "bruceR - ç»Ÿè®¡åˆ†æå·¥å…·"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html",
    "href": "0011-rmarkdown.html",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "",
    "text": "rmarkdownæ˜¯ä¸€ç§å°†rè¯­è¨€ä»£ç å’Œmarkdownè¯­æ³•æ•´åˆåœ¨ä¸€èµ·çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å°†rè¯­è¨€ä»£ç çš„æ‰§è¡Œç»“æœå’Œæ–‡å­—ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨\nrmarkdownä¸»è¦ç”¨äºé€æ®µè¿è¡Œä»£ç å¹¶å±•ç¤ºç»“æœï¼Œç”Ÿæˆæ¼”ç¤ºæ–‡æ¡£ï¼Œç”Ÿæˆhtmlç”¨äºå…¶å®ƒå¹³å°å‘å¸ƒï¼Œæ­é…bookdownæ­å»ºç½‘é¡µæ•™ç¨‹\nåˆšå­¦ä¹ rè¯­è¨€çš„åŒå­¦å¯ä»¥ä½¿ç”¨rmarkdownæ¥å­¦ä¹ rè¯­è¨€ï¼Œä¸ä»…å¯ä»¥åœ¨æ®µè½ä¸­é—´ç©¿æ’ä¸ªäººè¯´æ˜ï¼ŒåŒæ—¶ç”¨markdownçš„å¤§çº²ç¬¦å·â€œ#â€å¯ä»¥è®©ä»£ç ç»“æ„æ¸…æ™°",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownä»‹ç»",
    "href": "0011-rmarkdown.html#rmarkdownä»‹ç»",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "",
    "text": "rmarkdownæ˜¯ä¸€ç§å°†rè¯­è¨€ä»£ç å’Œmarkdownè¯­æ³•æ•´åˆåœ¨ä¸€èµ·çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å°†rè¯­è¨€ä»£ç çš„æ‰§è¡Œç»“æœå’Œæ–‡å­—ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒã€‚rmarkdownçš„æ–‡æ¡£å¯ä»¥åœ¨\nrmarkdownä¸»è¦ç”¨äºé€æ®µè¿è¡Œä»£ç å¹¶å±•ç¤ºç»“æœï¼Œç”Ÿæˆæ¼”ç¤ºæ–‡æ¡£ï¼Œç”Ÿæˆhtmlç”¨äºå…¶å®ƒå¹³å°å‘å¸ƒï¼Œæ­é…bookdownæ­å»ºç½‘é¡µæ•™ç¨‹\nåˆšå­¦ä¹ rè¯­è¨€çš„åŒå­¦å¯ä»¥ä½¿ç”¨rmarkdownæ¥å­¦ä¹ rè¯­è¨€ï¼Œä¸ä»…å¯ä»¥åœ¨æ®µè½ä¸­é—´ç©¿æ’ä¸ªäººè¯´æ˜ï¼ŒåŒæ—¶ç”¨markdownçš„å¤§çº²ç¬¦å·â€œ#â€å¯ä»¥è®©ä»£ç ç»“æ„æ¸…æ™°",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownä½¿ç”¨",
    "href": "0011-rmarkdown.html#rmarkdownä½¿ç”¨",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownä½¿ç”¨",
    "text": "rmarkdownä½¿ç”¨\nåœ¨å·¥å…·æ æ–°å»ºrmarkdownæ–‡æ¡£ï¼Œä¼šç”Ÿæˆæ¨¡æ¿æ–‡ä»¶ï¼Œåœ¨æ¨¡æ¿æ–‡ä»¶çš„åŸºç¡€ä¸Šå¢åˆ ä¿®æ”¹",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownç•Œé¢",
    "href": "0011-rmarkdown.html#rmarkdownç•Œé¢",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownç•Œé¢",
    "text": "rmarkdownç•Œé¢\n\n\nå…ˆæŠŠyamlé‡Œçš„æ–‡æ¡£åŸå±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä½œè€…æ ‡é¢˜ä¿®æ”¹ä¸€ä¸‹ï¼ŒåæœŸå¦‚æœè¦å‘å¸ƒå±•ç¤ºä¼šæ˜¾ç¤ºåœ¨é¡µé¢æœ€ä¸Šæ–¹\nç”¨markdownè¯­æ³•æ–°å»ºå¤§çº²æ ‡é¢˜ï¼Œç”¨â€œ#â€ç¬¦å·ï¼Œâ€œ#â€ç¬¦å·è¶Šå¤šï¼Œæ ‡é¢˜å­—å·è¶Šå°\nç”¨å¿«æ·é”®â€œctrl+alt+iâ€å¯ä»¥åœ¨å½“å‰ä½ç½®æ’å…¥ä»£ç å—ï¼Œç”¨â€œctrl+alt+oâ€å¯ä»¥åœ¨å½“å‰ä½ç½®æ’å…¥è¾“å‡ºå—\nå°è¯•è¿è¡Œè‡ªå·±çš„ä»£ç å§",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "href": "0011-rmarkdown.html#rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rticlesåŒ…-rmarkdownæ¨¡æ¿",
    "text": "rticlesåŒ…-rmarkdownæ¨¡æ¿\nå®‰è£…rticlesåŒ…ä¹‹åï¼Œåœ¨æ–°å»ºrmdæ–‡ä»¶å¤„å°±èƒ½çœ‹åˆ°ä¸åŒçš„æ¨¡æ¿ï¼Œé€‰æ‹©ä¸€ä¸ªæ¨¡æ¿ï¼Œå°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å’Œæ¨¡æ¿çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ¨¡æ¿æ–‡ä»¶çš„å†…å®¹æ›´åŠ å®Œå–„ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥å¯¼å‡ºä¸ºhtmlã€pdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ï¼Œæ¨¡æ¿æ–‡ä»¶çš„å†…å®¹å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒ\nå®‰è£…prettydocåŒ…ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownç¼–è¯‘",
    "href": "0011-rmarkdown.html#rmarkdownç¼–è¯‘",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownç¼–è¯‘",
    "text": "rmarkdownç¼–è¯‘\nä»£ç å®Œæˆåå³å¯ç‚¹å‡»rstudioçš„â€œknitâ€æŒ‰é’®ï¼Œå³å¯ç¼–è¯‘ï¼Œç¼–è¯‘åä¼šç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œåœ¨htmlæ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ä»£ç çš„è¿è¡Œç»“æœï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¼å‡ºä¸ºpdfã€wordç­‰æ ¼å¼çš„æ–‡æ¡£ï¼Œå¯¼å‡ºçš„æ–‡æ¡£å¯ä»¥åœ¨githubä¸Šå…è´¹å‘å¸ƒï¼Œä¹Ÿå¯ä»¥åœ¨rstudioä¸Šå…è´¹å‘å¸ƒ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#rmarkdownçš„å—è®¾ç½®",
    "href": "0011-rmarkdown.html#rmarkdownçš„å—è®¾ç½®",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "rmarkdownçš„å—è®¾ç½®",
    "text": "rmarkdownçš„å—è®¾ç½®\nrmarkdownä¸»è¦æ˜¯ç”¨äºä»£ç å¯¼å‡ºç»“æœå±•ç¤ºçš„åŒ…ï¼ŒåŒæ—¶åœ¨å¯¼å‡ºæ—¶æˆ‘ä»¬ä¼šæœ‰ä¾§é‡çš„è®¾ç½®æŸäº›ä»£ç å—çš„è¿è¡Œã€‚ä¾‹å¦‚ï¼šè®¾ç½®ä¸€äº›å—ä¸è¿è¡Œï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æ˜¾ç¤ºä¿¡æ¯ï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æŠ¥é”™ï¼Œä¸€äº›å—è¿è¡Œä½†æ˜¯ä¸æ˜¾ç¤ºç»“æœã€‚\nrmdçš„å—è®¾ç½®å…±æœ‰7ç§ï¼ŒCode evaluationã€Resultsã€Code Decorationã€Chunksã€Cacheã€Animationã€Plotsã€‚çœ‹èµ·æ¥å¤æ‚ï¼Œå…¶å®å®é™…ä½¿ç”¨åˆ°çš„ä¹Ÿå°±å‡ ä¸ªï¼Œå¤§å®¶å…ˆè¿‡ä¸€éï¼Œä»¥åæ…¢æ…¢ç†Ÿæ‚‰ã€‚\n\nå¦‚ä½•æ·»åŠ å—è®¾ç½®\nåœ¨å—å¤´å¤„å’Œrç”¨ç©ºæ ¼éš”å¼€ï¼Œä¸åŒè®¾ç½®é—´ç”¨â€œ,â€éš”å¼€\n\n\n\nCode evaluation-è®¾ç½®å—æ˜¯å¦è¿è¡Œ\n\nevalå‚æ•° ç¤ºä¾‹ï¼šâ€œeval=Fâ€\nå¯è®¾ç½®ä¸è¿è¡Œä»£ç ,æ³¨æ„è¿™é‡Œä¸è¿è¡Œä»£ç \n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n\n\nincludeå‚æ•° ç¤ºä¾‹ï¼šâ€œinclude=Fâ€\nè¿™é‡Œå…¶å®æ˜¯æœ‰ä»£ç çš„ï¼Œä½†æ˜¯å¸¦ç€è¾“å‡ºè¢«ä¸€èµ·éšè—äº†ï¼ˆå ä½ç¬¦ï¼‰\n\n\nResultså‚æ•°,è®¾ç½®ç»“æœè¾“å‡º\n\nprint(\"è¿™æ˜¯è®¾ç½® result = 'hide'çš„è¿è¡Œç»“æœ,è™½ç„¶è¿è¡Œäº†ï¼Œä½†æ˜¯ä¸æ˜¾ç¤º\")\n\n\n\ncollapseå‚æ•° ,ä¸ºTè¡¨ç¤ºä»£ç å’Œç»“æœä¸€èµ·è¾“å‡º\nä¸‹æ–¹è®¾ç½®ä¸ºFæ•ˆæœ\n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"\n\n\n\n\n\nechoå‚æ•°ï¼Œè¾“å‡ºæ–‡æ¡£æ˜¯å¦æ˜¾ç¤ºä»£ç \nè®¾ç½®ä¸ºFä¹‹åï¼Œè¿è¡Œä»£ç ï¼Œä½†æ˜¯åªæ˜¾ç¤ºç»“æœä¸æ˜¾ç¤ºä»£ç \n\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"\n\n\n\n\nerrorã€warningã€messageä¸ºåŒä¸€ç±»å‚æ•°ï¼Œå½“ä»£ç ä¸­æœ‰è­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯æ—¶æ˜¯å¦å±•ç¤ºï¼Œå¦‚æœä¸ºFæ—¶å³ä¸å±•ç¤ºã€‚\n\nprint('è¿™æ˜¯è¿è¡Œç»“æœ')\n\n[1] \"è¿™æ˜¯è¿è¡Œç»“æœ\"",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "0011-rmarkdown.html#æ›´å¤šæ•™ç¨‹",
    "href": "0011-rmarkdown.html#æ›´å¤šæ•™ç¨‹",
    "title": "rmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è",
    "section": "æ›´å¤šæ•™ç¨‹",
    "text": "æ›´å¤šæ•™ç¨‹\nä¸­é—´ä»‹ç»äº†å‡ ä¸ªæˆ‘å¸¸ç”¨çš„ï¼Œæ›´å¤šçš„rmdæ•™ç¨‹å¯ç›´æ¥é˜…è¯»å®˜æ–¹çš„ä½¿ç”¨æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "RMarkdown å…¥é—¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html",
    "href": "1012-comparegroups.html",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "",
    "text": "ç¬¬95æœŸ Rè¯­è¨€æ•™ç¨‹ï¼compareGroupsç¥åŒ…åˆ¶ä½œæè¿°æ€§è¡¨ä¸€\næè¿°æ€§è¡¨1åœ¨è®ºæ–‡å†™ä½œä¸­å æ®ç€å¼€ç¯‡èµ·ç¬”çš„ä½œç”¨ã€‚å¯¹æ‰€ç”¨çš„æ•°æ®è¿›è¡Œæè¿°å’Œç®€å•åˆ†æï¼Œä¸ºåç»­çš„æ¨¡å‹æ„å»ºæä¾›æ•°æ®å¯é æ€§ä¿¡æ¯\næœ¬æœŸä»‹ç»å¦‚ä½•ä½¿ç”¨compareGroupsç¥åŒ…æ¥å¿«é€Ÿç”Ÿæˆç¬¦åˆå­¦æœ¯è§„èŒƒçš„è¡¨1ã€‚å¹¶è¿›è¡ŒåŒ…æ‹¬ä»¥ä¸‹è‡ªå®šä¹‰è®¾ç½®ï¼š1.è®¾ç½®äºšç»„ 2.è®¾ç½®éæ­£æ€å˜é‡ä½¿ç”¨éå‚ç»„é—´æ£€éªŒ 3.è®¾ç½®æ˜¾ç¤ºç¼ºå¤±å€¼ 4.è®¾ç½®æ˜¾ç¤ºORå€¼ 5.è®¾ç½®ä½¿ç”¨è‡ªå®šä¹‰ç»„é—´æ¯”è¾ƒæ–¹æ³• 6 æ•°æ®å¯¼å‡º",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…ä»‹ç»",
    "href": "1012-comparegroups.html#råŒ…ä»‹ç»",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\ncompareGroups æ˜¯ä¸€ä¸ªåœ¨ CRAN ä¸Šå¯ç”¨çš„ R åŒ…ï¼Œå®ƒå¯ä»¥ç”Ÿæˆæè¿°æ€§è¡¨æ ¼ï¼Œå±•ç¤ºå‡ ä¸ªå˜é‡çš„å‡å€¼ã€æ ‡å‡†å·®ã€åˆ†ä½æ•°æˆ–é¢‘ç‡ã€‚æ­¤å¤–ï¼Œè¿˜ä¼šä½¿ç”¨é€‚å½“çš„æµ‹è¯•è®¡ç®— p å€¼æ¥æ£€éªŒç»„é—´å·®å¼‚ã€‚\né€šè¿‡ç®€å•çš„ä»£ç ï¼Œå°±èƒ½åœ¨ R ä¸­ç”Ÿæˆç¾è§‚ã€è§„èŒƒä¸”å¯ç›´æ¥ç”¨äºè®ºæ–‡å‘è¡¨çš„æè¿°æ€§è¡¨æ ¼ã€‚è¿™äº›è¡¨æ ¼è¿˜å¯ä»¥å¯¼å‡ºåˆ°ä¸åŒçš„æ ¼å¼ï¼Œå¦‚ Wordã€Excelã€PDFï¼Œæˆ–æ’å…¥åˆ° R-Sweave æˆ– R-markdown æ–‡æ¡£ä¸­ã€‚\nåœ¨æ‰‹å†Œ https://cran.r-project.org/web/packages/compareGroups/vignettes/compareGroups_vignette.htmlé‡Œæä¾›äº†éå¸¸å‹å¥½çš„RåŒ…æ•™ç¨‹ï¼Œæè¿°äº† compareGroups çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶é™„æœ‰å®é™…ç¤ºä¾‹ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…å®‰è£…",
    "href": "1012-comparegroups.html#råŒ…å®‰è£…",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\nä»CRANä¸­å®‰è£…RåŒ…\n\ninstall.packages(\"compareGroups\") \n\næˆ–è€…ä»githubå®‰è£…æœ€æ–°ç‰ˆæœ¬\n\nlibrary(devtools) \ndevtools::install_github(\"isubirana/compareGroups\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1012-comparegroups.html#råŒ…å‚æ•°",
    "href": "1012-comparegroups.html#råŒ…å‚æ•°",
    "title": "compareGroups-æè¿°æ€§è¡¨ä¸€å¿«é€Ÿç”Ÿæˆ",
    "section": "RåŒ…å‚æ•°",
    "text": "RåŒ…å‚æ•°\n\næŸ¥çœ‹æ•°æ®\n(ä¸é‡è¦å¯ä»¥ä¸çœ‹ï¼ŒçŸ¥é“æ˜¯åŒ…å«å¤šç§æ•°æ®ç±»å‹çš„æ•°æ®é›†å³å¯)è°ƒç”¨RåŒ…è‡ªå¸¦çš„regicoræ•°æ®ï¼ŒåŒ…å«25ä¸ªå˜é‡ã€‚regicorï¼ˆå‰ç½—çº³å¿ƒè„ç™»è®°ï¼‰ç ”ç©¶æ˜¯ä¸€é¡¹æ¨ªæ–­é¢ç ”ç©¶ï¼Œå‚ä¸è€…æ¥è‡ªè¥¿ç­ç‰™ä¸œåŒ—éƒ¨åœ°åŒºã€‚åœ¨æ­¤ç ”ç©¶ä¸­ï¼Œæ”¶é›†äº†å‚ä¸è€…çš„å„ç§æ•°æ®é›†ï¼ŒåŒ…æ‹¬äººå£ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚å¹´é¾„å’Œæ€§åˆ«ï¼‰ã€äººä½“æµ‹é‡æ•°æ®ï¼ˆå¦‚èº«é«˜ã€ä½“é‡å’Œè…°å›´ï¼‰ä»¥åŠè„‚è´¨æ°´å¹³ï¼ˆåŒ…æ‹¬æ€»èƒ†å›ºé†‡å’Œç”˜æ²¹ä¸‰é…¯ï¼‰ã€‚æ­¤å¤–ï¼Œå‚ä¸è€…è¿˜å®Œæˆäº†æ¶µç›–ä½“è‚²æ´»åŠ¨å’Œç”Ÿæ´»è´¨é‡ç­‰é¢†åŸŸçš„é—®å·ã€‚\nä¸ºäº†è¿½è¸ªå¥åº·ç»“æœï¼Œç ”ç©¶è¿˜æ”¶é›†äº†å…³äºå¿ƒè¡€ç®¡äº‹ä»¶å’Œæ­»äº¡çš„æ•°æ®ã€‚è¿™äº›ä¿¡æ¯æ˜¯é€šè¿‡åŒ»é™¢å’Œå®˜æ–¹ç™»è®°å†ŒåŠæŠ¥å‘Šï¼Œåœ¨è¶…è¿‡10å¹´çš„æ—¶é—´é‡Œè·å¾—çš„ã€‚\n\nlibrary(compareGroups)\nlibrary(bruceR) #ä¹‹å‰æœ‰ä»‹ç»è¿‡ï¼Œæ–¹ä¾¿æè¿°æ•°æ®\n\n\n# æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬åªåˆ†æå‰åä¸ªå˜é‡\ndata(\"regicor\")\n\nregicor &lt;- regicor[,1:10]\n\nstr(regicor)\n\n'data.frame':   2294 obs. of  10 variables:\n $ id     : num  2.26e+03 1.88e+03 3.00e+09 3.00e+09 3.00e+09 ...\n  ..- attr(*, \"label\")= Named chr \"Individual id\"\n  .. ..- attr(*, \"names\")= chr \"id\"\n $ year   : Factor w/ 3 levels \"1995\",\"2000\",..: 3 3 2 2 2 2 2 1 3 1 ...\n  ..- attr(*, \"label\")= Named chr \"Recruitment year\"\n  .. ..- attr(*, \"names\")= chr \"year\"\n $ age    : int  70 56 37 69 70 40 66 53 43 70 ...\n  ..- attr(*, \"label\")= Named chr \"Age\"\n  .. ..- attr(*, \"names\")= chr \"age\"\n $ sex    : Factor w/ 2 levels \"Male\",\"Female\": 2 2 1 2 2 2 1 2 2 1 ...\n  ..- attr(*, \"label\")= chr \"Sex\"\n $ smoker : Factor w/ 3 levels \"Never smoker\",..: 1 1 2 1 NA 2 1 1 3 3 ...\n  ..- attr(*, \"label\")= Named chr \"Smoking status\"\n  .. ..- attr(*, \"names\")= chr \"smoker\"\n $ sbp    : int  138 139 132 168 NA 108 120 132 95 142 ...\n  ..- attr(*, \"label\")= Named chr \"Systolic blood pressure\"\n  .. ..- attr(*, \"names\")= chr \"sbp\"\n $ dbp    : int  75 89 82 97 NA 70 72 78 65 78 ...\n  ..- attr(*, \"label\")= Named chr \"Diastolic blood pressure\"\n  .. ..- attr(*, \"names\")= chr \"dbp\"\n $ histhtn: Factor w/ 2 levels \"Yes\",\"No\": 2 2 2 2 2 2 1 2 2 2 ...\n  ..- attr(*, \"label\")= Named chr \"History of hypertension\"\n  .. ..- attr(*, \"names\")= chr \"histbp\"\n $ txhtn  : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 2 1 1 1 ...\n  ..- attr(*, \"label\")= chr \"Hypertension treatment\"\n $ chol   : num  294 220 245 168 NA NA 298 254 194 188 ...\n  ..- attr(*, \"label\")= Named chr \"Total cholesterol\"\n  .. ..- attr(*, \"names\")= chr \"chol\"\n\n\n\n\nç”Ÿæˆæè¿°æ€§ç»Ÿè®¡è¡¨\nç®€å•ç”Ÿæˆä¸€ä¸ªæœ€ç®€å•çš„æè¿°æ€§ç»Ÿè®¡è¡¨ï¼Œå‘ç°å®šé‡èµ„æ–™ç”¨å¹³å‡å€¼æ ‡å‡†å·®æè¿°ï¼Œåˆ†ç±»èµ„æ–™ç”¨ä¾‹æ•°å’Œå æ¯”æè¿°\n\ndescrTable( ~ ., data = regicor)\n\n\n--------Summary descriptives table ---------\n\n_______________________________________________________ \n                                    [ALL]           N   \n                                   N=2294               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nIndividual id              1215817624 (1339538686) 2294 \nRecruitment year:                                  2294 \n    1995                         431 (18.8%)            \n    2000                         786 (34.3%)            \n    2005                        1077 (46.9%)            \nAge                              54.7 (11.0)       2294 \nSex:                                               2294 \n    Male                        1101 (48.0%)            \n    Female                      1193 (52.0%)            \nSmoking status:                                    2233 \n    Never smoker                1201 (53.8%)            \n    Current or former &lt; 1y       593 (26.6%)            \n    Former &gt;= 1y                 439 (19.7%)            \nSystolic blood pressure          131 (20.3)        2280 \nDiastolic blood pressure         79.7 (10.5)       2280 \nHistory of hypertension:                           2286 \n    Yes                          723 (31.6%)            \n    No                          1563 (68.4%)            \nHypertension treatment:                            2251 \n    No                          1823 (81.0%)            \n    Yes                          428 (19.0%)            \nTotal cholesterol                219 (45.2)        2193 \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè®¾ç½®åˆ†ç»„å˜é‡\næ ¹æ®å¸çƒŸæƒ…å†µå°†äººç¾¤åˆ†ä¸ºä¸‰ç»„ï¼ŒåŒæ—¶ç”Ÿæˆç»„é—´æ¯”è¾ƒåˆ—ï¼ˆp.overallï¼‰ã€‚è‡ªåŠ¨ä½¿ç”¨å¡æ–¹æ£€éªŒ(åˆ†ç±»å˜é‡)å’Œæ–¹å·®åˆ†æ(è®¡é‡èµ„æ–™ï¼šä¸¤ç±»æ—¶ç­‰ä»·tæ£€éªŒ)ã€‚\n\ndescrTable(`smoker`~ ., data = regicor)\n\n\n--------Summary descriptives table by 'Smoking status'---------\n\n_________________________________________________________________________________________________________ \n                              Never smoker       Current or former &lt; 1y       Former &gt;= 1y      p.overall \n                                 N=1201                   N=593                  N=439                    \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nIndividual id            1229013133 (1337342152) 1534618659 (1372769742) 690225475 (1126583145)  &lt;0.001   \nRecruitment year:                                                                                &lt;0.001   \n    1995                       234 (19.5%)             109 (18.4%)             72 (16.4%)                 \n    2000                       414 (34.5%)             267 (45.0%)             77 (17.5%)                 \n    2005                       553 (46.0%)             217 (36.6%)            290 (66.1%)                 \nAge                            56.5 (10.8)             50.6 (10.7)            55.3 (10.6)        &lt;0.001   \nSex:                                                                                             &lt;0.001   \n    Male                       301 (25.1%)             410 (69.1%)            360 (82.0%)                 \n    Female                     900 (74.9%)             183 (30.9%)             79 (18.0%)                 \nSystolic blood pressure        132 (20.5)              128 (19.8)              133 (19.7)        &lt;0.001   \nDiastolic blood pressure       79.5 (10.2)             78.8 (11.0)            81.2 (10.8)         0.001   \nHistory of hypertension:                                                                         &lt;0.001   \n    Yes                        421 (35.1%)             125 (21.2%)            162 (36.9%)                 \n    No                         777 (64.9%)             464 (78.8%)            277 (63.1%)                 \nHypertension treatment:                                                                          &lt;0.001   \n    No                         922 (77.9%)             525 (90.2%)            331 (77.2%)                 \n    Yes                        262 (22.1%)             57 (9.79%)              98 (22.8%)                 \nTotal cholesterol              220 (46.7)              219 (44.7)              214 (42.6)         0.039   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nåˆ é™¤æŸäº›å˜é‡ä¸æ˜¾ç¤º\nå¦‚ä¸å¸Œæœ›æè¿°æ€§ç»Ÿè®¡å¯¹Idå’Œyearè¿›è¡Œæè¿°ï¼Œç›´æ¥åœ¨~å³ä¾§çš„.åä½¿ç”¨å‡å·è¿›è¡Œåˆ é™¤ï¼ˆå¦‚éœ€è¦çš„å˜é‡æ¯”è¾ƒå°‘ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å†™å…¬å¼ä¸€ä¸ªä¸ªåŠ ï¼‰\n\ndescrTable(`smoker`~ .-id-year, data = regicor)\n\n\n--------Summary descriptives table by 'Smoking status'---------\n\n___________________________________________________________________________________ \n                         Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall \n                            N=1201            N=593             N=439               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                      56.5 (10.8)       50.6 (10.7)       55.3 (10.6)   &lt;0.001   \nSex:                                                                       &lt;0.001   \n    Male                 301 (25.1%)       410 (69.1%)       360 (82.0%)            \n    Female               900 (74.9%)       183 (30.9%)        79 (18.0%)            \nSystolic blood pressure   132 (20.5)        128 (19.8)        133 (19.7)   &lt;0.001   \nDiastolic blood pressure 79.5 (10.2)       78.8 (11.0)       81.2 (10.8)    0.001   \nHistory of hypertension:                                                   &lt;0.001   \n    Yes                  421 (35.1%)       125 (21.2%)       162 (36.9%)            \n    No                   777 (64.9%)       464 (78.8%)       277 (63.1%)            \nHypertension treatment:                                                    &lt;0.001   \n    No                   922 (77.9%)       525 (90.2%)       331 (77.2%)            \n    Yes                  262 (22.1%)        57 (9.79%)        98 (22.8%)            \nTotal cholesterol         220 (46.7)        219 (44.7)        214 (42.6)    0.039   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\näºšç»„æè¿°\nsubset=(é€»è¾‘åˆ¤æ–­)æ¥æŒ‘é€‰å‡ºç”·æ€§æ‚£è€…è¿›è¡Œåˆ†æ\n\ndescrTable(`smoker`~ .-id-year-sex, data = regicor,\n           subset=(sex==\"Male\"))\n\n\n--------Summary descriptives table by 'smoker'---------\n\n___________________________________________________________________________________ \n                         Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall \n                            N=301             N=410             N=360               \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                      55.0 (11.5)       52.7 (11.0)       56.8 (10.5)   &lt;0.001   \nSystolic blood pressure   133 (18.5)        133 (19.0)        136 (19.0)    0.048   \nDiastolic blood pressure 81.3 (9.31)       81.2 (10.6)       82.3 (10.4)    0.253   \nHistory of hypertension:                                                   &lt;0.001   \n    Yes                   85 (28.4%)       101 (24.8%)       145 (40.3%)            \n    No                   214 (71.6%)       306 (75.2%)       215 (59.7%)            \nHypertension treatment:                                                    &lt;0.001   \n    No                   248 (83.5%)       357 (88.4%)       263 (75.1%)            \n    Yes                   49 (16.5%)        47 (11.6%)        87 (24.9%)            \nTotal cholesterol         213 (44.0)        221 (41.9)        216 (43.3)    0.061   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè‡ªå®šä¹‰è®¾ç½®åˆ†ç»„æ£€éªŒæ–¹æ³•\nè®¾ç½®mehtodå‚æ•°å€¼ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤æ‰€æœ‰å˜é‡ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ä¿®æ”¹ageä¸ºéæ­£æ€åä½¿ç”¨å››åˆ†ä½æ•°è¿›è¡Œæè¿°ï¼ŒåŒæ—¶ä½¿ç”¨éå‚æ£€éªŒè¿›è¡Œåˆ†ç»„æ¯”è¾ƒ\n\nå‚æ•°å€¼ä¸º1ï¼šæ­£æ€åˆ†å¸ƒåˆ†æ ï¼šæ­¤å€¼å¼ºåˆ¶åˆ†æå‡è®¾è¡Œå˜é‡éµå¾ªæ­£æ€åˆ†å¸ƒã€‚\nå‚æ•°å€¼ä¸º2ï¼šè¿ç»­éæ­£æ€åˆ†æ ï¼šé€‰æ‹©æ­¤å€¼æ„å‘³ç€åˆ†æä¸å‡è®¾è¡Œå˜é‡éµå¾ªæ­£æ€åˆ†å¸ƒï¼Œå°†å…¶è§†ä¸ºè¿ç»­ä½†éæ­£æ€åˆ†å¸ƒçš„å˜é‡ã€‚\nå‚æ•°å€¼ä¸º3ï¼šåˆ†ç±»åˆ†æï¼šæ­¤å€¼å¼ºåˆ¶åˆ†æå°†è¡Œå˜é‡è§†ä¸ºåˆ†ç±»å˜é‡ï¼Œæ— è®ºå…¶åŸå§‹ç±»å‹å¦‚ä½•ã€‚\nå‚æ•°å€¼ä¸º4ï¼šShapiro-Wilksæ£€éªŒ ï¼ˆæ­£æ€æ£€éªŒï¼‰ï¼šä½¿ç”¨æ­¤å€¼è§¦å‘Shapiro-Wilksæ£€éªŒï¼Œä»¥ç¡®å®šå˜é‡æ˜¯å¦åº”åœ¨æ­£æ€æ€§å‡è®¾ä¸‹è¿›è¡Œåˆ†æï¼Œè¿˜æ˜¯éæ­£æ€ã€‚è¿™å¯¹äºæ ¹æ®æ•°æ®åšå‡ºå¦‚ä½•å¤„ç†æ¯ä¸ªå˜é‡çš„å†³ç­–éå¸¸æœ‰ç”¨ã€‚\n\n\n# descrTable(`smoker`~ .-id-year, data = regicor,method = 1) å‡å®šæ‰€æœ‰å˜é‡ç¬¦åˆæ­£æ€åˆ†å¸ƒ\n\n#è®¾ç½®ageå˜é‡ä¸ºéæ­£æ€ï¼Œä½¿ç”¨éå‚æ£€éªŒè¿›è¡Œæ¯”è¾ƒ\ndescrTable(`sex`~ .-id-year, data = regicor, method=c(age = 2))\n\n\n--------Summary descriptives table by 'Sex'---------\n\n______________________________________________________________________ \n                                 Male            Female      p.overall \n                                N=1101           N=1193                \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.0 [46.0;64.0] 55.0 [46.0;64.0]   0.851   \nSmoking status:                                               &lt;0.001   \n    Never smoker             301 (28.1%)      900 (77.5%)              \n    Current or former &lt; 1y   410 (38.3%)      183 (15.7%)              \n    Former &gt;= 1y             360 (33.6%)       79 (6.80%)              \nSystolic blood pressure       134 (18.9)       129 (21.2)     &lt;0.001   \nDiastolic blood pressure     81.7 (10.2)      77.8 (10.5)     &lt;0.001   \nHistory of hypertension:                                       0.644   \n    Yes                      341 (31.1%)      382 (32.1%)              \n    No                       755 (68.9%)      808 (67.9%)              \nHypertension treatment:                                        0.096   \n    No                       889 (82.5%)      934 (79.6%)              \n    Yes                      189 (17.5%)      239 (20.4%)              \nTotal cholesterol             217 (42.7)       220 (47.4)      0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nä¸æ˜¾ç¤ºæ ‡ç­¾labelå€¼\næœ‰äº›æ•°æ®é›†è‡ªå¸¦labelï¼Œå¯ä»¥é€šè¿‡include.labelè®¾ç½®æ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾\n\ndescrTable(`sex`~ .-id-year, data = regicor, include.label= FALSE)\n\n\n--------Summary descriptives table by 'sex'---------\n\n____________________________________________________________ \n                              Male       Female    p.overall \n                             N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nage                        54.8 (11.1) 54.7 (11.0)   0.840   \nsmoker:                                             &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)            \nsbp                        134 (18.9)  129 (21.2)   &lt;0.001   \ndbp                        81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nhisthtn:                                             0.644   \n    Yes                    341 (31.1%) 382 (32.1%)           \n    No                     755 (68.9%) 808 (67.9%)           \ntxhtn:                                               0.096   \n    No                     889 (82.5%) 934 (79.6%)           \n    Yes                    189 (17.5%) 239 (20.4%)           \nchol                       217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nè®¾ç½®è®¡é‡èµ„æ–™ç”¨å››åˆ†ä½æ³•æè¿°\nè®¾ç½®Q1å‚æ•°å’ŒQ3å‚æ•°è®¾ç½®å¦‚ä½•æè¿°éæ­£æ€è¿ç»­å˜é‡ã€‚å¦‚æœè®¾ç½®æˆ0å’Œ1å°±æ˜¯æœ€å°å€¼æœ€å¤§å€¼æè¿°\n\ndescrTable(`sex`~ .-id-year, data = regicor,method = c(age=2),\n           Q1=0.025, Q3=0.975)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n______________________________________________________________________ \n                                 Male            Female      p.overall \n                                N=1101           N=1193                \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.0 [36.0;73.0] 55.0 [36.0;73.0]   0.851   \nSmoking status:                                               &lt;0.001   \n    Never smoker             301 (28.1%)      900 (77.5%)              \n    Current or former &lt; 1y   410 (38.3%)      183 (15.7%)              \n    Former &gt;= 1y             360 (33.6%)       79 (6.80%)              \nSystolic blood pressure       134 (18.9)       129 (21.2)     &lt;0.001   \nDiastolic blood pressure     81.7 (10.2)      77.8 (10.5)     &lt;0.001   \nHistory of hypertension:                                       0.644   \n    Yes                      341 (31.1%)      382 (32.1%)              \n    No                       755 (68.9%)      808 (67.9%)              \nHypertension treatment:                                        0.096   \n    No                       889 (82.5%)      934 (79.6%)              \n    Yes                      189 (17.5%)      239 (20.4%)              \nTotal cholesterol             217 (42.7)       220 (47.4)      0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nç”ŸæˆORå’ŒHRå€¼\nä½¿ç”¨show.ratioå˜é‡æ¥æ˜¾ç¤ºORå€¼ï¼Œå¯¹äºå˜é‡ç±»å‹æ˜¯time-to-eventå˜é‡åˆ™è¾“å‡ºHRå€¼\n\n descrTable(`sex`~ .-id-year, data = regicor,show.ratio = TRUE)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n_____________________________________________________________________________________ \n                              Male       Female           OR        p.ratio p.overall \n                             N=1101      N=1193                                       \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01]  0.840    0.840   \nSmoking status:                                                              &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)       Ref.        Ref.             \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 0.15 [0.12;0.19]  0.000            \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)  0.07 [0.06;0.10]  0.000            \nSystolic blood pressure    134 (18.9)  129 (21.2)  0.99 [0.98;0.99] &lt;0.001   &lt;0.001   \nDiastolic blood pressure   81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001   &lt;0.001   \nHistory of hypertension:                                                      0.644   \n    Yes                    341 (31.1%) 382 (32.1%)       Ref.        Ref.             \n    No                     755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14]  0.612            \nHypertension treatment:                                                       0.096   \n    No                     889 (82.5%) 934 (79.6%)       Ref.        Ref.             \n    Yes                    189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49]  0.086            \nTotal cholesterol          217 (42.7)  220 (47.4)  1.00 [1.00;1.00]  0.141    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\nè®¾ç½®ORå€¼çš„refå¯¹ç…§\nä½¿ç”¨refå‚æ•°è®¾ç½®å˜é‡çš„refå¯¹ç…§å€¼ã€‚ä»£ç æ‰€ç¤ºä¸ºæŠŠsmokerçš„å› å­levelä¸º3ï¼ˆå€¼ä¸ºâ€Former&gt;=1yâ€ï¼‰çš„è®¾ç½®ä¸ºå¯¹ç…§ç»„è®¡ç®—å…¶å®ƒç»„çš„ORå€¼\nåŒæ ·ä½œç”¨çš„å‡½æ•°è¿˜æœ‰ref.no å’Œ ref.y\n\ndescrTable(`sex`~ .-id-year, data = regicor,\n           include.label = FALSE,show.ratio = TRUE,\n           ref = c(smoker=3))\n\n\n--------Summary descriptives table by 'sex'---------\n\n_____________________________________________________________________________________ \n                              Male       Female           OR        p.ratio p.overall \n                             N=1101      N=1193                                       \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nage                        54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01]  0.840    0.840   \nsmoker:                                                                      &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%) 13.6 [10.4;18.0]  0.000            \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 2.03 [1.51;2.75] &lt;0.001            \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)        Ref.        Ref.             \nsbp                        134 (18.9)  129 (21.2)  0.99 [0.98;0.99] &lt;0.001   &lt;0.001   \ndbp                        81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001   &lt;0.001   \nhisthtn:                                                                      0.644   \n    Yes                    341 (31.1%) 382 (32.1%)       Ref.        Ref.             \n    No                     755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14]  0.612            \ntxhtn:                                                                        0.096   \n    No                     889 (82.5%) 934 (79.6%)       Ref.        Ref.             \n    Yes                    189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49]  0.086            \nchol                       217 (42.7)  220 (47.4)  1.00 [1.00;1.00]  0.141    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\n\nä¸æ˜¾ç¤ºå¯¹ç…§ç»„çš„æè¿°ä¿¡æ¯\nä½¿ç”¨hide.noæ¥éšè—æŸäº›å› å­æ°´å¹³çš„æè¿°ã€‚å¸¸ç”¨æ¥éšè—æ‰2åˆ†ç±»å˜é‡çš„å¦çš„ä¿¡æ¯\n\n descrTable(`sex`~ .-id-year, data = regicor,hide.no = \"No\")\n\n\n--------Summary descriptives table by 'Sex'---------\n\n____________________________________________________________ \n                              Male       Female    p.overall \n                             N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.8 (11.1) 54.7 (11.0)   0.840   \nSmoking status:                                     &lt;0.001   \n    Never smoker           301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           360 (33.6%) 79 (6.80%)            \nSystolic blood pressure    134 (18.9)  129 (21.2)   &lt;0.001   \nDiastolic blood pressure   81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nHistory of hypertension    341 (31.1%) 382 (32.1%)   0.644   \nHypertension treatment     189 (17.5%) 239 (20.4%)   0.096   \nTotal cholesterol          217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nåŒæ—¶æ˜¾ç¤ºæ€»äººç¾¤çš„æè¿°\n\ndescrTable(`sex`~ .-id-year, data = regicor,show.all = TRUE)\n\n\n--------Summary descriptives table by 'Sex'---------\n\n_________________________________________________________________________ \n                              [ALL]        Male       Female    p.overall \n                              N=2294      N=1101      N=1193              \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \nAge                        54.7 (11.0)  54.8 (11.1) 54.7 (11.0)   0.840   \nSmoking status:                                                  &lt;0.001   \n    Never smoker           1201 (53.8%) 301 (28.1%) 900 (77.5%)           \n    Current or former &lt; 1y 593 (26.6%)  410 (38.3%) 183 (15.7%)           \n    Former &gt;= 1y           439 (19.7%)  360 (33.6%) 79 (6.80%)            \nSystolic blood pressure     131 (20.3)  134 (18.9)  129 (21.2)   &lt;0.001   \nDiastolic blood pressure   79.7 (10.5)  81.7 (10.2) 77.8 (10.5)  &lt;0.001   \nHistory of hypertension:                                          0.644   \n    Yes                    723 (31.6%)  341 (31.1%) 382 (32.1%)           \n    No                     1563 (68.4%) 755 (68.9%) 808 (67.9%)           \nHypertension treatment:                                           0.096   \n    No                     1823 (81.0%) 889 (82.5%) 934 (79.6%)           \n    Yes                    428 (19.0%)  189 (17.5%) 239 (20.4%)           \nTotal cholesterol           219 (45.2)  217 (42.7)  220 (47.4)    0.140   \nÂ¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯Â¯ \n\n\n\n\nç»“æœå¯¼å‡º\nå¯å¯¼å‡ºå„ç§æ ¼å¼,export2xls, export2latex,Â export2pdf,Â export2csv,Â export2md,Â export2word\n\nexport2word(tab_0,file=\"1 data_summary.docx\")\n\n\n\nå¿«é€Ÿå¯è§†åŒ–\nä½¿ç”¨plotå‡½æ•°è¿›è¡Œå¯è§†åŒ–ï¼Œè®¾ç½®fileå’Œtypeå‚æ•°è¿›è¡Œä¿å­˜ä¾‹å¦‚\nplot(res[c(1,2)], file=â€œ./figures/univar/â€, type=â€œpngâ€)\n\ntab0 &lt;- descrTable(`sex`~ .-id-year, data = regicor)\n\nplot(tab0)",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "compareGroups - æè¿°æ€§è¡¨"
    ]
  },
  {
    "objectID": "1014-purrr.html",
    "href": "1014-purrr.html",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "",
    "text": "purrr é€šè¿‡æä¾›ä¸€å¥—å®Œæ•´ä¸”ä¸€è‡´çš„ç”¨äºå¤„ç†å‡½æ•°å’Œå‘é‡çš„å·¥å…·æ¥å¢å¼º R çš„å‡½æ•°å¼ç¼–ç¨‹ (FP) å·¥å…·åŒ…ã€‚å¦‚æœæ‚¨ä»¥å‰ä»æœªå¬è¯´è¿‡ FPï¼Œé‚£ä¹ˆæœ€å¥½çš„èµ·ç‚¹æ˜¯map()å‡½æ•°ç³»åˆ—ï¼Œå®ƒå…è®¸æ‚¨ç”¨æ›´ç®€æ´ã€æ›´æ˜“äºé˜…è¯»çš„ä»£ç æ›¿æ¢è®¸å¤š for å¾ªç¯ã€‚\nå¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†æ›´ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨åµŒå¥—å‡½æ•°æ¥æ›¿ä»£forå¾ªç¯çš„å†—é•¿çš„æ¡†æ¶ç»“æ„ã€‚è®©è¾“å…¥è¾“å‡ºæ›´ç®€å•ã€‚\nç›¸å…³æ•™ç¨‹ï¼šå®˜ç½‘ç½‘ç«™",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#råŒ…ä»‹ç»",
    "href": "1014-purrr.html#råŒ…ä»‹ç»",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "",
    "text": "purrr é€šè¿‡æä¾›ä¸€å¥—å®Œæ•´ä¸”ä¸€è‡´çš„ç”¨äºå¤„ç†å‡½æ•°å’Œå‘é‡çš„å·¥å…·æ¥å¢å¼º R çš„å‡½æ•°å¼ç¼–ç¨‹ (FP) å·¥å…·åŒ…ã€‚å¦‚æœæ‚¨ä»¥å‰ä»æœªå¬è¯´è¿‡ FPï¼Œé‚£ä¹ˆæœ€å¥½çš„èµ·ç‚¹æ˜¯map()å‡½æ•°ç³»åˆ—ï¼Œå®ƒå…è®¸æ‚¨ç”¨æ›´ç®€æ´ã€æ›´æ˜“äºé˜…è¯»çš„ä»£ç æ›¿æ¢è®¸å¤š for å¾ªç¯ã€‚\nå¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†æ›´ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨åµŒå¥—å‡½æ•°æ¥æ›¿ä»£forå¾ªç¯çš„å†—é•¿çš„æ¡†æ¶ç»“æ„ã€‚è®©è¾“å…¥è¾“å‡ºæ›´ç®€å•ã€‚\nç›¸å…³æ•™ç¨‹ï¼šå®˜ç½‘ç½‘ç«™",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#råŒ…å®‰è£…",
    "href": "1014-purrr.html#råŒ…å®‰è£…",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"purrr\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#è¯­æ³•",
    "href": "1014-purrr.html#è¯­æ³•",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "è¯­æ³•",
    "text": "è¯­æ³•\npurrrç³»åˆ—å‡½æ•°éƒ½ä»¥mapï¼Œmap2å’Œpmapä½œä¸ºå¤§ç±»ï¼Œæ­é…æ›´å¤šçš„åç¼€æ¥è®¾å®šè¾“å‡ºç±»å‹ã€‚\n\nmap(.x, .f)ï¼šè¾“å…¥ä¸€ä¸ªå‘é‡(.x)ï¼Œä»¥è¯¥å‘é‡ä¸ºè¾“å…¥è¿›è¡Œå¾ªç¯(.få‡½æ•°å¾ªç¯)\nmap(.x, .f)ï¼šè¾“å…¥ä¸¤ä¸ªå‘é‡\nmap3(.x, .f)ï¼šè¾“å…¥nï¼ˆå¤§äº2ï¼‰å‘é‡\n\nè¿™é‡Œè¾¹çš„å‘é‡æ˜¯æ¯”è¾ƒå¹¿çš„å‘é‡ï¼ŒåŒ…å«å‘é‡ï¼Œåˆ—è¡¨ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°æ®æ¡†ï¼ˆå¯ä»¥çœ‹ä½œå‘é‡çš„å‘é‡ï¼‰ï¼Œåªè¦æœ‰è¿™ç§é¡ºåºç»“æ„çš„éƒ½å¯ä»¥ä½œä¸ºmapçš„è¾“å…¥",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#ä¸¾ä¸ªæ —å­",
    "href": "1014-purrr.html#ä¸¾ä¸ªæ —å­",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "ä¸¾ä¸ªæ —å­",
    "text": "ä¸¾ä¸ªæ —å­\n\nåŠ è½½æ•°æ®\n\nlibrary(tidyverse)\n\nWarning: ç¨‹åºåŒ…'ggplot2'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(purrr)\n\n\ndata &lt;- mtcars\n\nhead(data, 5)\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n\n\n\n\nä½¿ç”¨tidyverseç»“æ„å’Œpurrræ¥åˆ’åˆ†æ•°æ®åˆ†åˆ«åšå›å½’\næˆ‘ä»¬ç°åœ¨æƒ³æ ¹æ®cylå¯¹æ•°æ®æ¡†è¿›è¡Œåˆ’åˆ†ï¼Œåœ¨åˆ†å‡ºæ¥çš„æ•°æ®æ¡†ä¸­åšå›å½’ï¼Œç„¶åæŠŠå›å½’ç»“æœæ”¾åˆ°ä¸€ä¸ªæ•°å­—å‘é‡é‡Œ\n\ndata |&gt; \n  split(data$cyl) |&gt;  # åˆ’åˆ†æ•°æ®\n  map(\\(df) lm(mpg ~ wt, data = df)) |&gt; #åˆ†åˆ«åšå¾ªç¯\n  map(summary) %&gt;%  #å¯¹ç»“æœåšsummary\n  map_dbl(\"r.squared\")\n\n        4         6         8 \n0.5086326 0.4645102 0.4229655 \n\n\næŸ¥çœ‹ä»¥ä¸‹ä»£ç ï¼Œå‘ç°äº†ä»€ä¹ˆï¼Ÿ\n\npurrrå¾ªç¯çš„ç¬¬ä¸€ä¸ªå‚æ•°å§‹ç»ˆæ˜¯æ•°æ®ï¼Œå› æ­¤ purrr å¯ä»¥è‡ªç„¶åœ°ä¸ç®¡é“é…åˆä½¿ç”¨ã€‚\nmap_xxxï¼ˆmapçš„åç¼€ç›¸å½“äºè‡ªå®šä¹‰äº†è¾“å‡ºç±»å‹ï¼‰\n\n\n\nå¸¸è§„æ–¹æ³•æ¥åšè¿™ä¸ªæ¨¡å‹\n\nvar &lt;- c(\"disp\", \"hp\", \"drat\")\n\ndata_list &lt;- split(data, mtcars$cyl)\n\nvec_result = c()\nfor (temp_data in data_list) {\n    model = lm(mpg ~ wt, data = temp_data)\n    model_summary = summary(model)\n    r2 = model_summary$\"r.squared\"\n    vec_result = c(vec_result, r2)\n}\n\nprint(vec_result)\n\n[1] 0.5086326 0.4645102 0.4229655\n\n\nå‘ç°äº†ä»€ä¹ˆ\n\nä»£ç è¡Œæ•°å¤šäº†å¾ˆå¤š\nå¤šäº†ä¸€äº›ä¸­é—´å˜é‡\nä»£ç å¯è¯»æ€§å·®ï¼Œå¾ˆä¸ä¼˜é›…",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "href": "1014-purrr.html#å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "å¤šå˜é‡ç´¢å¼•å¾ªç¯",
    "text": "å¤šå˜é‡ç´¢å¼•å¾ªç¯\nå¦‚æœæ˜¯æƒ³ç”¨å¤šä¸ªå‘é‡æ¥ç´¢å¼•å¾ªç¯ï¼Œè¾“å…¥å¤šä¸ªå‘é‡ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆåšå‘¢ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±çŸ¥é“äº†ã€‚\n\nvar1 &lt;- c(\"disp\", \"hp\", \"drat\")\nvar2 &lt;- c(\"wt\", \"qsec\", \"vs\")\nvar_add &lt;- map2(var1, var2, \\(x, y) paste0(x, \"+\", y))\nprint(var_add)\n\n[[1]]\n[1] \"disp+wt\"\n\n[[2]]\n[1] \"hp+qsec\"\n\n[[3]]\n[1] \"drat+vs\"\n\n\nå†ä¸¾ä¸ªä¾‹å­\n\nmeans &lt;- 1:4\nsds &lt;- 1:4\nset.seed(2020)\nsamples &lt;- map2(means, sds, \\(mean, sds){rnorm(mean, sds, n = 5)})\n\n#è¿™é‡Œä¹Ÿå¯ä»¥å†™ä¸ºï¼Œå¦‚ä¸‹ï¼Œä¸è¿‡æœ‰æ—¶å€™æƒ³è¦æ›´å¤æ‚çš„æ“ä½œå°±ä¸è¦ç”¨è¿™ç§ç®€åŒ–çš„å†™æ³•\n#samples &lt;- map2(means, sds, rnorm, n = 5)\nstr(samples)\n\nList of 4\n $ : num [1:5] 1.377 1.302 -0.098 -0.13 -1.797\n $ : num [1:5] 3.44 3.88 1.54 5.52 2.23\n $ : num [1:5] 0.441 5.728 6.589 1.885 2.63\n $ : num [1:5] 11.2 10.82 -8.16 -5.16 4.23\n\n\nå¦‚æœè¾“å…¥çš„æ˜¯å¤šä¸ªå‘é‡å¯ä»¥å‚è€ƒå¦‚ä¸‹\n\nvar3 &lt;- c(\"disp\", \"hp\", \"drat\")\n\nvar4 &lt;- c(\"wt\", \"qsec\", \"vs\")\n\n#ä½¿ç”¨pmapçš„æ—¶å€™ï¼ŒæŠŠå¤šä¸ªå‘é‡æ”¾åˆ°listæ¡†é‡Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°\npvar_add &lt;- pmap(list(var1, var2, var3, var4), \n            \\(x, y, z, p) \n            paste0(x, \"+\", y, \"+\", z, \"+\", \"p\"))\n\nprint(pvar_add)\n\n[[1]]\n[1] \"disp+wt+disp+p\"\n\n[[2]]\n[1] \"hp+qsec+hp+p\"\n\n[[3]]\n[1] \"drat+vs+drat+p\"\n\n\næ³¨æ„ï¼šè¿™é‡Œç”¨çš„éƒ½æ˜¯ç®€å•çš„å­—ç¬¦å‘é‡ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™å¯ä»¥è‡ªç”±æ‹“å±•åˆ°æ•°æ®æ¡†å’Œåˆ—è¡¨ç­‰å¤æ‚å‘é‡ç»“æ„ï¼Œå°±èƒ½æ„Ÿè§‰åˆ°purrrå¾ªç¯çš„é­…åŠ›äº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#åµŒå¥—å¾ªç¯",
    "href": "1014-purrr.html#åµŒå¥—å¾ªç¯",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "åµŒå¥—å¾ªç¯",
    "text": "åµŒå¥—å¾ªç¯\nå¦‚æœæ˜¯åµŒå¥—ç»“æ„æˆ‘ä»¬æ€ä¹ˆç”¨purrræ¥åšå‘¢ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ã€‚æˆ‘ä»¬ç°åœ¨æ¥ç®—ä¸€ä¸‹1ï¼š10åˆ†åˆ«ä¹˜ä»¥10:20ç„¶åæ”¾åˆ°ä¸€ä¸ªæ•°å­—å‘é‡é‡Œæ€ä¹ˆå®ç°å§\n\nmap(1:10, \n        \\(x){map(10:20, \n        \\(y){x*y})}) |&gt; \n    unlist()\n\n  [1]  10  11  12  13  14  15  16  17  18  19  20  20  22  24  26  28  30  32\n [19]  34  36  38  40  30  33  36  39  42  45  48  51  54  57  60  40  44  48\n [37]  52  56  60  64  68  72  76  80  50  55  60  65  70  75  80  85  90  95\n [55] 100  60  66  72  78  84  90  96 102 108 114 120  70  77  84  91  98 105\n [73] 112 119 126 133 140  80  88  96 104 112 120 128 136 144 152 160  90  99\n [91] 108 117 126 135 144 153 162 171 180 100 110 120 130 140 150 160 170 180\n[109] 190 200\n\n\nä¸¾å¾—ä¾‹å­æ¯”è¾ƒæ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šä¸€çª¥åµŒå¥—å¾ªç¯çš„å®ç°ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "1014-purrr.html#æ›´å¤š",
    "href": "1014-purrr.html#æ›´å¤š",
    "title": "purrr: å‡½æ•°å¼ç¼–ç¨‹,å½»åº•æ‘†è„±forå¾ªç¯",
    "section": "æ›´å¤š",
    "text": "æ›´å¤š\npurrrå¯ä»¥å¿«æ·å®ç°å¾ˆå¤šé«˜çº§æ“ä½œï¼Œæ¯”å¦‚æ‰¹é‡å¯¼å…¥æ•°æ®ï¼Œæ‰¹é‡ç»˜å›¾ä»¥åŠæ‰¹é‡å»ºæ¨¡ç­‰ï¼Œåç»­åˆ†å¼€å†™å§ã€‚è¿™ä¸€æœŸå†™å¾—å¾ˆå®½æ³›ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»æ¢ç´¢æ›´å¤šæ“ä½œã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨ R åŒ…",
      "purrr - å‡½æ•°å¼ç¼–ç¨‹"
    ]
  },
  {
    "objectID": "2012-patchwork.html",
    "href": "2012-patchwork.html",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "",
    "text": "Patchwork æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œæ—¨åœ¨ä½¿ R ä¸­çš„ç»˜å›¾åˆæˆå˜å¾—æå…¶ç®€å•å’Œå¼ºå¤§ã€‚å®ƒä¸»è¦é¢å‘ ggplot2 çš„ç”¨æˆ·ï¼Œæ— è®ºç»˜å›¾çš„å¤æ‚ç¨‹åº¦å¦‚ä½•ï¼Œå®ƒéƒ½èƒ½ä¸é—ä½™åŠ›åœ°ç¡®ä¿ ggplots æ­£ç¡®å¯¹é½ã€‚\næ³¨æ„ï¼šä»…ç”¨äºggplot2çš„ç»˜å›¾ï¼ŒRçš„baseç»˜å›¾ä¸èƒ½ç”¨patchworkæ‹¼æ¥\né“¾æ¥:CRANé“¾æ¥\nå­¦ä¹ æ‰‹å†Œ:å­¦ä¹ æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…ä»‹ç»",
    "href": "2012-patchwork.html#råŒ…ä»‹ç»",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "",
    "text": "Patchwork æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œæ—¨åœ¨ä½¿ R ä¸­çš„ç»˜å›¾åˆæˆå˜å¾—æå…¶ç®€å•å’Œå¼ºå¤§ã€‚å®ƒä¸»è¦é¢å‘ ggplot2 çš„ç”¨æˆ·ï¼Œæ— è®ºç»˜å›¾çš„å¤æ‚ç¨‹åº¦å¦‚ä½•ï¼Œå®ƒéƒ½èƒ½ä¸é—ä½™åŠ›åœ°ç¡®ä¿ ggplots æ­£ç¡®å¯¹é½ã€‚\næ³¨æ„ï¼šä»…ç”¨äºggplot2çš„ç»˜å›¾ï¼ŒRçš„baseç»˜å›¾ä¸èƒ½ç”¨patchworkæ‹¼æ¥\né“¾æ¥:CRANé“¾æ¥\nå­¦ä¹ æ‰‹å†Œ:å­¦ä¹ æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…å®‰è£…",
    "href": "2012-patchwork.html#råŒ…å®‰è£…",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"patchwork\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#råŒ…ä½¿ç”¨",
    "href": "2012-patchwork.html#råŒ…ä½¿ç”¨",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\n\nå…ˆç”Ÿæˆå¤šå›¾å‡†å¤‡ç€\n\nlibrary(ggplot2)\n\nWarning: ç¨‹åºåŒ…'ggplot2'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(patchwork)\n\nWarning: ç¨‹åºåŒ…'patchwork'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\np1 &lt;- ggplot(mtcars) + \n  geom_point(aes(mpg, disp)) + \n  ggtitle('Plot 1')\n\np2 &lt;- ggplot(mtcars) + \n  geom_boxplot(aes(gear, disp, group = gear)) + \n  ggtitle('Plot 2')\n\np3 &lt;- ggplot(mtcars) + \n  geom_point(aes(hp, wt, colour = mpg)) + \n  ggtitle('Plot 3')\n\np4 &lt;- ggplot(mtcars) + \n  geom_bar(aes(gear)) + \n  facet_wrap(~cyl) + \n  ggtitle('Plot 4')\n\n\n\nåŸºç¡€ç”¨æ³•\npatchworkçš„åŸºç¡€ç”¨æ³•å°±æ˜¯ä½¿ç”¨æ•°å­¦ç¬¦å·(+å’Œ/)æ¥å®ç°å›¾å½¢çš„æ¨ªçºµæ‹¼æ¥\n\n\nå¤šå›¾æ¨ªæ‹¼æ¥\n\np1 + p2\n\n\n\n\n\n\n\n\né»˜è®¤patchworkä¼šè®©å›¾å½¢å‘ˆæ–¹å½¢æ’åˆ—ï¼Œå³nxn\n\np1 + p2 + p3 + p4\n\n\n\n\n\n\n\n\n\n\nå¤šå›¾çºµæ‹¼æ¥\n\np1/p2\n\n\n\n\n\n\n\n\n\n\nå¤åˆå›¾æ‹¼æ¥\nè¿™é‡Œå›¾å½¢æ‹¼æ¥ç±»ä¼¼äºæ•°å­¦ç¬¦å·çš„è¡¨è¾¾å¼ï¼ŒåŒæ ·éµå¾ªå…ˆä¹˜é™¤ååŠ å‡çš„è§„å¾‹,æœ‰æ‹¬å·å…ˆæ‹¬å·\n\np1 + p2 / p3 + p4\n\n\n\n\n\n\n\n(p1 + p2)/(p3 + p4 )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#æ·»åŠ å›¾æ³¨",
    "href": "2012-patchwork.html#æ·»åŠ å›¾æ³¨",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "æ·»åŠ å›¾æ³¨",
    "text": "æ·»åŠ å›¾æ³¨\npatchworkæä¾›äº†plot_annotationå‡½æ•°æ¥å®ç°å›¾æ³¨çš„æ·»åŠ \n\nå°å›¾çš„å›¾æ³¨\nè‡ªå®šä¹‰tag_levelså‚æ•°ï¼Œå¯èƒ½çš„å€¼æœ‰ï¼šâ€œaâ€è¡¨ç¤ºå°å†™å­—æ¯ï¼Œâ€œAâ€è¡¨ç¤ºå¤§å†™å­—æ¯ï¼Œâ€œ1â€è¡¨ç¤ºæ•°å­—ï¼Œâ€œiâ€è¡¨ç¤ºå°å†™ç½—é©¬æ•°å­—ï¼Œâ€œIâ€è¡¨ç¤ºå¤§å†™ç½—é©¬æ•°å­—ã€‚å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«å®šä¹‰ä»»æ„æ ‡è®°åºåˆ—çš„å­—ç¬¦å‘é‡çš„åˆ—è¡¨\n\np1 + p2 + p3 + p4 + plot_annotation(tag_levels = 'A')\n\n\n\n\n\n\n\n\n\n\næ‹¼å›¾æ•´ä½“å›¾æ³¨\n\n(p1 | (p2 / p3)) + \n  plot_annotation(title = 'The surprising story about mtcars')",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2012-patchwork.html#å›¾è¡¨æ‹¼æ¥",
    "href": "2012-patchwork.html#å›¾è¡¨æ‹¼æ¥",
    "title": "patchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥",
    "section": "å›¾è¡¨æ‹¼æ¥",
    "text": "å›¾è¡¨æ‹¼æ¥\n\nåŸºæœ¬æ“ä½œ\npatchworkè¿˜æ”¯æŒå°†è¡¨æ ¼å’Œå›¾è¡¨æ‹¼æ¥èµ·æ¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¡¨æ ¼å’Œå›¾è¡¨çš„æ‹¼æ¥éœ€è¦ä½¿ç”¨gtåŒ…\n\n#install.packages(\"gt\")\nlibrary(gt)\n\nWarning: ç¨‹åºåŒ…'gt'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(ggplot2)\nlibrary(patchwork)\n\np1 &lt;- ggplot(airquality) +\n  geom_line(aes(x = Day, y = Temp, colour = month.name[Month])) +\n  labs(colour = \"Month\")\n\naq &lt;- airquality[sample(nrow(airquality), 10), ]\np1 + gt(aq) + ggtitle(\"Sample of the dataset\")\n\n\n\n\n\n\n\n\n\n\nå‚æ•°è°ƒæ•´\nwrap_table() å¯ä»¥æ§åˆ¶å…¶ä¸­çš„ä¸€äº›è¡Œä¸ºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å‡å°è¡¨æ ¼ä¸­çš„å­—ä½“å¤§å°ï¼Œä½¿å…¶å˜å°ï¼Œä½†ä¹Ÿå¯ä»¥ä¸ºå…¶ç•™å‡ºæ›´å¤šç©ºé—´ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ plot_layout(widths = â€¦)æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†è¿™éœ€è¦æˆ‘ä»¬è¿›è¡Œå¤§é‡çš„çŒœæµ‹æ‰èƒ½åšåˆ°æ°åˆ°å¥½å¤„ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œpatchwork è¶³å¤Ÿèªæ˜ï¼Œå¯ä»¥å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ wrap_table() ä¸­çš„ space å‚æ•°æŒ‡ç¤ºå®ƒè¿™æ ·åšã€‚å°†ç©ºé—´å‚æ•°è®¾ç½®ä¸º â€œfree_yâ€åï¼Œpatchwork å°±ä¼šå°†å®½åº¦å›ºå®šä¸ºè¡¨æ ¼å®½åº¦ï¼Œä½†ä¿æŒé«˜åº¦è‡ªç”±ï¼š\n\np1 + wrap_table(gt(aq), space = \"free_y\") + ggtitle(\"Sample of the dataset\")\n\n\n\n\n\n\n\np1 + wrap_table(aq, space = \"fixed\")\n\n\n\n\n\n\n\n\nå¦‚æœç©ºé—´å›ºå®šåœ¨ Y æ–¹å‘ï¼Œè€Œè¡¨æ ¼ä¸­æœ‰ä»»ä½•æ¥æºæ³¨é‡Šæˆ–è„šæ³¨ï¼Œåˆ™è¿™äº›æ³¨é‡Šæˆ–è„šæ³¨ä¼šåƒåˆ—å¤´ä¸€æ ·ï¼Œæ ¹æ®é¢æ¿è®¾ç½®æ”¾ç½®åœ¨é¢æ¿åŒºåŸŸä¹‹å¤–ã€‚\n\naq_footer &lt;- gt(aq) |&gt;\n  tab_source_note(\"This is not part of the table body\")\np1 + wrap_table(aq_footer, space = \"fixed\")\n\n\n\n\n\n\n\n\n\n\nå…¶å®ƒ\nå›¾è¡¨æ‹¼æ¥æ˜¯patchworkçš„æœ€æ–°åŠŸèƒ½ï¼Œè¯¦ç»†çš„æ•™ç¨‹å‚è§é“¾æ¥",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "patchwork - å›¾ç‰‡æ‹¼æ¥"
    ]
  },
  {
    "objectID": "2014-sankey.html",
    "href": "2014-sankey.html",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¸¸ç”¨æ¡‘åŸºå›¾ï¼ˆæµé‡å›¾ï¼‰ç»˜åˆ¶åŒ…ggsankeyfierå’Œç›¸å…³ä»£ç æ•™ç¨‹\næ¡‘åŸºå›¾ä¹Ÿå«æµé‡å›¾ï¼Œä¸»è¦ç”¨æ¥å¤„ç†å¤šä¸ªåˆ†ç±»å˜é‡çš„åˆ†å¸ƒæƒ…å†µã€‚å¯è§†åŒ–å±•ç¤ºå æ¯”æ¯”ä¾‹ç­‰ï¼Œç¾è§‚å®¹æ˜“",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…ä»‹ç»",
    "href": "2014-sankey.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nCRANåº“\næ•™ç¨‹æ‰‹å†Œ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…å®‰è£…",
    "href": "2014-sankey.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"ggsankeyfier\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#råŒ…ä½¿ç”¨",
    "href": "2014-sankey.html#råŒ…ä½¿ç”¨",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "RåŒ…ä½¿ç”¨",
    "text": "RåŒ…ä½¿ç”¨\næ¡‘åŸºå›¾æœ¬è´¨ä¸Šå°±æ˜¯ä¸åŒåˆ†ç±»å˜é‡çš„æµé‡å›¾ï¼Œå¯è§†åŒ–çš„ç¬¬ä¸€æ­¥å°±æ˜¯æ•°æ®æ•´æ´åŒ–ï¼Œå¸¸ç”¨æ•°æ®å®½å˜é•¿ã€‚ä¸€åˆ—æ˜¯å˜é‡ï¼Œä¸€åˆ—æ˜¯æµé‡å€¼ï¼Œåœ¨ggsankeyfierä½¿ç”¨è¿‡ç¨‹ä¸­é‡è¦çš„å°±æ˜¯ç”¨pivot_stages_longeræ¥åšæ•°æ®æ¸…æ´—\n\næ•°æ®å‡†å¤‡\n\nlibrary(ggsankeyfier)\n\nWarning: ç¨‹åºåŒ…'ggsankeyfier'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(tidyverse)\n\nWarning: ç¨‹åºåŒ…'ggplot2'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(cowplot)\n\n\n\n## first get a data set with a wide format:\ndata(ecosystem_services)\ndata &lt;- ecosystem_services\n\n## pivot to long format for plotting:\ndata_neat &lt;-\n  data |&gt;\n  subset(RCSES &gt; 0.005) |&gt;\n  pivot_stages_longer(\n    c(\"activity_realm\", \"biotic_realm\", \"service_section\"),\n    \"RCSES\", \"service_section\"\n  )\n\n# pivotå®½å˜é•¿å‰\nhead(data, 5)\n## # A tibble: 5 Ã— 8\n##   activity_type          activity_realm pressure_cat   biotic_group biotic_realm\n##   &lt;chr&gt;                  &lt;chr&gt;          &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;       \n## 1 Agriculture & Forestry Land-based     Biological diâ€¦ Zooplankton  Plankton    \n## 2 Agriculture & Forestry Land-based     Biological diâ€¦ Zooplankton  Plankton    \n## 3 Agriculture & Forestry Land-based     Chemical chanâ€¦ Zooplankton  Plankton    \n## 4 Agriculture & Forestry Land-based     Chemical chanâ€¦ Zooplankton  Plankton    \n## 5 Agriculture & Forestry Land-based     Physical chanâ€¦ Zooplankton  Plankton    \n## # â„¹ 3 more variables: service_division &lt;chr&gt;, service_section &lt;chr&gt;,\n## #   RCSES &lt;dbl&gt;\n# å®½å˜é•¿å\nhead(data_neat, 5)\n## # A tibble: 5 Ã— 6\n##   service_section  RCSES edge_id connector node               stage         \n##   &lt;fct&gt;            &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;     &lt;fct&gt;              &lt;fct&gt;         \n## 1 Provisioning    0.0123       1 from      Land-based         activity_realm\n## 2 Provisioning    0.0123       1 to        Plant              biotic_realm  \n## 3 Provisioning    0.0133       2 from      Land-based         activity_realm\n## 4 Provisioning    0.0133       2 to        Fish & Cephalopods biotic_realm  \n## 5 Cultural        0.0127       3 from      Land-based         activity_realm",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#æ€»ç»˜å›¾ä»£ç ",
    "href": "2014-sankey.html#æ€»ç»˜å›¾ä»£ç ",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "æ€»ç»˜å›¾ä»£ç ",
    "text": "æ€»ç»˜å›¾ä»£ç \n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.11\n    ),\n    show.legend = FALSE\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )+\n  guides(\n    alpha = FALSE,\n    colour = FALSE,\n    fill = guide_legend(position = \"bottom\", nrow = 1)\n  ) +\n  scale_fill_discrete(\n    breaks = unique(data_neat$service_section)[1:3]  # åªåœ¨å›¾ä¾‹ä¸­æ˜¾ç¤ºå‰ä¸‰ä¸ªé”®\n  )+\n  theme_minimal_hgrid() +\n  theme( # å»é™¤å‘¨å›´å¤–è¾¹è·\n    panel.spacing = unit(0, \"cm\"),\n    panel.grid.major.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    legend.key.spacing.x = unit(60, \"pt\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2014-sankey.html#ç»˜å›¾ä»£ç æ‹†è§£",
    "href": "2014-sankey.html#ç»˜å›¾ä»£ç æ‹†è§£",
    "title": "Rè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹",
    "section": "ç»˜å›¾ä»£ç æ‹†è§£",
    "text": "ç»˜å›¾ä»£ç æ‹†è§£\næ¥ä¸‹æ¥æˆ‘ä»¬æ‹†è§£ä¸Šè¾¹ä¸€å¤§æ®µä»£ç ï¼Œä¸€æ­¥æ­¥çš„è·‘å‡ºæ¥å°±ä¼šæ„Ÿè§‰ä¼šå¥½å¾ˆå¤šã€‚æ•°æ®çš„é¢„å…ˆå‡†å¤‡è‡³å…³é‡è¦ï¼Œçœ‹æ•°æ®å‡†å¤‡éƒ¨åˆ†çš„ä»£ç å°±è¡Œäº†\n\nç¬¬ä¸€æ­¥æˆ‘ä»¬å…ˆæŠŠsankeyedgeåšå‡ºæ¥ï¼Œå°±æ˜¯ä¸­é—´çš„æµé‡\nçœ‹åˆ°æˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªè‡³å…³é‡è¦çš„çš„å‚æ•°positionï¼šè¿™ä¸ªå‚æ•°å†³å®šäº†sankeyedgeçš„ä½ç½®ï¼Œæˆ‘ä»¬è®¾ç½®ä¸ºposition_sankey(order =\"ascending\",v_space=\"auto\",width = 0.01)ï¼Œå…¶ä¸­orderæ˜¯è®¾ç½®sankeyedgeçš„æ–¹å‘ï¼Œascendingæ˜¯ä»å·¦åˆ°å³ï¼Œdescendingæ˜¯ä»å³åˆ°å·¦ï¼Œv_spaceæ˜¯è®¾ç½®sankeyedgeçš„é—´è·ï¼Œautoæ˜¯è‡ªåŠ¨è®¾ç½®ï¼Œwidthæ˜¯è®¾ç½®sankeyedgeçš„å®½åº¦ã€‚\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector, fill = stage\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  )\n\n\n\n\n\n\n\n\n\n\nå¾ˆå¥½ï¼Œä¸‹ä¸€éƒ¨æˆ‘ä»¬æŠŠnodeç»™åŠ ä¸Šï¼Œå°±æ˜¯å„ä¸ªå°æ–¹å—\nè®¾ç½®nodeçš„å¡«å……è‰²æ˜¯nodeï¼Œç„¶åè¾¹æ¡†è®¾ç½®æˆç°è‰²\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.1\n    )\n  )\n\n\n\n\n\n\n\n\n\n\nç„¶åæˆ‘ä»¬æ·»åŠ æ–‡å­—åˆ°å›¾å½¢é‡Œ\næ³¨æ„æ·»åŠ  stat = \"sankeynode\"\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.1\n    )\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )\n\n\n\n\n\n\n\n\n\n\næœ€åé˜¶æ®µæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹å›¾ä¾‹ï¼Œæ”¹æ”¹ä¸»é¢˜\næˆ‘ä»¬çš„ä¸»è¦å˜é‡æ˜¯service_sectionï¼ˆgeom_sankeyedgeçš„fillæ˜ å°„ï¼‰ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå°±è®¾ç½®è¿™ä¸ªä½œä¸ºå›¾ä¾‹ï¼Œå…¶å®ƒéƒ½åˆ æ‰ã€‚è¿™ä¸€éƒ¨åˆ†è¯´èµ·æ¥ç®€å•ï¼Œå…¶å®æŒºéº»çƒ¦çš„ã€‚\n\ndata_neat |&gt;\n  ggplot(\n    mapping = aes(\n      x = stage, y = RCSES,\n      group = node, edge_id = edge_id, connector = connector\n    )\n  ) +\n  geom_sankeyedge(aes(alpha = RCSES, fill = service_section),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.01\n    )\n  ) +\n  geom_sankeynode(aes(fill = node, color = \"grey\"),\n    position = position_sankey(\n      order = \"ascending\", v_space = \"auto\",\n      width = 0.11\n    ),\n    show.legend = FALSE\n  ) +\n  geom_text(\n    data = data_neat,\n    aes(label = node), stat = \"sankeynode\",\n    position = position_sankey(v_space = \"auto\", order = \"ascending\", nudge_x = 0),\n    hjust = 0.5, size = 3.5, fontface = \"bold\", color = \"black\"\n  )+\n  guides(\n    alpha = FALSE,\n    colour = FALSE,\n    fill = guide_legend(position = \"bottom\", nrow = 1)\n  ) +\n  scale_fill_discrete(\n    breaks = unique(data_neat$service_section)[1:3]  # åªåœ¨å›¾ä¾‹ä¸­æ˜¾ç¤ºå‰ä¸‰ä¸ªé”®\n  )+\n  theme_minimal_hgrid() +\n  theme( # å»é™¤å‘¨å›´å¤–è¾¹è·\n    panel.spacing = unit(0, \"cm\"),\n    panel.grid.major.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.title = element_blank(),\n    legend.key.spacing.x = unit(60, \"pt\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ¡‘åŸºå›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html",
    "href": "2016-forestplot.html",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "",
    "text": "æœ¬æœŸä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨forestplotåŒ…ç»˜åˆ¶æ£®æ—å›¾ï¼Œå¸¸ç”¨äºmetaåˆ†æçš„å¯è§†åŒ–\næ ¹æ®æˆ‘çš„æ•™ç¨‹ä¹¦å†™ä½“éªŒæ¥çœ‹forestplotåŒ…è¿˜å¾ˆä¸å¥½ç”¨ï¼ŒåŸºäºgparåŒ…æ¥è®¾ç½®æ ·å¼ï¼Œä½¿ç”¨ä½“éªŒæä¸å¥½ï¼Œä¸è¿‡å†™éƒ½å†™äº†ï¼Œå‘ä¸€ç‚¹ä¸œè¥¿\næ ¹æ®å®é™…ä½“éªŒæ¥çœ‹è¿˜æ˜¯forestploteråŒ…ç»˜åˆ¶æ£®æ—å›¾æ›´å¥½çœ‹ï¼Œä»£ç æ›´åˆç†ï¼Œæ ·å¼ä¹Ÿæ›´å¥½çœ‹ï¼Œä¹‹åä¼šä»‹ç»\nè¿™æœŸä¸å»ºè®®çœ‹ï¼Œè¿™ä¸ªåŒ…ä¹Ÿä¸å»ºè®®ç”¨ï¼Œè¿æ•™ç¨‹æ–‡æ¡£å¾ˆå¤šéƒ½è·‘ä¸åŠ¨",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…ä»‹ç»",
    "href": "2016-forestplot.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nforestplotåŒ…æ˜¯Rè¯­è¨€ä¸­ç”¨äºç»˜åˆ¶æ£®æ—å›¾çš„åŒ…ï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯å°†æ•°æ®æ•´ç†æˆé€‚åˆç»˜åˆ¶æ£®æ—å›¾çš„æ ¼å¼ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„ç»˜å›¾é€‰é¡¹ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥è½»æ¾åœ°ç»˜åˆ¶å‡ºå„ç§ç±»å‹çš„æ£®æ—å›¾ã€‚\næ›´å¤šæ•™ç¨‹",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…å®‰è£…",
    "href": "2016-forestplot.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\ninstall.packages(\"forestplot\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#råŒ…æ•™ç¨‹",
    "href": "2016-forestplot.html#råŒ…æ•™ç¨‹",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "RåŒ…æ•™ç¨‹",
    "text": "RåŒ…æ•™ç¨‹\n\nè½½å…¥åŒ…\n\nlibrary(forestplot)\n\nWarning: ç¨‹åºåŒ…'forestplot'æ˜¯ç”¨Rç‰ˆæœ¬4.5.2 æ¥å»ºé€ çš„\n\nlibrary(dplyr)\n\n\n\nå¯¼å…¥æ•°æ®\n\nmean: ORåŒºé—´çš„å¹³å‡å€¼\nlower/upperï¼šç½®ä¿¡åŒºé—´ä¸Šä¸‹é™\nstudyï¼šæ ‡ç­¾\n\n\ndata &lt;- tibble::tibble(\n  mean = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),\n  lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),\n  upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),\n  study = c(\n    \"Auckland\", \"Block\", \"Doran\", \"Gamsu\",\n    \"Morrison\", \"Papageorgiou\", \"Tauesch\"\n  ),\n  deaths_steroid = c(\"36\", \"1\", \"4\", \"14\", \"3\", \"1\", \"8\"),\n  deaths_placebo = c(\"60\", \"5\", \"11\", \"20\", \"7\", \"7\", \"10\"),\n  OR = c(\"0.58\", \"0.16\", \"0.25\", \"0.70\", \"0.35\", \"0.14\", \"1.02\")\n)\n\n\n\nåŸºç¡€ç»˜å›¾\nå¯ä»¥çœ‹å‡ºforestplotåŒ…ç»˜åˆ¶æ£®æ—å›¾ä¸»ä½“ä¸ºforestplotå‡½æ•°ï¼Œåç»­å¢åŠ fp_xxxå‡½æ•°æ¥å®Œå–„å†…å®¹\n\nfp_set_styleï¼šè®¾ç½®æ ·å¼\nfp_add_headerï¼šæ·»åŠ è¡¨å¤´\nfp_append_rowï¼šé¢å¤–æ·»åŠ è¡Œ\n\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    xlog = TRUE\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\"),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\"),\n    OR = c(\"\", \"OR\")\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  ) |&gt;\n  fp_set_zebra_style(\"#EFEFEF\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2016-forestplot.html#æ ·å¼ç¾åŒ–",
    "href": "2016-forestplot.html#æ ·å¼ç¾åŒ–",
    "title": "Rè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot",
    "section": "æ ·å¼ç¾åŒ–",
    "text": "æ ·å¼ç¾åŒ–\n\nä¿®æ”¹æ ·å¼\n\nä½¿ç”¨fp_set_styleæ¥ä¿®æ”¹å„å†…å®¹çš„æ ·å¼\nä½¿ç”¨fp_add_linesæ¥æ·»åŠ çº¿æ¡\næ›´å¤šå‚æ•°å¤§å®¶éœ€è¦å¤šçœ‹helpæ–‡æ¡£\n\n\nä¸»è¦å‚è€ƒçš„æ˜¯è®¾ç½®æ˜¯gparåŒ…æ ·å¼\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines() |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nå¯¹çº¿æ¡è‡ªå®šä¹‰\nä½¿ç”¨fp_add_linesæ¥æ·»åŠ è¾…åŠ©çº¿ï¼Œltyæ˜¯çº¿å½¢ï¼Œlwdæ˜¯çº¿å®½ï¼Œcolæ˜¯é¢œè‰²\nf_nä»£è¡¨å¯¹ç¬¬å‡ åˆ—æ·»åŠ çº¿æ¡ï¼Œcolumnsè®¾ç½®çº¿æ¡æœ‰å¤šå®½\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    vertices = TRUE,\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines(\n    h_3 = gpar(lty = 2),\n    h_11 = gpar(lwd = 1, columns = 1:4, col = \"#000044\")\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nå‡å°å›ºå®šboxï¼ˆå°±æ˜¯å¹³å‡å€¼çš„é‚£ä¸ªç›’å­ï¼‰å¤§å°\nå¼ºåˆ¶boxsizeçš„å¤§å°ï¼Œä½¿ç”¨å‡½æ•°forestplotçš„å‚æ•°boxsize,ä½†æ˜¯è®¾ç½®ä¹‹åå¤§å°ä¹Ÿä¸ä¼šéšç€ORå¢å¤§è€Œå¢å¤§\n\ndata |&gt;\n  forestplot(\n    labeltext = c(study, deaths_steroid, deaths_placebo, OR),\n    clip = c(0.1, 2.5),\n    vertices = TRUE,\n    boxsize = 0.2,\n    xlog = TRUE\n  ) |&gt;\n  fp_add_lines(\n    h_3 = gpar(lty = 2),\n    h_11 = gpar(lwd = 1, columns = 1:4, col = \"#000044\")\n  ) |&gt;\n  fp_set_style(\n    box = \"royalblue\",\n    line = \"darkblue\",\n    summary = \"royalblue\",\n    align = \"lrrr\",\n    hrz_lines = \"#999999\"\n  ) |&gt;\n  fp_add_header(\n    study = c(\"\", \"Study\"),\n    deaths_steroid = c(\"Deaths\", \"(steroid)\") |&gt;\n      fp_align_center(),\n    deaths_placebo = c(\"Deaths\", \"(placebo)\") |&gt;\n      fp_align_center(),\n    OR = c(\"\", fp_align_center(\"OR\"))\n  ) |&gt;\n  fp_append_row(\n    mean = 0.531,\n    lower = 0.386,\n    upper = 0.731,\n    study = \"Summary\",\n    OR = \"0.53\",\n    is.summary = TRUE\n  )\n\n\n\n\n\n\n\n\n\n\nåˆ†ç»„OR\nåƒåœ¾åŒ…ï¼Œå·²ç»è·‘ä¸äº†åˆ†ç»„äº†ï¼Œåº”è¯¥æ˜¯groupbyæ›´æ–°åæ²¡é€‚é…ä¸Šã€‚æµªè´¹æˆ‘ä¸€ä¸ªå°æ—¶\n\ndata(dfHRQoL)\n\ndfHRQoL  |&gt; group_by(group)|&gt;\n  forestplot(\n    labeltext = c(labeltext),\n    boxsize = 0.1,\n    lineheight = \"lines\",\n    xlab = \"EQ-5D index\"\n  ) |&gt;\n  fp_add_lines(\"steelblue\") |&gt;\n  fp_add_header(\"Variable\") \n\n  |&gt;\n  fp_set_style(\n    box = c(\"blue\", \"darkred\") |&gt;\n      lapply(function(x) gpar(fill = x, col = \"#555555\")),\n    default = gpar(vertices = TRUE)\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "æ£®æ—å›¾"
    ]
  },
  {
    "objectID": "2018-tidyplots.html",
    "href": "2018-tidyplots.html",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "",
    "text": "tidyplots æ˜¯ä¸€ä¸ªåŸºäº ggplot2 çš„é«˜çº§ç»‘å›¾åŒ…ï¼Œç”¨æç®€çš„è¯­æ³•åˆ›å»ºå‡ºç‰ˆçº§çš„ç§‘ç ”å›¾è¡¨ã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯â€ç”¨æœ€å°‘çš„ä»£ç ï¼Œåšæœ€ä¸“ä¸šçš„å›¾â€ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#råŒ…ä»‹ç»",
    "href": "2018-tidyplots.html#råŒ…ä»‹ç»",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\n\nä¸ºä»€ä¹ˆé€‰æ‹© tidyplotsï¼Ÿ\ntidyplots è§£å†³äº† ggplot2 çš„å‡ ä¸ªç—›ç‚¹ï¼š\n\nä»£ç å†—é•¿ï¼šggplot2 éœ€è¦å¤šå±‚å åŠ ï¼Œtidyplots ä¸€è¡Œæå®š\nä¸»é¢˜ç¹çï¼šè‡ªåŠ¨åº”ç”¨ä¸“ä¸šçš„å­¦æœ¯ä¸»é¢˜\né…è‰²å›°éš¾ï¼šå†…ç½®ä¼˜ç§€çš„é…è‰²æ–¹æ¡ˆ\nç»Ÿè®¡æ ‡æ³¨ï¼šè‡ªåŠ¨æ·»åŠ  p å€¼ã€è¯¯å·®çº¿ç­‰\nå¤šå›¾æ‹¼æ¥ï¼šåŸç”Ÿæ”¯æŒåˆ†é¢å’Œç»„åˆ\n\n\n\nå®‰è£…ä¸åŠ è½½\n\n# CRAN å®‰è£…\ninstall.packages(\"tidyplots\")\n\n\nlibrary(tidyplots)\nlibrary(dplyr)\n\n\n\næ ¸å¿ƒè®¾è®¡ç†å¿µ\ntidyplots é‡‡ç”¨ ç®¡é“å¼è¯­æ³•ï¼Œæ ¸å¿ƒå‡½æ•°æ˜¯ tidyplot()ï¼š\næ•°æ® |&gt; tidyplot(x, y, color) |&gt; add_*() |&gt; adjust_*() |&gt; theme_*()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å¿«é€Ÿå…¥é—¨",
    "href": "2018-tidyplots.html#å¿«é€Ÿå…¥é—¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å¿«é€Ÿå…¥é—¨",
    "text": "å¿«é€Ÿå…¥é—¨\n\nç¬¬ä¸€ä¸ª tidyplots å›¾\n\n# ä½¿ç”¨å†…ç½®æ•°æ®é›†\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar()\n\n\n\n\n\n\n\n\nå¯¹æ¯”ä¼ ç»Ÿ ggplot2 ä»£ç ï¼š\n\n# ggplot2 éœ€è¦å…ˆè®¡ç®—ç»Ÿè®¡é‡\nlibrary(ggplot2)\nstudy |&gt;\n  group_by(treatment) |&gt;\n  summarise(\n    mean = mean(score),\n    se = sd(score) / sqrt(n())\n  ) |&gt;\n  ggplot(aes(x = treatment, y = mean, fill = treatment)) +\n  geom_col() +\n  geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2) +\n  theme_minimal()\n\ntidyplots åªéœ€ 3 è¡Œï¼Œggplot2 éœ€è¦ 10+ è¡Œï¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#åŸºç¡€å›¾å½¢",
    "href": "2018-tidyplots.html#åŸºç¡€å›¾å½¢",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "åŸºç¡€å›¾å½¢",
    "text": "åŸºç¡€å›¾å½¢\n\næŸ±çŠ¶å›¾ (Bar Plot)\n\n# åŸºç¡€æŸ±çŠ¶å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar()\n\n\n\n\n\n\n\n\n\n# å¸¦è¯¯å·®çº¿å’Œæ•°æ®ç‚¹çš„æŸ±çŠ¶å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar(alpha = 0.4) |&gt;\n  add_sem_errorbar() |&gt;\n  add_data_points()\n\n\n\n\n\n\n\n\n\n\nç®±çº¿å›¾ (Box Plot)\n\n# ç®±çº¿å›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot()\n\n\n\n\n\n\n\n\n\n# ç®±çº¿å›¾ + æŠ–åŠ¨ç‚¹\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot(alpha = 0.3) |&gt;\n  add_data_points_jitter()\n\n\n\n\n\n\n\n\n\n\nå°æç´å›¾ (Violin Plot)\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_violin() |&gt;\n  add_boxplot(width = 0.1, alpha = 0)\n\n\n\n\n\n\n\n\n\n\næ•£ç‚¹å›¾ (Scatter Plot)\n\n# åŸºç¡€æ•£ç‚¹å›¾\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points()\n\n\n\n\n\n\n\n\n\n# å¸¦æ‹Ÿåˆçº¿çš„æ•£ç‚¹å›¾\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points() |&gt;\n  add_curve_fit()\n\n\n\n\n\n\n\n\n\n\næŠ˜çº¿å›¾ (Line Plot)\n\n# åˆ†ç»„æŠ˜çº¿å›¾\ntime_course |&gt;\n  tidyplot(x = day, y = score, color = treatment) |&gt;\n  add_mean_line() |&gt;\n  add_sem_ribbon()\n\n\n\n\n\n\n\n\n\n\nç›´æ–¹å›¾ (Histogram)\n\nstudy |&gt;\n  tidyplot(x = score, color = treatment) |&gt;\n  add_histogram()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ç»Ÿè®¡æ ‡æ³¨",
    "href": "2018-tidyplots.html#ç»Ÿè®¡æ ‡æ³¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ç»Ÿè®¡æ ‡æ³¨",
    "text": "ç»Ÿè®¡æ ‡æ³¨\n\næ·»åŠ  p å€¼\ntidyplots å¯ä»¥è‡ªåŠ¨è®¡ç®—å¹¶æ ‡æ³¨ç»Ÿè®¡æ£€éªŒç»“æœï¼š\n\n# æ·»åŠ é…å¯¹æ¯”è¾ƒçš„ p å€¼\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  add_test_pvalue()\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ˜¾è‘—æ€§æ ‡è®°\n\n# ä½¿ç”¨æ˜Ÿå·è¡¨ç¤ºæ˜¾è‘—æ€§\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  add_test_asterisks()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#é…è‰²æ–¹æ¡ˆ",
    "href": "2018-tidyplots.html#é…è‰²æ–¹æ¡ˆ",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "é…è‰²æ–¹æ¡ˆ",
    "text": "é…è‰²æ–¹æ¡ˆ\n\nå†…ç½®é…è‰²\ntidyplots å†…ç½®å¤šç§ä¸“ä¸šé…è‰²æ–¹æ¡ˆï¼š\n\n# é»˜è®¤é…è‰²\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar()\n\n\n\n\n\n\n\n\n\n# ä½¿ç”¨ä¸åŒé…è‰²æ–¹æ¡ˆ\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  adjust_colors(new_colors = c(\"#0073C2\", \"#EFC000\", \"#868686\"))\n\n\n\n\n\n\n\n\n\n\nå¯ç”¨çš„é…è‰²æ–¹æ¡ˆ\n\n\n\né…è‰²åç§°\né€‚ç”¨åœºæ™¯\n\n\n\n\ncolors_discrete_seaside\næµ·æ´‹è‰²è°ƒ\n\n\ncolors_discrete_friendly\nè‰²ç›²å‹å¥½\n\n\ncolors_continuous_viridis\nè¿ç»­å˜é‡",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ä¸»é¢˜è®¾ç½®",
    "href": "2018-tidyplots.html#ä¸»é¢˜è®¾ç½®",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ä¸»é¢˜è®¾ç½®",
    "text": "ä¸»é¢˜è®¾ç½®\n\nå†…ç½®ä¸»é¢˜\n\n# é»˜è®¤ä¸»é¢˜ (å·²ç»å¾ˆä¸“ä¸š)\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar()\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´æ ‡é¢˜\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_title(\"å®éªŒç»“æœ\") |&gt;\n  adjust_x_axis_title(\"åˆ†ç»„\") |&gt;\n  adjust_y_axis_title(\"å¾—åˆ†\")\n\n\n\n\n\n\n\n\n\n\nè°ƒæ•´å­—ä½“å¤§å°\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_font(fontsize = 14)\n\n\n\n\n\n\n\n\n\n\néšè—å›¾ä¾‹\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  remove_legend()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#åˆ†é¢ä¸ç»„åˆ",
    "href": "2018-tidyplots.html#åˆ†é¢ä¸ç»„åˆ",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "åˆ†é¢ä¸ç»„åˆ",
    "text": "åˆ†é¢ä¸ç»„åˆ\n\nåˆ†é¢ (Faceting)\n\n# æŒ‰å˜é‡åˆ†é¢\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  split_plot(by = group)\n\n\n\n\n\n\n\n\n\n\nå¤šå›¾ç»„åˆ\n\n# åˆ›å»ºå¤šä¸ªå›¾å¹¶ç»„åˆ\np1 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() |&gt;\n  adjust_title(\"A. æŸ±çŠ¶å›¾\")\n\np2 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot() |&gt;\n  adjust_title(\"B. ç®±çº¿å›¾\")\n\np3 &lt;- study |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_violin() |&gt;\n  adjust_title(\"C. å°æç´å›¾\")\n\n# ç»„åˆå›¾å½¢ï¼ˆä½¿ç”¨ patchworkï¼‰\nlibrary(patchwork)\np1 + p2 + p3",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#ä¿å­˜å›¾å½¢",
    "href": "2018-tidyplots.html#ä¿å­˜å›¾å½¢",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "ä¿å­˜å›¾å½¢",
    "text": "ä¿å­˜å›¾å½¢\n\nåŸºæœ¬ä¿å­˜\n\n# ä¿å­˜å•ä¸ªå›¾å½¢\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  save_plot(\"figure1.png\")\n\n# æŒ‡å®šå°ºå¯¸å’Œåˆ†è¾¨ç‡\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  save_plot(\"figure1.png\", width = 10, height = 8, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å®æˆ˜æ¡ˆä¾‹",
    "href": "2018-tidyplots.html#å®æˆ˜æ¡ˆä¾‹",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å®æˆ˜æ¡ˆä¾‹",
    "text": "å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹1ï¼šä¸´åºŠè¯•éªŒç»“æœå›¾\n\n# æ¨¡æ‹Ÿä¸´åºŠæ•°æ®\nset.seed(42)\nclinical &lt;- data.frame(\n  patient = 1:90,\n  treatment = rep(c(\"Placebo\", \"Drug A\", \"Drug B\"), each = 30),\n  response = c(\n    rnorm(30, 45, 12),\n    rnorm(30, 60, 10),\n    rnorm(30, 72, 8)\n  ),\n  gender = sample(c(\"Male\", \"Female\"), 90, replace = TRUE)\n)\n\n# åˆ›å»ºä¸“ä¸šçš„ä¸´åºŠç»“æœå›¾\nclinical |&gt;\n  tidyplot(x = treatment, y = response, color = treatment) |&gt;\n  add_mean_bar(alpha = 0.6) |&gt;\n  add_sem_errorbar() |&gt;\n  add_data_points_jitter(width = 0.2, alpha = 0.5) |&gt;\n  add_test_asterisks() |&gt;\n  adjust_title(\"è¯ç‰©ç–—æ•ˆæ¯”è¾ƒ\") |&gt;\n  adjust_x_axis_title(\"æ²»ç–—ç»„\") |&gt;\n  adjust_y_axis_title(\"åº”ç­”ç‡ (%)\") |&gt;\n  remove_legend()\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹2ï¼šæ—¶é—´åºåˆ—æ•°æ®\n\n# å¸¦è¯¯å·®å¸¦çš„æ—¶é—´åºåˆ—å›¾\ntime_course |&gt;\n  tidyplot(x = day, y = score, color = treatment) |&gt;\n  add_mean_line(linewidth = 1) |&gt;\n  add_sem_ribbon(alpha = 0.2) |&gt;\n  add_data_points(alpha = 0.3, size = 1) |&gt;\n  adjust_title(\"æ²»ç–—æ•ˆæœæ—¶é—´æ›²çº¿\") |&gt;\n  adjust_x_axis_title(\"æ—¶é—´ (å¤©)\") |&gt;\n  adjust_y_axis_title(\"è¯„åˆ†\")\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹3ï¼šå¤šç»„æ¯”è¾ƒ\n\n# åˆ›å»ºåˆ†ç»„æ¯”è¾ƒå›¾\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_boxplot(alpha = 0.3) |&gt;\n  add_data_points_jitter() |&gt;\n  add_test_pvalue() |&gt;\n  split_plot(by = group) |&gt;\n  adjust_title(\"ä¸åŒäºšç»„çš„æ²»ç–—æ•ˆæœ\")\n\n\n\n\n\n\n\n\n\n\næ¡ˆä¾‹4ï¼šç›¸å…³æ€§åˆ†æ\n\nstudy |&gt;\n  tidyplot(x = age, y = score, color = treatment) |&gt;\n  add_data_points(size = 2.5, alpha = 0.6) |&gt;\n  add_curve_fit() |&gt;\n  adjust_title(\"å¹´é¾„ä¸è¯„åˆ†çš„å…³ç³»\") |&gt;\n  adjust_x_axis_title(\"å¹´é¾„ (å²)\") |&gt;\n  adjust_y_axis_title(\"è¯„åˆ†\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#é«˜çº§æŠ€å·§",
    "href": "2018-tidyplots.html#é«˜çº§æŠ€å·§",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "é«˜çº§æŠ€å·§",
    "text": "é«˜çº§æŠ€å·§\n\nä¸ ggplot2 ç»“åˆ\ntidyplots è¿”å›çš„æ˜¯ ggplot2 å¯¹è±¡ï¼Œå¯ä»¥ç»§ç»­æ·»åŠ  ggplot2 å±‚ï¼š\n\nlibrary(ggplot2)\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  add_sem_errorbar() +\n  # æ·»åŠ  ggplot2 å±‚\n  geom_hline(yintercept = 50, linetype = \"dashed\", color = \"red\") +\n  annotate(\"text\", x = 3.5, y = 52, label = \"åŸºçº¿\", color = \"red\")\n\n\n\n\n\n\n\n\n\n\nè‡ªå®šä¹‰ç»‘å›¾å‡½æ•°\n\n# åˆ›å»ºè‡ªå®šä¹‰ç»‘å›¾å‡½æ•°\nmy_barplot &lt;- function(data, x, y, color) {\n  data |&gt;\n    tidyplot(x = {{x}}, y = {{y}}, color = {{color}}) |&gt;\n    add_mean_bar(alpha = 0.5) |&gt;\n    add_sem_errorbar() |&gt;\n    add_data_points_jitter() |&gt;\n    add_test_asterisks() |&gt;\n    remove_legend()\n}\n\n# ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°\nstudy |&gt;\n  my_barplot(treatment, score, treatment)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#tidyplots-å‡½æ•°é€ŸæŸ¥è¡¨",
    "href": "2018-tidyplots.html#tidyplots-å‡½æ•°é€ŸæŸ¥è¡¨",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "tidyplots å‡½æ•°é€ŸæŸ¥è¡¨",
    "text": "tidyplots å‡½æ•°é€ŸæŸ¥è¡¨\n\næ·»åŠ å‡ ä½•å›¾å½¢ (add_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadd_mean_bar()\nå‡å€¼æŸ±çŠ¶å›¾\n\n\nadd_boxplot()\nç®±çº¿å›¾\n\n\nadd_violin()\nå°æç´å›¾\n\n\nadd_data_points()\næ•°æ®ç‚¹\n\n\nadd_data_points_jitter()\næŠ–åŠ¨æ•°æ®ç‚¹\n\n\nadd_sem_errorbar()\næ ‡å‡†è¯¯è¯¯å·®çº¿\n\n\nadd_sd_errorbar()\næ ‡å‡†å·®è¯¯å·®çº¿\n\n\nadd_sem_ribbon()\næ ‡å‡†è¯¯è¯¯å·®å¸¦\n\n\nadd_mean_line()\nå‡å€¼è¿çº¿\n\n\nadd_curve_fit()\næ‹Ÿåˆçº¿\n\n\nadd_histogram()\nç›´æ–¹å›¾\n\n\nadd_heatmap()\nçƒ­å›¾\n\n\n\n\n\næ·»åŠ ç»Ÿè®¡ (add_test_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadd_test_pvalue()\np å€¼æ ‡æ³¨\n\n\nadd_test_asterisks()\næ˜Ÿå·æ˜¾è‘—æ€§æ ‡æ³¨\n\n\n\n\n\nè°ƒæ•´æ ·å¼ (adjust_*)\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nadjust_colors()\né…è‰²æ–¹æ¡ˆ\n\n\nadjust_title()\nä¸»æ ‡é¢˜\n\n\nadjust_x_axis_title()\nX è½´æ ‡é¢˜\n\n\nadjust_y_axis_title()\nY è½´æ ‡é¢˜\n\n\nadjust_font()\nå­—ä½“å¤§å°\n\n\nadjust_legend_title()\nå›¾ä¾‹æ ‡é¢˜\n\n\nadjust_size()\nå›¾å½¢å°ºå¯¸\n\n\n\n\n\nå…¶ä»–æ“ä½œ\n\n\n\nå‡½æ•°\nè¯´æ˜\n\n\n\n\nsplit_plot()\nåˆ†é¢\n\n\nremove_legend()\nç§»é™¤å›¾ä¾‹\n\n\nview_plot()\næŸ¥çœ‹å›¾å½¢\n\n\nsave_plot()\nä¿å­˜å›¾å½¢",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#å¸¸è§é—®é¢˜",
    "href": "2018-tidyplots.html#å¸¸è§é—®é¢˜",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "å¸¸è§é—®é¢˜",
    "text": "å¸¸è§é—®é¢˜\n\n1. tidyplots å’Œ ggplot2 å“ªä¸ªæ›´å¥½ï¼Ÿ\ntidyplots æ˜¯åŸºäº ggplot2 çš„å°è£…ï¼Œä¸¤è€…å¯ä»¥äº’è¡¥ï¼š\n\nå¿«é€Ÿä½œå›¾ï¼šç”¨ tidyplots\né«˜åº¦å®šåˆ¶ï¼šç”¨ ggplot2\næ··åˆä½¿ç”¨ï¼štidyplots åˆ›å»ºåŸºç¡€å›¾ï¼Œggplot2 æ·»åŠ ç»†èŠ‚\n\n\n\n2. å¦‚ä½•æ·»åŠ ä¸­æ–‡æ ‡ç­¾ï¼Ÿ\n\nstudy |&gt;\n  tidyplot(x = treatment, y = score, color = treatment) |&gt;\n  add_mean_bar() |&gt;\n  adjust_title(\"å®éªŒç»“æœ\") |&gt;\n  adjust_x_axis_title(\"åˆ†ç»„\") |&gt;\n  adjust_y_axis_title(\"å¾—åˆ†\")\n\n\n\n\n\n\n\n\n\n\n3. å¦‚ä½•å¯¼å‡ºé«˜åˆ†è¾¨ç‡å›¾ç‰‡ï¼Ÿ\n\n# ä½¿ç”¨ save_plot æŒ‡å®š dpi\np |&gt; save_plot(\"figure.png\", dpi = 600, width = 12, height = 8)\n\n# æˆ–ç»“åˆ ggplot2::ggsave + ragg\nggsave(\"figure.png\", p, device = ragg::agg_png, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "2018-tidyplots.html#æ€»ç»“",
    "href": "2018-tidyplots.html#æ€»ç»“",
    "title": "tidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\ntidyplots çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š\n\næç®€è¯­æ³•ï¼šç®¡é“å¼æ“ä½œï¼Œä¸€è¡Œä»£ç ä¸€ä¸ªåŠŸèƒ½\nä¸“ä¸šé»˜è®¤ï¼šå¼€ç®±å³ç”¨çš„å­¦æœ¯ä¸»é¢˜å’Œé…è‰²\nç»Ÿè®¡å†…ç½®ï¼šè‡ªåŠ¨è®¡ç®—å¹¶æ ‡æ³¨ p å€¼\nå®Œå…¨å…¼å®¹ï¼šå¯ä¸ ggplot2 æ— ç¼ç»“åˆ\n\næ¨èå­¦ä¹ è·¯å¾„ï¼š\n\næŒæ¡ tidyplot() |&gt; add_*() åŸºæœ¬æ¨¡å¼\nå­¦ä¹  adjust_*() è°ƒæ•´æ ·å¼\næ¢ç´¢ç»Ÿè®¡æ ‡æ³¨åŠŸèƒ½\nç»“åˆ ggplot2 å®ç°é«˜çº§å®šåˆ¶\n\nå‚è€ƒèµ„æºï¼š\n\ntidyplots å®˜æ–¹æ–‡æ¡£\nGitHub ä»“åº“\nCRAN é¡µé¢",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "tidyplots - æç®€å¯è§†åŒ– ğŸ†•"
    ]
  },
  {
    "objectID": "3001-imports.html",
    "href": "3001-imports.html",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "",
    "text": "ä»¥å…¬å¼€æ•°æ®åº“CHRALSä¸ºä¾‹\nåœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰10ä¸ªdtaæ–‡ä»¶ï¼Œæ–‡ä»¶åå„ä¸ä¸€è‡´ã€‚å¦‚ä½•å°†æ‰€æœ‰æ–‡ä»¶å¯¼å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Ÿ\n\n\n\n\nlibrary(bruceR)\nlibrary(purrr)\nrm(list = ls())\n# set_wd() # è‡ªåŠ¨æ„å»ºæ—¶æ— éœ€è®¾ç½®å·¥ä½œè·¯å¾„\n\n\n\n\n\nfiles &lt;- \n    fs::dir_ls(\"01-attch\\\\10\\\\CHARLS\", \n                   recurse = TRUE,\n                    glob = \"*.dta\")\n\nprint(files)\n\n01-attch/10/CHARLS/COVID_Module.dta\n01-attch/10/CHARLS/Demographic_Background.dta\n01-attch/10/CHARLS/Exit_Module.dta\n01-attch/10/CHARLS/Family_Information.dta\n01-attch/10/CHARLS/Health_Status_and_Functioning.dta\n01-attch/10/CHARLS/Household_Income.dta\n01-attch/10/CHARLS/Individual_Income.dta\n01-attch/10/CHARLS/Sample_Infor.dta\n01-attch/10/CHARLS/Weights.dta\n01-attch/10/CHARLS/Work_Retirement.dta\n\n\n\n\n\n\ndata_list &lt;- files |&gt; \n    map(\\(filename)\n    {import(file=filename)})\n\nå¯ä»¥çœ‹åˆ°å·²ç»å¯¼å…¥æˆåŠŸ \n\n\n\n\ndata_list_neat &lt;- set_names(\n    data_list,\n    files |&gt; \n        map(\\(str)\n        {str_remove(str, \n        \"01-attch/10/CHARLS/\")})\n)\n\nå¯ä»¥çœ‹åˆ°åˆ—è¡¨æ¯ä¸ªå…ƒç´ åä¹Ÿè§„èŒƒäº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#æ‰¹é‡å¯¼å…¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶",
    "href": "3001-imports.html#æ‰¹é‡å¯¼å…¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ•°æ®æ–‡ä»¶",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "",
    "text": "ä»¥å…¬å¼€æ•°æ®åº“CHRALSä¸ºä¾‹\nåœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰10ä¸ªdtaæ–‡ä»¶ï¼Œæ–‡ä»¶åå„ä¸ä¸€è‡´ã€‚å¦‚ä½•å°†æ‰€æœ‰æ–‡ä»¶å¯¼å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Ÿ\n\n\n\n\nlibrary(bruceR)\nlibrary(purrr)\nrm(list = ls())\n# set_wd() # è‡ªåŠ¨æ„å»ºæ—¶æ— éœ€è®¾ç½®å·¥ä½œè·¯å¾„\n\n\n\n\n\nfiles &lt;- \n    fs::dir_ls(\"01-attch\\\\10\\\\CHARLS\", \n                   recurse = TRUE,\n                    glob = \"*.dta\")\n\nprint(files)\n\n01-attch/10/CHARLS/COVID_Module.dta\n01-attch/10/CHARLS/Demographic_Background.dta\n01-attch/10/CHARLS/Exit_Module.dta\n01-attch/10/CHARLS/Family_Information.dta\n01-attch/10/CHARLS/Health_Status_and_Functioning.dta\n01-attch/10/CHARLS/Household_Income.dta\n01-attch/10/CHARLS/Individual_Income.dta\n01-attch/10/CHARLS/Sample_Infor.dta\n01-attch/10/CHARLS/Weights.dta\n01-attch/10/CHARLS/Work_Retirement.dta\n\n\n\n\n\n\ndata_list &lt;- files |&gt; \n    map(\\(filename)\n    {import(file=filename)})\n\nå¯ä»¥çœ‹åˆ°å·²ç»å¯¼å…¥æˆåŠŸ \n\n\n\n\ndata_list_neat &lt;- set_names(\n    data_list,\n    files |&gt; \n        map(\\(str)\n        {str_remove(str, \n        \"01-attch/10/CHARLS/\")})\n)\n\nå¯ä»¥çœ‹åˆ°åˆ—è¡¨æ¯ä¸ªå…ƒç´ åä¹Ÿè§„èŒƒäº†",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "href": "3001-imports.html#æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet",
    "text": "æ‰¹é‡å¯¼å…¥excelä¸‹çš„å¤šä¸ªsheet\nç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªexcelæ–‡ä»¶ï¼Œå…¶ä¸­æœ‰å¤šä¸ªsheetï¼Œå¦‚ä½•ä¸€æ¬¡æ€§å¯¼å…¥åˆ°åˆ—è¡¨é‡Œå‘¢ \n\nç¬¬ä¸€æ­¥:æå–sheetå\n\nsheet_names &lt;- readxl::excel_sheets(\n    \"01-attch/10/CHARLS/data.xlsx\"\n)\n\nsheet_names\n\n[1] \"gong\" \"bo\"   \"hong\" \"wan\"  \"he\"  \n\n\n\n\nç¬¬äºŒæ­¥:æ‰¹é‡å¯¼å…¥\n\ndata_list &lt;- \n    sheet_names |&gt;\n    map(\\(var)\n        {import(\n        file='01-attch/10/CHARLS/data.xlsx',\n        sheet = var) \n    }) |&gt; \n    set_names(sheet_names)\n\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nâ€¢ `` -&gt; `...1`\n\nstr(data_list)\n\nList of 5\n $ gong:'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.501 0.502 0.498 0.497 0.499 0.496 0.5 0.503 0.5 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘£\" \"1.19â‘¨\" \"1.20â‘¦\" \"1.20â‘§\" ...\n  ..$ Cr  : num [1:12] 0.3465 0.1507 0.0616 0.0745 0.7903 ...\n  ..$ As  : num [1:12] 1.87 4.63 9.89 3.43 3.02 ...\n  ..$ Cd  : num [1:12] 0.0262 0.2018 0.4037 0 0.0485 ...\n  ..$ Pb  : num [1:12] 0.0761 0.2169 0.0744 0.131 0.4851 ...\n  ..$ Hg  : num [1:12] 0.1011 0.0577 0.187 0.1879 0.0538 ...\n $ bo  :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" \"å¤©æ²³åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.501 0.496 0.499 0.504 0.5 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘¢\" \"1.20â‘¨\" \"1.20â‘©\" \"1.21â‘ \" ...\n  ..$ Cr  : num [1:12] 0.0198 0.0384 0.0375 0.7255 1.784 ...\n  ..$ As  : num [1:12] 6.08 2.76 3.1 2.45 3.23 ...\n  ..$ Cd  : num [1:12] 0.0639 0.0788 0.0217 0 0.0549 ...\n  ..$ Pb  : num [1:12] 0.2474 0.0799 0.0743 0.0906 0.0836 ...\n  ..$ Hg  : num [1:12] 0.0362 0.0671 0.0383 0.0527 0.0442 ...\n $ hong:'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.496 0.498 0.499 0.5 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.17â‘¡\" \"1.17â‘£\" \"1.20â‘¥\" \"1.21â‘©\" ...\n  ..$ Cr  : num [1:12] 1.283 0.636 0.233 1.073 0.979 ...\n  ..$ As  : num [1:12] 5.57 2.56 2.15 4.8 3.21 ...\n  ..$ Cd  : num [1:12] 0.1119 0.0241 0.0224 0 0 ...\n  ..$ Pb  : num [1:12] 0.157 0.0256 0.0745 0.1524 0.356 ...\n  ..$ Hg  : num [1:12] 0.37 0.184 1.375 1.49 0.469 ...\n $ wan :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"è¶Šç§€åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.497 0.498 0.493 0.499 0.498 ...\n  ..$ ç¼–å·: chr [1:12] \"1.23â‘¦\" \"1.23â‘§\" \"1.21â‘¤\" \"1.21â‘¥\" ...\n  ..$ Cr  : num [1:12] 4.011 4.461 0.899 0.816 0.326 ...\n  ..$ As  : num [1:12] 0.0396 0.0934 0 0 1.4307 ...\n  ..$ Cd  : num [1:12] 0 0 0 0 0 0 0 0 0 0 ...\n  ..$ Pb  : num [1:12] 0 0.5965 0.0808 0.0878 0 ...\n  ..$ Hg  : num [1:12] 0.0066 0.017 0.062 0.0196 0.0404 0.0559 0.0074 0.0437 0.0177 0.0122 ...\n $ he  :'data.frame':   12 obs. of  9 variables:\n  ..$ ...1: num [1:12] 1 2 3 4 5 6 7 8 9 10 ...\n  ..$ æ¥æº: chr [1:12] \"ç™½äº‘åŒº\" \"ç™½äº‘åŒº\" \"å¤©æ²³åŒº\" \"è¶Šç§€åŒº\" ...\n  ..$ é‡é‡: num [1:12] 0.497 0.497 0.5 0.501 0.501 0.5 0.502 0.502 0.497 0.501 ...\n  ..$ ç¼–å·: chr [1:12] \"1.19â‘¡\" \"1.23â‘¨\" \"1.20â‘¤\" \"1.21â‘£\" ...\n  ..$ Cr  : num [1:12] 0 3.746 0.221 1.027 3.893 ...\n  ..$ As  : num [1:12] 0.908 3.099 0.935 0.896 2.939 ...\n  ..$ Cd  : num [1:12] 0.0115 0.0884 0.0395 0 0.1448 ...\n  ..$ Pb  : num [1:12] 0.065 1.545 0.845 0.125 0.226 ...\n  ..$ Hg  : num [1:12] 0.3371 0.0898 0.1123 0.1392 0.1663 ...",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "3001-imports.html#å°¾è¯­",
    "href": "3001-imports.html#å°¾è¯­",
    "title": "Rè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®",
    "section": "å°¾è¯­",
    "text": "å°¾è¯­\næœ¬æœŸä¸»è¦ä½¿ç”¨äº†bruceRåŒ…å’ŒpurrråŒ…ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³æ—¥å¸¸æ•°æ®å¯¼å…¥çš„æ‰€æœ‰éœ€æ±‚ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å®ç”¨æ“ä½œ",
      "æ•°æ®å¯¼å…¥å¯¼å‡º"
    ]
  },
  {
    "objectID": "sections/operation.html",
    "href": "sections/operation.html",
    "title": "å®ç”¨æ“ä½œ",
    "section": "",
    "text": "æ—¥å¸¸ç§‘ç ”ä¸­é‡åˆ°çš„å°æŠ€å·§ã€ç¯å¢ƒé…ç½®å’Œæ•°æ®å¯¼å…¥å¯¼å‡ºæ–¹æ³•ã€‚è®©ä½ çš„ R å·¥ä½œæµæ›´åŠ é«˜æ•ˆé¡ºç•…ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nrmarkdownæ•™ç¨‹-åˆå­¦rè¯­è¨€æ¨è\n\n1 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€æ‰¹é‡å¯¼å…¥æ•°æ®\n\n1 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "sections/visualization.html",
    "href": "sections/visualization.html",
    "title": "å¯è§†åŒ–æ•™ç¨‹",
    "section": "",
    "text": "â€œä¸€å›¾èƒœåƒè¨€â€ï¼Œè¿™é‡Œè®°å½•äº† ggplot2 åŠå…¶æ‰©å±•åŒ…çš„ç»˜å›¾æŠ€å·§ã€‚ä»åŸºç¡€é…è‰²åˆ°é«˜çº§å›¾è¡¨ï¼Œå¸®åŠ©ä½ åˆ¶ä½œå‡ºç‰ˆçº§åˆ«çš„æ•°æ®å¯è§†åŒ–ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€é…è‰²æ•™ç¨‹\n\n29 min\n\n\n\n\n\n\n\n\n\n\n\npatchworkï¼šæ‹’ç»psï¼ŒRå†…å®ç°å¤šå›¾æ‹¼æ¥\n\n2 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€å›¾ä¾‹ä¿®æ”¹è‡ªå®šä¹‰æ•™ç¨‹\n\n3 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€ç»‘åˆ¶æ¡‘åŸºå›¾è¯¦ç»†æ•™ç¨‹\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€é‡‡æ ·åœ°å›¾ç»˜åˆ¶è¯¦ç»†æ•™ç¨‹\n\n4 min\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€ç»˜åˆ¶æ£®æ—å›¾è¯¦ç»†æ•™ç¨‹-forestplot\n\n5 min\n\n\n\n\n\n\n\n\n\n\n\nggtextï¼šä¸­è‹±æ–‡æ··åˆå­—ä½“çš„å®Œç¾è§£å†³æ–¹æ¡ˆ\n\n8 min\n\n\n\n\n\n\n\n\n\n\n\ntidyplotsï¼šç®€æ´ä¼˜é›…çš„æ•°æ®å¯è§†åŒ–\n\n7 min\n\n\n\n\n\n\n\n\n\n\n\nåŒåæ ‡è½´ï¼šå·¦å³ä¸¤ä¸ª Y è½´çš„ç»‘å›¾æŠ€å·§\n\n14 min\n\n\n\n\n\n\n\n\n\n\n\nçƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—\n\n13 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "1015-health-economics.html",
    "href": "1015-health-economics.html",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "",
    "text": "å«ç”Ÿç»æµå­¦è¯„ä»·ï¼ˆHealth Economic Evaluationï¼‰æ˜¯ä¸€ç§ç³»ç»Ÿæ€§æ¯”è¾ƒä¸åŒåŒ»ç–—å¹²é¢„æªæ–½çš„æˆæœ¬å’Œå¥åº·ç»“æœçš„åˆ†ææ–¹æ³•ï¼Œå¸®åŠ©å†³ç­–è€…åœ¨æœ‰é™èµ„æºä¸‹åšå‡ºæœ€ä¼˜é€‰æ‹©ã€‚\n\n\n\n\n\næ–¹æ³•\nè‹±æ–‡ç¼©å†™\nç»“æœæŒ‡æ ‡\né€‚ç”¨åœºæ™¯\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nCEA\nè‡ªç„¶å•ä½ï¼ˆå¦‚ç”Ÿå‘½å¹´ï¼‰\nå•ä¸€ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç”¨åˆ†æ\nCUA\nè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼ˆQALYï¼‰\nè·¨ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç›Šåˆ†æ\nCBA\nè´§å¸å•ä½\nå¥åº·ä¸éå¥åº·é¡¹ç›®æ¯”è¾ƒ\n\n\næˆæœ¬æœ€å°åŒ–åˆ†æ\nCMA\næ— ï¼ˆå‡è®¾æ•ˆæœç›¸åŒï¼‰\næ•ˆæœç›¸åŒçš„å¹²é¢„æ¯”è¾ƒ\n\n\n\n\n\n\n\nICERï¼ˆå¢é‡æˆæœ¬æ•ˆæœæ¯”ï¼‰ï¼šæ¯å¤šè·å¾—ä¸€ä¸ªå¥åº·å•ä½æ‰€éœ€çš„é¢å¤–æˆæœ¬\nQALYï¼ˆè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼‰ï¼šç»¼åˆè€ƒè™‘ç”Ÿå­˜æ—¶é—´å’Œç”Ÿæ´»è´¨é‡\nWTPï¼ˆæ”¯ä»˜æ„æ„¿ï¼‰ï¼šç¤¾ä¼šæ„¿æ„ä¸ºä¸€ä¸ª QALY æ”¯ä»˜çš„æœ€é«˜é‡‘é¢\nè´´ç°ç‡ï¼šå°†æœªæ¥æˆæœ¬/æ•ˆæœæŠ˜ç®—ä¸ºç°å€¼çš„æ¯”ç‡ï¼ˆé€šå¸¸ 3-5%ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#ä»€ä¹ˆæ˜¯å«ç”Ÿç»æµå­¦è¯„ä»·",
    "href": "1015-health-economics.html#ä»€ä¹ˆæ˜¯å«ç”Ÿç»æµå­¦è¯„ä»·",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "",
    "text": "å«ç”Ÿç»æµå­¦è¯„ä»·ï¼ˆHealth Economic Evaluationï¼‰æ˜¯ä¸€ç§ç³»ç»Ÿæ€§æ¯”è¾ƒä¸åŒåŒ»ç–—å¹²é¢„æªæ–½çš„æˆæœ¬å’Œå¥åº·ç»“æœçš„åˆ†ææ–¹æ³•ï¼Œå¸®åŠ©å†³ç­–è€…åœ¨æœ‰é™èµ„æºä¸‹åšå‡ºæœ€ä¼˜é€‰æ‹©ã€‚\n\n\n\n\n\næ–¹æ³•\nè‹±æ–‡ç¼©å†™\nç»“æœæŒ‡æ ‡\né€‚ç”¨åœºæ™¯\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nCEA\nè‡ªç„¶å•ä½ï¼ˆå¦‚ç”Ÿå‘½å¹´ï¼‰\nå•ä¸€ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç”¨åˆ†æ\nCUA\nè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼ˆQALYï¼‰\nè·¨ç–¾ç—…æ¯”è¾ƒ\n\n\næˆæœ¬æ•ˆç›Šåˆ†æ\nCBA\nè´§å¸å•ä½\nå¥åº·ä¸éå¥åº·é¡¹ç›®æ¯”è¾ƒ\n\n\næˆæœ¬æœ€å°åŒ–åˆ†æ\nCMA\næ— ï¼ˆå‡è®¾æ•ˆæœç›¸åŒï¼‰\næ•ˆæœç›¸åŒçš„å¹²é¢„æ¯”è¾ƒ\n\n\n\n\n\n\n\nICERï¼ˆå¢é‡æˆæœ¬æ•ˆæœæ¯”ï¼‰ï¼šæ¯å¤šè·å¾—ä¸€ä¸ªå¥åº·å•ä½æ‰€éœ€çš„é¢å¤–æˆæœ¬\nQALYï¼ˆè´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ï¼‰ï¼šç»¼åˆè€ƒè™‘ç”Ÿå­˜æ—¶é—´å’Œç”Ÿæ´»è´¨é‡\nWTPï¼ˆæ”¯ä»˜æ„æ„¿ï¼‰ï¼šç¤¾ä¼šæ„¿æ„ä¸ºä¸€ä¸ª QALY æ”¯ä»˜çš„æœ€é«˜é‡‘é¢\nè´´ç°ç‡ï¼šå°†æœªæ¥æˆæœ¬/æ•ˆæœæŠ˜ç®—ä¸ºç°å€¼çš„æ¯”ç‡ï¼ˆé€šå¸¸ 3-5%ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#råŒ…ä»‹ç»",
    "href": "1015-health-economics.html#råŒ…ä»‹ç»",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "RåŒ…ä»‹ç»",
    "text": "RåŒ…ä»‹ç»\nå«ç”Ÿç»æµå­¦åˆ†æå¸¸ç”¨çš„ R åŒ…ï¼š\n\n\n\nRåŒ…\nåŠŸèƒ½\né“¾æ¥\n\n\n\n\nhesim\nå¥åº·çŠ¶æ€è½¬æ¢æ¨¡å‹ã€å†³ç­–åˆ†æ\nCRAN\n\n\nheemod\né©¬å°”å¯å¤«æ¨¡å‹æ„å»º\nCRAN\n\n\nBCEA\nè´å¶æ–¯æˆæœ¬æ•ˆæœåˆ†æ\nCRAN\n\n\ndampack\nå†³ç­–åˆ†ææ¨¡å‹å‚æ•°åŒ–\nCRAN\n\n\nsurvHE\nç”Ÿå­˜åˆ†æå¤–æ¨\nCRAN\n\n\n\næœ¬æ•™ç¨‹ä½¿ç”¨åŸºç¡€ R å’Œ ggplot2 ä»é›¶å®ç°å«ç”Ÿç»æµå­¦æ ¸å¿ƒåˆ†æï¼Œæ— éœ€å®‰è£…ä¸“ä¸šåŒ…ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#råŒ…å®‰è£…",
    "href": "1015-health-economics.html#råŒ…å®‰è£…",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "RåŒ…å®‰è£…",
    "text": "RåŒ…å®‰è£…\n\n# å®‰è£…æ ¸å¿ƒåŒ…\ninstall.packages(\"ggplot2\")\ninstall.packages(\"dplyr\")\ninstall.packages(\"scales\")\n\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(scales)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€",
    "text": "æˆæœ¬æ•ˆæœåˆ†æåŸºç¡€\n\næ¨¡æ‹Ÿæ•°æ®å‡†å¤‡\nå‡è®¾æˆ‘ä»¬æ¯”è¾ƒä¸‰ç§æ²»ç–—æ–¹æ¡ˆï¼šæ ‡å‡†æ²»ç–—ã€æ–°è¯ Aã€æ–°è¯ Bã€‚\n\n# åˆ›å»ºç­–ç•¥æ•°æ®\nstrategies &lt;- c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\")\n\n# æˆæœ¬æ•°æ®ï¼ˆå•ä½ï¼šå…ƒï¼‰\ncosts &lt;- c(50000, 80000, 120000)\n\n# æ•ˆæœæ•°æ®ï¼ˆQALYï¼‰\nqalys &lt;- c(5.2, 6.8, 7.5)\n\n# åˆ›å»ºæ•°æ®æ¡†\ncea_data &lt;- data.frame(\n  Strategy = strategies,\n  Cost = costs,\n  QALY = qalys\n)\n\ncea_data\n\n  Strategy   Cost QALY\n1 æ ‡å‡†æ²»ç–—  50000  5.2\n2    æ–°è¯A  80000  6.8\n3    æ–°è¯B 120000  7.5\n\n\n\n\næˆæœ¬æ•ˆæœå¹³é¢å›¾\næˆæœ¬æ•ˆæœå¹³é¢å›¾æ˜¯å«ç”Ÿç»æµå­¦æœ€åŸºç¡€çš„å¯è§†åŒ–ï¼Œæ¨ªè½´ä¸ºæ•ˆæœï¼ˆQALYï¼‰ï¼Œçºµè½´ä¸ºæˆæœ¬ã€‚\n\n# åŸºç¡€æˆæœ¬æ•ˆæœå¹³é¢å›¾\nggplot(cea_data, aes(x = QALY, y = Cost, color = Strategy)) +\n  geom_point(size = 5) +\n  geom_text(aes(label = Strategy), vjust = -1, size = 4) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœå¹³é¢å›¾\",\n    x = \"è´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ (QALY)\",\n    y = \"æˆæœ¬ (å…ƒ)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  expand_limits(y = c(0, 150000))\n\n\n\n\n\n\n\n\n\n\nè®¡ç®—å¢é‡æˆæœ¬æ•ˆæœæ¯” (ICER)\nICER å…¬å¼ï¼š\\[ICER = \\frac{\\Delta Cost}{\\Delta QALY} = \\frac{Cost_B - Cost_A}{QALY_B - QALY_A}\\]\n\n# ä»¥æ ‡å‡†æ²»ç–—ä¸ºå‚ç…§è®¡ç®— ICER\nreference &lt;- cea_data[1, ]\n\nicer_results &lt;- cea_data |&gt;\n  mutate(\n    Delta_Cost = Cost - reference$Cost,\n    Delta_QALY = QALY - reference$QALY,\n    ICER = ifelse(Delta_QALY &gt; 0, Delta_Cost / Delta_QALY, NA)\n  )\n\nicer_results\n\n  Strategy   Cost QALY Delta_Cost Delta_QALY     ICER\n1 æ ‡å‡†æ²»ç–—  50000  5.2          0        0.0       NA\n2    æ–°è¯A  80000  6.8      30000        1.6 18750.00\n3    æ–°è¯B 120000  7.5      70000        2.3 30434.78",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿-ceac",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿-ceac",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)",
    "text": "æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)\n\næ¦‚ç‡æ•æ„Ÿæ€§åˆ†ææ•°æ®\næ¨¡æ‹Ÿ 1000 æ¬¡è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„ç»“æœï¼š\n\nset.seed(42)\nn_sim &lt;- 1000\n\n# æ¨¡æ‹Ÿæˆæœ¬å’Œæ•ˆæœçš„ä¸ç¡®å®šæ€§\nsim_data &lt;- data.frame(\n  simulation = rep(1:n_sim, 3),\n  Strategy = rep(c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\"), each = n_sim),\n  Cost = c(\n    rnorm(n_sim, 50000, 5000),\n    rnorm(n_sim, 80000, 10000),\n    rnorm(n_sim, 120000, 15000)\n  ),\n  QALY = c(\n    rnorm(n_sim, 5.2, 0.5),\n    rnorm(n_sim, 6.8, 0.6),\n    rnorm(n_sim, 7.5, 0.7)\n  )\n)\n\nhead(sim_data)\n\n  simulation Strategy     Cost     QALY\n1          1 æ ‡å‡†æ²»ç–— 56854.79 4.857169\n2          2 æ ‡å‡†æ²»ç–— 47176.51 4.803643\n3          3 æ ‡å‡†æ²»ç–— 51815.64 4.996498\n4          4 æ ‡å‡†æ²»ç–— 53164.31 4.625665\n5          5 æ ‡å‡†æ²»ç–— 52021.34 5.757880\n6          6 æ ‡å‡†æ²»ç–— 49469.38 4.760272\n\n\n\n\nå¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\n\n# è®¡ç®—ç›¸å¯¹äºæ ‡å‡†æ²»ç–—çš„å¢é‡\nref_data &lt;- sim_data |&gt;\n  filter(Strategy == \"æ ‡å‡†æ²»ç–—\") |&gt;\n  select(simulation, ref_Cost = Cost, ref_QALY = QALY)\n\nincremental_data &lt;- sim_data |&gt;\n  filter(Strategy != \"æ ‡å‡†æ²»ç–—\") |&gt;\n  left_join(ref_data, by = \"simulation\") |&gt;\n  mutate(\n    Delta_Cost = Cost - ref_Cost,\n    Delta_QALY = QALY - ref_QALY\n  )\n\n# ç»˜åˆ¶å¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\nggplot(incremental_data, aes(x = Delta_QALY, y = Delta_Cost, color = Strategy)) +\n  geom_point(alpha = 0.3, size = 1.5) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  # æ·»åŠ  WTP é˜ˆå€¼çº¿ï¼ˆå‡è®¾ 50000 å…ƒ/QALYï¼‰\n  geom_abline(intercept = 0, slope = 50000, linetype = \"solid\", color = \"red\", linewidth = 1) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"å¢é‡æˆæœ¬æ•ˆæœæ•£ç‚¹å›¾\",\n    subtitle = \"çº¢çº¿: WTP é˜ˆå€¼ = 50,000 å…ƒ/QALY\",\n    x = \"å¢é‡ QALY (Î”QALYs)\",\n    y = \"å¢é‡æˆæœ¬ (Î”æˆæœ¬)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  annotate(\"text\", x = 2.5, y = -20000, label = \"ä¼˜åŠ¿è±¡é™\\n(æ›´æœ‰æ•ˆä¸”æ›´ä¾¿å®œ)\", \n           color = \"darkgreen\", size = 3) +\n  annotate(\"text\", x = -0.5, y = 80000, label = \"åŠ£åŠ¿è±¡é™\\n(æ›´æ— æ•ˆä¸”æ›´è´µ)\", \n           color = \"darkred\", size = 3)\n\n\n\n\n\n\n\n\n\n\næˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿\nCEAC å±•ç¤ºåœ¨ä¸åŒ WTP é˜ˆå€¼ä¸‹ï¼Œæ¯ç§ç­–ç•¥å…·æœ‰æˆæœ¬æ•ˆæœçš„æ¦‚ç‡ã€‚\n\n# å®šä¹‰ WTP èŒƒå›´\nwtp_range &lt;- seq(0, 150000, by = 5000)\n\n# è®¡ç®—æ¯ä¸ª WTP ä¸‹å„ç­–ç•¥çš„å¯æ¥å—æ¦‚ç‡\ncalculate_ceac &lt;- function(sim_data, wtp_range) {\n  strategies &lt;- unique(sim_data$Strategy)\n  results &lt;- data.frame()\n  \n  for (wtp in wtp_range) {\n    # è®¡ç®—æ¯æ¬¡æ¨¡æ‹Ÿçš„å‡€è´§å¸æ”¶ç›Š (NMB)\n    nmb_data &lt;- sim_data |&gt;\n      mutate(NMB = wtp * QALY - Cost)\n    \n    # æ‰¾å‡ºæ¯æ¬¡æ¨¡æ‹Ÿä¸­ NMB æœ€é«˜çš„ç­–ç•¥\n    best_strategy &lt;- nmb_data |&gt;\n      group_by(simulation) |&gt;\n      slice_max(NMB, n = 1) |&gt;\n      ungroup()\n    \n    # è®¡ç®—æ¯ç§ç­–ç•¥çš„æœ€ä¼˜æ¦‚ç‡\n    prob_best &lt;- best_strategy |&gt;\n      count(Strategy) |&gt;\n      mutate(Probability = n / n_sim)\n    \n    # è¡¥å……æ²¡æœ‰å‡ºç°çš„ç­–ç•¥\n    for (s in strategies) {\n      if (!s %in% prob_best$Strategy) {\n        prob_best &lt;- bind_rows(prob_best, \n                               data.frame(Strategy = s, n = 0, Probability = 0))\n      }\n    }\n    \n    prob_best$WTP &lt;- wtp\n    results &lt;- bind_rows(results, prob_best)\n  }\n  \n  results\n}\n\nceac_data &lt;- calculate_ceac(sim_data, wtp_range)\n\n# ç»˜åˆ¶ CEAC\nggplot(ceac_data, aes(x = WTP, y = Probability, color = Strategy)) +\n  geom_line(linewidth = 1.2) +\n  geom_vline(xintercept = 50000, linetype = \"dashed\", color = \"gray50\") +\n  scale_x_continuous(labels = comma_format()) +\n  scale_y_continuous(limits = c(0, 1), labels = percent_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœå¯æ¥å—æ›²çº¿ (CEAC)\",\n    x = \"æ”¯ä»˜æ„æ„¿ (WTP, å…ƒ/QALY)\",\n    y = \"æˆæœ¬æ•ˆæœçš„æ¦‚ç‡\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  annotate(\"text\", x = 55000, y = 0.95, label = \"WTP = 50,000\", \n           hjust = 0, color = \"gray30\", size = 3.5)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å†³ç­–æ ‘æ¨¡å‹",
    "href": "1015-health-economics.html#å†³ç­–æ ‘æ¨¡å‹",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å†³ç­–æ ‘æ¨¡å‹",
    "text": "å†³ç­–æ ‘æ¨¡å‹\n\nç®€å•å†³ç­–æ ‘ç¤ºä¾‹\næ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„æ²»ç–—å†³ç­–åœºæ™¯ï¼š\n\n# å†³ç­–æ ‘å‚æ•°\nparams &lt;- list(\n  # æ²»ç–—æˆåŠŸç‡\n  p_success_standard = 0.60,\n  p_success_new = 0.80,\n  \n  # æˆæœ¬\n  c_standard = 10000,\n  c_new = 25000,\n  c_success = 5000,  # æˆåŠŸåç»´æŠ¤æˆæœ¬\n  c_failure = 50000, # å¤±è´¥åè¡¥æ•‘æˆæœ¬\n  \n  # æ•ˆç”¨\n  u_success = 0.9,\n  u_failure = 0.5,\n  \n  # æ—¶é—´èŒƒå›´ï¼ˆå¹´ï¼‰\n  time_horizon = 5\n)\n\n# è®¡ç®—æœŸæœ›æˆæœ¬å’Œæ•ˆæœ\ncalculate_expected &lt;- function(p_success, c_treatment, params) {\n  # æœŸæœ›æˆæœ¬\n  expected_cost &lt;- c_treatment + \n    p_success * params$c_success + \n    (1 - p_success) * params$c_failure\n  \n  # æœŸæœ› QALY\n  expected_qaly &lt;- params$time_horizon * (\n    p_success * params$u_success + \n    (1 - p_success) * params$u_failure\n  )\n  \n  list(cost = expected_cost, qaly = expected_qaly)\n}\n\n# æ ‡å‡†æ²»ç–—\nstandard &lt;- calculate_expected(params$p_success_standard, params$c_standard, params)\n\n# æ–°æ²»ç–—\nnew_treatment &lt;- calculate_expected(params$p_success_new, params$c_new, params)\n\n# ç»“æœæ±‡æ€»\ndecision_tree_results &lt;- data.frame(\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ²»ç–—\"),\n  Expected_Cost = c(standard$cost, new_treatment$cost),\n  Expected_QALY = c(standard$qaly, new_treatment$qaly)\n) |&gt;\n  mutate(\n    ICER = c(NA, (Expected_Cost[2] - Expected_Cost[1]) / \n               (Expected_QALY[2] - Expected_QALY[1]))\n  )\n\ndecision_tree_results\n\n  Strategy Expected_Cost Expected_QALY  ICER\n1 æ ‡å‡†æ²»ç–—         33000           3.7    NA\n2   æ–°æ²»ç–—         39000           4.1 15000\n\n\n\n\nå†³ç­–æ ‘å¯è§†åŒ–\n\n# åˆ›å»ºå†³ç­–æ ‘æ•°æ®\ntree_data &lt;- data.frame(\n  x = c(0, 1, 1, 2, 2, 2, 2),\n  y = c(3, 4.5, 1.5, 5.5, 3.5, 2.5, 0.5),\n  label = c(\n    \"å†³ç­–èŠ‚ç‚¹\",\n    \"æ ‡å‡†æ²»ç–—\",\n    \"æ–°æ²»ç–—\",\n    paste0(\"æˆåŠŸ (\", params$p_success_standard * 100, \"%)\"),\n    paste0(\"å¤±è´¥ (\", (1 - params$p_success_standard) * 100, \"%)\"),\n    paste0(\"æˆåŠŸ (\", params$p_success_new * 100, \"%)\"),\n    paste0(\"å¤±è´¥ (\", (1 - params$p_success_new) * 100, \"%)\")\n  ),\n  node_type = c(\"decision\", \"chance\", \"chance\", \"outcome\", \"outcome\", \"outcome\", \"outcome\")\n)\n\n# è¿æ¥çº¿æ•°æ®\nedges &lt;- data.frame(\n  x = c(0, 0, 1, 1, 1, 1),\n  xend = c(1, 1, 2, 2, 2, 2),\n  y = c(3, 3, 4.5, 4.5, 1.5, 1.5),\n  yend = c(4.5, 1.5, 5.5, 3.5, 2.5, 0.5)\n)\n\nggplot() +\n  # ç»˜åˆ¶è¿æ¥çº¿\n  geom_segment(data = edges, \n               aes(x = x, y = y, xend = xend, yend = yend),\n               color = \"gray50\", linewidth = 0.8) +\n  # å†³ç­–èŠ‚ç‚¹ï¼ˆæ–¹å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"decision\"),\n             aes(x = x, y = y), shape = 15, size = 8, color = \"#4f46e5\") +\n  # æœºä¼šèŠ‚ç‚¹ï¼ˆåœ†å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"chance\"),\n             aes(x = x, y = y), shape = 16, size = 6, color = \"#10b981\") +\n  # ç»“æœèŠ‚ç‚¹ï¼ˆä¸‰è§’å½¢ï¼‰\n  geom_point(data = tree_data |&gt; filter(node_type == \"outcome\"),\n             aes(x = x, y = y), shape = 17, size = 5, color = \"#f59e0b\") +\n  # æ ‡ç­¾\n  geom_text(data = tree_data,\n            aes(x = x, y = y, label = label),\n            hjust = -0.1, vjust = 0.5, size = 3.5) +\n  # æ·»åŠ ç»“æœæ•°å€¼\n  annotate(\"text\", x = 2.8, y = 5.5, \n           label = paste0(\"æˆæœ¬: \", comma(params$c_standard + params$c_success), \n                          \"\\nQALY: \", params$time_horizon * params$u_success),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 3.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_standard + params$c_failure),\n                          \"\\nQALY: \", params$time_horizon * params$u_failure),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 2.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_new + params$c_success),\n                          \"\\nQALY: \", params$time_horizon * params$u_success),\n           hjust = 0, size = 3, color = \"gray30\") +\n  annotate(\"text\", x = 2.8, y = 0.5,\n           label = paste0(\"æˆæœ¬: \", comma(params$c_new + params$c_failure),\n                          \"\\nQALY: \", params$time_horizon * params$u_failure),\n           hjust = 0, size = 3, color = \"gray30\") +\n  labs(title = \"æ²»ç–—å†³ç­–æ ‘æ¨¡å‹\") +\n  theme_void() +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\", size = 14)) +\n  xlim(-0.5, 4) +\n  ylim(-0.5, 6.5)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#é©¬å°”å¯å¤«æ¨¡å‹",
    "href": "1015-health-economics.html#é©¬å°”å¯å¤«æ¨¡å‹",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "é©¬å°”å¯å¤«æ¨¡å‹",
    "text": "é©¬å°”å¯å¤«æ¨¡å‹\n\næ¨¡å‹æ¦‚è¿°\né©¬å°”å¯å¤«æ¨¡å‹æ˜¯å«ç”Ÿç»æµå­¦ä¸­æœ€å¸¸ç”¨çš„å»ºæ¨¡æ–¹æ³•ï¼Œç”¨äºæ¨¡æ‹Ÿç–¾ç—…è¿›å±•å’Œå¹²é¢„æ•ˆæœã€‚\n\n# å®šä¹‰æ¨¡å‹å‚æ•°\nmarkov_params &lt;- list(\n  # çŠ¶æ€åç§°\n  states = c(\"å¥åº·\", \"ç–¾ç—…\", \"æ­»äº¡\"),\n  n_states = 3,\n  \n  # å‘¨æœŸæ•°ï¼ˆå¹´ï¼‰\n  n_cycles = 20,\n  \n  # è½¬ç§»æ¦‚ç‡ï¼ˆæ ‡å‡†æ²»ç–—ï¼‰\n  p_healthy_disease_std = 0.10,\n  p_disease_death_std = 0.15,\n  \n  # è½¬ç§»æ¦‚ç‡ï¼ˆæ–°æ²»ç–—ï¼‰\n  p_healthy_disease_new = 0.05,\n  p_disease_death_new = 0.10,\n  \n  # æˆæœ¬ï¼ˆæ¯å‘¨æœŸï¼‰\n  c_healthy = 1000,\n  c_disease = 8000,\n  c_death = 0,\n  c_new_treatment = 5000,  # æ–°æ²»ç–—é¢å¤–æˆæœ¬\n  \n  # æ•ˆç”¨\n  u_healthy = 1.0,\n  u_disease = 0.6,\n  u_death = 0,\n  \n  # è´´ç°ç‡\n  discount_rate = 0.03\n)\n\n\n\næ„å»ºè½¬ç§»æ¦‚ç‡çŸ©é˜µ\n\n# æ ‡å‡†æ²»ç–—è½¬ç§»çŸ©é˜µ\ntrans_matrix_std &lt;- matrix(c(\n  0.89, 0.10, 0.01,  # ä»å¥åº·çŠ¶æ€\n  0.00, 0.84, 0.16,  # ä»ç–¾ç—…çŠ¶æ€ï¼ˆå«èƒŒæ™¯æ­»äº¡ï¼‰\n  0.00, 0.00, 1.00   # ä»æ­»äº¡çŠ¶æ€\n), nrow = 3, byrow = TRUE)\n\nrownames(trans_matrix_std) &lt;- colnames(trans_matrix_std) &lt;- markov_params$states\n\n# æ–°æ²»ç–—è½¬ç§»çŸ©é˜µ\ntrans_matrix_new &lt;- matrix(c(\n  0.94, 0.05, 0.01,  # ä»å¥åº·çŠ¶æ€\n  0.00, 0.89, 0.11,  # ä»ç–¾ç—…çŠ¶æ€\n  0.00, 0.00, 1.00   # ä»æ­»äº¡çŠ¶æ€\n), nrow = 3, byrow = TRUE)\n\nrownames(trans_matrix_new) &lt;- colnames(trans_matrix_new) &lt;- markov_params$states\n\ntrans_matrix_std\n\n     å¥åº· ç–¾ç—… æ­»äº¡\nå¥åº· 0.89 0.10 0.01\nç–¾ç—… 0.00 0.84 0.16\næ­»äº¡ 0.00 0.00 1.00\n\n\n\n\nè¿è¡Œé©¬å°”å¯å¤«æ¨¡æ‹Ÿ\n\n# é©¬å°”å¯å¤«æ¨¡æ‹Ÿå‡½æ•°\nrun_markov &lt;- function(trans_matrix, params, treatment_cost = 0) {\n  n_cycles &lt;- params$n_cycles\n  states &lt;- params$states\n  \n  # åˆå§‹çŠ¶æ€åˆ†å¸ƒï¼ˆ100% å¥åº·ï¼‰\n  state_dist &lt;- matrix(0, nrow = n_cycles + 1, ncol = 3)\n  colnames(state_dist) &lt;- states\n  state_dist[1, ] &lt;- c(1, 0, 0)\n  \n  # æˆæœ¬å’Œæ•ˆç”¨å‘é‡\n  costs &lt;- c(params$c_healthy, params$c_disease, params$c_death)\n  utilities &lt;- c(params$u_healthy, params$u_disease, params$u_death)\n  \n  # è´´ç°å› å­\n  discount_factors &lt;- (1 / (1 + params$discount_rate)) ^ (0:n_cycles)\n  \n  # æ¨¡æ‹Ÿå„å‘¨æœŸ\n  for (i in 1:n_cycles) {\n    state_dist[i + 1, ] &lt;- state_dist[i, ] %*% trans_matrix\n  }\n  \n  # è®¡ç®—æˆæœ¬å’Œ QALY\n  cycle_costs &lt;- state_dist %*% costs + treatment_cost\n  cycle_qalys &lt;- state_dist %*% utilities\n  \n  # è´´ç°åæ€»è®¡\n  total_cost &lt;- sum(cycle_costs * discount_factors)\n  total_qaly &lt;- sum(cycle_qalys * discount_factors)\n  \n  list(\n    state_dist = state_dist,\n    total_cost = total_cost,\n    total_qaly = total_qaly,\n    cycle_costs = cycle_costs,\n    cycle_qalys = cycle_qalys\n  )\n}\n\n# è¿è¡Œä¸¤ç§æ²»ç–—æ–¹æ¡ˆ\nresults_std &lt;- run_markov(trans_matrix_std, markov_params, treatment_cost = 0)\nresults_new &lt;- run_markov(trans_matrix_new, markov_params, treatment_cost = markov_params$c_new_treatment)\n\n\n\nçŠ¶æ€åˆ†å¸ƒå¯è§†åŒ–\n\n# æ•´ç†çŠ¶æ€åˆ†å¸ƒæ•°æ®\nprepare_state_data &lt;- function(results, treatment_name) {\n  data.frame(\n    Cycle = rep(0:markov_params$n_cycles, 3),\n    State = rep(markov_params$states, each = markov_params$n_cycles + 1),\n    Proportion = as.vector(results$state_dist),\n    Treatment = treatment_name\n  )\n}\n\nstate_data &lt;- bind_rows(\n  prepare_state_data(results_std, \"æ ‡å‡†æ²»ç–—\"),\n  prepare_state_data(results_new, \"æ–°æ²»ç–—\")\n)\n\n# ç»˜åˆ¶çŠ¶æ€è½¬ç§»å›¾\nggplot(state_data, aes(x = Cycle, y = Proportion, fill = State)) +\n  geom_area(alpha = 0.8) +\n  facet_wrap(~Treatment) +\n  scale_fill_manual(values = c(\"#10b981\", \"#f59e0b\", \"#6b7280\")) +\n  scale_y_continuous(labels = percent_format()) +\n  labs(\n    title = \"é©¬å°”å¯å¤«æ¨¡å‹çŠ¶æ€åˆ†å¸ƒ\",\n    x = \"å‘¨æœŸï¼ˆå¹´ï¼‰\",\n    y = \"äººç¾¤æ¯”ä¾‹\",\n    fill = \"å¥åº·çŠ¶æ€\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    strip.background = element_rect(fill = \"#4f46e5\"),\n    strip.text = element_text(color = \"white\", face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\n\né©¬å°”å¯å¤«æ¨¡å‹ç»“æœæ±‡æ€»\n\n# æ±‡æ€»ç»“æœ\nmarkov_summary &lt;- data.frame(\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°æ²»ç–—\"),\n  Total_Cost = c(results_std$total_cost, results_new$total_cost),\n  Total_QALY = c(results_std$total_qaly, results_new$total_qaly)\n) |&gt;\n  mutate(\n    Delta_Cost = Total_Cost - Total_Cost[1],\n    Delta_QALY = Total_QALY - Total_QALY[1],\n    ICER = ifelse(Delta_QALY &gt; 0, Delta_Cost / Delta_QALY, NA)\n  )\n\nmarkov_summary\n\n  Strategy Total_Cost Total_QALY Delta_Cost Delta_QALY     ICER\n1 æ ‡å‡†æ²»ç–—   33714.77   9.017402       0.00   0.000000       NA\n2   æ–°æ²»ç–—  111169.34  11.417944   77454.57   2.400542 32265.45",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "href": "1015-health-economics.html#å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å•å› ç´ æ•æ„Ÿæ€§åˆ†æ",
    "text": "å•å› ç´ æ•æ„Ÿæ€§åˆ†æ\n\né¾™å·é£å›¾\né¾™å·é£å›¾å±•ç¤ºå„å‚æ•°å¯¹ç»“æœçš„å½±å“ç¨‹åº¦ã€‚\n\n# å®šä¹‰å‚æ•°èŒƒå›´\nsensitivity_params &lt;- data.frame(\n  Parameter = c(\n    \"ç–¾ç—…è½¬ç§»æ¦‚ç‡ (æ ‡å‡†)\",\n    \"æ­»äº¡è½¬ç§»æ¦‚ç‡ (æ ‡å‡†)\",\n    \"ç–¾ç—…è½¬ç§»æ¦‚ç‡ (æ–°)\",\n    \"æ­»äº¡è½¬ç§»æ¦‚ç‡ (æ–°)\",\n    \"ç–¾ç—…çŠ¶æ€æˆæœ¬\",\n    \"æ–°æ²»ç–—æˆæœ¬\",\n    \"è´´ç°ç‡\"\n  ),\n  Base = c(0.10, 0.15, 0.05, 0.10, 8000, 5000, 0.03),\n  Low = c(0.05, 0.10, 0.03, 0.05, 5000, 3000, 0.00),\n  High = c(0.15, 0.20, 0.08, 0.15, 12000, 8000, 0.05)\n)\n\n# æ¨¡æ‹Ÿæ•æ„Ÿæ€§åˆ†æç»“æœï¼ˆç®€åŒ–æ¼”ç¤ºï¼‰\nset.seed(123)\ntornado_data &lt;- sensitivity_params |&gt;\n  mutate(\n    ICER_low = runif(n(), 15000, 35000),\n    ICER_high = runif(n(), 35000, 55000),\n    ICER_base = 32000\n  ) |&gt;\n  arrange(desc(abs(ICER_high - ICER_low)))\n\n# ç»˜åˆ¶é¾™å·é£å›¾\nggplot(tornado_data) +\n  geom_segment(aes(y = reorder(Parameter, abs(ICER_high - ICER_low)),\n                   yend = reorder(Parameter, abs(ICER_high - ICER_low)),\n                   x = ICER_low, xend = ICER_high),\n               linewidth = 8, color = \"#4f46e5\", alpha = 0.7) +\n  geom_vline(xintercept = tornado_data$ICER_base[1], \n             linetype = \"dashed\", color = \"red\", linewidth = 1) +\n  scale_x_continuous(labels = comma_format()) +\n  labs(\n    title = \"é¾™å·é£å›¾ - å•å› ç´ æ•æ„Ÿæ€§åˆ†æ\",\n    subtitle = \"çº¢è‰²è™šçº¿: åŸºå‡† ICER\",\n    x = \"ICER (å…ƒ/QALY)\",\n    y = \"å‚æ•°\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    panel.grid.major.y = element_blank()\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æˆæœ¬æ•ˆæœå‰æ²¿",
    "href": "1015-health-economics.html#æˆæœ¬æ•ˆæœå‰æ²¿",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æˆæœ¬æ•ˆæœå‰æ²¿",
    "text": "æˆæœ¬æ•ˆæœå‰æ²¿\n\næ•ˆç‡å‰æ²¿çº¿\næ•ˆç‡å‰æ²¿å±•ç¤ºåœ¨ç»™å®šæˆæœ¬ä¸‹å¯è¾¾åˆ°çš„æœ€å¤§æ•ˆæœã€‚\n\n# åˆ›å»ºå¤šç­–ç•¥æ•°æ®\nfrontier_data &lt;- data.frame(\n  Strategy = c(\"æ— å¹²é¢„\", \"æ–¹æ¡ˆA\", \"æ–¹æ¡ˆB\", \"æ–¹æ¡ˆC\", \"æ–¹æ¡ˆD\", \"æ–¹æ¡ˆE\"),\n  Cost = c(10000, 30000, 45000, 60000, 90000, 100000),\n  QALY = c(4.0, 5.5, 6.2, 6.8, 7.8, 7.9)\n)\n\n# è¯†åˆ«æ•ˆç‡å‰æ²¿ä¸Šçš„ç­–ç•¥ï¼ˆç®€åŒ–ç®—æ³•ï¼‰\nfrontier_data &lt;- frontier_data |&gt;\n  arrange(Cost) |&gt;\n  mutate(\n    on_frontier = c(TRUE, TRUE, TRUE, FALSE, TRUE, FALSE)  # æ‰‹åŠ¨æ ‡è®°\n  )\n\nggplot(frontier_data, aes(x = QALY, y = Cost)) +\n  # ç»˜åˆ¶æ•ˆç‡å‰æ²¿çº¿\n  geom_line(data = frontier_data |&gt; filter(on_frontier),\n            color = \"#4f46e5\", linewidth = 1.2) +\n  # æ‰€æœ‰ç‚¹\n  geom_point(aes(color = on_frontier), size = 5) +\n  # æ ‡ç­¾\n  geom_text(aes(label = Strategy), vjust = -1, size = 3.5) +\n  scale_color_manual(values = c(\"TRUE\" = \"#10b981\", \"FALSE\" = \"#ef4444\"),\n                     labels = c(\"TRUE\" = \"æ•ˆç‡å‰æ²¿\", \"FALSE\" = \"è¢«æ”¯é…\")) +\n  scale_y_continuous(labels = comma_format()) +\n  labs(\n    title = \"æˆæœ¬æ•ˆæœæ•ˆç‡å‰æ²¿\",\n    x = \"è´¨é‡è°ƒæ•´ç”Ÿå‘½å¹´ (QALY)\",\n    y = \"æˆæœ¬ (å…ƒ)\",\n    color = \"ç­–ç•¥çŠ¶æ€\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "href": "1015-health-economics.html#å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å‡€è´§å¸æ”¶ç›Šåˆ†æ",
    "text": "å‡€è´§å¸æ”¶ç›Šåˆ†æ\n\nNMB è®¡ç®—ä¸å¯è§†åŒ–\nå‡€è´§å¸æ”¶ç›Šï¼ˆNet Monetary Benefitï¼‰ï¼š\\[NMB = WTP \\times \\Delta QALY - \\Delta Cost\\]\n\n# è®¡ç®—ä¸åŒ WTP ä¸‹çš„ NMB\nwtp_values &lt;- seq(0, 100000, by = 10000)\n\nnmb_data &lt;- expand.grid(\n  WTP = wtp_values,\n  Strategy = c(\"æ ‡å‡†æ²»ç–—\", \"æ–°è¯A\", \"æ–°è¯B\")\n) |&gt;\n  left_join(cea_data, by = \"Strategy\") |&gt;\n  mutate(\n    NMB = WTP * QALY - Cost\n  )\n\nggplot(nmb_data, aes(x = WTP, y = NMB, color = Strategy)) +\n  geom_line(linewidth = 1.2) +\n  geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +\n  scale_x_continuous(labels = comma_format()) +\n  scale_y_continuous(labels = comma_format()) +\n  scale_color_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\")) +\n  labs(\n    title = \"å‡€è´§å¸æ”¶ç›Š (NMB) åˆ†æ\",\n    x = \"æ”¯ä»˜æ„æ„¿ (WTP, å…ƒ/QALY)\",\n    y = \"å‡€è´§å¸æ”¶ç›Š (å…ƒ)\",\n    color = \"æ²»ç–—æ–¹æ¡ˆ\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"bottom\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#å®ç”¨å‡½æ•°å°è£…",
    "href": "1015-health-economics.html#å®ç”¨å‡½æ•°å°è£…",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "å®ç”¨å‡½æ•°å°è£…",
    "text": "å®ç”¨å‡½æ•°å°è£…\n\nICER è®¡ç®—å‡½æ•°\n\n#' è®¡ç®— ICER\n#' @param cost_new æ–°æ²»ç–—æˆæœ¬\n#' @param cost_ref å‚ç…§æ²»ç–—æˆæœ¬\n#' @param effect_new æ–°æ²»ç–—æ•ˆæœ\n#' @param effect_ref å‚ç…§æ²»ç–—æ•ˆæœ\n#' @return ICER å€¼\ncalculate_icer &lt;- function(cost_new, cost_ref, effect_new, effect_ref) {\n  delta_cost &lt;- cost_new - cost_ref\n  delta_effect &lt;- effect_new - effect_ref\n  \n  if (delta_effect &lt;= 0) {\n    warning(\"å¢é‡æ•ˆæœ &lt;= 0ï¼Œæ–°æ²»ç–—å¯èƒ½è¢«æ”¯é…\")\n    return(NA)\n  }\n  \n  icer &lt;- delta_cost / delta_effect\n  \n  cat(\"å¢é‡æˆæœ¬:\", comma(delta_cost), \"å…ƒ\\n\")\n  cat(\"å¢é‡æ•ˆæœ:\", round(delta_effect, 3), \"QALY\\n\")\n  cat(\"ICER:\", comma(round(icer, 0)), \"å…ƒ/QALY\\n\")\n  \n  invisible(icer)\n}\n\n# ç¤ºä¾‹\ncalculate_icer(\n  cost_new = 80000, cost_ref = 50000,\n  effect_new = 6.8, effect_ref = 5.2\n)\n\nå¢é‡æˆæœ¬: 30,000 å…ƒ\nå¢é‡æ•ˆæœ: 1.6 QALY\nICER: 18,750 å…ƒ/QALY",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "1015-health-economics.html#æ€»ç»“",
    "href": "1015-health-economics.html#æ€»ç»“",
    "title": "Rè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nå«ç”Ÿç»æµå­¦è¯„ä»·æ˜¯åŒ»ç–—å†³ç­–çš„é‡è¦å·¥å…·ï¼ŒR è¯­è¨€æä¾›äº†å¼ºå¤§çš„åˆ†æèƒ½åŠ›ï¼š\n\n\n\nåˆ†æç±»å‹\nå…³é”®æŒ‡æ ‡\næ¨èæ–¹æ³•\n\n\n\n\næˆæœ¬æ•ˆæœåˆ†æ\nICER\nå¢é‡åˆ†æã€æ•ˆç‡å‰æ²¿\n\n\nä¸ç¡®å®šæ€§åˆ†æ\nCEACã€é¾™å·é£å›¾\næ¦‚ç‡æ•æ„Ÿæ€§åˆ†æ\n\n\nç–¾ç—…å»ºæ¨¡\nçŠ¶æ€åˆ†å¸ƒã€ç”Ÿå­˜æ›²çº¿\né©¬å°”å¯å¤«æ¨¡å‹ã€å†³ç­–æ ‘\n\n\nå†³ç­–æ”¯æŒ\nNMB\nå‡€è´§å¸æ”¶ç›Šåˆ†æ\n\n\n\n\næ¨èå­¦ä¹ èµ„æº\n\nDARTH å·¥ä½œç»„ - å†³ç­–åˆ†æå»ºæ¨¡æ•™ç¨‹\nISPOR æŒ‡å— - å«ç”Ÿç»æµå­¦æ–¹æ³•å­¦æ ‡å‡†\nR for Health Technology Assessment - R è¯­è¨€ HTA èµ„æº\n\n\n\nå¸¸ç”¨ WTP é˜ˆå€¼å‚è€ƒ\n\n\n\nå›½å®¶/åœ°åŒº\nWTP é˜ˆå€¼ï¼ˆæ¯ QALYï¼‰\n\n\n\n\nä¸­å›½\n1-3 å€äººå‡ GDPï¼ˆçº¦ 7-21 ä¸‡å…ƒï¼‰\n\n\nè‹±å›½ (NICE)\nÂ£20,000-30,000\n\n\nç¾å›½\n$50,000-150,000\n\n\nWHO æ¨è\n1-3 å€äººå‡ GDP",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "å«ç”Ÿç»æµå­¦åˆ†æ"
    ]
  },
  {
    "objectID": "sections/methods.html",
    "href": "sections/methods.html",
    "title": "R è¯­è¨€æ–¹æ³•",
    "section": "",
    "text": "è¿™é‡Œæ”¶é›†äº†ä½¿ç”¨ R è¯­è¨€å®ç°çš„å„ç±»åˆ†ææ–¹æ³•ï¼ŒåŒ…æ‹¬å«ç”Ÿç»æµå­¦è¯„ä»·ã€ç”Ÿå­˜åˆ†æã€å› æœæ¨æ–­ç­‰ã€‚æ¯ç¯‡æ•™ç¨‹éƒ½ä»åŸç†å‡ºå‘ï¼Œé…ä»¥å®Œæ•´çš„ä»£ç å®ç°å’Œå¯è§†åŒ–ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRè¯­è¨€å«ç”Ÿç»æµå­¦åˆ†æ\n\n17 min\n\n\n\n\n\n\n\n\n\n\n\nmlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—\n\n9 min\n\n\n\n\n\n\n\n\n\n\n\næ—¶é—´åºåˆ—åˆ†æ\n\n3 min\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "1016-mlr3.html",
    "href": "1016-mlr3.html",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "",
    "text": "mlr3 æ˜¯ R è¯­è¨€ä¸­æ–°ä¸€ä»£æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œé‡‡ç”¨ R6 é¢å‘å¯¹è±¡è®¾è®¡ï¼Œæä¾›ç»Ÿä¸€ã€æ¨¡å—åŒ–çš„æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚ç›¸æ¯”ä¼ ç»Ÿçš„ caret åŒ…ï¼Œmlr3 æ›´åŠ ç°ä»£åŒ–ã€å¯æ‰©å±•æ€§æ›´å¼ºã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nç»Ÿä¸€æ¥å£\næ‰€æœ‰ç®—æ³•ä½¿ç”¨ç›¸åŒçš„ API\n\n\næ¨¡å—åŒ–è®¾è®¡\nä»»åŠ¡ã€å­¦ä¹ å™¨ã€é‡é‡‡æ ·ã€è¯„ä¼°æŒ‡æ ‡ç‹¬ç«‹å°è£…\n\n\nç®¡é“æ“ä½œ\næ”¯æŒå¤æ‚çš„é¢„å¤„ç†å’Œæ¨¡å‹ç»„åˆ\n\n\nå¹¶è¡Œè®¡ç®—\nåŸç”Ÿæ”¯æŒå¹¶è¡ŒåŒ–\n\n\nå¯æ‰©å±•\nä¸°å¯Œçš„æ‰©å±•åŒ…ç”Ÿæ€\n\n\n\n\n\n\n\n\n\n\n\nåŒ…å\nåŠŸèƒ½\n\n\n\n\nmlr3\næ ¸å¿ƒæ¡†æ¶\n\n\nmlr3learners\nå¸¸ç”¨å­¦ä¹ å™¨ï¼ˆéšæœºæ£®æ—ã€XGBoostç­‰ï¼‰\n\n\nmlr3tuning\nè¶…å‚æ•°è°ƒä¼˜\n\n\nmlr3pipelines\næ•°æ®é¢„å¤„ç†ç®¡é“\n\n\nmlr3viz\nå¯è§†åŒ–\n\n\nmlr3verse\nä¸€é”®åŠ è½½æ‰€æœ‰åŒ…\n\n\nmlr3extralearners\næ›´å¤šå­¦ä¹ å™¨",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#mlr3-ç®€ä»‹",
    "href": "1016-mlr3.html#mlr3-ç®€ä»‹",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "",
    "text": "mlr3 æ˜¯ R è¯­è¨€ä¸­æ–°ä¸€ä»£æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œé‡‡ç”¨ R6 é¢å‘å¯¹è±¡è®¾è®¡ï¼Œæä¾›ç»Ÿä¸€ã€æ¨¡å—åŒ–çš„æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚ç›¸æ¯”ä¼ ç»Ÿçš„ caret åŒ…ï¼Œmlr3 æ›´åŠ ç°ä»£åŒ–ã€å¯æ‰©å±•æ€§æ›´å¼ºã€‚\n\n\n\n\n\nç‰¹ç‚¹\nè¯´æ˜\n\n\n\n\nç»Ÿä¸€æ¥å£\næ‰€æœ‰ç®—æ³•ä½¿ç”¨ç›¸åŒçš„ API\n\n\næ¨¡å—åŒ–è®¾è®¡\nä»»åŠ¡ã€å­¦ä¹ å™¨ã€é‡é‡‡æ ·ã€è¯„ä¼°æŒ‡æ ‡ç‹¬ç«‹å°è£…\n\n\nç®¡é“æ“ä½œ\næ”¯æŒå¤æ‚çš„é¢„å¤„ç†å’Œæ¨¡å‹ç»„åˆ\n\n\nå¹¶è¡Œè®¡ç®—\nåŸç”Ÿæ”¯æŒå¹¶è¡ŒåŒ–\n\n\nå¯æ‰©å±•\nä¸°å¯Œçš„æ‰©å±•åŒ…ç”Ÿæ€\n\n\n\n\n\n\n\n\n\n\n\nåŒ…å\nåŠŸèƒ½\n\n\n\n\nmlr3\næ ¸å¿ƒæ¡†æ¶\n\n\nmlr3learners\nå¸¸ç”¨å­¦ä¹ å™¨ï¼ˆéšæœºæ£®æ—ã€XGBoostç­‰ï¼‰\n\n\nmlr3tuning\nè¶…å‚æ•°è°ƒä¼˜\n\n\nmlr3pipelines\næ•°æ®é¢„å¤„ç†ç®¡é“\n\n\nmlr3viz\nå¯è§†åŒ–\n\n\nmlr3verse\nä¸€é”®åŠ è½½æ‰€æœ‰åŒ…\n\n\nmlr3extralearners\næ›´å¤šå­¦ä¹ å™¨",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#å®‰è£…ä¸åŠ è½½",
    "href": "1016-mlr3.html#å®‰è£…ä¸åŠ è½½",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "å®‰è£…ä¸åŠ è½½",
    "text": "å®‰è£…ä¸åŠ è½½\n\n# å®‰è£…æ ¸å¿ƒåŒ…\ninstall.packages(\"mlr3verse\")  # ä¸€é”®å®‰è£…æ‰€æœ‰å¸¸ç”¨åŒ…\n\n# æˆ–å•ç‹¬å®‰è£…\ninstall.packages(c(\"mlr3\", \"mlr3learners\", \"mlr3tuning\", \n                   \"mlr3pipelines\", \"mlr3viz\"))\n\n\nlibrary(mlr3verse)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# è®¾ç½®éšæœºç§å­\nset.seed(42)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "href": "1016-mlr3.html#æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ",
    "text": "æœºå™¨å­¦ä¹ å·¥ä½œæµæ¦‚è§ˆ\nmlr3 çš„å·¥ä½œæµç¨‹åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š\næ•°æ® â†’ Taskï¼ˆä»»åŠ¡ï¼‰ â†’ Learnerï¼ˆå­¦ä¹ å™¨ï¼‰ â†’ è®­ç»ƒ/é¢„æµ‹ â†’ Measureï¼ˆè¯„ä¼°ï¼‰\n                           â†“\n                    Resamplingï¼ˆé‡é‡‡æ ·ï¼‰\n                           â†“\n                    Tuningï¼ˆè°ƒå‚ï¼‰",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬ä¸€éƒ¨åˆ†taskä»»åŠ¡",
    "href": "1016-mlr3.html#ç¬¬ä¸€éƒ¨åˆ†taskä»»åŠ¡",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬ä¸€éƒ¨åˆ†ï¼šTaskï¼ˆä»»åŠ¡ï¼‰",
    "text": "ç¬¬ä¸€éƒ¨åˆ†ï¼šTaskï¼ˆä»»åŠ¡ï¼‰\nTask æ˜¯ mlr3 çš„æ•°æ®å®¹å™¨ï¼Œå°è£…äº†æ•°æ®é›†å’Œé¢„æµ‹ç›®æ ‡ã€‚\n\nåˆ›å»ºåˆ†ç±»ä»»åŠ¡\n\n# ä½¿ç”¨å†…ç½®æ•°æ®é›†\ndata(\"penguins\", package = \"palmerpenguins\")\npenguins_clean &lt;- na.omit(penguins)\n\n# åˆ›å»ºåˆ†ç±»ä»»åŠ¡\ntask_penguins &lt;- TaskClassif$new(\n  id = \"penguins\",\n  backend = penguins_clean,\n  target = \"species\"\n)\n\ntask_penguins\n\n\nâ”€â”€ &lt;TaskClassif&gt; (333x8) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ€¢ Target: species\nâ€¢ Target classes: Adelie (44%), Gentoo (36%), Chinstrap (20%)\nâ€¢ Properties: multiclass\nâ€¢ Features (7):\n  â€¢ int (3): body_mass_g, flipper_length_mm, year\n  â€¢ dbl (2): bill_depth_mm, bill_length_mm\n  â€¢ fct (2): island, sex\n\n\n\n\nåˆ›å»ºå›å½’ä»»åŠ¡\n\n# ä½¿ç”¨ mtcars æ•°æ®é›†\ntask_mtcars &lt;- TaskRegr$new(\n  id = \"mtcars\",\n  backend = mtcars,\n  target = \"mpg\"\n)\n\ntask_mtcars\n\n\nâ”€â”€ &lt;TaskRegr&gt; (32x11) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ€¢ Target: mpg\nâ€¢ Properties: -\nâ€¢ Features (10):\n  â€¢ dbl (10): am, carb, cyl, disp, drat, gear, hp, qsec, vs, wt\n\n\n\n\nä½¿ç”¨å†…ç½®ä»»åŠ¡\nmlr3 æä¾›äº†è®¸å¤šå†…ç½®ä»»åŠ¡ï¼š\n\n# æŸ¥çœ‹æ‰€æœ‰å†…ç½®ä»»åŠ¡\nas.data.table(mlr_tasks)[, .(key, task_type, nrow, ncol)]\n\nKey: &lt;key&gt;\n                   key task_type  nrow  ncol\n                &lt;char&gt;    &lt;char&gt; &lt;int&gt; &lt;int&gt;\n 1:       ames_housing      regr  2930    82\n 2:       bike_sharing      regr 17379    14\n 3:     boston_housing      regr   506    18\n 4:      breast_cancer   classif   683    10\n 5: california_housing      regr 20640    10\n 6:      german_credit   classif  1000    21\n 7:               ilpd   classif   583    11\n 8:               iris   classif   150     5\n 9:         kc_housing      regr 21613    20\n10:          moneyball      regr  1232    15\n11:             mtcars      regr    32    11\n12:          optdigits   classif  5620    65\n13:           penguins   classif   344     8\n14:    penguins_simple   classif   333    11\n15:               pima   classif   768     9\n16:            ruspini     clust    75     2\n17:              sonar   classif   208    61\n18:               spam   classif  4601    58\n19:            titanic   classif  1309    11\n20:          usarrests     clust    50     4\n21:               wine   classif   178    14\n22:                zoo   classif   101    17\n                   key task_type  nrow  ncol\n\n\n\n# åŠ è½½å†…ç½®ä»»åŠ¡\ntask_iris &lt;- tsk(\"iris\")\ntask_iris\n\n\nâ”€â”€ &lt;TaskClassif&gt; (150x5): Iris Flowers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ€¢ Target: Species\nâ€¢ Target classes: setosa (33%), versicolor (33%), virginica (33%)\nâ€¢ Properties: multiclass\nâ€¢ Features (4):\n  â€¢ dbl (4): Petal.Length, Petal.Width, Sepal.Length, Sepal.Width\n\n\n\n\nä»»åŠ¡æ“ä½œ\n\n# æŸ¥çœ‹ç‰¹å¾\ntask_penguins$feature_names\n\n[1] \"bill_depth_mm\"     \"bill_length_mm\"    \"body_mass_g\"      \n[4] \"flipper_length_mm\" \"island\"            \"sex\"              \n[7] \"year\"             \n\n# æŸ¥çœ‹ç›®æ ‡å˜é‡\ntask_penguins$target_names\n\n[1] \"species\"\n\n# æ•°æ®ç»´åº¦\nc(nrow = task_penguins$nrow, ncol = task_penguins$ncol)\n\nnrow ncol \n 333    8 \n\n# æŸ¥çœ‹ç±»åˆ«åˆ†å¸ƒ\ntask_penguins$data(cols = \"species\") |&gt; \n  table()\n\nspecies\n   Adelie Chinstrap    Gentoo \n      146        68       119 \n\n\n\n\né€‰æ‹©ç‰¹å¾å­é›†\n\n# åªä½¿ç”¨æ•°å€¼ç‰¹å¾\ntask_numeric &lt;- task_penguins$clone()\ntask_numeric$select(c(\"bill_length_mm\", \"bill_depth_mm\", \n                      \"flipper_length_mm\", \"body_mass_g\"))\ntask_numeric$feature_names\n\n[1] \"bill_depth_mm\"     \"bill_length_mm\"    \"body_mass_g\"      \n[4] \"flipper_length_mm\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬äºŒéƒ¨åˆ†learnerå­¦ä¹ å™¨",
    "href": "1016-mlr3.html#ç¬¬äºŒéƒ¨åˆ†learnerå­¦ä¹ å™¨",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬äºŒéƒ¨åˆ†ï¼šLearnerï¼ˆå­¦ä¹ å™¨ï¼‰",
    "text": "ç¬¬äºŒéƒ¨åˆ†ï¼šLearnerï¼ˆå­¦ä¹ å™¨ï¼‰\nLearner å°è£…äº†æœºå™¨å­¦ä¹ ç®—æ³•ã€‚\n\næŸ¥çœ‹å¯ç”¨å­¦ä¹ å™¨\n\n# åˆ†ç±»å­¦ä¹ å™¨\nas.data.table(mlr_learners)[\n  task_type == \"classif\", \n  .(key, label, packages)\n] |&gt; head(10)\n\nKey: &lt;key&gt;\n                    key                               label\n                 &lt;char&gt;                              &lt;char&gt;\n 1:   classif.cv_glmnet GLM with Elastic Net Regularization\n 2:       classif.debug    Debug Learner for Classification\n 3: classif.featureless  Featureless Classification Learner\n 4:      classif.glmnet GLM with Elastic Net Regularization\n 5:        classif.kknn                  k-Nearest-Neighbor\n 6:         classif.lda        Linear Discriminant Analysis\n 7:     classif.log_reg                 Logistic Regression\n 8:    classif.multinom        Multinomial Log-Linear Model\n 9: classif.naive_bayes                         Naive Bayes\n10:        classif.nnet         Single Layer Neural Network\n                    packages\n                      &lt;list&gt;\n 1: mlr3,mlr3learners,glmnet\n 2:                     mlr3\n 3:                     mlr3\n 4: mlr3,mlr3learners,glmnet\n 5:   mlr3,mlr3learners,kknn\n 6:   mlr3,mlr3learners,MASS\n 7:  mlr3,mlr3learners,stats\n 8:   mlr3,mlr3learners,nnet\n 9:  mlr3,mlr3learners,e1071\n10:   mlr3,mlr3learners,nnet\n\n\n\n\nåˆ›å»ºå­¦ä¹ å™¨\n\n# å†³ç­–æ ‘\nlearner_tree &lt;- lrn(\"classif.rpart\")\n\n# éšæœºæ£®æ—\nlearner_rf &lt;- lrn(\"classif.ranger\", num.trees = 100)\n\n# é€»è¾‘å›å½’\nlearner_log &lt;- lrn(\"classif.log_reg\")\n\nlearner_rf\n\n\nâ”€â”€ &lt;LearnerClassifRanger&gt; (classif.ranger): Random Forest â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ€¢ Model: -\nâ€¢ Parameters: num.threads=1, num.trees=100\nâ€¢ Packages: mlr3, mlr3learners, and ranger\nâ€¢ Predict Types: [response] and prob\nâ€¢ Feature Types: logical, integer, numeric, character, factor, and ordered\nâ€¢ Encapsulation: none (fallback: -)\nâ€¢ Properties: hotstart_backward, importance, missings, multiclass, oob_error,\nselected_features, twoclass, and weights\nâ€¢ Other settings: use_weights = 'use'\n\n\n\n\næŸ¥çœ‹å­¦ä¹ å™¨å‚æ•°\n\n# éšæœºæ£®æ—çš„å‚æ•°\nlearner_rf$param_set$ids()\n\n [1] \"always.split.variables\"       \"class.weights\"               \n [3] \"holdout\"                      \"importance\"                  \n [5] \"keep.inbag\"                   \"max.depth\"                   \n [7] \"min.bucket\"                   \"min.node.size\"               \n [9] \"mtry\"                         \"mtry.ratio\"                  \n[11] \"na.action\"                    \"num.random.splits\"           \n[13] \"node.stats\"                   \"num.threads\"                 \n[15] \"num.trees\"                    \"oob.error\"                   \n[17] \"regularization.factor\"        \"regularization.usedepth\"     \n[19] \"replace\"                      \"respect.unordered.factors\"   \n[21] \"sample.fraction\"              \"save.memory\"                 \n[23] \"scale.permutation.importance\" \"seed\"                        \n[25] \"split.select.weights\"         \"splitrule\"                   \n[27] \"verbose\"                      \"write.forest\"                \n\n\n\n\nè®¾ç½®é¢„æµ‹ç±»å‹\n\n# è®¾ç½®è¾“å‡ºæ¦‚ç‡ï¼ˆç”¨äº AUC ç­‰æŒ‡æ ‡ï¼‰\nlearner_rf$predict_type &lt;- \"prob\"\nlearner_rf$predict_type\n\n[1] \"prob\"",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬ä¸‰éƒ¨åˆ†è®­ç»ƒä¸é¢„æµ‹",
    "href": "1016-mlr3.html#ç¬¬ä¸‰éƒ¨åˆ†è®­ç»ƒä¸é¢„æµ‹",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šè®­ç»ƒä¸é¢„æµ‹",
    "text": "ç¬¬ä¸‰éƒ¨åˆ†ï¼šè®­ç»ƒä¸é¢„æµ‹\n\nåŸºç¡€è®­ç»ƒæµç¨‹\n\n# åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†\ntrain_set &lt;- sample(task_penguins$nrow, 0.8 * task_penguins$nrow)\ntest_set &lt;- setdiff(seq_len(task_penguins$nrow), train_set)\n\n# è®­ç»ƒæ¨¡å‹\nlearner_rf$train(task_penguins, row_ids = train_set)\n\n# æŸ¥çœ‹è®­ç»ƒåçš„æ¨¡å‹\nlearner_rf$model\n\nRanger result\n\nCall:\n ranger::ranger(dependent.variable.name = task$target_names, data = task$data(),      probability = self$predict_type == \"prob\", num.threads = 1L,      num.trees = 100L) \n\nType:                             Probability estimation \nNumber of trees:                  100 \nSample size:                      266 \nNumber of independent variables:  7 \nMtry:                             2 \nTarget node size:                 10 \nVariable importance mode:         none \nSplitrule:                        gini \nOOB prediction error (Brier s.):  0.02228252 \n\n\n\n\né¢„æµ‹\n\n# åœ¨æµ‹è¯•é›†ä¸Šé¢„æµ‹\nprediction &lt;- learner_rf$predict(task_penguins, row_ids = test_set)\nprediction\n\n\nâ”€â”€ &lt;PredictionClassif&gt; for 67 observations: â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n row_ids     truth  response prob.Adelie prob.Chinstrap prob.Gentoo\n       8    Adelie    Adelie  0.82577778      0.1685079 0.005714286\n       9    Adelie    Adelie  1.00000000      0.0000000 0.000000000\n      17    Adelie    Adelie  0.98950000      0.0105000 0.000000000\n     ---       ---       ---         ---            ---         ---\n     302 Chinstrap Chinstrap  0.01875000      0.9812500 0.000000000\n     305 Chinstrap Chinstrap  0.14038095      0.8427024 0.016916667\n     309 Chinstrap Chinstrap  0.08652778      0.9050595 0.008412698\n\n\n\n\næŸ¥çœ‹é¢„æµ‹ç»“æœ\n\n# é¢„æµ‹ç»“æœè½¬ä¸ºæ•°æ®æ¡†\npred_df &lt;- as.data.table(prediction)\nhead(pred_df)\n\n   row_ids  truth response prob.Adelie prob.Chinstrap prob.Gentoo\n     &lt;int&gt; &lt;fctr&gt;   &lt;fctr&gt;       &lt;num&gt;          &lt;num&gt;       &lt;num&gt;\n1:       8 Adelie   Adelie   0.8257778     0.16850794 0.005714286\n2:       9 Adelie   Adelie   1.0000000     0.00000000 0.000000000\n3:      17 Adelie   Adelie   0.9895000     0.01050000 0.000000000\n4:      22 Adelie   Adelie   0.9920000     0.00800000 0.000000000\n5:      26 Adelie   Adelie   0.8459947     0.15300535 0.001000000\n6:      29 Adelie   Adelie   0.9665556     0.02233333 0.011111111\n\n\n\n\næ··æ·†çŸ©é˜µ\n\n# ç”Ÿæˆæ··æ·†çŸ©é˜µ\nprediction$confusion\n\n           truth\nresponse    Adelie Chinstrap Gentoo\n  Adelie        31         0      0\n  Chinstrap      2        14      0\n  Gentoo         0         0     20",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬å››éƒ¨åˆ†measureè¯„ä¼°æŒ‡æ ‡",
    "href": "1016-mlr3.html#ç¬¬å››éƒ¨åˆ†measureè¯„ä¼°æŒ‡æ ‡",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬å››éƒ¨åˆ†ï¼šMeasureï¼ˆè¯„ä¼°æŒ‡æ ‡ï¼‰",
    "text": "ç¬¬å››éƒ¨åˆ†ï¼šMeasureï¼ˆè¯„ä¼°æŒ‡æ ‡ï¼‰\n\næŸ¥çœ‹å¯ç”¨æŒ‡æ ‡\n\n# åˆ†ç±»æŒ‡æ ‡\nas.data.table(mlr_measures)[\n  task_type == \"classif\",\n  .(key, label)\n] |&gt; head(15)\n\nKey: &lt;key&gt;\n                key                         label\n             &lt;char&gt;                        &lt;char&gt;\n 1:     classif.acc       Classification Accuracy\n 2:     classif.auc      Area Under the ROC Curve\n 3:    classif.bacc             Balanced Accuracy\n 4:  classif.bbrier            Binary Brier Score\n 5:      classif.ce          Classification Error\n 6:   classif.costs Cost-sensitive Classification\n 7:     classif.dor         Diagnostic Odds Ratio\n 8:   classif.fbeta                  F-beta score\n 9:     classif.fdr          False Discovery Rate\n10:      classif.fn               False Negatives\n11:     classif.fnr           False Negative Rate\n12:    classif.fomr           False Omission Rate\n13:      classif.fp               False Positives\n14:     classif.fpr           False Positive Rate\n15: classif.logloss                      Log Loss\n\n\n\n\nè®¡ç®—è¯„ä¼°æŒ‡æ ‡\n\n# å•ä¸ªæŒ‡æ ‡\nprediction$score(msr(\"classif.acc\"))\n\nclassif.acc \n  0.9701493 \n\n# å¤šä¸ªæŒ‡æ ‡\nmeasures &lt;- msrs(c(\"classif.acc\", \"classif.ce\", \"classif.bacc\"))\nprediction$score(measures)\n\n classif.acc   classif.ce classif.bacc \n  0.97014925   0.02985075   0.97979798 \n\n\n\n\nå¸¸ç”¨åˆ†ç±»æŒ‡æ ‡\n\n\n\næŒ‡æ ‡\nä»£ç \nè¯´æ˜\n\n\n\n\nå‡†ç¡®ç‡\nclassif.acc\næ­£ç¡®é¢„æµ‹æ¯”ä¾‹\n\n\né”™è¯¯ç‡\nclassif.ce\n1 - å‡†ç¡®ç‡\n\n\nAUC\nclassif.auc\nROCæ›²çº¿ä¸‹é¢ç§¯ï¼ˆéœ€è¦æ¦‚ç‡é¢„æµ‹ï¼‰\n\n\nF1\nclassif.fbeta\nç²¾ç¡®ç‡å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡\n\n\nKappa\nclassif.kappa\nè€ƒè™‘éšæœºä¸€è‡´æ€§çš„å‡†ç¡®ç‡\n\n\n\n\n\nå¸¸ç”¨å›å½’æŒ‡æ ‡\n\n\n\næŒ‡æ ‡\nä»£ç \nè¯´æ˜\n\n\n\n\nMSE\nregr.mse\nå‡æ–¹è¯¯å·®\n\n\nRMSE\nregr.rmse\nå‡æ–¹æ ¹è¯¯å·®\n\n\nMAE\nregr.mae\nå¹³å‡ç»å¯¹è¯¯å·®\n\n\nRÂ²\nregr.rsq\nå†³å®šç³»æ•°",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬äº”éƒ¨åˆ†resamplingé‡é‡‡æ ·",
    "href": "1016-mlr3.html#ç¬¬äº”éƒ¨åˆ†resamplingé‡é‡‡æ ·",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬äº”éƒ¨åˆ†ï¼šResamplingï¼ˆé‡é‡‡æ ·ï¼‰",
    "text": "ç¬¬äº”éƒ¨åˆ†ï¼šResamplingï¼ˆé‡é‡‡æ ·ï¼‰\né‡é‡‡æ ·ç”¨äºæ›´å¯é åœ°è¯„ä¼°æ¨¡å‹æ€§èƒ½ã€‚\n\næŸ¥çœ‹é‡é‡‡æ ·æ–¹æ³•\n\nas.data.table(mlr_resamplings)[, .(key, label)]\n\nKey: &lt;key&gt;\n                   key                         label\n                &lt;char&gt;                        &lt;char&gt;\n 1:          bootstrap                     Bootstrap\n 2:             custom                 Custom Splits\n 3:          custom_cv Custom Split Cross-Validation\n 4:                 cv              Cross-Validation\n 5:            holdout                       Holdout\n 6:           insample           Insample Resampling\n 7:                loo                 Leave-One-Out\n 8:                ncv                     Nested CV\n 9:          nested_cv                     Nested CV\n10: paired_subsampling            Paired Subsampling\n11:        repeated_cv     Repeated Cross-Validation\n12:        subsampling                   Subsampling\n\n\n\n\näº¤å‰éªŒè¯\n\n# 5æŠ˜äº¤å‰éªŒè¯\ncv5 &lt;- rsmp(\"cv\", folds = 5)\n\n# æ‰§è¡Œé‡é‡‡æ ·\nrr &lt;- resample(task_penguins, learner_rf, cv5)\n\n# æŸ¥çœ‹æ¯æŠ˜ç»“æœ\nrr$score(msr(\"classif.acc\"))\n\n    task_id     learner_id resampling_id iteration classif.acc\n     &lt;char&gt;         &lt;char&gt;        &lt;char&gt;     &lt;int&gt;       &lt;num&gt;\n1: penguins classif.ranger            cv         1   0.9850746\n2: penguins classif.ranger            cv         2   0.9850746\n3: penguins classif.ranger            cv         3   1.0000000\n4: penguins classif.ranger            cv         4   0.9545455\n5: penguins classif.ranger            cv         5   1.0000000\nHidden columns: task, learner, resampling, prediction_test\n\n\n\n\næ±‡æ€»ç»“æœ\n\n# å¹³å‡æ€§èƒ½\nrr$aggregate(msr(\"classif.acc\"))\n\nclassif.acc \n  0.9849389 \n\n# å¤šä¸ªæŒ‡æ ‡\nrr$aggregate(msrs(c(\"classif.acc\", \"classif.ce\")))\n\nclassif.acc  classif.ce \n 0.98493894  0.01506106 \n\n\n\n\né‡å¤äº¤å‰éªŒè¯\n\n# 5æŠ˜äº¤å‰éªŒè¯é‡å¤3æ¬¡\nrcv &lt;- rsmp(\"repeated_cv\", folds = 5, repeats = 3)\nrr_repeated &lt;- resample(task_penguins, learner_rf, rcv)\n\nrr_repeated$aggregate(msr(\"classif.acc\"))\n\nclassif.acc \n   0.980989 \n\n\n\n\nå¯è§†åŒ–é‡é‡‡æ ·ç»“æœ\n\n# æå–æ¯æŠ˜çš„å‡†ç¡®ç‡\nscores &lt;- rr$score(msr(\"classif.acc\"))\n\nggplot(scores, aes(x = factor(iteration), y = classif.acc)) +\n  geom_col(fill = \"#4f46e5\", alpha = 0.8) +\n  geom_hline(yintercept = mean(scores$classif.acc), \n             linetype = \"dashed\", color = \"red\") +\n  labs(\n    title = \"5æŠ˜äº¤å‰éªŒè¯ç»“æœ\",\n    subtitle = paste(\"å¹³å‡å‡†ç¡®ç‡:\", round(mean(scores$classif.acc), 4)),\n    x = \"æŠ˜æ•°\",\n    y = \"å‡†ç¡®ç‡\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬å…­éƒ¨åˆ†benchmarkingæ¨¡å‹æ¯”è¾ƒ",
    "href": "1016-mlr3.html#ç¬¬å…­éƒ¨åˆ†benchmarkingæ¨¡å‹æ¯”è¾ƒ",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬å…­éƒ¨åˆ†ï¼šBenchmarkingï¼ˆæ¨¡å‹æ¯”è¾ƒï¼‰",
    "text": "ç¬¬å…­éƒ¨åˆ†ï¼šBenchmarkingï¼ˆæ¨¡å‹æ¯”è¾ƒï¼‰\næ¯”è¾ƒå¤šä¸ªæ¨¡å‹åœ¨åŒä¸€ä»»åŠ¡ä¸Šçš„è¡¨ç°ã€‚\n\nè®¾è®¡åŸºå‡†æµ‹è¯•\n\n# å®šä¹‰å¤šä¸ªå­¦ä¹ å™¨\nlearners &lt;- list(\n  lrn(\"classif.rpart\", id = \"å†³ç­–æ ‘\"),\n  lrn(\"classif.ranger\", num.trees = 100, id = \"éšæœºæ£®æ—\"),\n  lrn(\"classif.kknn\", id = \"KNN\"),\n  lrn(\"classif.naive_bayes\", id = \"æœ´ç´ è´å¶æ–¯\")\n)\n\n# å®šä¹‰é‡é‡‡æ ·\ncv5 &lt;- rsmp(\"cv\", folds = 5)\n\n# åˆ›å»ºåŸºå‡†æµ‹è¯•è®¾è®¡\ndesign &lt;- benchmark_grid(\n  tasks = task_penguins,\n  learners = learners,\n  resamplings = cv5\n)\n\ndesign\n\n       task    learner resampling\n     &lt;char&gt;     &lt;char&gt;     &lt;char&gt;\n1: penguins     å†³ç­–æ ‘         cv\n2: penguins   éšæœºæ£®æ—         cv\n3: penguins        KNN         cv\n4: penguins æœ´ç´ è´å¶æ–¯         cv\n\n\n\n\nè¿è¡ŒåŸºå‡†æµ‹è¯•\n\n# æ‰§è¡ŒåŸºå‡†æµ‹è¯•\nbmr &lt;- benchmark(design)\n\n# æ±‡æ€»ç»“æœ\nbmr$aggregate(msrs(c(\"classif.acc\", \"classif.ce\")))\n\n      nr  task_id learner_id resampling_id iters classif.acc  classif.ce\n   &lt;int&gt;   &lt;char&gt;     &lt;char&gt;        &lt;char&gt; &lt;int&gt;       &lt;num&gt;       &lt;num&gt;\n1:     1 penguins     å†³ç­–æ ‘            cv     5   0.9399367 0.060063320\n2:     2 penguins   éšæœºæ£®æ—            cv     5   0.9910448 0.008955224\n3:     3 penguins        KNN            cv     5   0.9909995 0.009000452\n4:     4 penguins æœ´ç´ è´å¶æ–¯            cv     5   0.9819539 0.018046133\nHidden columns: resample_result\n\n\n\n\nå¯è§†åŒ–æ¯”è¾ƒ\n\n# æå–æ‰€æœ‰ç»“æœ\nscores_all &lt;- bmr$score(msr(\"classif.acc\"))\n\nggplot(scores_all, aes(x = learner_id, y = classif.acc, fill = learner_id)) +\n  geom_boxplot(alpha = 0.8) +\n  scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\", \"#ef4444\")) +\n  labs(\n    title = \"æ¨¡å‹æ€§èƒ½æ¯”è¾ƒ\",\n    x = \"æ¨¡å‹\",\n    y = \"å‡†ç¡®ç‡\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\n\næ’ååˆ†æ\n\n# è®¡ç®—å¹³å‡æ’å\nbmr$aggregate(msr(\"classif.acc\"))[order(-classif.acc)]\n\n      nr  task_id learner_id resampling_id iters classif.acc\n   &lt;int&gt;   &lt;char&gt;     &lt;char&gt;        &lt;char&gt; &lt;int&gt;       &lt;num&gt;\n1:     2 penguins   éšæœºæ£®æ—            cv     5   0.9910448\n2:     3 penguins        KNN            cv     5   0.9909995\n3:     4 penguins æœ´ç´ è´å¶æ–¯            cv     5   0.9819539\n4:     1 penguins     å†³ç­–æ ‘            cv     5   0.9399367\nHidden columns: resample_result",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬ä¸ƒéƒ¨åˆ†tuningè¶…å‚æ•°è°ƒä¼˜",
    "href": "1016-mlr3.html#ç¬¬ä¸ƒéƒ¨åˆ†tuningè¶…å‚æ•°è°ƒä¼˜",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šTuningï¼ˆè¶…å‚æ•°è°ƒä¼˜ï¼‰",
    "text": "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šTuningï¼ˆè¶…å‚æ•°è°ƒä¼˜ï¼‰\n\nå®šä¹‰æœç´¢ç©ºé—´\n\n# éšæœºæ£®æ—çš„å‚æ•°ç©ºé—´\nlearner_rf_tune &lt;- lrn(\"classif.ranger\")\n\nsearch_space &lt;- ps(\n  num.trees = p_int(lower = 50, upper = 500),\n  mtry = p_int(lower = 1, upper = 4),\n  min.node.size = p_int(lower = 1, upper = 10)\n)\n\nsearch_space\n\n&lt;ParamSet(3)&gt;\n              id    class lower upper nlevels        default  value\n          &lt;char&gt;   &lt;char&gt; &lt;num&gt; &lt;num&gt;   &lt;num&gt;         &lt;list&gt; &lt;list&gt;\n1:     num.trees ParamInt    50   500     451 &lt;NoDefault[0]&gt; [NULL]\n2:          mtry ParamInt     1     4       4 &lt;NoDefault[0]&gt; [NULL]\n3: min.node.size ParamInt     1    10      10 &lt;NoDefault[0]&gt; [NULL]\n\n\n\n\nç½‘æ ¼æœç´¢\n\n# åˆ›å»ºè°ƒä¼˜å®ä¾‹ï¼ˆæ–°ç‰ˆ mlr3tuning ä½¿ç”¨ ti() å‡½æ•°ï¼‰\ninstance &lt;- ti(\n  task = task_penguins,\n  learner = learner_rf_tune,\n  resampling = rsmp(\"cv\", folds = 3),\n  measures = msr(\"classif.acc\"),\n  search_space = search_space,\n  terminator = trm(\"evals\", n_evals = 20)\n)\n\n# ç½‘æ ¼æœç´¢è°ƒä¼˜å™¨\ntuner &lt;- tnr(\"grid_search\", resolution = 3)\n\n# æ‰§è¡Œè°ƒä¼˜\ntuner$optimize(instance)\n\n   num.trees  mtry min.node.size learner_param_vals  x_domain classif.acc\n       &lt;int&gt; &lt;int&gt;         &lt;int&gt;             &lt;list&gt;    &lt;list&gt;       &lt;num&gt;\n1:       275     1             1          &lt;list[4]&gt; &lt;list[3]&gt;    0.990991\n\n\n\n\næŸ¥çœ‹è°ƒä¼˜ç»“æœ\n\n# æœ€ä¼˜å‚æ•°\ninstance$result_learner_param_vals\n\n$num.threads\n[1] 1\n\n$num.trees\n[1] 275\n\n$mtry\n[1] 1\n\n$min.node.size\n[1] 1\n\n# æœ€ä¼˜æ€§èƒ½\ninstance$result_y\n\nclassif.acc \n   0.990991 \n\n\n\n\nè°ƒä¼˜å†å²å¯è§†åŒ–\n\n# æå–è°ƒä¼˜å†å²\narchive &lt;- as.data.table(instance$archive)\n\nggplot(archive, aes(x = seq_len(nrow(archive)), y = classif.acc)) +\n  geom_line(color = \"#4f46e5\", linewidth = 0.8) +\n  geom_point(color = \"#4f46e5\", size = 2) +\n  geom_hline(yintercept = instance$result_y, \n             linetype = \"dashed\", color = \"red\") +\n  labs(\n    title = \"è¶…å‚æ•°è°ƒä¼˜è¿‡ç¨‹\",\n    subtitle = paste(\"æœ€ä¼˜å‡†ç¡®ç‡:\", round(instance$result_y, 4)),\n    x = \"è¿­ä»£æ¬¡æ•°\",\n    y = \"å‡†ç¡®ç‡\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨æœ€ä¼˜å‚æ•°è®­ç»ƒæœ€ç»ˆæ¨¡å‹\n\n# ç”¨æœ€ä¼˜å‚æ•°åˆ›å»ºå­¦ä¹ å™¨\nlearner_final &lt;- lrn(\"classif.ranger\")\nlearner_final$param_set$values &lt;- instance$result_learner_param_vals\n\n# åœ¨å…¨éƒ¨æ•°æ®ä¸Šè®­ç»ƒ\nlearner_final$train(task_penguins)\nlearner_final$model\n\nRanger result\n\nCall:\n ranger::ranger(dependent.variable.name = task$target_names, data = task$data(),      probability = self$predict_type == \"prob\", min.node.size = 1L,      mtry = 1L, num.threads = 1L, num.trees = 275L) \n\nType:                             Classification \nNumber of trees:                  275 \nSample size:                      333 \nNumber of independent variables:  7 \nMtry:                             1 \nTarget node size:                 1 \nVariable importance mode:         none \nSplitrule:                        gini \nOOB prediction error:             1.20 % \n\n\n\n\néšæœºæœç´¢\n\n# éšæœºæœç´¢ï¼ˆæ›´é€‚åˆå¤§æœç´¢ç©ºé—´ï¼‰\ntuner_random &lt;- tnr(\"random_search\")\ntuner_random$optimize(instance)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬å…«éƒ¨åˆ†pipelineé¢„å¤„ç†ç®¡é“",
    "href": "1016-mlr3.html#ç¬¬å…«éƒ¨åˆ†pipelineé¢„å¤„ç†ç®¡é“",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬å…«éƒ¨åˆ†ï¼šPipelineï¼ˆé¢„å¤„ç†ç®¡é“ï¼‰",
    "text": "ç¬¬å…«éƒ¨åˆ†ï¼šPipelineï¼ˆé¢„å¤„ç†ç®¡é“ï¼‰\nmlr3pipelines æä¾›äº†çµæ´»çš„æ•°æ®é¢„å¤„ç†èƒ½åŠ›ã€‚\n\næŸ¥çœ‹å¯ç”¨æ“ä½œ\n\n# å¸¸ç”¨é¢„å¤„ç†æ“ä½œ\nas.data.table(mlr_pipeops)[, .(key, packages)] |&gt; head(15)\n\nKey: &lt;key&gt;\n                key                    packages\n             &lt;char&gt;                      &lt;list&gt;\n 1:            adas   mlr3pipelines,smotefamily\n 2:         blsmote   mlr3pipelines,smotefamily\n 3:          boxcox mlr3pipelines,bestNormalize\n 4:          branch               mlr3pipelines\n 5:           chunk               mlr3pipelines\n 6:  classbalancing               mlr3pipelines\n 7:      classifavg         mlr3pipelines,stats\n 8:    classweights               mlr3pipelines\n 9:        colapply               mlr3pipelines\n10: collapsefactors               mlr3pipelines\n11:        colroles               mlr3pipelines\n12:            copy               mlr3pipelines\n13:    datefeatures               mlr3pipelines\n14:          decode               mlr3pipelines\n15:          encode         mlr3pipelines,stats\n\n\n\n\nåˆ›å»ºé¢„å¤„ç†æ­¥éª¤\n\n# ç¼ºå¤±å€¼å¡«å……\npo_impute &lt;- po(\"imputemedian\")\n\n# æ ‡å‡†åŒ–\npo_scale &lt;- po(\"scale\")\n\n# ç‹¬çƒ­ç¼–ç \npo_encode &lt;- po(\"encode\")\n\n\n\næ„å»ºç®¡é“\n\n# åˆ›å»ºå®Œæ•´ç®¡é“ï¼šå¡«å…… â†’ ç¼–ç  â†’ æ ‡å‡†åŒ– â†’ éšæœºæ£®æ—\ngraph &lt;- po(\"imputemedian\") %&gt;&gt;%\n  po(\"encode\") %&gt;&gt;%\n  po(\"scale\") %&gt;&gt;%\n  lrn(\"classif.ranger\", num.trees = 100)\n\n# è½¬æ¢ä¸ºå­¦ä¹ å™¨\ngraph_learner &lt;- as_learner(graph)\ngraph_learner$id &lt;- \"pipeline_rf\"\n\ngraph_learner\n\n\nâ”€â”€ &lt;GraphLearner&gt; (pipeline_rf) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâ€¢ Model: -\nâ€¢ Parameters: encode.method=one-hot, scale.robust=FALSE,\nclassif.ranger.num.threads=1, classif.ranger.num.trees=100\nâ€¢ Validate: NULL\nâ€¢ Packages: mlr3, mlr3pipelines, stats, mlr3learners, and ranger\nâ€¢ Predict Types: [response] and prob\nâ€¢ Feature Types: logical, integer, numeric, character, factor, ordered,\nPOSIXct, and Date\nâ€¢ Encapsulation: none (fallback: -)\nâ€¢ Properties: featureless, hotstart_backward, hotstart_forward, importance,\nmarshal, missings, multiclass, offset, oob_error, selected_features, twoclass,\nand weights\nâ€¢ Other settings: use_weights = 'use'\n\n\n\n\nä½¿ç”¨ç®¡é“è®­ç»ƒ\n\n# ä½¿ç”¨åŸå§‹æ•°æ®ï¼ˆå«ç¼ºå¤±å€¼ï¼‰\ndata(\"penguins\", package = \"palmerpenguins\")\n\ntask_full &lt;- TaskClassif$new(\n  id = \"penguins_full\",\n  backend = penguins,\n  target = \"species\"\n)\n\n# äº¤å‰éªŒè¯\ncv5 &lt;- rsmp(\"cv\", folds = 5)\nrr_pipe &lt;- resample(task_full, graph_learner, cv5)\n\nrr_pipe$aggregate(msr(\"classif.acc\"))\n\nclassif.acc \n  0.9884058 \n\n\n\n\nå¯è§†åŒ–ç®¡é“ç»“æ„\n\n# ç®€å•ç®¡é“å¯è§†åŒ–\ngraph_simple &lt;- po(\"imputemedian\") %&gt;&gt;%\n  po(\"scale\") %&gt;&gt;%\n  lrn(\"classif.ranger\")\n\ngraph_simple$plot()\n\n\n\n\n\n\n\n\n\n\nåˆ†æ”¯ç®¡é“ï¼ˆæ¨¡å‹é€‰æ‹©ï¼‰\n\n# åˆ›å»ºåˆ†æ”¯ï¼šåŒæ—¶å°è¯•å¤šä¸ªæ¨¡å‹\ngraph_branch &lt;- po(\"imputemedian\") %&gt;&gt;%\n  po(\"encode\") %&gt;&gt;%\n  po(\"branch\", options = c(\"rf\", \"tree\", \"knn\")) %&gt;&gt;%\n  gunion(list(\n    rf = lrn(\"classif.ranger\", num.trees = 100),\n    tree = lrn(\"classif.rpart\"),\n    knn = lrn(\"classif.kknn\")\n  )) %&gt;&gt;%\n  po(\"unbranch\")\n\ngraph_branch\n\nGraph with 7 PipeOps:\n                  ID         State            sccssors           prdcssors\n              &lt;char&gt;        &lt;char&gt;              &lt;char&gt;              &lt;char&gt;\n        imputemedian &lt;&lt;UNTRAINED&gt;&gt;              encode                    \n              encode &lt;&lt;UNTRAINED&gt;&gt;              branch        imputemedian\n              branch &lt;&lt;UNTRAINED&gt;&gt; rf.classif.range...              encode\n rf.classif.range... &lt;&lt;UNTRAINED&gt;&gt;            unbranch              branch\n tree.classif.rpa... &lt;&lt;UNTRAINED&gt;&gt;            unbranch              branch\n    knn.classif.kknn &lt;&lt;UNTRAINED&gt;&gt;            unbranch              branch\n            unbranch &lt;&lt;UNTRAINED&gt;&gt;                     rf.classif.range...",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬ä¹éƒ¨åˆ†ç‰¹å¾å·¥ç¨‹",
    "href": "1016-mlr3.html#ç¬¬ä¹éƒ¨åˆ†ç‰¹å¾å·¥ç¨‹",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬ä¹éƒ¨åˆ†ï¼šç‰¹å¾å·¥ç¨‹",
    "text": "ç¬¬ä¹éƒ¨åˆ†ï¼šç‰¹å¾å·¥ç¨‹\n\nç‰¹å¾é€‰æ‹©\n\n# åŸºäºè¿‡æ»¤å™¨çš„ç‰¹å¾é€‰æ‹©\nlibrary(mlr3filters)\n\n# æŸ¥çœ‹å¯ç”¨è¿‡æ»¤å™¨\nas.data.table(mlr_filters)[, .(key, task_types, packages)]\n\nKey: &lt;key&gt;\n                  key   task_types          packages\n               &lt;char&gt;       &lt;list&gt;            &lt;list&gt;\n 1:             anova      classif             stats\n 2:               auc      classif      mlr3measures\n 3:            boruta regr,classif            Boruta\n 4:          carscore         regr              care\n 5:      carsurvscore         surv carSurv,mlr3proba\n 6:              cmim classif,regr           praznik\n 7:       correlation         regr             stats\n 8:              disr classif,regr           praznik\n 9:  find_correlation           NA             stats\n10:        importance      classif              mlr3\n11:  information_gain classif,regr     FSelectorRcpp\n12:               jmi classif,regr           praznik\n13:              jmim classif,regr           praznik\n14:      kruskal_test      classif             stats\n15:               mim classif,regr           praznik\n16:              mrmr classif,regr           praznik\n17:             njmim classif,regr           praznik\n18:       performance      classif mlr3,mlr3measures\n19:       permutation      classif mlr3,mlr3measures\n20:            relief classif,regr     FSelectorRcpp\n21: selected_features      classif              mlr3\n22:    univariate_cox         surv          survival\n23:          variance           NA             stats\n                  key   task_types          packages\n\n\n\n# ä½¿ç”¨éšæœºæ£®æ—å†…ç½®çš„ç‰¹å¾é‡è¦æ€§\nlearner_rf_imp &lt;- lrn(\"classif.ranger\", \n                      num.trees = 100,\n                      importance = \"impurity\")\nlearner_rf_imp$train(task_penguins)\n\n# æå–ç‰¹å¾é‡è¦æ€§\nimportance_scores &lt;- learner_rf_imp$model$variable.importance\nimportance_df &lt;- data.frame(\n  feature = names(importance_scores),\n  score = importance_scores\n)\nimportance_df\n\n                            feature      score\nbill_depth_mm         bill_depth_mm 43.1413318\nbill_length_mm       bill_length_mm 75.3820546\nbody_mass_g             body_mass_g 21.1290406\nflipper_length_mm flipper_length_mm 47.9487795\nisland                       island 22.0412215\nsex                             sex  1.2935402\nyear                           year  0.6906693\n\n\n\n\nå¯è§†åŒ–ç‰¹å¾é‡è¦æ€§\n\nggplot(importance_df, aes(x = reorder(feature, score), y = score)) +\n  geom_col(fill = \"#4f46e5\", alpha = 0.8) +\n  coord_flip() +\n  labs(\n    title = \"ç‰¹å¾é‡è¦æ€§ï¼ˆéšæœºæ£®æ—ï¼‰\",\n    x = \"ç‰¹å¾\",\n    y = \"é‡è¦æ€§å¾—åˆ†\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(plot.title = element_text(hjust = 0.5, face = \"bold\"))\n\n\n\n\n\n\n\n\n\n\nåœ¨ç®¡é“ä¸­è¿›è¡Œç‰¹å¾é€‰æ‹©\n\n# ä½¿ç”¨ select æ“ä½œç¬¦é€‰æ‹©ç‰¹å®šç‰¹å¾\ngraph_fs &lt;- po(\"select\", \n               selector = selector_name(c(\"flipper_length_mm\", \"bill_length_mm\", \"bill_depth_mm\"))) %&gt;&gt;%\n  lrn(\"classif.ranger\", num.trees = 100)\n\ngraph_fs_learner &lt;- as_learner(graph_fs)\ngraph_fs_learner$id &lt;- \"fs_rf\"\n\n# è¯„ä¼°\nrr_fs &lt;- resample(task_penguins, graph_fs_learner, rsmp(\"cv\", folds = 5))\nrr_fs$aggregate(msr(\"classif.acc\"))\n\nclassif.acc \n  0.9819539",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#ç¬¬åéƒ¨åˆ†å®Œæ•´å®æˆ˜æ¡ˆä¾‹",
    "href": "1016-mlr3.html#ç¬¬åéƒ¨åˆ†å®Œæ•´å®æˆ˜æ¡ˆä¾‹",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "ç¬¬åéƒ¨åˆ†ï¼šå®Œæ•´å®æˆ˜æ¡ˆä¾‹",
    "text": "ç¬¬åéƒ¨åˆ†ï¼šå®Œæ•´å®æˆ˜æ¡ˆä¾‹\n\næ¡ˆä¾‹ï¼šä¼é¹…ç‰©ç§åˆ†ç±»\n\n# 1. å‡†å¤‡æ•°æ®\ndata(\"penguins\", package = \"palmerpenguins\")\n\ntask &lt;- TaskClassif$new(\n  id = \"penguin_classification\",\n  backend = penguins,\n  target = \"species\"\n)\n\n# 2. æ„å»ºé¢„å¤„ç†ç®¡é“\n# æ³¨æ„ï¼šå…ˆç”¨ä¼—æ•°å¡«å……å› å­ç¼ºå¤±å€¼ï¼Œå†ç”¨ä¸­ä½æ•°å¡«å……æ•°å€¼ç¼ºå¤±å€¼\npreprocess &lt;- po(\"imputemode\") %&gt;&gt;%       # å¡«å……å› å­ç¼ºå¤±å€¼ï¼ˆå¦‚ sexï¼‰\n  po(\"imputemedian\") %&gt;&gt;%                  # å¡«å……æ•°å€¼ç¼ºå¤±å€¼\n  po(\"encode\") %&gt;&gt;%\n  po(\"scale\")\n\n# 3. å®šä¹‰å€™é€‰æ¨¡å‹\nlearners &lt;- list(\n  å†³ç­–æ ‘ = preprocess %&gt;&gt;% lrn(\"classif.rpart\"),\n  éšæœºæ£®æ— = preprocess %&gt;&gt;% lrn(\"classif.ranger\", num.trees = 200),\n  KNN = preprocess %&gt;&gt;% lrn(\"classif.kknn\", k = 5),\n  æœ´ç´ è´å¶æ–¯ = preprocess %&gt;&gt;% lrn(\"classif.naive_bayes\")\n)\n\n# è½¬æ¢ä¸ºå­¦ä¹ å™¨\ngraph_learners &lt;- lapply(names(learners), function(name) {\n  gl &lt;- as_learner(learners[[name]])\n  gl$id &lt;- name\n  gl\n})\n\n# 4. åŸºå‡†æµ‹è¯•\ndesign &lt;- benchmark_grid(\n  tasks = task,\n  learners = graph_learners,\n  resamplings = rsmp(\"repeated_cv\", folds = 5, repeats = 3)\n)\n\nbmr &lt;- benchmark(design)\n\n\n\nç»“æœæ±‡æ€»\n\n# æ±‡æ€»ç»Ÿè®¡\nresults &lt;- bmr$aggregate(msrs(c(\"classif.acc\", \"classif.ce\")))\nresults[order(-classif.acc)]\n\n      nr                task_id learner_id resampling_id iters classif.acc\n   &lt;int&gt;                 &lt;char&gt;     &lt;char&gt;        &lt;char&gt; &lt;int&gt;       &lt;num&gt;\n1:     2 penguin_classification   éšæœºæ£®æ—   repeated_cv    15   0.9874112\n2:     3 penguin_classification        KNN   repeated_cv    15   0.9835180\n3:     1 penguin_classification     å†³ç­–æ ‘   repeated_cv    15   0.9418869\n4:     4 penguin_classification æœ´ç´ è´å¶æ–¯   repeated_cv    15   0.7684854\n   classif.ce\n        &lt;num&gt;\n1: 0.01258880\n2: 0.01648196\n3: 0.05811310\n4: 0.23151463\nHidden columns: resample_result\n\n\n\n\nå¯è§†åŒ–æœ€ç»ˆç»“æœ\n\nscores_final &lt;- bmr$score(msr(\"classif.acc\"))\n\nggplot(scores_final, aes(x = learner_id, y = classif.acc, fill = learner_id)) +\n  geom_boxplot(alpha = 0.8, outlier.shape = NA) +\n  geom_jitter(width = 0.2, alpha = 0.5, size = 1) +\n  scale_fill_manual(values = c(\"#4f46e5\", \"#10b981\", \"#f59e0b\", \"#ef4444\")) +\n  labs(\n    title = \"ä¼é¹…ç‰©ç§åˆ†ç±» - æ¨¡å‹æ¯”è¾ƒ\",\n    subtitle = \"5æŠ˜äº¤å‰éªŒè¯ Ã— 3æ¬¡é‡å¤\",\n    x = \"æ¨¡å‹\",\n    y = \"å‡†ç¡®ç‡\"\n  ) +\n  theme_bw(base_size = 12) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  ) +\n  ylim(0.9, 1.0)\n\n\n\n\n\n\n\n\n\n\né€‰æ‹©æœ€ä¼˜æ¨¡å‹å¹¶è°ƒå‚\n\n# å¯¹æœ€ä¼˜æ¨¡å‹ï¼ˆéšæœºæ£®æ—ï¼‰è¿›è¡Œè°ƒå‚\nlearner_best &lt;- as_learner(\n  preprocess %&gt;&gt;% lrn(\"classif.ranger\")\n)\n\nsearch_space &lt;- ps(\n  classif.ranger.num.trees = p_int(100, 500),\n  classif.ranger.mtry = p_int(1, 4),\n  classif.ranger.min.node.size = p_int(1, 10)\n)\n\ninstance &lt;- ti(\n  task = task,\n  learner = learner_best,\n  resampling = rsmp(\"cv\", folds = 5),\n  measures = msr(\"classif.acc\"),\n  search_space = search_space,\n  terminator = trm(\"evals\", n_evals = 30)\n)\n\ntuner &lt;- tnr(\"random_search\")\ntuner$optimize(instance)\n\n   classif.ranger.num.trees classif.ranger.mtry classif.ranger.min.node.size\n                      &lt;int&gt;               &lt;int&gt;                        &lt;int&gt;\n1:                      455                   2                            3\n   learner_param_vals  x_domain classif.acc\n               &lt;list&gt;    &lt;list&gt;       &lt;num&gt;\n1:          &lt;list[6]&gt; &lt;list[3]&gt;   0.9912617\n\n# æœ€ä¼˜å‚æ•°\ninstance$result_learner_param_vals\n\n$encode.method\n[1] \"one-hot\"\n\n$scale.robust\n[1] FALSE\n\n$classif.ranger.num.threads\n[1] 1\n\n$classif.ranger.num.trees\n[1] 455\n\n$classif.ranger.mtry\n[1] 2\n\n$classif.ranger.min.node.size\n[1] 3\n\n# æœ€ä¼˜æ€§èƒ½\ninstance$result_y\n\nclassif.acc \n  0.9912617",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "href": "1016-mlr3.html#å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "å¸¸ç”¨ä»£ç é€ŸæŸ¥",
    "text": "å¸¸ç”¨ä»£ç é€ŸæŸ¥\n\nåˆ›å»ºä»»åŠ¡\n\n# åˆ†ç±»ä»»åŠ¡\ntask &lt;- TaskClassif$new(id, backend, target)\n\n# å›å½’ä»»åŠ¡\ntask &lt;- TaskRegr$new(id, backend, target)\n\n# å†…ç½®ä»»åŠ¡\ntask &lt;- tsk(\"iris\")\n\n\n\nåˆ›å»ºå­¦ä¹ å™¨\n\n# åŸºç¡€è¯­æ³•\nlearner &lt;- lrn(\"classif.ranger\", num.trees = 100)\n\n# è®¾ç½®é¢„æµ‹ç±»å‹\nlearner$predict_type &lt;- \"prob\"\n\n\n\nè®­ç»ƒä¸é¢„æµ‹\n\n# è®­ç»ƒ\nlearner$train(task, row_ids = train_ids)\n\n# é¢„æµ‹\nprediction &lt;- learner$predict(task, row_ids = test_ids)\n\n# è¯„ä¼°\nprediction$score(msr(\"classif.acc\"))\n\n\n\né‡é‡‡æ ·\n\n# äº¤å‰éªŒè¯\nrr &lt;- resample(task, learner, rsmp(\"cv\", folds = 5))\nrr$aggregate(msr(\"classif.acc\"))\n\n\n\nåŸºå‡†æµ‹è¯•\n\ndesign &lt;- benchmark_grid(tasks, learners, resamplings)\nbmr &lt;- benchmark(design)\nbmr$aggregate(measures)\n\n\n\nè°ƒå‚\n\n# å®šä¹‰æœç´¢ç©ºé—´\nsearch_space &lt;- ps(\n  param1 = p_int(lower, upper),\n  param2 = p_dbl(lower, upper)\n)\n\n# è°ƒä¼˜ï¼ˆæ–°ç‰ˆä½¿ç”¨ ti() å‡½æ•°ï¼‰\ninstance &lt;- ti(task, learner, resampling, measures, search_space, terminator)\ntuner &lt;- tnr(\"grid_search\")\ntuner$optimize(instance)",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1016-mlr3.html#æ€»ç»“",
    "href": "1016-mlr3.html#æ€»ç»“",
    "title": "mlr3 æœºå™¨å­¦ä¹ å…¨æµç¨‹æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\nmlr3 æä¾›äº†å®Œæ•´çš„æœºå™¨å­¦ä¹ å·¥ä½œæµï¼š\n\n\n\né˜¶æ®µ\nç»„ä»¶\nåŠŸèƒ½\n\n\n\n\næ•°æ®å‡†å¤‡\nTask\nå°è£…æ•°æ®å’Œç›®æ ‡\n\n\nå»ºæ¨¡\nLearner\nå°è£…ç®—æ³•\n\n\nè¯„ä¼°\nMeasure\nå®šä¹‰è¯„ä¼°æŒ‡æ ‡\n\n\néªŒè¯\nResampling\näº¤å‰éªŒè¯ç­‰\n\n\næ¯”è¾ƒ\nBenchmark\nå¤šæ¨¡å‹å¯¹æ¯”\n\n\nè°ƒå‚\nTuning\nè¶…å‚æ•°ä¼˜åŒ–\n\n\né¢„å¤„ç†\nPipeline\næ•°æ®è½¬æ¢æµç¨‹\n\n\n\n\næ¨èå­¦ä¹ èµ„æº\n\nmlr3 å®˜æ–¹æ–‡æ¡£\nmlr3 book\nmlr3 gallery\n\n\n\nä¸å…¶ä»–æ¡†æ¶å¯¹æ¯”\n\n\n\nç‰¹æ€§\nmlr3\ncaret\ntidymodels\n\n\n\n\nè®¾è®¡\nR6 OOP\nS3 å‡½æ•°å¼\ntidy å‡½æ•°å¼\n\n\nç®¡é“\nmlr3pipelines\nå†…ç½®\nrecipes\n\n\næ‰©å±•æ€§\né«˜\nä¸­\né«˜\n\n\nå­¦ä¹ æ›²çº¿\nä¸­ç­‰\nä½\nä¸­ç­‰\n\n\nå¹¶è¡Œæ”¯æŒ\nåŸç”Ÿ\néœ€é…ç½®\nåŸç”Ÿ",
    "crumbs": [
      "ä¸»é¡µ",
      "R è¯­è¨€æ–¹æ³•",
      "mlr3 æœºå™¨å­¦ä¹ "
    ]
  },
  {
    "objectID": "1017-timeseries.html",
    "href": "1017-timeseries.html",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "",
    "text": "æ—¶é—´åºåˆ—åˆ†ææ˜¯ç ”ç©¶æŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„æ•°æ®è§„å¾‹çš„æ–¹æ³•ï¼Œå¹¿æ³›åº”ç”¨äºç»æµé¢„æµ‹ã€æ°”è±¡åˆ†æã€é”€å”®é¢„ä¼°ç­‰é¢†åŸŸã€‚"
  },
  {
    "objectID": "1017-timeseries.html#åŸºç¡€æ¦‚å¿µ",
    "href": "1017-timeseries.html#åŸºç¡€æ¦‚å¿µ",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "åŸºç¡€æ¦‚å¿µ",
    "text": "åŸºç¡€æ¦‚å¿µ\n\nlibrary(forecast)   # æ—¶é—´åºåˆ—é¢„æµ‹æ ¸å¿ƒåŒ…\nlibrary(ggplot2)\nlibrary(patchwork)\n\n# ä½¿ç”¨ç»å…¸èˆªç©ºä¹˜å®¢æ•°æ®\ndata &lt;- AirPassengers  # 1949-1960å¹´æœˆåº¦ä¹˜å®¢æ•°ï¼ˆåƒäººï¼‰\ndata\n\n     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n1949 112 118 132 129 121 135 148 148 136 119 104 118\n1950 115 126 141 135 125 149 170 170 158 133 114 140\n1951 145 150 178 163 172 178 199 199 184 162 146 166\n1952 171 180 193 181 183 218 230 242 209 191 172 194\n1953 196 196 236 235 229 243 264 272 237 211 180 201\n1954 204 188 235 227 234 264 302 293 259 229 203 229\n1955 242 233 267 269 270 315 364 347 312 274 237 278\n1956 284 277 317 313 318 374 413 405 355 306 271 306\n1957 315 301 356 348 355 422 465 467 404 347 305 336\n1958 340 318 362 348 363 435 491 505 404 359 310 337\n1959 360 342 406 396 420 472 548 559 463 407 362 405\n1960 417 391 419 461 472 535 622 606 508 461 390 432\n\n\næ—¶é—´åºåˆ—çš„ä¸‰ä¸ªæ ¸å¿ƒæˆåˆ†ï¼š\n\nè¶‹åŠ¿ (Trend)ï¼šé•¿æœŸä¸Šå‡æˆ–ä¸‹é™çš„æ¨¡å¼\nå­£èŠ‚æ€§ (Seasonality)ï¼šå›ºå®šå‘¨æœŸçš„é‡å¤æ³¢åŠ¨\næ®‹å·® (Residual)ï¼šå»é™¤è¶‹åŠ¿å’Œå­£èŠ‚æ€§åçš„éšæœºæˆåˆ†"
  },
  {
    "objectID": "1017-timeseries.html#æ—¶åºåˆ†è§£",
    "href": "1017-timeseries.html#æ—¶åºåˆ†è§£",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ—¶åºåˆ†è§£",
    "text": "æ—¶åºåˆ†è§£\nå°†æ—¶é—´åºåˆ—åˆ†è§£ä¸ºè¶‹åŠ¿ã€å­£èŠ‚å’Œæ®‹å·®ä¸‰éƒ¨åˆ†ï¼š\n\n# STLåˆ†è§£ï¼šæ›´çµæ´»çš„ç°ä»£æ–¹æ³•\nstl(data, s.window = \"periodic\") |&gt; \n  autoplot() + \n  theme_minimal() +\n  labs(title = \"èˆªç©ºä¹˜å®¢æ•°æ®çš„STLåˆ†è§£\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nåˆ†è§£ç±»å‹é€‰æ‹©ï¼š\n\nåŠ æ³•æ¨¡å‹ï¼š\\(Y = T + S + R\\)ï¼ˆæ³¢åŠ¨å¹…åº¦ç¨³å®šï¼‰\nä¹˜æ³•æ¨¡å‹ï¼š\\(Y = T \\times S \\times R\\)ï¼ˆæ³¢åŠ¨éšè¶‹åŠ¿å¢å¤§ï¼Œå¦‚æœ¬ä¾‹ï¼‰"
  },
  {
    "objectID": "1017-timeseries.html#å¹³ç¨³æ€§æ£€éªŒ",
    "href": "1017-timeseries.html#å¹³ç¨³æ€§æ£€éªŒ",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å¹³ç¨³æ€§æ£€éªŒ",
    "text": "å¹³ç¨³æ€§æ£€éªŒ\nARIMAæ¨¡å‹è¦æ±‚åºåˆ—å¹³ç¨³ã€‚ä½¿ç”¨ADFæ£€éªŒåˆ¤æ–­ï¼š\n\nlibrary(tseries)\n\n# åŸå§‹åºåˆ—ï¼šéå¹³ç¨³\nadf.test(data)  # p &gt; 0.05 â†’ éå¹³ç¨³\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  data\nDickey-Fuller = -7.3186, Lag order = 5, p-value = 0.01\nalternative hypothesis: stationary\n\n# ä¸€é˜¶å·®åˆ†åï¼šå¹³ç¨³\nadf.test(diff(data))  # p &lt; 0.05 â†’ å¹³ç¨³\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  diff(data)\nDickey-Fuller = -7.0177, Lag order = 5, p-value = 0.01\nalternative hypothesis: stationary\n\n\nå·®åˆ†å¯æ¶ˆé™¤è¶‹åŠ¿ï¼Œä½¿åºåˆ—å¹³ç¨³ï¼š\n\n# å¯¹æ¯”åŸå§‹ä¸å·®åˆ†åçš„åºåˆ—\np1 &lt;- autoplot(data) + labs(title = \"åŸå§‹åºåˆ—\", y = \"ä¹˜å®¢æ•°\")\np2 &lt;- autoplot(diff(data)) + labs(title = \"ä¸€é˜¶å·®åˆ†å\", y = \"å·®åˆ†å€¼\")\np1 / p2 & theme_minimal()"
  },
  {
    "objectID": "1017-timeseries.html#arimaæ¨¡å‹",
    "href": "1017-timeseries.html#arimaæ¨¡å‹",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "ARIMAæ¨¡å‹",
    "text": "ARIMAæ¨¡å‹\nARIMA(p,d,q) æ˜¯æœ€å¸¸ç”¨çš„æ—¶é—´åºåˆ—æ¨¡å‹ï¼š\n\npï¼šè‡ªå›å½’é˜¶æ•°ï¼ˆARï¼‰\ndï¼šå·®åˆ†æ¬¡æ•°\nqï¼šç§»åŠ¨å¹³å‡é˜¶æ•°ï¼ˆMAï¼‰\n\n\n# è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å‚æ•°ï¼ˆåŸºäºAICå‡†åˆ™ï¼‰\nfit &lt;- auto.arima(data)\nfit\n\nSeries: data \nARIMA(2,1,1)(0,1,0)[12] \n\nCoefficients:\n         ar1     ar2      ma1\n      0.5960  0.2143  -0.9819\ns.e.  0.0888  0.0880   0.0292\n\nsigma^2 = 132.3:  log likelihood = -504.92\nAIC=1017.85   AICc=1018.17   BIC=1029.35\n\n\n\næ¨¡å‹è¯Šæ–­\næ£€æŸ¥æ®‹å·®æ˜¯å¦ä¸ºç™½å™ªå£°ï¼š\n\ncheckresiduals(fit)  # æ®‹å·®åº”æ— è‡ªç›¸å…³ã€è¿‘ä¼¼æ­£æ€\n\n\n\n\n\n\n\n\n\n    Ljung-Box test\n\ndata:  Residuals from ARIMA(2,1,1)(0,1,0)[12]\nQ* = 37.784, df = 21, p-value = 0.01366\n\nModel df: 3.   Total lags used: 24"
  },
  {
    "objectID": "1017-timeseries.html#é¢„æµ‹",
    "href": "1017-timeseries.html#é¢„æµ‹",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "é¢„æµ‹",
    "text": "é¢„æµ‹\nä½¿ç”¨æ‹Ÿåˆæ¨¡å‹è¿›è¡Œæœªæ¥é¢„æµ‹ï¼š\n\n# é¢„æµ‹æœªæ¥2å¹´ï¼ˆ24ä¸ªæœˆï¼‰\nfc &lt;- forecast(fit, h = 24)\n\n# å¯è§†åŒ–ï¼šè“è‰²åŒºåŸŸä¸ºç½®ä¿¡åŒºé—´\nautoplot(fc) +\n  theme_minimal() +\n  labs(title = \"èˆªç©ºä¹˜å®¢æ•°é¢„æµ‹\", \n       subtitle = \"ARIMAæ¨¡å‹ + 80%/95%ç½®ä¿¡åŒºé—´\",\n       x = \"å¹´ä»½\", y = \"ä¹˜å®¢æ•°ï¼ˆåƒäººï¼‰\")"
  },
  {
    "objectID": "1017-timeseries.html#å­£èŠ‚æ€§arima",
    "href": "1017-timeseries.html#å­£èŠ‚æ€§arima",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å­£èŠ‚æ€§ARIMA",
    "text": "å­£èŠ‚æ€§ARIMA\nå¯¹äºæœ‰æ˜æ˜¾å­£èŠ‚æ¨¡å¼çš„æ•°æ®ï¼Œä½¿ç”¨SARIMAï¼š\n\n# å¼ºåˆ¶ä½¿ç”¨å­£èŠ‚æ€§æ¨¡å‹\nfit_seasonal &lt;- auto.arima(data, seasonal = TRUE, D = 1)\nfit_seasonal\n\nSeries: data \nARIMA(2,1,1)(0,1,0)[12] \n\nCoefficients:\n         ar1     ar2      ma1\n      0.5960  0.2143  -0.9819\ns.e.  0.0888  0.0880   0.0292\n\nsigma^2 = 132.3:  log likelihood = -504.92\nAIC=1017.85   AICc=1018.17   BIC=1029.35\n\n# é¢„æµ‹å¹¶å¯¹æ¯”\nforecast(fit_seasonal, h = 24) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"å­£èŠ‚æ€§ARIMAé¢„æµ‹\")"
  },
  {
    "objectID": "1017-timeseries.html#æŒ‡æ•°å¹³æ»‘æ³•",
    "href": "1017-timeseries.html#æŒ‡æ•°å¹³æ»‘æ³•",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æŒ‡æ•°å¹³æ»‘æ³•",
    "text": "æŒ‡æ•°å¹³æ»‘æ³•\nå¦ä¸€ç±»å¸¸ç”¨æ–¹æ³•ï¼Œé€‚åˆçŸ­æœŸé¢„æµ‹ï¼š\n\n# ETSè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å¹³æ»‘å‚æ•°\nets_fit &lt;- ets(data)\nets_fit  # M,A,M = ä¹˜æ³•è¯¯å·®ã€åŠ æ³•è¶‹åŠ¿ã€ä¹˜æ³•å­£èŠ‚\n\nETS(M,Ad,M) \n\nCall:\nets(y = data)\n\n  Smoothing parameters:\n    alpha = 0.7096 \n    beta  = 0.0204 \n    gamma = 1e-04 \n    phi   = 0.98 \n\n  Initial states:\n    l = 120.9939 \n    b = 1.7705 \n    s = 0.8944 0.7993 0.9217 1.0592 1.2203 1.2318\n           1.1105 0.9786 0.9804 1.011 0.8869 0.9059\n\n  sigma:  0.0392\n\n     AIC     AICc      BIC \n1395.166 1400.638 1448.623 \n\n# é¢„æµ‹\nforecast(ets_fit, h = 24) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"æŒ‡æ•°å¹³æ»‘é¢„æµ‹ (ETS)\")"
  },
  {
    "objectID": "1017-timeseries.html#æ¨¡å‹å¯¹æ¯”",
    "href": "1017-timeseries.html#æ¨¡å‹å¯¹æ¯”",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ¨¡å‹å¯¹æ¯”",
    "text": "æ¨¡å‹å¯¹æ¯”\nä½¿ç”¨äº¤å‰éªŒè¯æ¯”è¾ƒé¢„æµ‹å‡†ç¡®æ€§ï¼š\n\n# å–æœ€å2å¹´ä½œä¸ºæµ‹è¯•é›†\ntrain &lt;- window(data, end = c(1958, 12))\ntest &lt;- window(data, start = c(1959, 1))\n\n# è®­ç»ƒä¸¤ä¸ªæ¨¡å‹\nm1 &lt;- auto.arima(train)\nm2 &lt;- ets(train)\n\n# é¢„æµ‹å¹¶è®¡ç®—è¯¯å·®\nfc1 &lt;- forecast(m1, h = 24)\nfc2 &lt;- forecast(m2, h = 24)\n\n# å‡†ç¡®ç‡æŒ‡æ ‡\naccuracy(fc1, test)[2, c(\"RMSE\", \"MAE\", \"MAPE\")]\n\n    RMSE      MAE     MAPE \n74.25224 68.57729 14.92756 \n\naccuracy(fc2, test)[2, c(\"RMSE\", \"MAE\", \"MAPE\")]\n\n    RMSE      MAE     MAPE \n72.54791 63.21297 13.30345 \n\n\n\n\n\n\n\n\nNote\n\n\n\nå¸¸ç”¨è¯„ä¼°æŒ‡æ ‡ï¼š\n\nRMSEï¼šå‡æ–¹æ ¹è¯¯å·®ï¼ˆå¯¹å¤§è¯¯å·®æ•æ„Ÿï¼‰\nMAEï¼šå¹³å‡ç»å¯¹è¯¯å·®\nMAPEï¼šå¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®ï¼ˆå¯è§£é‡Šæ€§å¥½ï¼‰"
  },
  {
    "objectID": "1017-timeseries.html#å®æˆ˜é¢„æµ‹æœˆåº¦é”€å”®",
    "href": "1017-timeseries.html#å®æˆ˜é¢„æµ‹æœˆåº¦é”€å”®",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "å®æˆ˜ï¼šé¢„æµ‹æœˆåº¦é”€å”®",
    "text": "å®æˆ˜ï¼šé¢„æµ‹æœˆåº¦é”€å”®\n\n# æ¨¡æ‹Ÿé›¶å”®æ•°æ®\nset.seed(42)\nsales &lt;- ts(\n  100 + 1:60 * 2 +                    # ä¸Šå‡è¶‹åŠ¿\n  30 * sin(2 * pi * 1:60 / 12) +      # å­£èŠ‚æ€§\n  rnorm(60, sd = 10),                 # å™ªå£°\n  start = c(2020, 1), frequency = 12\n)\n\n# ä¸€è¡Œå®Œæˆï¼šå»ºæ¨¡ + é¢„æµ‹ + å¯è§†åŒ–\nsales |&gt; \n  auto.arima() |&gt; \n  forecast(h = 12) |&gt; \n  autoplot() +\n  theme_minimal() +\n  labs(title = \"æœˆåº¦é”€å”®é¢é¢„æµ‹\", x = \"å¹´ä»½\", y = \"é”€å”®é¢\")"
  },
  {
    "objectID": "1017-timeseries.html#æ€»ç»“",
    "href": "1017-timeseries.html#æ€»ç»“",
    "title": "æ—¶é—´åºåˆ—åˆ†æ",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\næ–¹æ³•\né€‚ç”¨åœºæ™¯\nå‡½æ•°\n\n\n\n\nSTLåˆ†è§£\nç†è§£æ•°æ®ç»“æ„\nstl()\n\n\nARIMA\né€šç”¨é¢„æµ‹\nauto.arima()\n\n\nSARIMA\nå¼ºå­£èŠ‚æ€§æ•°æ®\nauto.arima(seasonal=TRUE)\n\n\nETS\nçŸ­æœŸé¢„æµ‹ã€å¹³æ»‘\nets()\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nå®è·µå»ºè®®ï¼š\n\nå…ˆå¯è§†åŒ–ï¼Œç†è§£æ•°æ®ç‰¹å¾\næ£€éªŒå¹³ç¨³æ€§ï¼Œå¿…è¦æ—¶å·®åˆ†\nå¯¹æ¯”å¤šä¸ªæ¨¡å‹ï¼Œé€‰æ‹©æœ€ä¼˜\nå…³æ³¨ç½®ä¿¡åŒºé—´ï¼Œé¢„æµ‹æœ‰ä¸ç¡®å®šæ€§"
  },
  {
    "objectID": "2020-heatmap.html",
    "href": "2020-heatmap.html",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "",
    "text": "çƒ­å›¾æ˜¯å±•ç¤ºçŸ©é˜µæ•°æ®çš„å¼ºå¤§å·¥å…·ï¼Œå¹¿æ³›ç”¨äºåŸºå› è¡¨è¾¾ã€ç›¸å…³æ€§åˆ†æã€èšç±»ç»“æœå±•ç¤ºç­‰åœºæ™¯ã€‚æœ¬æ–‡ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå…¨é¢ä»‹ç» R è¯­è¨€çƒ­å›¾ç»‘åˆ¶ã€‚",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#çƒ­å›¾åŒ…æ¦‚è§ˆ",
    "href": "2020-heatmap.html#çƒ­å›¾åŒ…æ¦‚è§ˆ",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "çƒ­å›¾åŒ…æ¦‚è§ˆ",
    "text": "çƒ­å›¾åŒ…æ¦‚è§ˆ\n\n\n\nåŒ…å\nç‰¹ç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\n\npheatmap\nç®€å•æ˜“ç”¨ï¼Œè‡ªåŠ¨èšç±»\nå¿«é€Ÿå‡ºå›¾ã€åŸºç¡€éœ€æ±‚\n\n\nComplexHeatmap\nåŠŸèƒ½æœ€å¼ºå¤§ï¼Œå¯é«˜åº¦å®šåˆ¶\nå¤æ‚æ³¨é‡Šã€å¤šçƒ­å›¾ç»„åˆ\n\n\nheatmaply\näº¤äº’å¼çƒ­å›¾\nç½‘é¡µå±•ç¤ºã€æ•°æ®æ¢ç´¢\n\n\nggplot2 + geom_tile\nä¸ggplotç”Ÿæ€å…¼å®¹\nç®€å•çƒ­å›¾ã€è‡ªå®šä¹‰æ ·å¼",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#æ•°æ®å‡†å¤‡",
    "href": "2020-heatmap.html#æ•°æ®å‡†å¤‡",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "æ•°æ®å‡†å¤‡",
    "text": "æ•°æ®å‡†å¤‡\n\nlibrary(ComplexHeatmap)  # æœ€å¼ºå¤§çš„çƒ­å›¾åŒ…\nlibrary(circlize)        # é…è‰²å·¥å…·\nlibrary(RColorBrewer)    # ç»å…¸é…è‰²\nlibrary(viridis)         # ç°ä»£é…è‰²\n\n# æ¨¡æ‹ŸåŸºå› è¡¨è¾¾æ•°æ®ï¼š30ä¸ªåŸºå›  Ã— 20ä¸ªæ ·æœ¬\nset.seed(42)\nmat &lt;- matrix(rnorm(600), nrow = 30, ncol = 20)\nrownames(mat) &lt;- paste0(\"Gene\", 1:30)\ncolnames(mat) &lt;- paste0(\"Sample\", 1:20)\n\n# æ·»åŠ ä¸€äº›æ¨¡å¼ï¼ˆæ¨¡æ‹Ÿå·®å¼‚è¡¨è¾¾ï¼‰\nmat[1:10, 1:10] &lt;- mat[1:10, 1:10] + 3      # ç»„1é«˜è¡¨è¾¾\nmat[11:20, 11:20] &lt;- mat[11:20, 11:20] + 3  # ç»„2é«˜è¡¨è¾¾",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#åŸºç¡€çƒ­å›¾",
    "href": "2020-heatmap.html#åŸºç¡€çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "åŸºç¡€çƒ­å›¾",
    "text": "åŸºç¡€çƒ­å›¾\n\nComplexHeatmap åŸºç¡€\n\n# æœ€ç®€å•çš„çƒ­å›¾\nHeatmap(mat, name = \"è¡¨è¾¾é‡\")\n\n\n\n\n\n\n\n\n\n\nå…³é—­èšç±»\n\nHeatmap(mat, \n        name = \"è¡¨è¾¾é‡\",\n        cluster_rows = FALSE,    # å…³é—­è¡Œèšç±»\n        cluster_columns = FALSE) # å…³é—­åˆ—èšç±»",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#é…è‰²æ–¹æ¡ˆ",
    "href": "2020-heatmap.html#é…è‰²æ–¹æ¡ˆ",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "é…è‰²æ–¹æ¡ˆ",
    "text": "é…è‰²æ–¹æ¡ˆ\né…è‰²æ˜¯çƒ­å›¾æœ€é‡è¦çš„å…ƒç´ ä¹‹ä¸€ã€‚\n\nè¿ç»­å‹é…è‰²\n\n# è“-ç™½-çº¢ï¼ˆç»å…¸å·®å¼‚è¡¨è¾¾é…è‰²ï¼‰\ncol_bwr &lt;- colorRamp2(c(-3, 0, 3), c(\"blue\", \"white\", \"red\"))\n\n# ç´«-ç™½-æ©™ï¼ˆå¯¹æ¯”æ›´å¼ºï¼‰\ncol_pwo &lt;- colorRamp2(c(-3, 0, 3), c(\"purple\", \"white\", \"orange\"))\n\n# viridisï¼ˆè‰²ç›²å‹å¥½ï¼‰\ncol_viridis &lt;- colorRamp2(seq(-3, 3, length = 100), viridis(100))\n\n# å¯¹æ¯”å±•ç¤º\np1 &lt;- Heatmap(mat, name = \"è“ç™½çº¢\", col = col_bwr, \n              show_row_names = FALSE, show_column_names = FALSE)\np2 &lt;- Heatmap(mat, name = \"viridis\", col = col_viridis,\n              show_row_names = FALSE, show_column_names = FALSE)\np1 + p2\n\n\n\n\n\n\n\n\n\n\né¢„è®¾é…è‰²æ–¹æ¡ˆ\n\n# RColorBrewer è°ƒè‰²æ¿\ndisplay.brewer.all(type = \"div\")  # æŸ¥çœ‹åˆ†æ­§å‹è°ƒè‰²æ¿\n\n\n\n\n\n\n\n\n\n# ä½¿ç”¨ RColorBrewer\ncol_rdbu &lt;- colorRamp2(seq(-3, 3, length = 11), \n                       rev(brewer.pal(11, \"RdBu\")))\n\nHeatmap(mat, name = \"RdBu\", col = col_rdbu,\n        column_title = \"RColorBrewer: RdBu\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#èšç±»è®¾ç½®",
    "href": "2020-heatmap.html#èšç±»è®¾ç½®",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "èšç±»è®¾ç½®",
    "text": "èšç±»è®¾ç½®\n\nèšç±»æ–¹æ³•\n\n# ä¸åŒèšç±»æ–¹æ³•å¯¹æ¯”\nHeatmap(mat, name = \"ward.D2\",\n        clustering_method_rows = \"ward.D2\",    # Wardæ³•\n        clustering_method_columns = \"complete\", # å®Œå…¨è¿æ¥æ³•\n        column_title = \"Ward.D2 è¡Œèšç±» + Complete åˆ—èšç±»\")\n\n\n\n\n\n\n\n\nå¸¸ç”¨èšç±»æ–¹æ³•ï¼š\n\nward.D2ï¼šæ–¹å·®æœ€å°åŒ–ï¼Œäº§ç”Ÿç´§å‡‘èšç±»\ncompleteï¼šæœ€è¿œé‚»æ³•ï¼Œäº§ç”Ÿç´§å‡‘èšç±»\naverageï¼šå¹³å‡è¿æ¥æ³•ï¼ŒæŠ˜ä¸­é€‰æ‹©\nsingleï¼šæœ€è¿‘é‚»æ³•ï¼Œæ˜“äº§ç”Ÿé“¾å¼èšç±»\n\n\n\nè·ç¦»åº¦é‡\n\n# ä½¿ç”¨ç›¸å…³è·ç¦»ï¼ˆåŸºå› è¡¨è¾¾å¸¸ç”¨ï¼‰\nHeatmap(mat, name = \"ç›¸å…³è·ç¦»\",\n        clustering_distance_rows = \"pearson\",   # çš®å°”é€Šç›¸å…³\n        clustering_distance_columns = \"spearman\", # æ–¯çš®å°”æ›¼ç›¸å…³\n        column_title = \"åŸºäºç›¸å…³æ€§çš„èšç±»\")\n\n\n\n\n\n\n\n\nè·ç¦»é€‰é¡¹ï¼šeuclidean, pearson, spearman, kendall, manhattan\n\n\næ ‘çŠ¶å›¾ç¾åŒ–\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\",\n        row_dend_width = unit(2, \"cm\"),      # è¡Œæ ‘çŠ¶å›¾å®½åº¦\n        column_dend_height = unit(2, \"cm\"),  # åˆ—æ ‘çŠ¶å›¾é«˜åº¦\n        row_dend_gp = gpar(col = \"#4f46e5\"), # æ ‘çŠ¶å›¾é¢œè‰²\n        column_dend_gp = gpar(col = \"#ef4444\", lwd = 2))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#è¡Œåˆ—æ³¨é‡Š",
    "href": "2020-heatmap.html#è¡Œåˆ—æ³¨é‡Š",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "è¡Œåˆ—æ³¨é‡Š",
    "text": "è¡Œåˆ—æ³¨é‡Š\næ³¨é‡Šæ˜¯ ComplexHeatmap æœ€å¼ºå¤§çš„åŠŸèƒ½ã€‚\n\nç®€å•æ³¨é‡Š\n\n# æ ·æœ¬åˆ†ç»„æ³¨é‡Š\nsample_group &lt;- rep(c(\"Treatment\", \"Control\"), each = 10)\ngene_cluster &lt;- rep(c(\"Cluster1\", \"Cluster2\", \"Cluster3\"), each = 10)\n\n# é¡¶éƒ¨æ³¨é‡Š\ntop_anno &lt;- HeatmapAnnotation(\n  Group = sample_group,\n  col = list(Group = c(\"Treatment\" = \"#e63946\", \"Control\" = \"#457b9d\"))\n)\n\n# å·¦ä¾§æ³¨é‡Š\nleft_anno &lt;- rowAnnotation(\n  Cluster = gene_cluster,\n  col = list(Cluster = c(\"Cluster1\" = \"#f4a261\", \n                         \"Cluster2\" = \"#2a9d8f\", \n                         \"Cluster3\" = \"#264653\"))\n)\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\",\n        top_annotation = top_anno,\n        left_annotation = left_anno)\n\n\n\n\n\n\n\n\n\n\nå¤šç±»å‹æ³¨é‡Š\n\n# ä¸°å¯Œçš„æ³¨é‡Šç±»å‹\nset.seed(42)\ntop_anno &lt;- HeatmapAnnotation(\n  # åˆ†ç±»å˜é‡\n  Group = sample_group,\n  # è¿ç»­å˜é‡ï¼ˆæ¡å½¢å›¾ï¼‰\n  Age = anno_barplot(runif(20, 20, 60), height = unit(1, \"cm\")),\n  # è¿ç»­å˜é‡ï¼ˆç‚¹å›¾ï¼‰\n  Score = anno_points(rnorm(20, 50, 10)),\n  # è‡ªå®šä¹‰é¢œè‰²\n  col = list(Group = c(\"Treatment\" = \"#e63946\", \"Control\" = \"#457b9d\")),\n  # é—´è·\n  gap = unit(2, \"mm\")\n)\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\", \n        top_annotation = top_anno,\n        column_title = \"å¤šç±»å‹æ³¨é‡Šç¤ºä¾‹\")\n\n\n\n\n\n\n\n\n\n\nè¡Œæ³¨é‡Šï¼ˆå³ä¾§ï¼‰\n\n# åŸºå› åŠŸèƒ½æ³¨é‡Š\npathway &lt;- sample(c(\"Metabolism\", \"Signaling\", \"Cell Cycle\"), 30, replace = TRUE)\nlog2fc &lt;- rnorm(30, 0, 2)\n\nright_anno &lt;- rowAnnotation(\n  Pathway = pathway,\n  Log2FC = anno_barplot(log2fc, \n                        gp = gpar(fill = ifelse(log2fc &gt; 0, \"#e63946\", \"#457b9d\")),\n                        width = unit(2, \"cm\")),\n  col = list(Pathway = c(\"Metabolism\" = \"#f4a261\", \n                         \"Signaling\" = \"#2a9d8f\", \n                         \"Cell Cycle\" = \"#e9c46a\"))\n)\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\",\n        right_annotation = right_anno,\n        show_row_names = FALSE)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#åˆ†å‰²çƒ­å›¾",
    "href": "2020-heatmap.html#åˆ†å‰²çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "åˆ†å‰²çƒ­å›¾",
    "text": "åˆ†å‰²çƒ­å›¾\n\næŒ‰èšç±»åˆ†å‰²\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\",\n        row_split = 3,      # è¡Œåˆ†æˆ3ç»„\n        column_split = 2,   # åˆ—åˆ†æˆ2ç»„\n        row_title = \"åŸºå› ç»„ %s\",\n        column_title = \"æ ·æœ¬ç»„ %s\")\n\n\n\n\n\n\n\n\n\n\næŒ‰å˜é‡åˆ†å‰²\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\",\n        row_split = gene_cluster,\n        column_split = sample_group,\n        row_gap = unit(3, \"mm\"),\n        column_gap = unit(3, \"mm\"))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#çƒ­å›¾ç»„åˆ",
    "href": "2020-heatmap.html#çƒ­å›¾ç»„åˆ",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "çƒ­å›¾ç»„åˆ",
    "text": "çƒ­å›¾ç»„åˆ\nComplexHeatmap æ”¯æŒå¤šä¸ªçƒ­å›¾çš„çµæ´»ç»„åˆã€‚\n\n# å‡†å¤‡ç¬¬äºŒä¸ªæ•°æ®\nmat2 &lt;- matrix(rnorm(150), nrow = 30, ncol = 5)\ncolnames(mat2) &lt;- paste0(\"Feature\", 1:5)\nrownames(mat2) &lt;- rownames(mat)\n\n# æ°´å¹³ç»„åˆ\nht1 &lt;- Heatmap(mat, name = \"è¡¨è¾¾é‡\", col = col_bwr,\n               show_column_names = FALSE, width = unit(8, \"cm\"))\nht2 &lt;- Heatmap(mat2, name = \"ç‰¹å¾\", col = viridis(100),\n               width = unit(3, \"cm\"))\n\nht1 + ht2  # ä½¿ç”¨ + æ°´å¹³ç»„åˆ\n\n\n\n\n\n\n\n\n\nå‚ç›´ç»„åˆ\n\nmat3 &lt;- matrix(rnorm(200), nrow = 10, ncol = 20)\nrownames(mat3) &lt;- paste0(\"Protein\", 1:10)\ncolnames(mat3) &lt;- colnames(mat)\n\nht_main &lt;- Heatmap(mat, name = \"mRNA\", col = col_bwr,\n                   show_row_names = FALSE)\nht_protein &lt;- Heatmap(mat3, name = \"Protein\", col = col_bwr,\n                      height = unit(3, \"cm\"))\n\nht_main %v% ht_protein  # ä½¿ç”¨ %v% å‚ç›´ç»„åˆ",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#æ–‡å­—ä¸æ ‡ç­¾",
    "href": "2020-heatmap.html#æ–‡å­—ä¸æ ‡ç­¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "æ–‡å­—ä¸æ ‡ç­¾",
    "text": "æ–‡å­—ä¸æ ‡ç­¾\n\nè¡Œåˆ—åæ ·å¼\n\nHeatmap(mat[1:15, 1:10], name = \"è¡¨è¾¾é‡\",\n        # è¡Œåè®¾ç½®\n        row_names_side = \"left\",           # è¡Œåä½ç½®\n        row_names_gp = gpar(fontsize = 10, # å­—ä½“å¤§å°\n                           fontface = \"italic\", # æ–œä½“\n                           col = \"#333333\"),\n        # åˆ—åè®¾ç½®  \n        column_names_side = \"top\",\n        column_names_rot = 45,             # æ—‹è½¬è§’åº¦\n        column_names_gp = gpar(fontsize = 9))\n\n\n\n\n\n\n\n\n\n\nåœ¨å•å…ƒæ ¼å†…æ˜¾ç¤ºæ•°å€¼\n\nsmall_mat &lt;- mat[1:8, 1:6]\n\nHeatmap(small_mat, name = \"è¡¨è¾¾é‡\",\n        # æ˜¾ç¤ºæ•°å€¼\n        cell_fun = function(j, i, x, y, width, height, fill) {\n          grid.text(sprintf(\"%.1f\", small_mat[i, j]), x, y, \n                    gp = gpar(fontsize = 8, col = \"black\"))\n        })\n\n\n\n\n\n\n\n\n\n\nåªæ˜¾ç¤ºæ˜¾è‘—å€¼\n\n# åªåœ¨ |å€¼| &gt; 2 æ—¶æ˜¾ç¤º\nHeatmap(small_mat, name = \"è¡¨è¾¾é‡\",\n        cell_fun = function(j, i, x, y, width, height, fill) {\n          val &lt;- small_mat[i, j]\n          if (abs(val) &gt; 2) {\n            grid.text(sprintf(\"%.1f\", val), x, y,\n                      gp = gpar(fontsize = 8, \n                                col = ifelse(abs(val) &gt; 2.5, \"white\", \"black\"),\n                                fontface = \"bold\"))\n          }\n        })",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#å›¾ä¾‹å®šåˆ¶",
    "href": "2020-heatmap.html#å›¾ä¾‹å®šåˆ¶",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "å›¾ä¾‹å®šåˆ¶",
    "text": "å›¾ä¾‹å®šåˆ¶\n\nHeatmap(mat, name = \"è¡¨è¾¾é‡\", col = col_bwr,\n        # å›¾ä¾‹è®¾ç½®\n        heatmap_legend_param = list(\n          title = \"Log2 è¡¨è¾¾é‡\",\n          title_position = \"topleft\",\n          legend_height = unit(4, \"cm\"),\n          labels_gp = gpar(fontsize = 10),\n          title_gp = gpar(fontsize = 12, fontface = \"bold\"),\n          at = c(-3, 0, 3),        # åˆ»åº¦ä½ç½®\n          labels = c(\"ä½\", \"ä¸­\", \"é«˜\")  # åˆ»åº¦æ ‡ç­¾\n        ),\n        show_row_names = FALSE,\n        show_column_names = FALSE)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#pheatmap-å¿«é€Ÿå‡ºå›¾",
    "href": "2020-heatmap.html#pheatmap-å¿«é€Ÿå‡ºå›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "pheatmap å¿«é€Ÿå‡ºå›¾",
    "text": "pheatmap å¿«é€Ÿå‡ºå›¾\nå¦‚æœåªéœ€è¦å¿«é€Ÿå‡ºå›¾ï¼Œpheatmap æ›´ç®€æ´ï¼š\n\nlibrary(pheatmap)\n\n# ä¸€è¡Œä»£ç å¿«é€Ÿçƒ­å›¾\npheatmap(mat, \n         color = colorRampPalette(c(\"blue\", \"white\", \"red\"))(100),\n         scale = \"row\",                    # æŒ‰è¡Œæ ‡å‡†åŒ–\n         clustering_method = \"ward.D2\",\n         show_rownames = FALSE,\n         annotation_col = data.frame(\n           Group = sample_group,\n           row.names = colnames(mat)\n         ),\n         main = \"pheatmap å¿«é€Ÿçƒ­å›¾\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#ggplot2-çƒ­å›¾",
    "href": "2020-heatmap.html#ggplot2-çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "ggplot2 çƒ­å›¾",
    "text": "ggplot2 çƒ­å›¾\nå¯¹äºç®€å•çƒ­å›¾ï¼Œggplot2 ä¹Ÿæ˜¯å¥½é€‰æ‹©ï¼š\n\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(dplyr)\n\n# è½¬æ¢ä¸ºé•¿æ ¼å¼\nmat_long &lt;- mat[1:15, 1:10] |&gt; \n  as.data.frame() |&gt; \n  mutate(Gene = rownames(mat)[1:15]) |&gt; \n  pivot_longer(-Gene, names_to = \"Sample\", values_to = \"Expression\")\n\nggplot(mat_long, aes(x = Sample, y = Gene, fill = Expression)) +\n  geom_tile(color = \"white\", linewidth = 0.5) +\n  scale_fill_gradient2(low = \"#457b9d\", mid = \"white\", high = \"#e63946\",\n                       midpoint = 0, name = \"è¡¨è¾¾é‡\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(title = \"ggplot2 çƒ­å›¾\", x = NULL, y = NULL)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#ç›¸å…³æ€§çƒ­å›¾",
    "href": "2020-heatmap.html#ç›¸å…³æ€§çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "ç›¸å…³æ€§çƒ­å›¾",
    "text": "ç›¸å…³æ€§çƒ­å›¾\nå¸¸è§åº”ç”¨ï¼šå±•ç¤ºå˜é‡é—´ç›¸å…³æ€§ã€‚\n\n# è®¡ç®—ç›¸å…³çŸ©é˜µ\ncor_mat &lt;- cor(mat)\n\n# åªæ˜¾ç¤ºä¸‹ä¸‰è§’\ncor_mat[upper.tri(cor_mat)] &lt;- NA\n\nHeatmap(cor_mat, name = \"ç›¸å…³ç³»æ•°\",\n        col = colorRamp2(c(-1, 0, 1), c(\"#2166ac\", \"white\", \"#b2182b\")),\n        na_col = \"white\",  # NAæ˜¾ç¤ºä¸ºç™½è‰²\n        cluster_rows = FALSE,\n        cluster_columns = FALSE,\n        cell_fun = function(j, i, x, y, width, height, fill) {\n          val &lt;- cor_mat[i, j]\n          if (!is.na(val) && abs(val) &gt; 0.5) {\n            grid.text(sprintf(\"%.2f\", val), x, y, \n                      gp = gpar(fontsize = 6))\n          }\n        },\n        column_title = \"ç›¸å…³æ€§çƒ­å›¾ï¼ˆä¸‹ä¸‰è§’ï¼‰\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#å®æˆ˜åŸºå› è¡¨è¾¾çƒ­å›¾",
    "href": "2020-heatmap.html#å®æˆ˜åŸºå› è¡¨è¾¾çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "å®æˆ˜ï¼šåŸºå› è¡¨è¾¾çƒ­å›¾",
    "text": "å®æˆ˜ï¼šåŸºå› è¡¨è¾¾çƒ­å›¾\nå®Œæ•´çš„åŸºå› è¡¨è¾¾çƒ­å›¾ç¤ºä¾‹ï¼š\n\n# æ¨¡æ‹Ÿå®Œæ•´æ•°æ®\nset.seed(123)\nexpr_mat &lt;- matrix(rnorm(500), nrow = 50, ncol = 10)\nrownames(expr_mat) &lt;- paste0(\"Gene\", 1:50)\ncolnames(expr_mat) &lt;- paste0(\"S\", 1:10)\nexpr_mat[1:20, 1:5] &lt;- expr_mat[1:20, 1:5] + 2  # æ·»åŠ å·®å¼‚\n\n# æ ·æœ¬æ³¨é‡Š\nsample_info &lt;- data.frame(\n  Condition = rep(c(\"Case\", \"Control\"), each = 5),\n  Batch = rep(c(\"B1\", \"B2\"), 5)\n)\n\n# åŸºå› æ³¨é‡Š\ngene_info &lt;- data.frame(\n  Type = sample(c(\"Up\", \"Down\", \"NS\"), 50, replace = TRUE,\n                prob = c(0.3, 0.3, 0.4)),\n  Pathway = sample(c(\"KEGG1\", \"KEGG2\", \"KEGG3\"), 50, replace = TRUE)\n)\n\n# æ„å»ºå®Œæ•´çƒ­å›¾\nht &lt;- Heatmap(\n  expr_mat,\n  name = \"Z-score\",\n  col = colorRamp2(c(-2, 0, 2), c(\"#2166ac\", \"white\", \"#b2182b\")),\n  \n  # èšç±»\n  clustering_distance_rows = \"pearson\",\n  clustering_method_rows = \"ward.D2\",\n  row_split = 3,\n  column_split = sample_info$Condition,\n  \n  # æ³¨é‡Š\n  top_annotation = HeatmapAnnotation(\n    Condition = sample_info$Condition,\n    Batch = sample_info$Batch,\n    col = list(\n      Condition = c(\"Case\" = \"#e63946\", \"Control\" = \"#457b9d\"),\n      Batch = c(\"B1\" = \"#f4a261\", \"B2\" = \"#2a9d8f\")\n    ),\n    annotation_name_side = \"left\"\n  ),\n  \n  left_annotation = rowAnnotation(\n    Type = gene_info$Type,\n    col = list(Type = c(\"Up\" = \"#e63946\", \"Down\" = \"#457b9d\", \"NS\" = \"grey\"))\n  ),\n  \n  right_annotation = rowAnnotation(\n    Pathway = gene_info$Pathway,\n    col = list(Pathway = c(\"KEGG1\" = \"#264653\", \"KEGG2\" = \"#e9c46a\", \n                           \"KEGG3\" = \"#f4a261\"))\n  ),\n  \n  # å¤–è§‚\n  show_row_names = FALSE,\n  column_names_rot = 45,\n  row_title_gp = gpar(fontsize = 10),\n  column_title_gp = gpar(fontsize = 10),\n  \n  # å›¾ä¾‹\n  heatmap_legend_param = list(\n    title = \"Z-score\",\n    legend_height = unit(4, \"cm\")\n  )\n)\n\ndraw(ht, heatmap_legend_side = \"right\", annotation_legend_side = \"right\")",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#ä¿å­˜çƒ­å›¾",
    "href": "2020-heatmap.html#ä¿å­˜çƒ­å›¾",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "ä¿å­˜çƒ­å›¾",
    "text": "ä¿å­˜çƒ­å›¾\n\n# ä¿å­˜ä¸ºPDFï¼ˆæ¨èï¼ŒçŸ¢é‡æ ¼å¼ï¼‰\npdf(\"heatmap.pdf\", width = 10, height = 8)\ndraw(ht)\ndev.off()\n\n# ä¿å­˜ä¸ºPNG\npng(\"heatmap.png\", width = 10, height = 8, units = \"in\", res = 300)\ndraw(ht)\ndev.off()\n\n# ä½¿ç”¨ ComplexHeatmap å†…ç½®å‡½æ•°\nht &lt;- draw(ht)\nsave_pdf(ht, \"heatmap.pdf\", width = 10, height = 8)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2020-heatmap.html#æ€»ç»“",
    "href": "2020-heatmap.html#æ€»ç»“",
    "title": "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å—",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\n\n\n\nä»»åŠ¡\næ¨èæ–¹æ¡ˆ\n\n\n\n\nå¿«é€Ÿå‡ºå›¾\npheatmap\n\n\nå¤æ‚æ³¨é‡Š\nComplexHeatmap\n\n\näº¤äº’å¼\nheatmaply\n\n\nggplotç”Ÿæ€\ngeom_tile()\n\n\n\n\n\n\n\n\n\nTip\n\n\n\næœ€ä½³å®è·µï¼š\n\næ ‡å‡†åŒ–æ•°æ®ï¼ˆscale by row/columnï¼‰åå†ç»‘å›¾\né…è‰²é€‰æ‹©å¯¹æ¯”åº¦é«˜çš„å‘æ•£å‹è°ƒè‰²æ¿\nèšç±»å‰è€ƒè™‘æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„è·ç¦»å’Œæ–¹æ³•\næ³¨é‡Šè¦ç®€æ´æ˜äº†ï¼Œä¸è¦è¿‡åº¦å †ç Œ\nå¯¼å‡ºæ—¶ä½¿ç”¨çŸ¢é‡æ ¼å¼ï¼ˆPDFï¼‰ä¿è¯æ¸…æ™°åº¦",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "çƒ­å›¾ç»‘åˆ¶å®Œå…¨æŒ‡å— ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html",
    "href": "2021-cowplot.html",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "",
    "text": "cowplot æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œä¸“æ³¨äºï¼š\n\nä¸“ä¸šä¸»é¢˜ï¼šå‡ºç‰ˆçº§ç®€æ´ä¸»é¢˜\nå›¾å½¢ç»„åˆï¼šçµæ´»çš„å¤šå›¾æ’åˆ—\nå›¾å½¢åµŒå…¥ï¼šåœ¨å›¾ä¸­æ·»åŠ å­å›¾\næ ‡ç­¾æ³¨é‡Šï¼šè‡ªåŠ¨æ·»åŠ  A/B/C é¢æ¿æ ‡ç­¾\nå¯¹é½æ§åˆ¶ï¼šç²¾ç¡®å¯¹é½å¤šå›¾åæ ‡è½´\n\n\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ç®€ä»‹",
    "href": "2021-cowplot.html#ç®€ä»‹",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "",
    "text": "cowplot æ˜¯ ggplot2 çš„æ‰©å±•åŒ…ï¼Œä¸“æ³¨äºï¼š\n\nä¸“ä¸šä¸»é¢˜ï¼šå‡ºç‰ˆçº§ç®€æ´ä¸»é¢˜\nå›¾å½¢ç»„åˆï¼šçµæ´»çš„å¤šå›¾æ’åˆ—\nå›¾å½¢åµŒå…¥ï¼šåœ¨å›¾ä¸­æ·»åŠ å­å›¾\næ ‡ç­¾æ³¨é‡Šï¼šè‡ªåŠ¨æ·»åŠ  A/B/C é¢æ¿æ ‡ç­¾\nå¯¹é½æ§åˆ¶ï¼šç²¾ç¡®å¯¹é½å¤šå›¾åæ ‡è½´\n\n\nlibrary(ggplot2)\nlibrary(cowplot)\nlibrary(dplyr)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸»é¢˜ç³»ç»Ÿ",
    "href": "2021-cowplot.html#ä¸»é¢˜ç³»ç»Ÿ",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸»é¢˜ç³»ç»Ÿ",
    "text": "ä¸»é¢˜ç³»ç»Ÿ\n\ntheme_cowplot - ç»å…¸ä¸»é¢˜\n\np &lt;- ggplot(mtcars, aes(wt, mpg)) + \n  geom_point(aes(color = factor(cyl)), size = 3)\n\n# cowplot ç»å…¸ä¸»é¢˜ï¼šæ— ç½‘æ ¼çº¿ï¼Œç²—åæ ‡è½´\np + theme_cowplot(font_size = 12)\n\n\n\n\n\n\n\n\n\n\ntheme_minimal_grid - æç®€ç½‘æ ¼\n\np + theme_minimal_grid(font_size = 12)\n\n\n\n\n\n\n\n\n\n\ntheme_minimal_hgrid / vgrid\n\np1 &lt;- p + theme_minimal_hgrid() + ggtitle(\"æ°´å¹³ç½‘æ ¼\")\np2 &lt;- p + theme_minimal_vgrid() + ggtitle(\"å‚ç›´ç½‘æ ¼\")\nplot_grid(p1, p2, ncol = 2)\n\n\n\n\n\n\n\n\n\n\ntheme_half_open - åŠå¼€æ”¾åæ ‡è½´\n\n# åªæ˜¾ç¤ºå·¦ä¸‹åæ ‡è½´ï¼Œé€‚åˆç§‘ç ”å›¾\np + theme_half_open(font_size = 12)\n\n\n\n\n\n\n\n\n\n\nä¸»é¢˜å‚æ•°è¯¦è§£\n\np + theme_cowplot(\n  font_size = 14,       # åŸºç¡€å­—å·\n  font_family = \"\",     # å­—ä½“\n  line_size = 0.5,      # çº¿æ¡ç²—ç»†\n  rel_small = 12/14,    # å°å­—å·æ¯”ä¾‹\n  rel_tiny = 10/14,     # æ›´å°å­—å·æ¯”ä¾‹\n  rel_large = 16/14     # å¤§å­—å·æ¯”ä¾‹\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å›¾å½¢ç»„åˆplot_grid",
    "href": "2021-cowplot.html#å›¾å½¢ç»„åˆplot_grid",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å›¾å½¢ç»„åˆï¼šplot_grid()",
    "text": "å›¾å½¢ç»„åˆï¼šplot_grid()\n\nåŸºç¡€ç»„åˆ\n\np1 &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\np2 &lt;- ggplot(mtcars, aes(disp, mpg)) + geom_point() + theme_cowplot()\np3 &lt;- ggplot(mtcars, aes(factor(cyl))) + geom_bar(fill = \"steelblue\") + theme_cowplot()\np4 &lt;- ggplot(mtcars, aes(hp, mpg)) + geom_point() + theme_cowplot()\n\n# 2x2 ç½‘æ ¼\nplot_grid(p1, p2, p3, p4, ncol = 2)\n\n\n\n\n\n\n\n\n\n\næ·»åŠ æ ‡ç­¾\n\n# A/B/C/D æ ‡ç­¾\nplot_grid(\n  p1, p2, p3, p4,\n  ncol = 2,\n  labels = \"AUTO\",          # è‡ªåŠ¨ A/B/C/D\n  label_size = 14,          # æ ‡ç­¾å­—å·\n  label_fontface = \"bold\"   # ç²—ä½“\n)\n\n\n\n\n\n\n\n\n\n# è‡ªå®šä¹‰æ ‡ç­¾\nplot_grid(\n  p1, p2,\n  labels = c(\"å›¾ 1\", \"å›¾ 2\"),\n  label_size = 12,\n  label_x = 0.1,   # æ ‡ç­¾ x ä½ç½® (0-1)\n  label_y = 0.95   # æ ‡ç­¾ y ä½ç½® (0-1)\n)\n\n\n\n\n\n\n\n\n\n\næ§åˆ¶ç›¸å¯¹å¤§å°\n\n# rel_widths æ§åˆ¶åˆ—å®½æ¯”ä¾‹\nplot_grid(p1, p3, ncol = 2, rel_widths = c(2, 1))  # å·¦:å³ = 2:1\n\n\n\n\n\n\n\n\n\n# rel_heights æ§åˆ¶è¡Œé«˜æ¯”ä¾‹\nplot_grid(p1, p3, nrow = 2, rel_heights = c(2, 1))  # ä¸Š:ä¸‹ = 2:1\n\n\n\n\n\n\n\n\n\n\nå¯¹é½åæ ‡è½´\n\n# ä¸åŒ y è½´èŒƒå›´çš„å›¾\npa &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\npb &lt;- ggplot(mtcars, aes(wt, disp)) + geom_point() + theme_cowplot()\n\n# align å‚æ•°å¯¹é½åæ ‡è½´\nplot_grid(\n  pa, pb,\n  ncol = 2,\n  align = \"h\",   # æ°´å¹³å¯¹é½ (h/v/hv/none)\n  axis = \"bt\"    # å¯¹é½å“ªäº›è½´ (t/b/l/r/tb/lr/tblr)\n)\n\n\n\n\n\n\n\n\n\n\nåµŒå¥—ç»„åˆ\n\n# å¤æ‚å¸ƒå±€ï¼šå·¦è¾¹ä¸€ä¸ªå¤§å›¾ï¼Œå³è¾¹ä¸¤ä¸ªå°å›¾\nright_col &lt;- plot_grid(p2, p3, ncol = 1, labels = c(\"B\", \"C\"))\nplot_grid(p1, right_col, ncol = 2, labels = c(\"A\", \"\"), rel_widths = c(1.5, 1))",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#åæ ‡è½´å¯¹é½",
    "href": "2021-cowplot.html#åæ ‡è½´å¯¹é½",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "åæ ‡è½´å¯¹é½",
    "text": "åæ ‡è½´å¯¹é½\n\né—®é¢˜ï¼šä¸å¯¹é½çš„åæ ‡è½´\n\n# ä¸åŒ y è½´æ ‡ç­¾é•¿åº¦å¯¼è‡´å›¾å½¢ä¸å¯¹é½\npa &lt;- ggplot(mtcars, aes(mpg, hp)) + \n  geom_point() +\n  scale_y_continuous(labels = scales::comma) +\n  theme_cowplot()\n\npb &lt;- ggplot(mtcars, aes(mpg, wt)) + \n  geom_point() +\n  theme_cowplot()\n\n# æœªå¯¹é½\nplot_grid(pa, pb, ncol = 2)\n\n\n\n\n\n\n\n\n\n\nè§£å†³æ–¹æ¡ˆï¼šalign å‚æ•°\n\n# align = \"h\" æ°´å¹³å¯¹é½ï¼Œ\"v\" å‚ç›´å¯¹é½ï¼Œ\"hv\" ä¸¤è€…éƒ½å¯¹é½\nplot_grid(pa, pb, ncol = 2, align = \"h\")\n\n\n\n\n\n\n\n\n\n# å‚ç›´æ’åˆ—æ—¶ä½¿ç”¨ align = \"v\"\nplot_grid(pa, pb, ncol = 1, align = \"v\")\n\n\n\n\n\n\n\n\n\n\naxis å‚æ•°ç²¾ç»†æ§åˆ¶\n\n# axis æŒ‡å®šå¯¹é½å“ªäº›è½´ï¼š\"t\"ä¸Š \"b\"ä¸‹ \"l\"å·¦ \"r\"å³\nplot_grid(\n  pa, pb,\n  ncol = 2,\n  align = \"h\",\n  axis = \"tb\"  # å¯¹é½ä¸Šä¸‹è½´\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ·»åŠ å…±äº«å…ƒç´ ",
    "href": "2021-cowplot.html#æ·»åŠ å…±äº«å…ƒç´ ",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "æ·»åŠ å…±äº«å…ƒç´ ",
    "text": "æ·»åŠ å…±äº«å…ƒç´ \n\nå…±äº«æ ‡é¢˜\n\n# ä½¿ç”¨ ggdraw() åˆ›å»ºç”»å¸ƒï¼Œdraw_label() æ·»åŠ æ–‡å­—\ntitle &lt;- ggdraw() + \n  draw_label(\"æ±½è½¦æ•°æ®åˆ†æ\", fontface = \"bold\", size = 16)\n\nplots &lt;- plot_grid(p1, p2, p3, ncol = 3, labels = \"AUTO\")\n\n# ç»„åˆæ ‡é¢˜å’Œå›¾å½¢\nplot_grid(\n  title, plots,\n  ncol = 1,\n  rel_heights = c(0.1, 1)\n)\n\n\n\n\n\n\n\n\n\n\nå…±äº«å›¾ä¾‹\n\n# åˆ›å»ºå¸¦å›¾ä¾‹çš„å›¾\np_legend &lt;- ggplot(mtcars, aes(mpg, hp, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set1\", name = \"æ°”ç¼¸æ•°\") +\n  theme_cowplot()\n\n# æå–å›¾ä¾‹\nlegend &lt;- get_legend(\n  p_legend + theme(legend.position = \"bottom\")\n)\n\n# å»æ‰åŸå›¾ä¾‹\np_no_legend &lt;- p_legend + theme(legend.position = \"none\")\n\n# ç»„åˆ\nplot_grid(\n  plot_grid(p_no_legend, p_no_legend, ncol = 2, labels = \"AUTO\"),\n  legend,\n  ncol = 1,\n  rel_heights = c(1, 0.1)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#åµŒå…¥å­å›¾ggdraw-draw_plot",
    "href": "2021-cowplot.html#åµŒå…¥å­å›¾ggdraw-draw_plot",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "åµŒå…¥å­å›¾ï¼šggdraw() + draw_plot()",
    "text": "åµŒå…¥å­å›¾ï¼šggdraw() + draw_plot()\n\nåŸºç¡€åµŒå…¥\n\n# ä¸»å›¾\nmain_plot &lt;- ggplot(mtcars, aes(mpg, hp)) +\n  geom_point() +\n  theme_cowplot()\n\n# å­å›¾ï¼ˆå°å›¾ï¼‰\ninset &lt;- ggplot(mtcars, aes(factor(cyl))) +\n  geom_bar(fill = \"steelblue\") +\n  theme_cowplot(font_size = 10) +\n  theme(\n    axis.title = element_blank(),\n    plot.background = element_rect(fill = \"white\", color = \"gray50\")\n  )\n\n# åµŒå…¥å­å›¾\nggdraw(main_plot) +\n  draw_plot(\n    inset,\n    x = 0.6, y = 0.6,    # å­å›¾å·¦ä¸‹è§’ä½ç½® (0-1)\n    width = 0.35,         # å­å›¾å®½åº¦\n    height = 0.35         # å­å›¾é«˜åº¦\n  )\n\n\n\n\n\n\n\n\n\n\nè¾¹é™…åˆ†å¸ƒå›¾\n\n# åˆ›å»ºå¯†åº¦å›¾ä½œä¸ºè¾¹é™…åˆ†å¸ƒ\ndens_x &lt;- ggplot(mtcars, aes(mpg)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  theme_void()\n\ndens_y &lt;- ggplot(mtcars, aes(hp)) +\n  geom_density(fill = \"lightblue\", alpha = 0.5) +\n  coord_flip() +\n  theme_void()\n\n# ç»„åˆæˆè¾¹é™…åˆ†å¸ƒå›¾\nggdraw() +\n  draw_plot(main_plot, 0, 0, 0.85, 0.85) +\n  draw_plot(dens_x, 0, 0.85, 0.85, 0.15) +\n  draw_plot(dens_y, 0.85, 0, 0.15, 0.85)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ·»åŠ æ ‡æ³¨",
    "href": "2021-cowplot.html#æ·»åŠ æ ‡æ³¨",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "æ·»åŠ æ ‡æ³¨",
    "text": "æ·»åŠ æ ‡æ³¨\n\ndraw_label()ï¼šæ–‡å­—æ ‡æ³¨\n\nggdraw(main_plot) +\n  draw_label(\n    \"é«˜æ€§èƒ½åŒºåŸŸ\",\n    x = 0.3, y = 0.8,\n    size = 12,\n    fontface = \"bold\",\n    color = \"red\"\n  ) +\n  draw_label(\n    \"æ•°æ®æ¥æº: mtcars\",\n    x = 0.95, y = 0.02,\n    size = 8,\n    hjust = 1,\n    color = \"gray50\"\n  )\n\n\n\n\n\n\n\n\n\n\ndraw_line()ï¼šçº¿æ¡æ ‡æ³¨\n\nggdraw(main_plot) +\n  draw_line(\n    x = c(0.2, 0.4),\n    y = c(0.7, 0.5),\n    color = \"red\",\n    size = 1\n  )",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¿å­˜å›¾å½¢",
    "href": "2021-cowplot.html#ä¿å­˜å›¾å½¢",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "ä¿å­˜å›¾å½¢",
    "text": "ä¿å­˜å›¾å½¢\n\nsave_plot()ï¼šæ™ºèƒ½ä¿å­˜\n\n# save_plot æ¯” ggsave æ›´æ™ºèƒ½ï¼Œè‡ªåŠ¨å¤„ç†å¤šé¢æ¿å°ºå¯¸\ncombined &lt;- plot_grid(p1, p2, p3, ncol = 3, labels = \"AUTO\")\n\n# åŸºç¡€ä¿å­˜\nsave_plot(\n  \"combined.png\",\n  combined,\n  base_width = 10,   # åŸºç¡€å®½åº¦ï¼ˆè‹±å¯¸ï¼‰\n  base_height = 4    # åŸºç¡€é«˜åº¦ï¼ˆè‹±å¯¸ï¼‰\n)\n\n# æŒ‰é¢æ¿æ•°é‡ç¼©æ”¾\nsave_plot(\n  \"combined.png\",\n  combined,\n  ncol = 3,          # åˆ—æ•°\n  nrow = 1,          # è¡Œæ•°\n  base_asp = 1.2     # å•ä¸ªé¢æ¿å®½é«˜æ¯”\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸-patchwork-å¯¹æ¯”",
    "href": "2021-cowplot.html#ä¸-patchwork-å¯¹æ¯”",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸ patchwork å¯¹æ¯”",
    "text": "ä¸ patchwork å¯¹æ¯”\n\n\n\nç‰¹æ€§\ncowplot\npatchwork\n\n\n\n\nè¯­æ³•\nplot_grid(p1, p2)\np1 + p2 / p1 | p2\n\n\nå›¾å½¢åµŒå…¥\ndraw_plot()\ninset_element()\n\n\nåæ ‡è½´å¯¹é½\néœ€æ‰‹åŠ¨ align\nè‡ªåŠ¨å¯¹é½\n\n\næ ‡ç­¾æ·»åŠ \nlabels = â€œAUTOâ€\nplot_annotation(tag_levels)\n\n\nä¸»é¢˜ç³»ç»Ÿ\nä¸°å¯Œçš„ä¸“ä¸šä¸»é¢˜\næ— \n\n\nå­¦ä¹ æ›²çº¿\nä¸­ç­‰\nç®€å•\n\n\n\né€‰æ‹©å»ºè®®ï¼š\n\néœ€è¦ä¸“ä¸šä¸»é¢˜ â†’ cowplot\nå¿«é€Ÿç»„åˆ â†’ patchwork\nå›¾å½¢åµŒå…¥ â†’ ä¸¤è€…å‡å¯\nå¤æ‚å¸ƒå±€æ§åˆ¶ â†’ cowplot",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å®æˆ˜å®Œæ•´è®ºæ–‡é…å›¾",
    "href": "2021-cowplot.html#å®æˆ˜å®Œæ•´è®ºæ–‡é…å›¾",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "å®æˆ˜ï¼šå®Œæ•´è®ºæ–‡é…å›¾",
    "text": "å®æˆ˜ï¼šå®Œæ•´è®ºæ–‡é…å›¾\n\n# å‡†å¤‡æ•°æ®\ndata &lt;- mtcars |&gt;\n  mutate(\n    cyl = factor(cyl),\n    am = factor(am, labels = c(\"è‡ªåŠ¨æŒ¡\", \"æ‰‹åŠ¨æŒ¡\"))\n  )\n\n# å›¾A: æ•£ç‚¹å›¾ + å›å½’çº¿\nfig_a &lt;- ggplot(data, aes(wt, mpg, color = cyl)) +\n  geom_point(size = 2.5) +\n  geom_smooth(method = \"lm\", se = FALSE, linewidth = 1) +\n  scale_color_brewer(palette = \"Set1\", name = \"æ°”ç¼¸æ•°\") +\n  labs(x = \"è½¦é‡ (1000 lbs)\", y = \"æ²¹è€— (mpg)\") +\n  theme_cowplot() +\n  theme(legend.position = c(0.8, 0.8))\n\n# å›¾B: ç®±çº¿å›¾\nfig_b &lt;- ggplot(data, aes(cyl, hp, fill = cyl)) +\n  geom_boxplot(alpha = 0.7, show.legend = FALSE) +\n  scale_fill_brewer(palette = \"Set1\") +\n  labs(x = \"æ°”ç¼¸æ•°\", y = \"é©¬åŠ› (hp)\") +\n  theme_cowplot()\n\n# å›¾C: åˆ†é¢æ¡å½¢å›¾\nfig_c &lt;- ggplot(data, aes(cyl, fill = am)) +\n  geom_bar(position = \"dodge\", alpha = 0.8) +\n  scale_fill_brewer(palette = \"Paired\", name = \"å˜é€Ÿç®±\") +\n  labs(x = \"æ°”ç¼¸æ•°\", y = \"æ•°é‡\") +\n  facet_wrap(~am) +\n  theme_cowplot() +\n  theme(legend.position = \"none\")\n\n# å›¾D: å¯†åº¦å›¾\nfig_d &lt;- ggplot(data, aes(mpg, fill = am)) +\n  geom_density(alpha = 0.5) +\n  scale_fill_brewer(palette = \"Paired\", name = \"å˜é€Ÿç®±\") +\n  labs(x = \"æ²¹è€— (mpg)\", y = \"å¯†åº¦\") +\n  theme_cowplot() +\n  theme(legend.position = c(0.8, 0.8))\n\n# ç»„åˆå¸ƒå±€\ntop_row &lt;- plot_grid(fig_a, fig_b, ncol = 2, labels = c(\"A\", \"B\"), align = \"h\")\nbottom_row &lt;- plot_grid(fig_c, fig_d, ncol = 2, labels = c(\"C\", \"D\"), align = \"h\")\n\n# æ·»åŠ æ€»æ ‡é¢˜\ntitle &lt;- ggdraw() +\n  draw_label(\"mtcars æ•°æ®é›†ç»¼åˆåˆ†æ\", fontface = \"bold\", size = 18)\n\n# æœ€ç»ˆç»„åˆ\nplot_grid(\n  title,\n  top_row,\n  bottom_row,\n  ncol = 1,\n  rel_heights = c(0.08, 1, 1)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å¸¸ç”¨æŠ€å·§é€ŸæŸ¥",
    "href": "2021-cowplot.html#å¸¸ç”¨æŠ€å·§é€ŸæŸ¥",
    "title": "cowplotï¼šä¸“ä¸šçº§å›¾å½¢ç»„åˆä¸æ’ç‰ˆ",
    "section": "å¸¸ç”¨æŠ€å·§é€ŸæŸ¥",
    "text": "å¸¸ç”¨æŠ€å·§é€ŸæŸ¥\n\n# 1. åŸºç¡€ç»„åˆ\nplot_grid(p1, p2, ncol = 2)\n\n# 2. æ·»åŠ æ ‡ç­¾\nplot_grid(p1, p2, labels = \"AUTO\", label_size = 14)\n\n# 3. å¯¹é½åæ ‡è½´\nplot_grid(p1, p2, align = \"hv\", axis = \"tblr\")\n\n# 4. ä¸ç­‰å®½å¸ƒå±€\nplot_grid(p1, p2, rel_widths = c(2, 1))\n\n# 5. æå–å¹¶å…±äº«å›¾ä¾‹\nlegend &lt;- get_legend(p1 + theme(legend.position = \"bottom\"))\nplot_grid(plot_grid(p1, p2), legend, ncol = 1, rel_heights = c(1, 0.1))\n\n# 6. åµŒå…¥å­å›¾\nggdraw(main) + draw_plot(inset, x = 0.6, y = 0.6, width = 0.3, height = 0.3)\n\n# 7. æ·»åŠ æ ‡æ³¨\nggdraw(p) + draw_label(\"æ³¨é‡Š\", x = 0.5, y = 0.9)\n\n# 8. æ™ºèƒ½ä¿å­˜\nsave_plot(\"fig.png\", combined, ncol = 2, nrow = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ€»ç»“",
    "href": "2021-cowplot.html#æ€»ç»“",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æ€»ç»“",
    "text": "æ€»ç»“\ncowplot æ ¸å¿ƒä¼˜åŠ¿ï¼š\n\nä¸“ä¸šä¸»é¢˜ - theme_cowplot(), theme_half_open() ç›´æ¥ç”¨äºç§‘ç ”å›¾\nçµæ´»ç»„åˆ - plot_grid() æ”¯æŒå¤æ‚åµŒå¥—å¸ƒå±€\nç²¾ç¡®æ§åˆ¶ - rel_widths, rel_heights, align å‚æ•°\nå›¾å½¢åµŒå…¥ - draw_plot() è½»æ¾æ·»åŠ å­å›¾\nè‡ªåŠ¨æ ‡ç­¾ - labels = â€œAUTOâ€ ä¸€é”®æ·»åŠ é¢æ¿æ ‡ç­¾\n\næ¨èå·¥ä½œæµï¼š\n\n# 1. åˆ›å»ºå•å›¾ï¼Œåº”ç”¨ cowplot ä¸»é¢˜\np1 &lt;- ggplot(...) + theme_half_open()\np2 &lt;- ggplot(...) + theme_half_open()\n\n# 2. ç»„åˆå¹¶æ·»åŠ æ ‡ç­¾\ncombined &lt;- plot_grid(p1, p2, labels = \"AUTO\", align = \"hv\")\n\n# 3. ä¿å­˜\nsave_plot(\"output.pdf\", combined, ncol = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å›¾å½¢åµŒå…¥draw_plot",
    "href": "2021-cowplot.html#å›¾å½¢åµŒå…¥draw_plot",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å›¾å½¢åµŒå…¥ï¼šdraw_plot()",
    "text": "å›¾å½¢åµŒå…¥ï¼šdraw_plot()\n\nåœ¨å›¾ä¸­åµŒå…¥å­å›¾\n\n# ä¸»å›¾\nmain_plot &lt;- ggplot(mtcars, aes(wt, mpg)) +\n  geom_point(size = 3) +\n  theme_cowplot()\n\n# å­å›¾ï¼ˆç¼©ç•¥å›¾ï¼‰\ninset_plot &lt;- ggplot(mtcars, aes(factor(cyl))) +\n  geom_bar(fill = \"steelblue\") +\n  theme_cowplot(font_size = 10) +\n  theme(plot.background = element_rect(fill = \"white\", color = \"grey50\"))\n\n# å°†å­å›¾åµŒå…¥ä¸»å›¾\nggdraw(main_plot) +\n  draw_plot(\n    inset_plot,\n    x = 0.6, y = 0.6,           # å­å›¾å·¦ä¸‹è§’ä½ç½®\n    width = 0.35, height = 0.35  # å­å›¾å°ºå¯¸\n  )\n\n\n\n\n\n\n\n\n\n\nå¤šä¸ªåµŒå…¥å›¾\n\n# å¯åµŒå…¥å¤šä¸ªå­å›¾\ninset2 &lt;- ggplot(mtcars, aes(hp)) +\n  geom_histogram(fill = \"coral\", bins = 15) +\n  theme_cowplot(font_size = 9) +\n  labs(title = \"HPåˆ†å¸ƒ\")\n\nggdraw(main_plot) +\n  draw_plot(inset_plot, x = 0.05, y = 0.6, width = 0.3, height = 0.35) +\n  draw_plot(inset2, x = 0.65, y = 0.1, width = 0.3, height = 0.3)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æ·»åŠ æ³¨é‡Š",
    "href": "2021-cowplot.html#æ·»åŠ æ³¨é‡Š",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æ·»åŠ æ³¨é‡Š",
    "text": "æ·»åŠ æ³¨é‡Š\n\ndraw_label()\n\n# æ·»åŠ æ–‡å­—æ ‡ç­¾\nggdraw(main_plot) +\n  draw_label(\n    \"R2 = 0.75\",\n    x = 0.8, y = 0.9,\n    size = 14,\n    fontface = \"bold\",\n    color = \"red\"\n  )\n\n\n\n\n\n\n\n\n\n\ndraw_image() - åµŒå…¥å›¾ç‰‡\n\n# åµŒå…¥å¤–éƒ¨å›¾ç‰‡ï¼ˆå¦‚ logoï¼‰\nggdraw() +\n  draw_image(\"path/to/logo.png\", x = 0.4, y = 0.4, width = 0.2) +\n  draw_plot(p1)\n\n\n\ndraw_line() - æ·»åŠ çº¿æ¡\n\n# æ·»åŠ å‚è€ƒçº¿æˆ–ç®­å¤´\nggdraw(main_plot) +\n  draw_line(x = c(0.2, 0.5), y = c(0.2, 0.8), color = \"red\", size = 1)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#åæ ‡è½´å¯¹é½align_plots",
    "href": "2021-cowplot.html#åæ ‡è½´å¯¹é½align_plots",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "åæ ‡è½´å¯¹é½ï¼šalign_plots()",
    "text": "åæ ‡è½´å¯¹é½ï¼šalign_plots()\nå½“å›¾å½¢æœ‰ä¸åŒçš„åæ ‡è½´èŒƒå›´æ—¶ï¼Œplot_grid() çš„ align å‚æ•°å¯èƒ½ä¸å¤Ÿç”¨ï¼Œæ­¤æ—¶ä½¿ç”¨ align_plots() æ›´ç²¾ç¡®ã€‚\n\n# ä¸¤ä¸ª y è½´èŒƒå›´å·®å¼‚å¤§çš„å›¾\nplot_a &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point() + theme_cowplot()\nplot_b &lt;- ggplot(mtcars, aes(wt, hp)) + geom_point() + theme_cowplot()\n\n# ç²¾ç¡®å¯¹é½\naligned &lt;- align_plots(plot_a, plot_b, align = \"hv\", axis = \"tblr\")\nplot_grid(aligned[[1]], aligned[[2]], ncol = 2)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¿å­˜ç»„åˆå›¾",
    "href": "2021-cowplot.html#ä¿å­˜ç»„åˆå›¾",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¿å­˜ç»„åˆå›¾",
    "text": "ä¿å­˜ç»„åˆå›¾\n\nsave_plot()\n\n# cowplot æä¾›çš„ä¿å­˜å‡½æ•°\ncombined &lt;- plot_grid(p1, p2, p3, p4, ncol = 2, labels = \"AUTO\")\n\n# ä¿å­˜ä¸º PNG\nsave_plot(\n  \"combined_plot.png\",\n  combined,\n  ncol = 2,          # åˆ—æ•°ï¼ˆç”¨äºè®¡ç®—å°ºå¯¸ï¼‰\n  nrow = 2,          # è¡Œæ•°\n  base_width = 4,    # æ¯ä¸ªå­å›¾å®½åº¦ï¼ˆè‹±å¯¸ï¼‰\n  base_height = 3    # æ¯ä¸ªå­å›¾é«˜åº¦\n)\n\n# ä¿å­˜ä¸º PDFï¼ˆçŸ¢é‡å›¾ï¼‰\nsave_plot(\"combined_plot.pdf\", combined, ncol = 2, nrow = 2)\n\n\n\nggsave2() - å¢å¼ºç‰ˆ ggsave\n\n# ggsave2 è‡ªåŠ¨å¤„ç†ç»„åˆå›¾å°ºå¯¸\nggsave2(\"output.png\", combined, width = 10, height = 8, dpi = 300)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#ä¸-ggplot2-facet-å¯¹æ¯”",
    "href": "2021-cowplot.html#ä¸-ggplot2-facet-å¯¹æ¯”",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "ä¸ ggplot2 facet å¯¹æ¯”",
    "text": "ä¸ ggplot2 facet å¯¹æ¯”\n\n\n\nåœºæ™¯\næ¨èæ–¹æ³•\n\n\n\n\nåŒä¸€æ•°æ®çš„åˆ†é¢\nggplot + facet_wrap()\n\n\nä¸åŒæ•°æ®/ä¸åŒå›¾\ncowplot::plot_grid()\n\n\néœ€è¦ä¸åŒåæ ‡è½´\ncowplot::plot_grid(align = â€œhâ€)\n\n\néœ€è¦åµŒå…¥å­å›¾\nggdraw() + draw_plot()\n\n\nå¤æ‚åµŒå¥—å¸ƒå±€\ncowplot åµŒå¥— plot_grid()",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å®æˆ˜å®Œæ•´ç§‘ç ”å›¾",
    "href": "2021-cowplot.html#å®æˆ˜å®Œæ•´ç§‘ç ”å›¾",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å®æˆ˜ï¼šå®Œæ•´ç§‘ç ”å›¾",
    "text": "å®æˆ˜ï¼šå®Œæ•´ç§‘ç ”å›¾\n\nset.seed(42)\ndf &lt;- mtcars |&gt; mutate(group = ifelse(mpg &gt; 20, \"High\", \"Low\"))\n\n# å›¾ A: æ•£ç‚¹å›¾ + å›å½’\nfig_a &lt;- ggplot(df, aes(wt, mpg)) +\n  geom_point(aes(color = group), size = 3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"grey40\") +\n  scale_color_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Weight (1000 lbs)\", y = \"Miles per Gallon\", color = \"MPG Group\") +\n  theme_half_open() +\n  theme(legend.position = c(0.8, 0.8))\n\n# å›¾ B: ç®±çº¿å›¾\nfig_b &lt;- ggplot(df, aes(factor(cyl), mpg, fill = group)) +\n  geom_boxplot() +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Cylinders\", y = \"MPG\", fill = \"Group\") +\n  theme_half_open() +\n  theme(legend.position = \"none\")\n\n# å›¾ C: å¯†åº¦å›¾\nfig_c &lt;- ggplot(df, aes(mpg, fill = group)) +\n  geom_density(alpha = 0.6) +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"MPG\", y = \"Density\") +\n  theme_minimal_hgrid() +\n  theme(legend.position = \"none\")\n\n# å›¾ D: æŸ±çŠ¶å›¾\nfig_d &lt;- df |&gt;\n  count(cyl, group) |&gt;\n  ggplot(aes(factor(cyl), n, fill = group)) +\n  geom_col(position = \"dodge\") +\n  scale_fill_manual(values = c(\"High\" = \"#E64B35\", \"Low\" = \"#4DAF4A\")) +\n  labs(x = \"Cylinders\", y = \"Count\") +\n  theme_half_open() +\n  theme(legend.position = \"none\")\n\n# ç»„åˆï¼šä¸Šæ–¹å¤§å›¾ï¼Œä¸‹æ–¹ä¸‰ä¸ªå°å›¾\ntop_row &lt;- fig_a\nbottom_row &lt;- plot_grid(fig_b, fig_c, fig_d, ncol = 3, labels = c(\"B\", \"C\", \"D\"), label_size = 14)\n\n# æœ€ç»ˆç»„åˆ\nfinal_plot &lt;- plot_grid(\n  top_row, bottom_row,\n  nrow = 2,\n  labels = c(\"A\", \"\"),\n  label_size = 14,\n  rel_heights = c(1.2, 1)\n)\n\nfinal_plot",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#æå–ä¸å…±äº«å›¾ä¾‹",
    "href": "2021-cowplot.html#æå–ä¸å…±äº«å›¾ä¾‹",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "æå–ä¸å…±äº«å›¾ä¾‹",
    "text": "æå–ä¸å…±äº«å›¾ä¾‹\n\n# åˆ›å»ºå¸¦å›¾ä¾‹çš„å›¾\np_legend &lt;- ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set1\", name = \"Cylinders\") +\n  theme_cowplot()\n\n# æå–å›¾ä¾‹\nlegend &lt;- get_legend(p_legend)\n\n# åˆ›å»ºæ— å›¾ä¾‹çš„å›¾\np_no_leg1 &lt;- p_legend + theme(legend.position = \"none\")\np_no_leg2 &lt;- ggplot(mtcars, aes(disp, mpg, color = factor(cyl))) +\n  geom_point(size = 3) +\n  scale_color_brewer(palette = \"Set1\") +\n  theme_cowplot() +\n  theme(legend.position = \"none\")\n\n# ç»„åˆï¼šä¸¤å›¾å…±äº«ä¸€ä¸ªå›¾ä¾‹\nplot_grid(\n  plot_grid(p_no_leg1, p_no_leg2, ncol = 2),\n  legend,\n  ncol = 2,\n  rel_widths = c(1, 0.15)\n)",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  },
  {
    "objectID": "2021-cowplot.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "href": "2021-cowplot.html#å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "title": "cowplot: ä¸“ä¸šå›¾å½¢ç»„åˆä¸ç¾åŒ–",
    "section": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥",
    "text": "å¸¸ç”¨å‡½æ•°é€ŸæŸ¥\n\n\n\nå‡½æ•°\nç”¨é€”\n\n\n\n\ntheme_cowplot()\nç»å…¸æ— ç½‘æ ¼ä¸»é¢˜\n\n\ntheme_half_open()\nåŠå¼€æ”¾åæ ‡è½´\n\n\ntheme_minimal_grid()\næç®€ç½‘æ ¼\n\n\nplot_grid()\nç»„åˆå¤šå›¾\n\n\nalign_plots()\nç²¾ç¡®å¯¹é½åæ ‡è½´\n\n\nggdraw()\nåˆ›å»ºç»‘å›¾ç”»å¸ƒ\n\n\ndraw_plot()\nåµŒå…¥å­å›¾\n\n\ndraw_label()\næ·»åŠ æ–‡å­—\n\n\ndraw_image()\nåµŒå…¥å›¾ç‰‡\n\n\nsave_plot()\nä¿å­˜ç»„åˆå›¾\n\n\nget_legend()\næå–å›¾ä¾‹\n\n\nget_title()\næå–æ ‡é¢˜",
    "crumbs": [
      "ä¸»é¡µ",
      "å¯è§†åŒ–æ•™ç¨‹",
      "cowplot - å›¾å½¢ç»„åˆ ğŸ†•"
    ]
  }
]